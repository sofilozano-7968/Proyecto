;/*FB_PKG_DELIM*/

__d("AggregateError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(c,d){var e;d=d!=null?d:g(c);e=a.call(this,d)||this;e.name="AggregateError";e.errors=c;e.message=d;Error.captureStackTrace&&Error.captureStackTrace(babelHelpers.assertThisInitialized(e),b);return e}return b}(babelHelpers.wrapNativeSuper(Error));function g(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}f["default"]=a}),66);
__d("TCompactProtocol",["StringToUtf8","ThriftTypes","Utf8ToString"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=BigInt("9223372036854775807"),t=BigInt("-9223372036854775808"),u=BigInt("18446744073709551615"),v=BigInt(63),w=BigInt(1),x=BigInt(7),y=BigInt("0x7f"),z=BigInt("0x80"),A=Math.pow(2,4);a=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=A-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=A-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(a>s||a<t)throw new Error("i64 out of range: "+a.toString());return a>>v^a<<w};b.zigzagToI64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());return(a&w)===w?~(a>>w):a>>w};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(a>>x==0){this.$1.writeByte(Number(a));b++;break}else this.$1.writeByte(Number(a&y|z)),b++,a>>=x;return b};b.readVarint64=function(){var a=BigInt(0),b=BigInt(0),c;while(!0){c=BigInt(this.$1.readByte());a|=(c&y)<<b;b+=x;if((c&z)==0){if(b==70&&c!==w)throw new Error("result exceeded 64 bit limit");break}if(b>63)throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=a}),98);
__d("CompactSerializer",["TCompactProtocol","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocol"))(a);return b(a)}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocol"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocol"))(e);b(a,d);return d.toByteArray()}g.deserializeNoThrow=a;g.deserialize=h;g.serializeNoThrow=b;g.serialize=i}),98);
__d("StructuredConfigBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a){return this.$1.getValue(a)>0};b.getInt=function(a){return this.$1.getValue(a)};return a}();f["default"]=a}),66);
__d("Configs",["StructuredConfigBase"],(function(a,b,c,d,e,f){"use strict";c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$ExampleConfig1=b.getBool(0),b.$ExampleConfig2=b.getBool(2),b.$ExampleConfig3=b.getBool(1724),b.$ExampleConfig4=b.getBool(2044),b.$ExampleConfig5=b.getInt(1),b.$ExampleConfig6=b.getInt(3),b.$ExampleConfig7=b.getInt(2011),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)};c.isEnabled=function(){return this.$ExampleConfig1};c.isSomeBoolean=function(){return this.$ExampleConfig2};c.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3};c.isSomeOtherBoolean=function(){return this.$ExampleConfig4};c.getSomeInteger=function(){return this.$ExampleConfig5};c.getSomeOtherInteger=function(){return this.$ExampleConfig6};c.getSomeDouble=function(){return this.$ExampleConfig7};return b}(a=b("StructuredConfigBase"));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$SimulcastOverSignalingConfig1=b.getBool(651),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateParams=function(){this.$SimulcastOverSignalingConfig1=this.getBool(651)};c.isSimulcastOverSignalingEnabled=function(){return this.$SimulcastOverSignalingConfig1};return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$PreferredCaptureConfig1=b.getBool(173),b.$PreferredCaptureConfig2=b.getBool(3919),b.$PreferredCaptureConfig3=b.getBool(4478),b.$PreferredCaptureConfig4=b.getInt(174),b.$PreferredCaptureConfig5=b.getInt(175),b.$PreferredCaptureConfig6=b.getInt(176),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateParams=function(){this.$PreferredCaptureConfig1=this.getBool(173),this.$PreferredCaptureConfig2=this.getBool(3919),this.$PreferredCaptureConfig3=this.getBool(4478),this.$PreferredCaptureConfig4=this.getInt(174),this.$PreferredCaptureConfig5=this.getInt(175),this.$PreferredCaptureConfig6=this.getInt(176)};c.isEnabled=function(){return this.$PreferredCaptureConfig1};c.isPreferStableFps=function(){return this.$PreferredCaptureConfig2};c.isEnabledForZenon=function(){return this.$PreferredCaptureConfig3};c.getWidthPx=function(){return this.$PreferredCaptureConfig4};c.getHeightPx=function(){return this.$PreferredCaptureConfig5};c.getFps=function(){return this.$PreferredCaptureConfig6};return b}(a);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$ZenonSdpTransformConfig1=b.getBool(244),b.$ZenonSdpTransformConfig2=b.getBool(420),b.$ZenonSdpTransformConfig3=b.getBool(421),b.$ZenonSdpTransformConfig4=b.getBool(245),b.$ZenonSdpTransformConfig5=b.getBool(246),b.$ZenonSdpTransformConfig6=b.getBool(248),b.$ZenonSdpTransformConfig7=b.getBool(1448),b.$ZenonSdpTransformConfig8=b.getBool(1444),b.$ZenonSdpTransformConfig9=b.getBool(1445),b.$ZenonSdpTransformConfig10=b.getInt(1446),b.$ZenonSdpTransformConfig11=b.getInt(1447),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)};c.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1};c.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2};c.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3};c.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4};c.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5};c.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6};c.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7};c.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8};c.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9};c.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10};c.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11};return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonPeerConnectionConfig1=a.getBool(302),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)};c.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1};return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonStartCallImmediatelyConfig1=a.getBool(308),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)};c.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonGeneralizedIdentityConfig1=a.getInt(1891),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)};c.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1};return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonMultiCallSupportConfig1=a.getInt(309),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)};c.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1};return a}(a),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonPlatformSupportConfig1=a.getBool(316),a.$ZenonPlatformSupportConfig2=a.getBool(318),a.$ZenonPlatformSupportConfig3=a.getBool(2251),a.$ZenonPlatformSupportConfig4=a.getBool(1900),a.$ZenonPlatformSupportConfig5=a.getInt(317),a.$ZenonPlatformSupportConfig6=a.getInt(319),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)};c.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1};c.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2};c.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3};c.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4};c.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5};c.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6};return a}(a),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$ZenonSimulcastConfig1=a.getBool(453),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)};c.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1};return a}(a),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.$DynamicRuleConfig1=a.getBool(1342),a.$DynamicRuleConfig2=a.getBool(1597),a.$DynamicRuleConfig3=a.getInt(1359),a.$DynamicRuleConfig4=a.getInt(1510),a.$DynamicRuleConfig5=a.getInt(1612),babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getInt(1359),this.$DynamicRuleConfig4=this.getInt(1510),this.$DynamicRuleConfig5=this.getInt(1612)};c.isEnabled=function(){return this.$DynamicRuleConfig1};c.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2};c.getProcessIntervalMs=function(){return this.$DynamicRuleConfig3};c.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig4};c.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig5};return a}(a);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$SignalingPingConfig1=b.getInt(1470),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)};c.getPingIntervalMs=function(){return this.$SignalingPingConfig1};return b}(a);e.exports={ExampleConfig:c,SimulcastOverSignalingConfig:d,PreferredCaptureConfig:f,ZenonSdpTransformConfig:b,ZenonPeerConnectionConfig:g,ZenonStartCallImmediatelyConfig:h,ZenonGeneralizedIdentityConfig:i,ZenonMultiCallSupportConfig:j,ZenonPlatformSupportConfig:k,ZenonSimulcastConfig:l,DynamicRuleConfig:m,SignalingPingConfig:a}}),null);
__d("MultiwaySharedTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,SFU:1,P2P:2});d=a({UNKNOWN:0,IGVIDEOCALL:9,ROOM:15,CRUCIBLE:20,MBS_WA:21,BOT:22,HORIZON:23,ULLC:24});f=a({OFFER:0,PRANSWER:1,ANSWER:2,PROFFER:3});b=a({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});var g=a({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2}),h=a({NOT_SET:0,CONTROL:1,TEST:2}),i=a({NOT_SET:0,CONTROL:1,TEST:2}),j=a({NotPaused:0,Paused:1}),k=a({AUDIO:0,VIDEO:1,DATA:2}),l=a({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4,CATHODE_MEETING_SUMMARIZER:5,CATHODE_REALTIME_SHARED_STATE:6,RP_GENAI_SERVICE:7,SMART_GLASSES_ASSISTANT:8}),m=a({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2}),n=a({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2}),o=a({UNSPECIFIED:0,FNA:1,FNA_PREFERRED:2}),p=a({NONE:0,EXTENSION_SELF_PARTICIPANT:1});a=a({IntValue:"intValue",StringValue:"stringValue"});e.exports={ConferenceType:d,CustomMediaRoutingType:p,E2eeInfraMandatedExpStatus:h,E2eeMode:g,EdgerayType:o,EndpointServiceType:l,MediaPath:c,MediaPauseStatus:j,MediaType:k,P2PSFrameExpStatus:i,QuickExperimentValue$Types:a,RenderedStreamType:n,SdpType:f,SubscriptionType:m,VideoQuality:b}}),null);
__d("WebrtcSignalingCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3,CUSTOM_VIDEO:4,CUSTOM_AUDIO:5});d=a({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f=a({NONE:0,AVATAR:1,AUGMENTED_CALLING:2,SCENE_COMPOSITION:3,STEREO_VIDEO:4,SHARED_STATE:5,CODEC_AVATAR_2D:6});b=a({NONE:0,AMBISONIC:1,CONVERSATION_BOT:2,MONOMIX:3});e.exports={ClientStack:d,CustomAudioContentType:b,CustomVideoContentType:f,TrackLabel:c}}),null);
__d("MultiwaySharedSerializers",["MultiwaySharedTypes","ThriftTypes","WebrtcSignalingCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{cluster:"",nonce:""}}function b(){return{cluster:"",conferenceName:"",nonce:"",userId:"",clientSessionId:""}}function e(){return{userId:"",deviceId:"",appId:"",appVersion:"",appBuildNumber:""}}function f(){return{mode:d("MultiwaySharedTypes").E2eeMode.cast(0),preventSfuMode:!1,infraMandatedExpStatus:d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.cast(0),p2pSFrameExpStatus:d("MultiwaySharedTypes").P2PSFrameExpStatus.cast(0)}}function i(){return{semantics:"",ssrcs:[]}}function j(){return{type:d("MultiwaySharedTypes").MediaType.cast(0),id:"",ssrcs:[],enabled:!1,customVideoContentType:d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0),customAudioContentType:d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0)}}function k(){return{parameters:{},conditionFbid:"0",exposureHasBeenLogged:!1,canExposureLog:!1,universeShortName:"",userFbid:"0",unitId:""}}function l(){return{experiments:{},userFbid:"0"}}function m(){return{conditionFbid:"0",userFbid:"0",universeName:"",unitId:""}}function n(){return{enabled:!1,customVideoContentType:d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0),customAudioContentType:d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0)}}function o(){return{tracks:{}}}function p(){return{videoQuality:d("MultiwaySharedTypes").VideoQuality.cast(0)}}function q(){return{cname:"",type:d("MultiwaySharedTypes").SubscriptionType.cast(0)}}function r(){return{restrictiveLogging:!0,verboseLogging:!1}}function s(){return{userId:"",streamId:"",streamType:0,renderWidth:0,renderHeight:0}}function t(){return{}}function u(){return{}}function v(){return{}}function w(){return{host:Uint8Array.of(),port:0}}function x(){return{}}function y(a,b){b.writeStructBegin("ServerInfo");b.writeFieldBegin({fname:"cluster",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.cluster!=null)b.writeString(a.cluster);else{var d="";b.writeString(d)}b.writeFieldEnd();a.conferenceName_deprecated!=null&&(b.writeFieldBegin({fname:"conferenceName_deprecated",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.conferenceName_deprecated),b.writeFieldEnd());b.writeFieldBegin({fname:"nonce",ftype:h.STRING,fid:3});if(a.nonce!=null)b.writeString(a.nonce);else{d="";b.writeString(d)}b.writeFieldEnd();a.conferenceId!=null&&(b.writeFieldBegin({fname:"conferenceId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:4}),b.writeI64(BigInt(a.conferenceId)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function z(a,b){b.writeStructBegin("ClientSessionInfo");b.writeFieldBegin({fname:"cluster",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.cluster!=null)b.writeString(a.cluster);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"conferenceName",ftype:h.STRING,fid:2});if(a.conferenceName!=null)b.writeString(a.conferenceName);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"nonce",ftype:h.STRING,fid:3});if(a.nonce!=null)b.writeString(a.nonce);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"userId",ftype:h.STRING,fid:4});if(a.userId!=null)b.writeString(a.userId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"clientSessionId",ftype:h.STRING,fid:5});if(a.clientSessionId!=null)b.writeString(a.clientSessionId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function A(a,b){b.writeStructBegin("Endpoint");b.writeFieldBegin({fname:"userId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)b.writeString(a.userId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"deviceId",ftype:h.STRING,fid:2});if(a.deviceId!=null)b.writeString(a.deviceId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"appId",ftype:h.STRING,fid:3});if(a.appId!=null)b.writeString(a.appId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"appVersion",ftype:h.STRING,fid:4});if(a.appVersion!=null)b.writeString(a.appVersion);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"appBuildNumber",ftype:h.STRING,fid:5});if(a.appBuildNumber!=null)b.writeString(a.appBuildNumber);else{d="";b.writeString(d)}b.writeFieldEnd();a.clientStackInfo!=null&&(b.writeFieldBegin({fname:"clientStackInfo",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:6}),b.writeString(a.clientStackInfo),b.writeFieldEnd());a.familyDeviceId!=null&&(b.writeFieldBegin({fname:"familyDeviceId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:7}),b.writeString(a.familyDeviceId),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function B(a,b){b.writeStructBegin("E2eeEnforcement");b.writeFieldBegin({fname:"mode",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.mode!=null){var e;b.writeI32((e=a.mode)!=null?e:0)}else{e=d("MultiwaySharedTypes").E2eeMode.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"preventSfuMode",ftype:h.BOOL,fid:2});if(a.preventSfuMode!=null)b.writeBool(a.preventSfuMode);else{e=!1;b.writeBool(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"infraMandatedExpStatus",ftype:h.I32,fid:3});if(a.infraMandatedExpStatus!=null){b.writeI32((e=a.infraMandatedExpStatus)!=null?e:0)}else{e=d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"p2pSFrameExpStatus",ftype:h.I32,fid:4});if(a.p2pSFrameExpStatus!=null){b.writeI32((e=a.p2pSFrameExpStatus)!=null?e:0)}else{a=d("MultiwaySharedTypes").P2PSFrameExpStatus.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function C(a,b){b.writeStructBegin("SsrcGroup");b.writeFieldBegin({fname:"semantics",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.semantics!=null)b.writeString(a.semantics);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"ssrcs",ftype:h.LIST,fid:2});if(a.ssrcs!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I64,size:a.ssrcs.length});for(d of a.ssrcs)b.writeI64(BigInt(d));b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I64,size:a.length});for(d of a)b.writeI64(BigInt(d));b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function D(a,b){b.writeStructBegin("Media");b.writeFieldBegin({fname:"type",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.type!=null){var e;b.writeI32((e=a.type)!=null?e:0)}else{e=d("MultiwaySharedTypes").MediaType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"id",ftype:h.STRING,fid:2});if(a.id!=null)b.writeString(a.id);else{e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"ssrcs",ftype:h.LIST,fid:3});if(a.ssrcs!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I64,size:a.ssrcs.length});for(e of a.ssrcs)b.writeI64(BigInt(e));b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I64,size:e.length});for(e of e)b.writeI64(BigInt(e));b.writeListEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"enabled",ftype:h.BOOL,fid:4});if(a.enabled!=null)b.writeBool(a.enabled);else{e=!1;b.writeBool(e)}b.writeFieldEnd();if(a.pausedDownlink!=null){b.writeFieldBegin({fname:"pausedDownlink",ftype:(h||(h=c("ThriftTypes"))).I32,fid:5});b.writeI32((e=a.pausedDownlink)!=null?e:0);b.writeFieldEnd()}if(a.pausedUplink!=null){b.writeFieldBegin({fname:"pausedUplink",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6});b.writeI32((e=a.pausedUplink)!=null?e:0);b.writeFieldEnd()}a.owner!=null&&(b.writeFieldBegin({fname:"owner",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:7}),b.writeString(a.owner),b.writeFieldEnd());if(a.label!=null){b.writeFieldBegin({fname:"label",ftype:(h||(h=c("ThriftTypes"))).I32,fid:8});b.writeI32((e=a.label)!=null?e:0);b.writeFieldEnd()}b.writeFieldBegin({fname:"customVideoContentType",ftype:h.I32,fid:9});if(a.customVideoContentType!=null){b.writeI32((e=a.customVideoContentType)!=null?e:0)}else{e=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.name!=null&&(b.writeFieldBegin({fname:"name",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:10}),b.writeString(a.name),b.writeFieldEnd());b.writeFieldBegin({fname:"customAudioContentType",ftype:h.I32,fid:11});if(a.customAudioContentType!=null){b.writeI32((e=a.customAudioContentType)!=null?e:0)}else{a=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function E(a,b){b.writeStructBegin("QuickExperiment");b.writeFieldBegin({fname:"parameters",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.parameters!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.parameters).length});for(var d of Object.entries(a.parameters)){var e=d[0],f=d[1];b.writeString(e);R(f,b)}b.writeMapEnd()}else{e={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(e).length});for(f of Object.entries(e)){d=f[0];e=f[1];b.writeString(d);R(e,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"conditionFbid",ftype:h.I64,fid:2});if(a.conditionFbid!=null)b.writeI64(BigInt(a.conditionFbid));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldBegin({fname:"exposureHasBeenLogged",ftype:h.BOOL,fid:3});if(a.exposureHasBeenLogged!=null)b.writeBool(a.exposureHasBeenLogged);else{e=!1;b.writeBool(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"canExposureLog",ftype:h.BOOL,fid:4});if(a.canExposureLog!=null)b.writeBool(a.canExposureLog);else{f=!1;b.writeBool(f)}b.writeFieldEnd();b.writeFieldBegin({fname:"universeShortName",ftype:h.STRING,fid:5});if(a.universeShortName!=null)b.writeString(a.universeShortName);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"userFbid",ftype:h.I64,fid:6});if(a.userFbid!=null)b.writeI64(BigInt(a.userFbid));else{e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"unitId",ftype:h.STRING,fid:7});if(a.unitId!=null)b.writeString(a.unitId);else{f="";b.writeString(f)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function F(a,b){b.writeStructBegin("QuickExperimentResult");b.writeFieldBegin({fname:"experiments",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.experiments!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.experiments).length});for(var d of Object.entries(a.experiments)){var e=d[0],f=d[1];b.writeString(e);E(f,b)}b.writeMapEnd()}else{e={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(e).length});for(f of Object.entries(e)){d=f[0];e=f[1];b.writeString(d);E(e,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"userFbid",ftype:h.I64,fid:2});if(a.userFbid!=null)b.writeI64(BigInt(a.userFbid));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function G(a,b){b.writeStructBegin("QuickExperimentExposureLoggingEvent");b.writeFieldBegin({fname:"conditionFbid",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.conditionFbid!=null)b.writeI64(BigInt(a.conditionFbid));else{var d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldBegin({fname:"userFbid",ftype:h.I64,fid:2});if(a.userFbid!=null)b.writeI64(BigInt(a.userFbid));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldBegin({fname:"universeName",ftype:h.STRING,fid:3});if(a.universeName!=null)b.writeString(a.universeName);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"unitId",ftype:h.STRING,fid:4});if(a.unitId!=null)b.writeString(a.unitId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function H(a,b){b.writeStructBegin("ClientTrackInfo");b.writeFieldBegin({fname:"enabled",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:1});if(a.enabled!=null)b.writeBool(a.enabled);else{var e=!1;b.writeBool(e)}b.writeFieldEnd();if(a.pausedUplink!=null){b.writeFieldBegin({fname:"pausedUplink",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});b.writeI32((e=a.pausedUplink)!=null?e:0);b.writeFieldEnd()}if(a.pausedDownlink!=null){b.writeFieldBegin({fname:"pausedDownlink",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3});b.writeI32((e=a.pausedDownlink)!=null?e:0);b.writeFieldEnd()}a.owner!=null&&(b.writeFieldBegin({fname:"owner",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.owner),b.writeFieldEnd());if(a.label!=null){b.writeFieldBegin({fname:"label",ftype:(h||(h=c("ThriftTypes"))).I32,fid:5});b.writeI32((e=a.label)!=null?e:0);b.writeFieldEnd()}b.writeFieldBegin({fname:"customVideoContentType",ftype:h.I32,fid:6});if(a.customVideoContentType!=null){b.writeI32((e=a.customVideoContentType)!=null?e:0)}else{e=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.name!=null&&(b.writeFieldBegin({fname:"name",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:7}),b.writeString(a.name),b.writeFieldEnd());b.writeFieldBegin({fname:"customAudioContentType",ftype:h.I32,fid:8});if(a.customAudioContentType!=null){b.writeI32((e=a.customAudioContentType)!=null?e:0)}else{e=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.nodeId!=null&&(b.writeFieldBegin({fname:"nodeId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:9}),b.writeI64(BigInt(a.nodeId)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function I(a,b){b.writeStructBegin("ClientMediaStatus");b.writeFieldBegin({fname:"tracks",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.tracks!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.tracks).length});for(a of Object.entries(a.tracks)){var d=a[0],e=a[1];b.writeString(d);H(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeString(a);H(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function J(a,b){b.writeStructBegin("SubscriptionOptions");b.writeFieldBegin({fname:"videoQuality",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.videoQuality!=null){var e;b.writeI32((e=a.videoQuality)!=null?e:0)}else{e=d("MultiwaySharedTypes").VideoQuality.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.qualityIndex!=null&&(b.writeFieldBegin({fname:"qualityIndex",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2}),b.writeI32(a.qualityIndex),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function K(a,b){b.writeStructBegin("Subscription");b.writeFieldBegin({fname:"cname",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.cname!=null)b.writeString(a.cname);else{var e="";b.writeString(e)}b.writeFieldEnd();a.options!=null&&(b.writeFieldBegin({fname:"options",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),J(a.options,b),b.writeFieldEnd());b.writeFieldBegin({fname:"type",ftype:h.I32,fid:3});if(a.type!=null){b.writeI32((e=a.type)!=null?e:0)}else{e=d("MultiwaySharedTypes").SubscriptionType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.trackId!=null&&(b.writeFieldBegin({fname:"trackId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.trackId),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function L(a,b){b.writeStructBegin("LoggingOptions");b.writeFieldBegin({fname:"restrictiveLogging",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:1});if(a.restrictiveLogging!=null)b.writeBool(a.restrictiveLogging);else{var d=!0;b.writeBool(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"verboseLogging",ftype:h.BOOL,fid:2});if(a.verboseLogging!=null)b.writeBool(a.verboseLogging);else{d=!1;b.writeBool(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function M(a,b){b.writeStructBegin("ResolutionData");b.writeFieldBegin({fname:"userId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)b.writeString(a.userId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"streamId",ftype:h.STRING,fid:2});if(a.streamId!=null)b.writeString(a.streamId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"streamType",ftype:h.I32,fid:3});if(a.streamType!=null)b.writeI32(a.streamType);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"renderWidth",ftype:h.I32,fid:4});if(a.renderWidth!=null)b.writeI32(a.renderWidth);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"renderHeight",ftype:h.I32,fid:5});if(a.renderHeight!=null)b.writeI32(a.renderHeight);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function N(a,b){b.writeStructBegin("TurnInfo"),a.ipv4!=null&&(b.writeFieldBegin({fname:"ipv4",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeBinary(a.ipv4),b.writeFieldEnd()),a.ipv6!=null&&(b.writeFieldBegin({fname:"ipv6",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.ipv6),b.writeFieldEnd()),a.udpPort!=null&&(b.writeFieldBegin({fname:"udpPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3}),b.writeI32(a.udpPort),b.writeFieldEnd()),a.tcpPort!=null&&(b.writeFieldBegin({fname:"tcpPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:4}),b.writeI32(a.tcpPort),b.writeFieldEnd()),a.sslTcpPort!=null&&(b.writeFieldBegin({fname:"sslTcpPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:5}),b.writeI32(a.sslTcpPort),b.writeFieldEnd()),a.portInfoIdx!=null&&(b.writeFieldBegin({fname:"portInfoIdx",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6}),b.writeI32(a.portInfoIdx),b.writeFieldEnd()),a.tlsPort!=null&&(b.writeFieldBegin({fname:"tlsPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:7}),b.writeI32(a.tlsPort),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function O(a,b){b.writeStructBegin("EdgerayInfo");if(a.edgerayType!=null){var d;b.writeFieldBegin({fname:"edgerayType",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((d=a.edgerayType)!=null?d:0);b.writeFieldEnd()}a.ipv4!=null&&(b.writeFieldBegin({fname:"ipv4",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.ipv4),b.writeFieldEnd());a.ipv6!=null&&(b.writeFieldBegin({fname:"ipv6",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.ipv6),b.writeFieldEnd());a.token!=null&&(b.writeFieldBegin({fname:"token",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.token),b.writeFieldEnd());a.tokenIdx!=null&&(b.writeFieldBegin({fname:"tokenIdx",ftype:(h||(h=c("ThriftTypes"))).I32,fid:5}),b.writeI32(a.tokenIdx),b.writeFieldEnd());a.secret!=null&&(b.writeFieldBegin({fname:"secret",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:6}),b.writeBinary(a.secret),b.writeFieldEnd());a.secretIdx!=null&&(b.writeFieldBegin({fname:"secretIdx",ftype:(h||(h=c("ThriftTypes"))).I32,fid:7}),b.writeI32(a.secretIdx),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function P(a,b){b.writeStructBegin("RelayInfo");if(a.turns!=null){b.writeFieldBegin({fname:"turns",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:1});b.writeListBegin({etype:h.STRUCT,size:a.turns.length});for(var d of a.turns)N(d,b);b.writeListEnd();b.writeFieldEnd()}if(a.edgerays!=null){b.writeFieldBegin({fname:"edgerays",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.edgerays.length});for(d of a.edgerays)O(d,b);b.writeListEnd();b.writeFieldEnd()}a.turnUsername!=null&&(b.writeFieldBegin({fname:"turnUsername",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.turnUsername),b.writeFieldEnd());a.turnPassword!=null&&(b.writeFieldBegin({fname:"turnPassword",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.turnPassword),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function Q(a,b){b.writeStructBegin("TSocketAddress");b.writeFieldBegin({fname:"host",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.host!=null)b.writeBinary(a.host);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"port",ftype:h.I16,fid:2});if(a.port!=null)b.writeI16(a.port);else{d=0;b.writeI16(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function R(a,b){b.writeStructBegin("QuickExperimentValue");if(a.intValue!=null){b.writeFieldBegin({fname:"intValue",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});b.writeI64(BigInt(a.intValue));b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.stringValue!=null){b.writeFieldBegin({fname:"stringValue",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});b.writeString(a.stringValue);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function S(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.cluster=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.conferenceName_deprecated=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.nonce=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I64?b.conferenceId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.cluster===void 0&&(b.cluster="");b.nonce===void 0&&(b.nonce="");return b}function T(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.cluster=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.conferenceName=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.nonce=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).STRING?b.clientSessionId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.cluster===void 0&&(b.cluster="");b.conferenceName===void 0&&(b.conferenceName="");b.nonce===void 0&&(b.nonce="");b.userId===void 0&&(b.userId="");b.clientSessionId===void 0&&(b.clientSessionId="");return b}function U(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.deviceId=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.appId=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.appVersion=a.readString():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).STRING?b.appBuildNumber=a.readString():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRING?b.clientStackInfo=a.readString():a.skip(e);break;case 7:e===(h||(h=c("ThriftTypes"))).STRING?b.familyDeviceId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.userId===void 0&&(b.userId="");b.deviceId===void 0&&(b.deviceId="");b.appId===void 0&&(b.appId="");b.appVersion===void 0&&(b.appVersion="");b.appBuildNumber===void 0&&(b.appBuildNumber="");return b}function aa(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.mode=d("MultiwaySharedTypes").E2eeMode.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).BOOL?b.preventSfuMode=a.readBool():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.infraMandatedExpStatus=d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.p2pSFrameExpStatus=d("MultiwaySharedTypes").P2PSFrameExpStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.mode===void 0&&(b.mode=d("MultiwaySharedTypes").E2eeMode.cast(0));b.preventSfuMode===void 0&&(b.preventSfuMode=!1);b.infraMandatedExpStatus===void 0&&(b.infraMandatedExpStatus=d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.cast(0));b.p2pSFrameExpStatus===void 0&&(b.p2pSFrameExpStatus=d("MultiwaySharedTypes").P2PSFrameExpStatus.cast(0));return b}function ba(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.semantics=a.readString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.ssrcs=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.ssrcs.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.semantics===void 0&&(b.semantics="");b.ssrcs===void 0&&(b.ssrcs=[]);return b}function ca(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.type=d("MultiwaySharedTypes").MediaType.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.id=a.readString():a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).LIST){b.ssrcs=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=a.readI64().toString();b.ssrcs.push(i)}}else a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).BOOL?b.enabled=a.readBool():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.pausedDownlink=d("MultiwaySharedTypes").MediaPauseStatus.cast(a.readI32()):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.pausedUplink=d("MultiwaySharedTypes").MediaPauseStatus.cast(a.readI32()):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRING?b.owner=a.readString():a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).I32?b.label=d("WebrtcSignalingCommonTypes").TrackLabel.cast(a.readI32()):a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).I32?b.customVideoContentType=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32()):a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).STRING?b.name=a.readString():a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).I32?b.customAudioContentType=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.type===void 0&&(b.type=d("MultiwaySharedTypes").MediaType.cast(0));b.id===void 0&&(b.id="");b.ssrcs===void 0&&(b.ssrcs=[]);b.enabled===void 0&&(b.enabled=!1);b.customVideoContentType===void 0&&(b.customVideoContentType=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0));b.customAudioContentType===void 0&&(b.customAudioContentType=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0));return b}function V(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.parameters={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=$(a);b.parameters[g]=i}}else a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.conditionFbid=a.readI64().toString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.exposureHasBeenLogged=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.canExposureLog=a.readBool():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).STRING?b.universeShortName=a.readString():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).I64?b.userFbid=a.readI64().toString():a.skip(e);break;case 7:e===(h||(h=c("ThriftTypes"))).STRING?b.unitId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.parameters===void 0&&(b.parameters={});b.conditionFbid===void 0&&(b.conditionFbid="0");b.exposureHasBeenLogged===void 0&&(b.exposureHasBeenLogged=!1);b.canExposureLog===void 0&&(b.canExposureLog=!1);b.universeShortName===void 0&&(b.universeShortName="");b.userFbid===void 0&&(b.userFbid="0");b.unitId===void 0&&(b.unitId="");return b}function da(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.experiments={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=V(a);b.experiments[g]=i}}else a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.userFbid=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.experiments===void 0&&(b.experiments={});b.userFbid===void 0&&(b.userFbid="0");return b}function ea(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.conditionFbid=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.userFbid=a.readI64().toString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.universeName=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.unitId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.conditionFbid===void 0&&(b.conditionFbid="0");b.userFbid===void 0&&(b.userFbid="0");b.universeName===void 0&&(b.universeName="");b.unitId===void 0&&(b.unitId="");return b}function W(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).BOOL?b.enabled=a.readBool():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.pausedUplink=d("MultiwaySharedTypes").MediaPauseStatus.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.pausedDownlink=d("MultiwaySharedTypes").MediaPauseStatus.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.owner=a.readString():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.label=d("WebrtcSignalingCommonTypes").TrackLabel.cast(a.readI32()):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.customVideoContentType=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32()):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRING?b.name=a.readString():a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).I32?b.customAudioContentType=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(a.readI32()):a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).I64?b.nodeId=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.enabled===void 0&&(b.enabled=!1);b.customVideoContentType===void 0&&(b.customVideoContentType=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(0));b.customAudioContentType===void 0&&(b.customAudioContentType=d("WebrtcSignalingCommonTypes").CustomAudioContentType.cast(0));return b}function fa(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.tracks={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=W(a);b.tracks[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.tracks===void 0&&(b.tracks={});return b}function X(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.videoQuality=d("MultiwaySharedTypes").VideoQuality.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.qualityIndex=a.readI32():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.videoQuality===void 0&&(b.videoQuality=d("MultiwaySharedTypes").VideoQuality.cast(0));return b}function ga(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.cname=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.options=X(a):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.type=d("MultiwaySharedTypes").SubscriptionType.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.trackId=a.readString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.cname===void 0&&(b.cname="");b.type===void 0&&(b.type=d("MultiwaySharedTypes").SubscriptionType.cast(0));return b}function ha(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).BOOL?b.restrictiveLogging=a.readBool():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.verboseLogging=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.restrictiveLogging===void 0&&(b.restrictiveLogging=!0);b.verboseLogging===void 0&&(b.verboseLogging=!1);return b}function ia(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.streamId=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.streamType=a.readI32():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I32?b.renderWidth=a.readI32():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).I32?b.renderHeight=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.userId===void 0&&(b.userId="");b.streamId===void 0&&(b.streamId="");b.streamType===void 0&&(b.streamType=0);b.renderWidth===void 0&&(b.renderWidth=0);b.renderHeight===void 0&&(b.renderHeight=0);return b}function Y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.ipv4=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.ipv6=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.udpPort=a.readI32():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I32?b.tcpPort=a.readI32():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).I32?b.sslTcpPort=a.readI32():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).I32?b.portInfoIdx=a.readI32():a.skip(e);break;case 7:e===(h||(h=c("ThriftTypes"))).I32?b.tlsPort=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Z(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.edgerayType=d("MultiwaySharedTypes").EdgerayType.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.ipv4=a.readBinary():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.ipv6=a.readBinary():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.token=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.tokenIdx=a.readI32():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRING?b.secret=a.readBinary():a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).I32?b.secretIdx=a.readI32():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function ja(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).LIST){b.turns=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=Y(a);b.turns.push(g)}}else a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.edgerays=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=Z(a);b.edgerays.push(d)}}else a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.turnUsername=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.turnPassword=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function ka(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.host=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I16?b.port=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.host===void 0&&(b.host=Uint8Array.of());b.port===void 0&&(b.port=0);return b}function $(a){var b,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).I64)if(b==null)d.intValue=a.readI64().toString(),b="intValue";else throw new Error("more than one field have been deserialized in union type: QuickExperimentValue; current field: intValue, previous deserialized field: "+b);else a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).STRING)if(b==null)d.stringValue=a.readString(),b="stringValue";else throw new Error("more than one field have been deserialized in union type: QuickExperimentValue; current field: stringValue, previous deserialized field: "+b);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}g.ServerInfo$DefaultConstructor=a;g.ClientSessionInfo$DefaultConstructor=b;g.Endpoint$DefaultConstructor=e;g.E2eeEnforcement$DefaultConstructor=f;g.SsrcGroup$DefaultConstructor=i;g.Media$DefaultConstructor=j;g.QuickExperiment$DefaultConstructor=k;g.QuickExperimentResult$DefaultConstructor=l;g.QuickExperimentExposureLoggingEvent$DefaultConstructor=m;g.ClientTrackInfo$DefaultConstructor=n;g.ClientMediaStatus$DefaultConstructor=o;g.SubscriptionOptions$DefaultConstructor=p;g.Subscription$DefaultConstructor=q;g.LoggingOptions$DefaultConstructor=r;g.ResolutionData$DefaultConstructor=s;g.TurnInfo$DefaultConstructor=t;g.EdgerayInfo$DefaultConstructor=u;g.RelayInfo$DefaultConstructor=v;g.TSocketAddress$DefaultConstructor=w;g.QuickExperimentValue$DefaultConstructor=x;g.serializeServerInfo=y;g.serializeClientSessionInfo=z;g.serializeEndpoint=A;g.serializeE2eeEnforcement=B;g.serializeSsrcGroup=C;g.serializeMedia=D;g.serializeQuickExperiment=E;g.serializeQuickExperimentResult=F;g.serializeQuickExperimentExposureLoggingEvent=G;g.serializeClientTrackInfo=H;g.serializeClientMediaStatus=I;g.serializeSubscriptionOptions=J;g.serializeSubscription=K;g.serializeLoggingOptions=L;g.serializeResolutionData=M;g.serializeTurnInfo=N;g.serializeEdgerayInfo=O;g.serializeRelayInfo=P;g.serializeTSocketAddress=Q;g.serializeQuickExperimentValue=R;g.deserializeServerInfo=S;g.deserializeClientSessionInfo=T;g.deserializeEndpoint=U;g.deserializeE2eeEnforcement=aa;g.deserializeSsrcGroup=ba;g.deserializeMedia=ca;g.deserializeQuickExperiment=V;g.deserializeQuickExperimentResult=da;g.deserializeQuickExperimentExposureLoggingEvent=ea;g.deserializeClientTrackInfo=W;g.deserializeClientMediaStatus=fa;g.deserializeSubscriptionOptions=X;g.deserializeSubscription=ga;g.deserializeLoggingOptions=ha;g.deserializeResolutionData=ia;g.deserializeTurnInfo=Y;g.deserializeEdgerayInfo=Z;g.deserializeRelayInfo=ja;g.deserializeTSocketAddress=ka;g.deserializeQuickExperimentValue=$}),98);
__d("WebrtcSignalingCommonSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{topic:"",data:Uint8Array.of()}}function b(a,b){b.writeStructBegin("GenericDataMessage");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.topic!=null)b.writeString(a.topic);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"data",ftype:h.STRING,fid:2});if(a.data!=null)b.writeBinary(a.data);else{d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.e2eEncryptedData!=null&&(b.writeFieldBegin({fname:"e2eEncryptedData",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.e2eEncryptedData),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function d(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.e2eEncryptedData=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.data===void 0&&(b.data=Uint8Array.of());return b}g.GenericDataMessage$DefaultConstructor=a;g.serializeGenericDataMessage=b;g.deserializeGenericDataMessage=d}),98);
__d("DataMessageSerializers",["MultiwaySharedSerializers","MultiwaySharedTypes","ThriftTypes","WebrtcSignalingCommonSerializers"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return{topic_DEPRECATED:""}}function a(){return{userId:""}}function b(){return{userId:"",cname:"",trackIds:[],transactionId:"0"}}function e(){return{cname:"",quality_DEPRECATED:d("MultiwaySharedTypes").VideoQuality.cast(0)}}function f(){return{userId:"",bottleneckBps:0}}function j(){return{bottleneckUplinksByLayer:{}}}function k(){return{duplicationAmount:0,delayMs:0}}function l(){return{}}function m(){return{}}function n(){return{primarySpeakerUserId:"",transactionId:"0"}}function o(){return{}}function p(){return{signalingMessagePayload:Uint8Array.of()}}function q(){return{signalingMessagePayload:Uint8Array.of()}}function r(){return{subscriptionMessagePayload:[]}}function s(){return{}}function t(){return{}}function u(){return{nodeIdToUserIdMap:{},nodeIdToServiceTypeMap:{}}}function v(){return{}}function w(){return{header:i()}}function x(a,b){b.writeStructBegin("DataHeader");a.sender!=null&&(b.writeFieldBegin({fname:"sender",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.sender),b.writeFieldEnd());b.writeFieldBegin({fname:"topic_DEPRECATED",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.topic_DEPRECATED!=null)b.writeString(a.topic_DEPRECATED);else{var d="";b.writeString(d)}b.writeFieldEnd();if(a.recipients!=null){b.writeFieldBegin({fname:"recipients",ftype:(h||(h=c("ThriftTypes"))).SET,fid:3});b.writeSetBegin({etype:h.STRING,size:a.recipients.size});for(d of a.recipients)b.writeString(d);b.writeSetEnd();b.writeFieldEnd()}if(a.serviceSender!=null){b.writeFieldBegin({fname:"serviceSender",ftype:(h||(h=c("ThriftTypes"))).I32,fid:4});b.writeI32((d=a.serviceSender)!=null?d:0);b.writeFieldEnd()}if(a.serviceRecipients!=null){b.writeFieldBegin({fname:"serviceRecipients",ftype:(h||(h=c("ThriftTypes"))).SET,fid:5});b.writeSetBegin({etype:h.I32,size:a.serviceRecipients.size});for(d of a.serviceRecipients)b.writeI32(d!=null?d:0);b.writeSetEnd();b.writeFieldEnd()}a.shouldSendToAllUsers!=null&&(b.writeFieldBegin({fname:"shouldSendToAllUsers",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:6}),b.writeBool(a.shouldSendToAllUsers),b.writeFieldEnd());a.senderE2eeId!=null&&(b.writeFieldBegin({fname:"senderE2eeId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:7}),b.writeBinary(a.senderE2eeId),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function y(a,b){b.writeStructBegin("SpeakerDetail");b.writeFieldBegin({fname:"userId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)b.writeString(a.userId);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function z(a,b){b.writeStructBegin("DominantSpeakerNotification");b.writeFieldBegin({fname:"userId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)b.writeString(a.userId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"cname",ftype:h.STRING,fid:2});if(a.cname!=null)b.writeString(a.cname);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"trackIds",ftype:h.LIST,fid:4});if(a.trackIds!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.trackIds.length});for(d of a.trackIds)b.writeString(d);b.writeListEnd()}else{d=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:d.length});for(d of d)b.writeString(d);b.writeListEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"transactionId",ftype:h.I64,fid:5});if(a.transactionId!=null)b.writeI64(BigInt(a.transactionId));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();if(a.dominantSpeakers!=null){b.writeFieldBegin({fname:"dominantSpeakers",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:6});b.writeListBegin({etype:h.STRUCT,size:a.dominantSpeakers.length});for(d of a.dominantSpeakers)y(d,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function A(a,b){b.writeStructBegin("VideoUploadRequest");b.writeFieldBegin({fname:"cname",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.cname!=null)b.writeString(a.cname);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"quality_DEPRECATED",ftype:h.I32,fid:2});if(a.quality_DEPRECATED!=null){b.writeI32((e=a.quality_DEPRECATED)!=null?e:0)}else{e=d("MultiwaySharedTypes").VideoQuality.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.qualityMask!=null&&(b.writeFieldBegin({fname:"qualityMask",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3}),b.writeI32(a.qualityMask),b.writeFieldEnd());if(a.perSsrcTargetBitrateBpsMap!=null){b.writeFieldBegin({fname:"perSsrcTargetBitrateBpsMap",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:4});b.writeMapBegin({ktype:h.I64,vtype:h.I64,size:Object.keys(a.perSsrcTargetBitrateBpsMap).length});for(e of Object.entries(a.perSsrcTargetBitrateBpsMap)){a=e[0];var f=e[1];b.writeI64(BigInt(a));b.writeI64(BigInt(f))}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function B(a,b){b.writeStructBegin("ReceiverBottleneck");b.writeFieldBegin({fname:"userId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.userId!=null)b.writeString(a.userId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"bottleneckBps",ftype:h.I32,fid:2});if(a.bottleneckBps!=null)b.writeI32(a.bottleneckBps);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function C(a,b){b.writeStructBegin("BweDebugInfo");b.writeFieldBegin({fname:"bottleneckUplinksByLayer",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.bottleneckUplinksByLayer!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(a.bottleneckUplinksByLayer).length});for(a of Object.entries(a.bottleneckUplinksByLayer)){var d=a[0],e=a[1];b.writeI32(Number(d));B(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeI32(Number(a));B(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function D(a,b){b.writeStructBegin("AudioDuplicationDebugInfo");b.writeFieldBegin({fname:"duplicationAmount",ftype:(h||(h=c("ThriftTypes"))).I16,fid:1});if(a.duplicationAmount!=null)b.writeI16(a.duplicationAmount);else{var d=0;b.writeI16(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"delayMs",ftype:h.I16,fid:2});if(a.delayMs!=null)b.writeI16(a.delayMs);else{d=0;b.writeI16(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function E(a,b){b.writeStructBegin("ReceiveTrackDebugInfo"),a.trackId!=null&&(b.writeFieldBegin({fname:"trackId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.trackId),b.writeFieldEnd()),a.numSimulcastLayersSupported!=null&&(b.writeFieldBegin({fname:"numSimulcastLayersSupported",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2}),b.writeI32(a.numSimulcastLayersSupported),b.writeFieldEnd()),a.numSimulcastLayersAllocated!=null&&(b.writeFieldBegin({fname:"numSimulcastLayersAllocated",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3}),b.writeI32(a.numSimulcastLayersAllocated),b.writeFieldEnd()),a.spatialLayerIndex!=null&&(b.writeFieldBegin({fname:"spatialLayerIndex",ftype:(h||(h=c("ThriftTypes"))).I32,fid:4}),b.writeI32(a.spatialLayerIndex),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function F(a,b){b.writeStructBegin("DebugInfo");a.audioDuplicationDebugInfo!=null&&(b.writeFieldBegin({fname:"audioDuplicationDebugInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),D(a.audioDuplicationDebugInfo,b),b.writeFieldEnd());if(a.receiveTrackDebugInfo!=null){b.writeFieldBegin({fname:"receiveTrackDebugInfo",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.receiveTrackDebugInfo.length});for(a of a.receiveTrackDebugInfo)E(a,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function G(a,b){b.writeStructBegin("DominantSpeakerInfo");b.writeFieldBegin({fname:"primarySpeakerUserId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.primarySpeakerUserId!=null)b.writeString(a.primarySpeakerUserId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"transactionId",ftype:h.I64,fid:2});if(a.transactionId!=null)b.writeI64(BigInt(a.transactionId));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function H(a,b){b.writeStructBegin("VideoUploadInfo");a.qualityMask!=null&&(b.writeFieldBegin({fname:"qualityMask",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1}),b.writeI32(a.qualityMask),b.writeFieldEnd());if(a.perSsrcTargetBitrateBpsMap!=null){b.writeFieldBegin({fname:"perSsrcTargetBitrateBpsMap",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:2});b.writeMapBegin({ktype:h.I64,vtype:h.I64,size:Object.keys(a.perSsrcTargetBitrateBpsMap).length});for(a of Object.entries(a.perSsrcTargetBitrateBpsMap)){var d=a[0],e=a[1];b.writeI64(BigInt(d));b.writeI64(BigInt(e))}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function I(a,b){b.writeStructBegin("SignalingMessageToClient");b.writeFieldBegin({fname:"signalingMessagePayload",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.signalingMessagePayload!=null)b.writeBinary(a.signalingMessagePayload);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.version!=null&&(b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2}),b.writeI64(BigInt(a.version)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function J(a,b){b.writeStructBegin("SignalingMessageFromClient");b.writeFieldBegin({fname:"signalingMessagePayload",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.signalingMessagePayload!=null)b.writeBinary(a.signalingMessagePayload);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.version!=null&&(b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2}),b.writeI64(BigInt(a.version)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function K(a,b){b.writeStructBegin("SubscriptionMessageFromClient");b.writeFieldBegin({fname:"subscriptionMessagePayload",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:1});if(a.subscriptionMessagePayload!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.subscriptionMessagePayload.length});for(a of a.subscriptionMessagePayload)d("MultiwaySharedSerializers").serializeSubscription(a,b);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.length});for(a of a)d("MultiwaySharedSerializers").serializeSubscription(a,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function L(a,b){b.writeStructBegin("RenderResolutionMessageFromClient");if(a.renderResolutionMap!=null){b.writeFieldBegin({fname:"renderResolutionMap",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});b.writeMapBegin({ktype:h.STRING,vtype:h.MAP,size:Object.keys(a.renderResolutionMap).length});for(a of Object.entries(a.renderResolutionMap)){var e=a[0],f=a[1];b.writeString(e);b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(f).length});for(e of Object.entries(f)){f=e[0];var g=e[1];b.writeI32((f=Number(f))!=null?f:0);d("MultiwaySharedSerializers").serializeResolutionData(g,b)}b.writeMapEnd()}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function aa(a,b){b.writeStructBegin("RenderResolutionMessageToClient");if(a.renderResolutionMap!=null){b.writeFieldBegin({fname:"renderResolutionMap",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});b.writeMapBegin({ktype:h.STRING,vtype:h.MAP,size:Object.keys(a.renderResolutionMap).length});for(a of Object.entries(a.renderResolutionMap)){var e=a[0],f=a[1];b.writeString(e);b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(f).length});for(e of Object.entries(f)){f=e[0];var g=e[1];b.writeI32((f=Number(f))!=null?f:0);d("MultiwaySharedSerializers").serializeResolutionData(g,b)}b.writeMapEnd()}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function ba(a,b){b.writeStructBegin("NodeIdNotification");b.writeFieldBegin({fname:"nodeIdToUserIdMap",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.nodeIdToUserIdMap!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I64,vtype:h.I64,size:Object.keys(a.nodeIdToUserIdMap).length});for(var d of Object.entries(a.nodeIdToUserIdMap)){var e=d[0],f=d[1];b.writeI64(BigInt(e));b.writeI64(BigInt(f))}b.writeMapEnd()}else{e={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I64,vtype:h.I64,size:Object.keys(e).length});for(f of Object.entries(e)){d=f[0];e=f[1];b.writeI64(BigInt(d));b.writeI64(BigInt(e))}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"nodeIdToServiceTypeMap",ftype:h.MAP,fid:2});if(a.nodeIdToServiceTypeMap!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I64,vtype:h.I32,size:Object.keys(a.nodeIdToServiceTypeMap).length});for(d of Object.entries(a.nodeIdToServiceTypeMap)){e=d[0];f=d[1];b.writeI64(BigInt(e));b.writeI32(f!=null?f:0)}b.writeMapEnd()}else{a={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I64,vtype:h.I32,size:Object.keys(a).length});for(e of Object.entries(a)){f=e[0];d=e[1];b.writeI64(BigInt(f));b.writeI32(d!=null?d:0)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function M(a,b){b.writeStructBegin("DataMessageBody"),a.genericMessage!=null&&(b.writeFieldBegin({fname:"genericMessage",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),d("WebrtcSignalingCommonSerializers").serializeGenericDataMessage(a.genericMessage,b),b.writeFieldEnd()),a.dominantSpeakerNotification!=null&&(b.writeFieldBegin({fname:"dominantSpeakerNotification",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),z(a.dominantSpeakerNotification,b),b.writeFieldEnd()),a.videoUploadRequest!=null&&(b.writeFieldBegin({fname:"videoUploadRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3}),A(a.videoUploadRequest,b),b.writeFieldEnd()),a.dominantSpeakerSignalingInfo!=null&&(b.writeFieldBegin({fname:"dominantSpeakerSignalingInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4}),G(a.dominantSpeakerSignalingInfo,b),b.writeFieldEnd()),a.bweDebugInfo!=null&&(b.writeFieldBegin({fname:"bweDebugInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5}),C(a.bweDebugInfo,b),b.writeFieldEnd()),a.debugInfo!=null&&(b.writeFieldBegin({fname:"debugInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),F(a.debugInfo,b),b.writeFieldEnd()),a.videoUploadSignalingInfo!=null&&(b.writeFieldBegin({fname:"videoUploadSignalingInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7}),H(a.videoUploadSignalingInfo,b),b.writeFieldEnd()),a.signalingMessageToClient!=null&&(b.writeFieldBegin({fname:"signalingMessageToClient",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:8}),I(a.signalingMessageToClient,b),b.writeFieldEnd()),a.signalingMessageFromClient!=null&&(b.writeFieldBegin({fname:"signalingMessageFromClient",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:9}),J(a.signalingMessageFromClient,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function ca(a,b){b.writeStructBegin("DataMessage");b.writeFieldBegin({fname:"header",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.header!=null)x(a.header,b);else{var d=i();x(d,b)}b.writeFieldEnd();a.data_DEPRECATED!=null&&(b.writeFieldBegin({fname:"data_DEPRECATED",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.data_DEPRECATED),b.writeFieldEnd());a.body!=null&&(b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3}),M(a.body,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function N(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.sender=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.topic_DEPRECATED=a.readString():a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).SET){b.recipients=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.recipients.add(i)}}else a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.serviceSender=d("MultiwaySharedTypes").EndpointServiceType.cast(a.readI32()):a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).SET){b.serviceRecipients=new Set();i=a.readSetBegin();for(g=0;g<i.size;g++){e=d("MultiwaySharedTypes").EndpointServiceType.cast(a.readI32());b.serviceRecipients.add(e)}}else a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).BOOL?b.shouldSendToAllUsers=a.readBool():a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRING?b.senderE2eeId=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.topic_DEPRECATED===void 0&&(b.topic_DEPRECATED="");return b}function O(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.userId===void 0&&(b.userId="");return b}function P(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.cname=a.readString():a.skip(e);break;case 4:if(e===(h||(h=c("ThriftTypes"))).LIST){b.trackIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();b.trackIds.push(g)}}else a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).I64?b.transactionId=a.readI64().toString():a.skip(e);break;case 6:if(e===(h||(h=c("ThriftTypes"))).LIST){b.dominantSpeakers=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=O(a);b.dominantSpeakers.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.userId===void 0&&(b.userId="");b.cname===void 0&&(b.cname="");b.trackIds===void 0&&(b.trackIds=[]);b.transactionId===void 0&&(b.transactionId="0");return b}function Q(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.cname=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.quality_DEPRECATED=d("MultiwaySharedTypes").VideoQuality.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.qualityMask=a.readI32():a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).MAP){b.perSsrcTargetBitrateBpsMap={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readI64().toString(),j=a.readI64().toString();b.perSsrcTargetBitrateBpsMap[i]=j}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.cname===void 0&&(b.cname="");b.quality_DEPRECATED===void 0&&(b.quality_DEPRECATED=d("MultiwaySharedTypes").VideoQuality.cast(0));return b}function R(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I32?b.bottleneckBps=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.userId===void 0&&(b.userId="");b.bottleneckBps===void 0&&(b.bottleneckBps=0);return b}function S(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.bottleneckUplinksByLayer={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readI32(),i=R(a);b.bottleneckUplinksByLayer[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bottleneckUplinksByLayer===void 0&&(b.bottleneckUplinksByLayer={});return b}function T(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I16?b.duplicationAmount=a.readI16():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I16?b.delayMs=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.duplicationAmount===void 0&&(b.duplicationAmount=0);b.delayMs===void 0&&(b.delayMs=0);return b}function U(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.trackId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I32?b.numSimulcastLayersSupported=a.readI32():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.numSimulcastLayersAllocated=a.readI32():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I32?b.spatialLayerIndex=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function V(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.audioDuplicationDebugInfo=T(a):a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.receiveTrackDebugInfo=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=U(a);b.receiveTrackDebugInfo.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function W(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.primarySpeakerUserId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.transactionId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.primarySpeakerUserId===void 0&&(b.primarySpeakerUserId="");b.transactionId===void 0&&(b.transactionId="0");return b}function X(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.qualityMask=a.readI32():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).MAP){b.perSsrcTargetBitrateBpsMap={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString(),i=a.readI64().toString();b.perSsrcTargetBitrateBpsMap[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.signalingMessagePayload=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.version=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.signalingMessagePayload===void 0&&(b.signalingMessagePayload=Uint8Array.of());return b}function Z(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.signalingMessagePayload=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.version=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.signalingMessagePayload===void 0&&(b.signalingMessagePayload=Uint8Array.of());return b}function da(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).LIST){b.subscriptionMessagePayload=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("MultiwaySharedSerializers").deserializeSubscription(a);b.subscriptionMessagePayload.push(i)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.subscriptionMessagePayload===void 0&&(b.subscriptionMessagePayload=[]);return b}function ea(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.renderResolutionMap={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j={},k=a.readMapBegin();for(var l=0;l<k.size;l++){var m=d("MultiwaySharedTypes").RenderedStreamType.cast(a.readI32()),n=d("MultiwaySharedSerializers").deserializeResolutionData(a);m!=null&&(j[m]=n)}b.renderResolutionMap[i]=j}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function fa(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.renderResolutionMap={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j={},k=a.readMapBegin();for(var l=0;l<k.size;l++){var m=d("MultiwaySharedTypes").RenderedStreamType.cast(a.readI32()),n=d("MultiwaySharedSerializers").deserializeResolutionData(a);m!=null&&(j[m]=n)}b.renderResolutionMap[i]=j}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function ga(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.nodeIdToUserIdMap={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readI64().toString(),j=a.readI64().toString();b.nodeIdToUserIdMap[i]=j}}else a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).MAP){b.nodeIdToServiceTypeMap={};i=a.readMapBegin();for(j=0;j<i.size;j++){g=a.readI64().toString();e=d("MultiwaySharedTypes").EndpointServiceType.cast(a.readI32());b.nodeIdToServiceTypeMap[g]=e}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.nodeIdToUserIdMap===void 0&&(b.nodeIdToUserIdMap={});b.nodeIdToServiceTypeMap===void 0&&(b.nodeIdToServiceTypeMap={});return b}function $(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.genericMessage=d("WebrtcSignalingCommonSerializers").deserializeGenericDataMessage(a):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.dominantSpeakerNotification=P(a):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRUCT?b.videoUploadRequest=Q(a):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRUCT?b.dominantSpeakerSignalingInfo=W(a):a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRUCT?b.bweDebugInfo=S(a):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRUCT?b.debugInfo=V(a):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRUCT?b.videoUploadSignalingInfo=X(a):a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).STRUCT?b.signalingMessageToClient=Y(a):a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).STRUCT?b.signalingMessageFromClient=Z(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function ha(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.header=N(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data_DEPRECATED=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRUCT?b.body=$(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.header===void 0&&(b.header=i());return b}g.DataHeader$DefaultConstructor=i;g.SpeakerDetail$DefaultConstructor=a;g.DominantSpeakerNotification$DefaultConstructor=b;g.VideoUploadRequest$DefaultConstructor=e;g.ReceiverBottleneck$DefaultConstructor=f;g.BweDebugInfo$DefaultConstructor=j;g.AudioDuplicationDebugInfo$DefaultConstructor=k;g.ReceiveTrackDebugInfo$DefaultConstructor=l;g.DebugInfo$DefaultConstructor=m;g.DominantSpeakerInfo$DefaultConstructor=n;g.VideoUploadInfo$DefaultConstructor=o;g.SignalingMessageToClient$DefaultConstructor=p;g.SignalingMessageFromClient$DefaultConstructor=q;g.SubscriptionMessageFromClient$DefaultConstructor=r;g.RenderResolutionMessageFromClient$DefaultConstructor=s;g.RenderResolutionMessageToClient$DefaultConstructor=t;g.NodeIdNotification$DefaultConstructor=u;g.DataMessageBody$DefaultConstructor=v;g.DataMessage$DefaultConstructor=w;g.serializeDataHeader=x;g.serializeSpeakerDetail=y;g.serializeDominantSpeakerNotification=z;g.serializeVideoUploadRequest=A;g.serializeReceiverBottleneck=B;g.serializeBweDebugInfo=C;g.serializeAudioDuplicationDebugInfo=D;g.serializeReceiveTrackDebugInfo=E;g.serializeDebugInfo=F;g.serializeDominantSpeakerInfo=G;g.serializeVideoUploadInfo=H;g.serializeSignalingMessageToClient=I;g.serializeSignalingMessageFromClient=J;g.serializeSubscriptionMessageFromClient=K;g.serializeRenderResolutionMessageFromClient=L;g.serializeRenderResolutionMessageToClient=aa;g.serializeNodeIdNotification=ba;g.serializeDataMessageBody=M;g.serializeDataMessage=ca;g.deserializeDataHeader=N;g.deserializeSpeakerDetail=O;g.deserializeDominantSpeakerNotification=P;g.deserializeVideoUploadRequest=Q;g.deserializeReceiverBottleneck=R;g.deserializeBweDebugInfo=S;g.deserializeAudioDuplicationDebugInfo=T;g.deserializeReceiveTrackDebugInfo=U;g.deserializeDebugInfo=V;g.deserializeDominantSpeakerInfo=W;g.deserializeVideoUploadInfo=X;g.deserializeSignalingMessageToClient=Y;g.deserializeSignalingMessageFromClient=Z;g.deserializeSubscriptionMessageFromClient=da;g.deserializeRenderResolutionMessageFromClient=ea;g.deserializeRenderResolutionMessageToClient=fa;g.deserializeNodeIdNotification=ga;g.deserializeDataMessageBody=$;g.deserializeDataMessage=ha}),98);
__d("DataMessageTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({OK:200,NOT_FOUND:404});e.exports={DataMessageStatusCode:a}}),null);
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return{}}function j(){return{}}function a(){return{p2p_e2ee:i(),group_e2ee:j()}}function k(a,b){b.writeStructBegin("P2pE2eeMetrics");a.engine_type!=null&&(b.writeFieldBegin({fname:"engine_type",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(BigInt(a.engine_type)),b.writeFieldEnd());a.status!=null&&(b.writeFieldBegin({fname:"status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2}),b.writeI64(BigInt(a.status)),b.writeFieldEnd());a.version!=null&&(b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(BigInt(a.version)),b.writeFieldEnd());a.gen_prekey_bundle_time_ms!=null&&(b.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:4}),b.writeI64(BigInt(a.gen_prekey_bundle_time_ms)),b.writeFieldEnd());a.encrypted_msg_time_ms!=null&&(b.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:5}),b.writeI64(BigInt(a.encrypted_msg_time_ms)),b.writeFieldEnd());a.decrypted_msg_time_ms!=null&&(b.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:6}),b.writeI64(BigInt(a.decrypted_msg_time_ms)),b.writeFieldEnd());a.process_sdp_crypto_time_ms!=null&&(b.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:7}),b.writeI64(BigInt(a.process_sdp_crypto_time_ms)),b.writeFieldEnd());a.create_crypto_offer_time_ms!=null&&(b.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:8}),b.writeI64(BigInt(a.create_crypto_offer_time_ms)),b.writeFieldEnd());a.create_crypto_answer_time_ms!=null&&(b.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:9}),b.writeI64(BigInt(a.create_crypto_answer_time_ms)),b.writeFieldEnd());a.get_ik_time_ms!=null&&(b.writeFieldBegin({fname:"get_ik_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:10}),b.writeI64(BigInt(a.get_ik_time_ms)),b.writeFieldEnd());a.peer_id!=null&&(b.writeFieldBegin({fname:"peer_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:11}),b.writeI64(BigInt(a.peer_id)),b.writeFieldEnd());a.peer_connection_index!=null&&(b.writeFieldBegin({fname:"peer_connection_index",ftype:(h||(h=c("ThriftTypes"))).I64,fid:12}),b.writeI64(BigInt(a.peer_connection_index)),b.writeFieldEnd());a.srtp_crypto_suite!=null&&(b.writeFieldBegin({fname:"srtp_crypto_suite",ftype:(h||(h=c("ThriftTypes"))).I64,fid:13}),b.writeI64(BigInt(a.srtp_crypto_suite)),b.writeFieldEnd());a.engine_error!=null&&(b.writeFieldBegin({fname:"engine_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:14}),b.writeI64(BigInt(a.engine_error)),b.writeFieldEnd());a.libsignal_error!=null&&(b.writeFieldBegin({fname:"libsignal_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:15}),b.writeI64(BigInt(a.libsignal_error)),b.writeFieldEnd());a.identity_key_mode!=null&&(b.writeFieldBegin({fname:"identity_key_mode",ftype:(h||(h=c("ThriftTypes"))).I64,fid:16}),b.writeI64(BigInt(a.identity_key_mode)),b.writeFieldEnd());a.identity_key_num_persistent!=null&&(b.writeFieldBegin({fname:"identity_key_num_persistent",ftype:(h||(h=c("ThriftTypes"))).I64,fid:17}),b.writeI64(BigInt(a.identity_key_num_persistent)),b.writeFieldEnd());a.identity_key_num_validated!=null&&(b.writeFieldBegin({fname:"identity_key_num_validated",ftype:(h||(h=c("ThriftTypes"))).I64,fid:18}),b.writeI64(BigInt(a.identity_key_num_validated)),b.writeFieldEnd());a.identity_key_num_saved!=null&&(b.writeFieldBegin({fname:"identity_key_num_saved",ftype:(h||(h=c("ThriftTypes"))).I64,fid:19}),b.writeI64(BigInt(a.identity_key_num_saved)),b.writeFieldEnd());a.identity_key_num_existing!=null&&(b.writeFieldBegin({fname:"identity_key_num_existing",ftype:(h||(h=c("ThriftTypes"))).I64,fid:20}),b.writeI64(BigInt(a.identity_key_num_existing)),b.writeFieldEnd());a.is_e2ee_mandated!=null&&(b.writeFieldBegin({fname:"is_e2ee_mandated",ftype:(h||(h=c("ThriftTypes"))).I64,fid:21}),b.writeI64(BigInt(a.is_e2ee_mandated)),b.writeFieldEnd());a.local_trace_id!=null&&(b.writeFieldBegin({fname:"local_trace_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:22}),b.writeI64(BigInt(a.local_trace_id)),b.writeFieldEnd());a.remote_trace_id!=null&&(b.writeFieldBegin({fname:"remote_trace_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:23}),b.writeI64(BigInt(a.remote_trace_id)),b.writeFieldEnd());a.local_device_id!=null&&(b.writeFieldBegin({fname:"local_device_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:24}),b.writeI64(BigInt(a.local_device_id)),b.writeFieldEnd());a.remote_device_id!=null&&(b.writeFieldBegin({fname:"remote_device_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:25}),b.writeI64(BigInt(a.remote_device_id)),b.writeFieldEnd());if(a.events!=null){b.writeFieldBegin({fname:"events",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:26});b.writeListBegin({etype:h.I64,size:a.events.length});for(var d of a.events)b.writeI64(BigInt(d));b.writeListEnd();b.writeFieldEnd()}a.gen_dtls_auth_info_status!=null&&(b.writeFieldBegin({fname:"gen_dtls_auth_info_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:27}),b.writeI64(BigInt(a.gen_dtls_auth_info_status)),b.writeFieldEnd());a.gen_dtls_auth_info_libsignal_status!=null&&(b.writeFieldBegin({fname:"gen_dtls_auth_info_libsignal_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:28}),b.writeI64(BigInt(a.gen_dtls_auth_info_libsignal_status)),b.writeFieldEnd());a.gen_dtls_auth_info_time_ms!=null&&(b.writeFieldBegin({fname:"gen_dtls_auth_info_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:29}),b.writeI64(BigInt(a.gen_dtls_auth_info_time_ms)),b.writeFieldEnd());a.verify_dtls_auth_info_status!=null&&(b.writeFieldBegin({fname:"verify_dtls_auth_info_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:30}),b.writeI64(BigInt(a.verify_dtls_auth_info_status)),b.writeFieldEnd());a.verify_dtls_auth_info_libsignal_status!=null&&(b.writeFieldBegin({fname:"verify_dtls_auth_info_libsignal_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:31}),b.writeI64(BigInt(a.verify_dtls_auth_info_libsignal_status)),b.writeFieldEnd());a.verify_dtls_auth_info_time_ms!=null&&(b.writeFieldBegin({fname:"verify_dtls_auth_info_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:32}),b.writeI64(BigInt(a.verify_dtls_auth_info_time_ms)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function l(a,b){b.writeStructBegin("GroupE2eeMetrics");a.received_key_message_counter!=null&&(b.writeFieldBegin({fname:"received_key_message_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(BigInt(a.received_key_message_counter)),b.writeFieldEnd());a.sent_key_message_counter!=null&&(b.writeFieldBegin({fname:"sent_key_message_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2}),b.writeI64(BigInt(a.sent_key_message_counter)),b.writeFieldEnd());a.cached_key_message_counter!=null&&(b.writeFieldBegin({fname:"cached_key_message_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(BigInt(a.cached_key_message_counter)),b.writeFieldEnd());a.used_cached_key_counter!=null&&(b.writeFieldBegin({fname:"used_cached_key_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:4}),b.writeI64(BigInt(a.used_cached_key_counter)),b.writeFieldEnd());a.unused_smu_counter!=null&&(b.writeFieldBegin({fname:"unused_smu_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:5}),b.writeI64(BigInt(a.unused_smu_counter)),b.writeFieldEnd());a.missing_key_message_counter!=null&&(b.writeFieldBegin({fname:"missing_key_message_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:6}),b.writeI64(BigInt(a.missing_key_message_counter)),b.writeFieldEnd());a.negotiate_off_status!=null&&(b.writeFieldBegin({fname:"negotiate_off_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:7}),b.writeI64(BigInt(a.negotiate_off_status)),b.writeFieldEnd());a.cipher_suite_status!=null&&(b.writeFieldBegin({fname:"cipher_suite_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:8}),b.writeI64(BigInt(a.cipher_suite_status)),b.writeFieldEnd());a.decrypt_used_cached_session_counter!=null&&(b.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:9}),b.writeI64(BigInt(a.decrypt_used_cached_session_counter)),b.writeFieldEnd());a.encrypt_used_cached_session_counter!=null&&(b.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:10}),b.writeI64(BigInt(a.encrypt_used_cached_session_counter)),b.writeFieldEnd());a.sent_ack_message_counter!=null&&(b.writeFieldBegin({fname:"sent_ack_message_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:11}),b.writeI64(BigInt(a.sent_ack_message_counter)),b.writeFieldEnd());a.reuse_ackd_uid_counter!=null&&(b.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:12}),b.writeI64(BigInt(a.reuse_ackd_uid_counter)),b.writeFieldEnd());a.total_uids_created_counter!=null&&(b.writeFieldBegin({fname:"total_uids_created_counter",ftype:(h||(h=c("ThriftTypes"))).I64,fid:13}),b.writeI64(BigInt(a.total_uids_created_counter)),b.writeFieldEnd());a.generate_chain_key_failed_error!=null&&(b.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:14}),b.writeI64(BigInt(a.generate_chain_key_failed_error)),b.writeFieldEnd());a.set_chain_key_failed_error!=null&&(b.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:15}),b.writeI64(BigInt(a.set_chain_key_failed_error)),b.writeFieldEnd());a.key_provider_not_found_error!=null&&(b.writeFieldBegin({fname:"key_provider_not_found_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:16}),b.writeI64(BigInt(a.key_provider_not_found_error)),b.writeFieldEnd());a.key_message_parse_failed_error!=null&&(b.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:17}),b.writeI64(BigInt(a.key_message_parse_failed_error)),b.writeFieldEnd());a.empty_pkb_result_error!=null&&(b.writeFieldBegin({fname:"empty_pkb_result_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:18}),b.writeI64(BigInt(a.empty_pkb_result_error)),b.writeFieldEnd());a.empty_encrypt_result_error!=null&&(b.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:19}),b.writeI64(BigInt(a.empty_encrypt_result_error)),b.writeFieldEnd());a.empty_decrypt_result_error!=null&&(b.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:20}),b.writeI64(BigInt(a.empty_decrypt_result_error)),b.writeFieldEnd());a.empty_version_error!=null&&(b.writeFieldBegin({fname:"empty_version_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:21}),b.writeI64(BigInt(a.empty_version_error)),b.writeFieldEnd());a.unsupported_version_error!=null&&(b.writeFieldBegin({fname:"unsupported_version_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:22}),b.writeI64(BigInt(a.unsupported_version_error)),b.writeFieldEnd());a.midcall_version_change_error!=null&&(b.writeFieldBegin({fname:"midcall_version_change_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:23}),b.writeI64(BigInt(a.midcall_version_change_error)),b.writeFieldEnd());a.inconsistent_remote_maps_error!=null&&(b.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:24}),b.writeI64(BigInt(a.inconsistent_remote_maps_error)),b.writeFieldEnd());a.key_message_pkb_mismatch_error!=null&&(b.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:25}),b.writeI64(BigInt(a.key_message_pkb_mismatch_error)),b.writeFieldEnd());a.no_key_or_ack_in_e2ee_message_error!=null&&(b.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:26}),b.writeI64(BigInt(a.no_key_or_ack_in_e2ee_message_error)),b.writeFieldEnd());a.receiver_key_provider_not_found_error!=null&&(b.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:27}),b.writeI64(BigInt(a.receiver_key_provider_not_found_error)),b.writeFieldEnd());a.pkb_parse_failed_error!=null&&(b.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:28}),b.writeI64(BigInt(a.pkb_parse_failed_error)),b.writeFieldEnd());a.message_deserialized_failed_error!=null&&(b.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:29}),b.writeI64(BigInt(a.message_deserialized_failed_error)),b.writeFieldEnd());a.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(b.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:30}),b.writeI64(BigInt(a.decrypt_no_identity_key_and_cached_session_not_used_error)),b.writeFieldEnd());a.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(b.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:31}),b.writeI64(BigInt(a.encrypt_no_identity_key_and_cached_session_not_used_error)),b.writeFieldEnd());a.decrypt_ack_wrong_message_error!=null&&(b.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:32}),b.writeI64(BigInt(a.decrypt_ack_wrong_message_error)),b.writeFieldEnd());a.invalid_uid_received_error!=null&&(b.writeFieldBegin({fname:"invalid_uid_received_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:33}),b.writeI64(BigInt(a.invalid_uid_received_error)),b.writeFieldEnd());a.ack_for_absent_user!=null&&(b.writeFieldBegin({fname:"ack_for_absent_user",ftype:(h||(h=c("ThriftTypes"))).I64,fid:34}),b.writeI64(BigInt(a.ack_for_absent_user)),b.writeFieldEnd());a.uid_not_awaiting_ack_error!=null&&(b.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:35}),b.writeI64(BigInt(a.uid_not_awaiting_ack_error)),b.writeFieldEnd());a.decrypt_ack_error!=null&&(b.writeFieldBegin({fname:"decrypt_ack_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:36}),b.writeI64(BigInt(a.decrypt_ack_error)),b.writeFieldEnd());a.empty_decrypt_result_ack_error!=null&&(b.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:37}),b.writeI64(BigInt(a.empty_decrypt_result_ack_error)),b.writeFieldEnd());a.decrypt_ack_cached_session_not_used_error!=null&&(b.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:38}),b.writeI64(BigInt(a.decrypt_ack_cached_session_not_used_error)),b.writeFieldEnd());a.encrypt_ack_error!=null&&(b.writeFieldBegin({fname:"encrypt_ack_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:39}),b.writeI64(BigInt(a.encrypt_ack_error)),b.writeFieldEnd());a.empty_encrypt_result_ack_error!=null&&(b.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:40}),b.writeI64(BigInt(a.empty_encrypt_result_ack_error)),b.writeFieldEnd());a.invalid_message_type_error!=null&&(b.writeFieldBegin({fname:"invalid_message_type_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:41}),b.writeI64(BigInt(a.invalid_message_type_error)),b.writeFieldEnd());a.server_state_deserialized_failed_error!=null&&(b.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:42}),b.writeI64(BigInt(a.server_state_deserialized_failed_error)),b.writeFieldEnd());a.crypto_engine_failure_error!=null&&(b.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:43}),b.writeI64(BigInt(a.crypto_engine_failure_error)),b.writeFieldEnd());a.empty_e2ee_client_state_error!=null&&(b.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:44}),b.writeI64(BigInt(a.empty_e2ee_client_state_error)),b.writeFieldEnd());a.group_e2ee_negotiated!=null&&(b.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:(h||(h=c("ThriftTypes"))).I64,fid:45}),b.writeI64(BigInt(a.group_e2ee_negotiated)),b.writeFieldEnd());a.negotiation_mode_kn!=null&&(b.writeFieldBegin({fname:"negotiation_mode_kn",ftype:(h||(h=c("ThriftTypes"))).I64,fid:46}),b.writeI64(BigInt(a.negotiation_mode_kn)),b.writeFieldEnd());a.group_e2ee_setup_status!=null&&(b.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:(h||(h=c("ThriftTypes"))).I64,fid:47}),b.writeI64(BigInt(a.group_e2ee_setup_status)),b.writeFieldEnd());a.enable_group_e2ee!=null&&(b.writeFieldBegin({fname:"enable_group_e2ee",ftype:(h||(h=c("ThriftTypes"))).I64,fid:48}),b.writeI64(BigInt(a.enable_group_e2ee)),b.writeFieldEnd());a.identity_key_mode_group!=null&&(b.writeFieldBegin({fname:"identity_key_mode_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:49}),b.writeI64(BigInt(a.identity_key_mode_group)),b.writeFieldEnd());a.identity_key_num_persistent_group!=null&&(b.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:50}),b.writeI64(BigInt(a.identity_key_num_persistent_group)),b.writeFieldEnd());a.identity_key_num_validated_group!=null&&(b.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:51}),b.writeI64(BigInt(a.identity_key_num_validated_group)),b.writeFieldEnd());a.identity_key_num_saved_group!=null&&(b.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:52}),b.writeI64(BigInt(a.identity_key_num_saved_group)),b.writeFieldEnd());a.identity_key_num_existing_group!=null&&(b.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:53}),b.writeI64(BigInt(a.identity_key_num_existing_group)),b.writeFieldEnd());a.max_key_message_latency_ms!=null&&(b.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:54}),b.writeI64(BigInt(a.max_key_message_latency_ms)),b.writeFieldEnd());a.max_key_message_latency_ms_joiner!=null&&(b.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:(h||(h=c("ThriftTypes"))).I64,fid:55}),b.writeI64(BigInt(a.max_key_message_latency_ms_joiner)),b.writeFieldEnd());a.max_smu_to_key_message_latency_ms!=null&&(b.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:56}),b.writeI64(BigInt(a.max_smu_to_key_message_latency_ms)),b.writeFieldEnd());a.process_smu_time_ms!=null&&(b.writeFieldBegin({fname:"process_smu_time_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:57}),b.writeI64(BigInt(a.process_smu_time_ms)),b.writeFieldEnd());a.decryption_total_frames!=null&&(b.writeFieldBegin({fname:"decryption_total_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:58}),b.writeI64(BigInt(a.decryption_total_frames)),b.writeFieldEnd());a.decryption_total_error_frames!=null&&(b.writeFieldBegin({fname:"decryption_total_error_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:59}),b.writeI64(BigInt(a.decryption_total_error_frames)),b.writeFieldEnd());a.decryption_error_frames_alloc!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:(h||(h=c("ThriftTypes"))).I64,fid:60}),b.writeI64(BigInt(a.decryption_error_frames_alloc)),b.writeFieldEnd());a.decryption_error_frames_invalid_params!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:(h||(h=c("ThriftTypes"))).I64,fid:61}),b.writeI64(BigInt(a.decryption_error_frames_invalid_params)),b.writeFieldEnd());a.decryption_error_frames_cipher!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:(h||(h=c("ThriftTypes"))).I64,fid:62}),b.writeI64(BigInt(a.decryption_error_frames_cipher)),b.writeFieldEnd());a.decryption_error_frames_parse!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:(h||(h=c("ThriftTypes"))).I64,fid:63}),b.writeI64(BigInt(a.decryption_error_frames_parse)),b.writeFieldEnd());a.decryption_error_frames_invalid_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:64}),b.writeI64(BigInt(a.decryption_error_frames_invalid_key)),b.writeFieldEnd());a.decryption_error_frames_missing_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:65}),b.writeI64(BigInt(a.decryption_error_frames_missing_key)),b.writeFieldEnd());a.decryption_error_frames_out_of_ratchet_space!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:(h||(h=c("ThriftTypes"))).I64,fid:66}),b.writeI64(BigInt(a.decryption_error_frames_out_of_ratchet_space)),b.writeFieldEnd());a.decryption_error_frames_cipher_auth!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:(h||(h=c("ThriftTypes"))).I64,fid:67}),b.writeI64(BigInt(a.decryption_error_frames_cipher_auth)),b.writeFieldEnd());a.decryption_error_frames_frame_too_old!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:(h||(h=c("ThriftTypes"))).I64,fid:68}),b.writeI64(BigInt(a.decryption_error_frames_frame_too_old)),b.writeFieldEnd());a.decryption_error_frames_seen_frame!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:(h||(h=c("ThriftTypes"))).I64,fid:69}),b.writeI64(BigInt(a.decryption_error_frames_seen_frame)),b.writeFieldEnd());a.decryption_error_frames_invalid_frame!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:(h||(h=c("ThriftTypes"))).I64,fid:70}),b.writeI64(BigInt(a.decryption_error_frames_invalid_frame)),b.writeFieldEnd());a.decryption_error_frames_setting_invalid_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:71}),b.writeI64(BigInt(a.decryption_error_frames_setting_invalid_key)),b.writeFieldEnd());a.decryption_error_frames_setting_existing_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:72}),b.writeI64(BigInt(a.decryption_error_frames_setting_existing_key)),b.writeFieldEnd());a.decryption_error_frames_escape_data!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:73}),b.writeI64(BigInt(a.decryption_error_frames_escape_data)),b.writeFieldEnd());a.decryption_error_frames_deescape_data!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:74}),b.writeI64(BigInt(a.decryption_error_frames_deescape_data)),b.writeFieldEnd());a.decryption_error_frames_parse_frame_or_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:75}),b.writeI64(BigInt(a.decryption_error_frames_parse_frame_or_key)),b.writeFieldEnd());a.decryption_error_frames_unknown!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:(h||(h=c("ThriftTypes"))).I64,fid:76}),b.writeI64(BigInt(a.decryption_error_frames_unknown)),b.writeFieldEnd());a.decryption_unencrypted_frames!=null&&(b.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:77}),b.writeI64(BigInt(a.decryption_unencrypted_frames)),b.writeFieldEnd());a.encryption_total_frames!=null&&(b.writeFieldBegin({fname:"encryption_total_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:78}),b.writeI64(BigInt(a.encryption_total_frames)),b.writeFieldEnd());a.encryption_error_frames!=null&&(b.writeFieldBegin({fname:"encryption_error_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:79}),b.writeI64(BigInt(a.encryption_error_frames)),b.writeFieldEnd());a.encryption_escape_bytes!=null&&(b.writeFieldBegin({fname:"encryption_escape_bytes",ftype:(h||(h=c("ThriftTypes"))).I64,fid:80}),b.writeI64(BigInt(a.encryption_escape_bytes)),b.writeFieldEnd());a.encryption_total_error_frames!=null&&(b.writeFieldBegin({fname:"encryption_total_error_frames",ftype:(h||(h=c("ThriftTypes"))).I64,fid:81}),b.writeI64(BigInt(a.encryption_total_error_frames)),b.writeFieldEnd());a.encryption_error_frames_alloc!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:(h||(h=c("ThriftTypes"))).I64,fid:82}),b.writeI64(BigInt(a.encryption_error_frames_alloc)),b.writeFieldEnd());a.encryption_error_frames_invalid_params!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:(h||(h=c("ThriftTypes"))).I64,fid:83}),b.writeI64(BigInt(a.encryption_error_frames_invalid_params)),b.writeFieldEnd());a.encryption_error_frames_cipher!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:(h||(h=c("ThriftTypes"))).I64,fid:84}),b.writeI64(BigInt(a.encryption_error_frames_cipher)),b.writeFieldEnd());a.encryption_error_frames_parse!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:(h||(h=c("ThriftTypes"))).I64,fid:85}),b.writeI64(BigInt(a.encryption_error_frames_parse)),b.writeFieldEnd());a.encryption_error_frames_invalid_key!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:86}),b.writeI64(BigInt(a.encryption_error_frames_invalid_key)),b.writeFieldEnd());a.encryption_error_frames_cipher_auth!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:(h||(h=c("ThriftTypes"))).I64,fid:87}),b.writeI64(BigInt(a.encryption_error_frames_cipher_auth)),b.writeFieldEnd());a.encryption_error_frames_escape_data!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:88}),b.writeI64(BigInt(a.encryption_error_frames_escape_data)),b.writeFieldEnd());a.encryption_error_frames_unsupported_codec!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:(h||(h=c("ThriftTypes"))).I64,fid:89}),b.writeI64(BigInt(a.encryption_error_frames_unsupported_codec)),b.writeFieldEnd());a.encryption_error_frames_unknown!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:(h||(h=c("ThriftTypes"))).I64,fid:90}),b.writeI64(BigInt(a.encryption_error_frames_unknown)),b.writeFieldEnd());a.decryption_total_frames_data_channel!=null&&(b.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:91}),b.writeI64(BigInt(a.decryption_total_frames_data_channel)),b.writeFieldEnd());a.decryption_total_error_frames_data_channel!=null&&(b.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:92}),b.writeI64(BigInt(a.decryption_total_error_frames_data_channel)),b.writeFieldEnd());a.decryption_error_frames_data_channel_alloc!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:(h||(h=c("ThriftTypes"))).I64,fid:93}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_alloc)),b.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_params!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:(h||(h=c("ThriftTypes"))).I64,fid:94}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_params)),b.writeFieldEnd());a.decryption_error_frames_data_channel_cipher!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:(h||(h=c("ThriftTypes"))).I64,fid:95}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher)),b.writeFieldEnd());a.decryption_error_frames_data_channel_parse!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:(h||(h=c("ThriftTypes"))).I64,fid:96}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_parse)),b.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:97}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_key)),b.writeFieldEnd());a.decryption_error_frames_data_channel_missing_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:98}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_missing_key)),b.writeFieldEnd());a.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:(h||(h=c("ThriftTypes"))).I64,fid:99}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_out_of_ratchet_space)),b.writeFieldEnd());a.decryption_error_frames_data_channel_cipher_auth!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:(h||(h=c("ThriftTypes"))).I64,fid:100}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_cipher_auth)),b.writeFieldEnd());a.decryption_error_frames_data_channel_frame_too_old!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:(h||(h=c("ThriftTypes"))).I64,fid:101}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_frame_too_old)),b.writeFieldEnd());a.decryption_error_frames_data_channel_seen_frame!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:(h||(h=c("ThriftTypes"))).I64,fid:102}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_seen_frame)),b.writeFieldEnd());a.decryption_error_frames_data_channel_invalid_frame!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:(h||(h=c("ThriftTypes"))).I64,fid:103}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_invalid_frame)),b.writeFieldEnd());a.decryption_error_frames_data_channel_setting_invalid_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:104}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_invalid_key)),b.writeFieldEnd());a.decryption_error_frames_data_channel_setting_existing_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:105}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_setting_existing_key)),b.writeFieldEnd());a.decryption_error_frames_data_channel_escape_data!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:106}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_escape_data)),b.writeFieldEnd());a.decryption_error_frames_data_channel_deescape_data!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:107}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_deescape_data)),b.writeFieldEnd());a.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:108}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_parse_frame_or_key)),b.writeFieldEnd());a.decryption_error_frames_data_channel_unknown!=null&&(b.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:(h||(h=c("ThriftTypes"))).I64,fid:109}),b.writeI64(BigInt(a.decryption_error_frames_data_channel_unknown)),b.writeFieldEnd());a.decryption_unencrypted_frames_data_channel!=null&&(b.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:110}),b.writeI64(BigInt(a.decryption_unencrypted_frames_data_channel)),b.writeFieldEnd());a.encryption_total_frames_data_channel!=null&&(b.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:111}),b.writeI64(BigInt(a.encryption_total_frames_data_channel)),b.writeFieldEnd());a.encryption_error_frames_data_channel!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:112}),b.writeI64(BigInt(a.encryption_error_frames_data_channel)),b.writeFieldEnd());a.encryption_total_error_frames_data_channel!=null&&(b.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:(h||(h=c("ThriftTypes"))).I64,fid:113}),b.writeI64(BigInt(a.encryption_total_error_frames_data_channel)),b.writeFieldEnd());a.encryption_error_frames_data_channel_alloc!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:(h||(h=c("ThriftTypes"))).I64,fid:114}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_alloc)),b.writeFieldEnd());a.encryption_error_frames_data_channel_invalid_params!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:(h||(h=c("ThriftTypes"))).I64,fid:115}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_params)),b.writeFieldEnd());a.encryption_error_frames_data_channel_cipher!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:(h||(h=c("ThriftTypes"))).I64,fid:116}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher)),b.writeFieldEnd());a.encryption_error_frames_data_channel_parse!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:(h||(h=c("ThriftTypes"))).I64,fid:117}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_parse)),b.writeFieldEnd());a.encryption_error_frames_data_channel_invalid_key!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:118}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_invalid_key)),b.writeFieldEnd());a.encryption_error_frames_data_channel_cipher_auth!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:(h||(h=c("ThriftTypes"))).I64,fid:119}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_cipher_auth)),b.writeFieldEnd());a.encryption_error_frames_data_channel_escape_data!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:120}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_escape_data)),b.writeFieldEnd());a.encryption_error_frames_data_channel_unsupported_codec!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:(h||(h=c("ThriftTypes"))).I64,fid:121}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_unsupported_codec)),b.writeFieldEnd());a.encryption_error_frames_data_channel_unknown!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:(h||(h=c("ThriftTypes"))).I64,fid:122}),b.writeI64(BigInt(a.encryption_error_frames_data_channel_unknown)),b.writeFieldEnd());a.num_removed_data_decryptors!=null&&(b.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:(h||(h=c("ThriftTypes"))).I64,fid:123}),b.writeI64(BigInt(a.num_removed_data_decryptors)),b.writeFieldEnd());a.num_frame_decryptor_with_unencrypted_data!=null&&(b.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:(h||(h=c("ThriftTypes"))).I64,fid:124}),b.writeI64(BigInt(a.num_frame_decryptor_with_unencrypted_data)),b.writeFieldEnd());a.num_removed_decryptors!=null&&(b.writeFieldBegin({fname:"num_removed_decryptors",ftype:(h||(h=c("ThriftTypes"))).I64,fid:125}),b.writeI64(BigInt(a.num_removed_decryptors)),b.writeFieldEnd());a.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(b.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:126}),b.writeI64(BigInt(a.data_channel_encryption_not_ready_in_mandated_calls_error)),b.writeFieldEnd());a.num_e2ee_message_total_encrypt!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:(h||(h=c("ThriftTypes"))).I64,fid:127}),b.writeI64(BigInt(a.num_e2ee_message_total_encrypt)),b.writeFieldEnd());a.num_e2ee_message_error_encrypt!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:(h||(h=c("ThriftTypes"))).I64,fid:128}),b.writeI64(BigInt(a.num_e2ee_message_error_encrypt)),b.writeFieldEnd());a.num_e2ee_message_total_decrypt!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:(h||(h=c("ThriftTypes"))).I64,fid:129}),b.writeI64(BigInt(a.num_e2ee_message_total_decrypt)),b.writeFieldEnd());a.num_e2ee_message_error_decrypt!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:(h||(h=c("ThriftTypes"))).I64,fid:130}),b.writeI64(BigInt(a.num_e2ee_message_error_decrypt)),b.writeFieldEnd());a.negotiate_off_time!=null&&(b.writeFieldBegin({fname:"negotiate_off_time",ftype:(h||(h=c("ThriftTypes"))).I64,fid:131}),b.writeI64(BigInt(a.negotiate_off_time)),b.writeFieldEnd());a.negotiated_version!=null&&(b.writeFieldBegin({fname:"negotiated_version",ftype:(h||(h=c("ThriftTypes"))).I64,fid:132}),b.writeI64(BigInt(a.negotiated_version)),b.writeFieldEnd());a.decryptor_removed_time!=null&&(b.writeFieldBegin({fname:"decryptor_removed_time",ftype:(h||(h=c("ThriftTypes"))).I64,fid:133}),b.writeI64(BigInt(a.decryptor_removed_time)),b.writeFieldEnd());a.is_e2ee_mandated_group!=null&&(b.writeFieldBegin({fname:"is_e2ee_mandated_group",ftype:(h||(h=c("ThriftTypes"))).I64,fid:134}),b.writeI64(BigInt(a.is_e2ee_mandated_group)),b.writeFieldEnd());if(a.events!=null){b.writeFieldBegin({fname:"events",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:135});b.writeListBegin({etype:h.I64,size:a.events.length});for(var d of a.events)b.writeI64(BigInt(d));b.writeListEnd();b.writeFieldEnd()}a.num_e2ee_message_received!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_received",ftype:(h||(h=c("ThriftTypes"))).I64,fid:136}),b.writeI64(BigInt(a.num_e2ee_message_received)),b.writeFieldEnd());a.num_e2ee_message_error_decrypt_non_e2ee_received!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_non_e2ee_received",ftype:(h||(h=c("ThriftTypes"))).I64,fid:137}),b.writeI64(BigInt(a.num_e2ee_message_error_decrypt_non_e2ee_received)),b.writeFieldEnd());a.num_e2ee_message_error_decrypt_missing_sender!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_missing_sender",ftype:(h||(h=c("ThriftTypes"))).I64,fid:138}),b.writeI64(BigInt(a.num_e2ee_message_error_decrypt_missing_sender)),b.writeFieldEnd());a.num_e2ee_message_error_decrypt_exceeding_retry!=null&&(b.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_exceeding_retry",ftype:(h||(h=c("ThriftTypes"))).I64,fid:139}),b.writeI64(BigInt(a.num_e2ee_message_error_decrypt_exceeding_retry)),b.writeFieldEnd());a.max_media_channel_key_message_retry_count!=null&&(b.writeFieldBegin({fname:"max_media_channel_key_message_retry_count",ftype:(h||(h=c("ThriftTypes"))).I64,fid:140}),b.writeI64(BigInt(a.max_media_channel_key_message_retry_count)),b.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions!=null&&(b.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions",ftype:(h||(h=c("ThriftTypes"))).I64,fid:141}),b.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions)),b.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions_failures!=null&&(b.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures",ftype:(h||(h=c("ThriftTypes"))).I64,fid:142}),b.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions_failures)),b.writeFieldEnd());a.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key!=null&&(b.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:143}),b.writeI64(BigInt(a.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key)),b.writeFieldEnd());a.g_e2ee_decryption_error_frames_empty_supported_codes!=null&&(b.writeFieldBegin({fname:"g_e2ee_decryption_error_frames_empty_supported_codes",ftype:(h||(h=c("ThriftTypes"))).I64,fid:144}),b.writeI64(BigInt(a.g_e2ee_decryption_error_frames_empty_supported_codes)),b.writeFieldEnd());a.g_e2ee_encryption_error_frames_empty!=null&&(b.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty",ftype:(h||(h=c("ThriftTypes"))).I64,fid:146}),b.writeI64(BigInt(a.g_e2ee_encryption_error_frames_empty)),b.writeFieldEnd());a.g_e2ee_encryption_error_frames_empty_nalu_blocks!=null&&(b.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty_nalu_blocks",ftype:(h||(h=c("ThriftTypes"))).I64,fid:147}),b.writeI64(BigInt(a.g_e2ee_encryption_error_frames_empty_nalu_blocks)),b.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h264!=null&&(b.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h264",ftype:(h||(h=c("ThriftTypes"))).I64,fid:148}),b.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h264)),b.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h265!=null&&(b.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265",ftype:(h||(h=c("ThriftTypes"))).I64,fid:149}),b.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h265)),b.writeFieldEnd());a.g_e2ee_encryption_error_frames_invalid_h265_nalu_block!=null&&(b.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265_nalu_block",ftype:(h||(h=c("ThriftTypes"))).I64,fid:150}),b.writeI64(BigInt(a.g_e2ee_encryption_error_frames_invalid_h265_nalu_block)),b.writeFieldEnd());a.g_e2ee_total_count_of_extra_encryptions!=null&&(b.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions",ftype:(h||(h=c("ThriftTypes"))).I64,fid:151}),b.writeI64(BigInt(a.g_e2ee_total_count_of_extra_encryptions)),b.writeFieldEnd());a.g_e2ee_total_count_of_extra_encryptions_failures!=null&&(b.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions_failures",ftype:(h||(h=c("ThriftTypes"))).I64,fid:152}),b.writeI64(BigInt(a.g_e2ee_total_count_of_extra_encryptions_failures)),b.writeFieldEnd());a.encryption_error_frames_no_active_key!=null&&(b.writeFieldBegin({fname:"encryption_error_frames_no_active_key",ftype:(h||(h=c("ThriftTypes"))).I64,fid:153}),b.writeI64(BigInt(a.encryption_error_frames_no_active_key)),b.writeFieldEnd());a.key_negotiation_protocol!=null&&(b.writeFieldBegin({fname:"key_negotiation_protocol",ftype:(h||(h=c("ThriftTypes"))).I64,fid:154}),b.writeI64(BigInt(a.key_negotiation_protocol)),b.writeFieldEnd());a.key_messages_received_via_signaling!=null&&(b.writeFieldBegin({fname:"key_messages_received_via_signaling",ftype:(h||(h=c("ThriftTypes"))).I64,fid:155}),b.writeI64(BigInt(a.key_messages_received_via_signaling)),b.writeFieldEnd());a.key_messages_received_via_media!=null&&(b.writeFieldBegin({fname:"key_messages_received_via_media",ftype:(h||(h=c("ThriftTypes"))).I64,fid:156}),b.writeI64(BigInt(a.key_messages_received_via_media)),b.writeFieldEnd());a.key_messages_received_via_signaling_joiner!=null&&(b.writeFieldBegin({fname:"key_messages_received_via_signaling_joiner",ftype:(h||(h=c("ThriftTypes"))).I64,fid:157}),b.writeI64(BigInt(a.key_messages_received_via_signaling_joiner)),b.writeFieldEnd());a.key_messages_received_via_media_joiner!=null&&(b.writeFieldBegin({fname:"key_messages_received_via_media_joiner",ftype:(h||(h=c("ThriftTypes"))).I64,fid:158}),b.writeI64(BigInt(a.key_messages_received_via_media_joiner)),b.writeFieldEnd());a.g_e2ee_participant_hash_verification_failed_error!=null&&(b.writeFieldBegin({fname:"g_e2ee_participant_hash_verification_failed_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:159}),b.writeI64(BigInt(a.g_e2ee_participant_hash_verification_failed_error)),b.writeFieldEnd());a.g_e2ee_invalid_key_distributor_id_error!=null&&(b.writeFieldBegin({fname:"g_e2ee_invalid_key_distributor_id_error",ftype:(h||(h=c("ThriftTypes"))).I64,fid:160}),b.writeI64(BigInt(a.g_e2ee_invalid_key_distributor_id_error)),b.writeFieldEnd());a.g_e2ee_key_message_validation_failure_count!=null&&(b.writeFieldBegin({fname:"g_e2ee_key_message_validation_failure_count",ftype:(h||(h=c("ThriftTypes"))).I64,fid:161}),b.writeI64(BigInt(a.g_e2ee_key_message_validation_failure_count)),b.writeFieldEnd());a.g_e2ee_cached_decrypted_key_count!=null&&(b.writeFieldBegin({fname:"g_e2ee_cached_decrypted_key_count",ftype:(h||(h=c("ThriftTypes"))).I64,fid:162}),b.writeI64(BigInt(a.g_e2ee_cached_decrypted_key_count)),b.writeFieldEnd());a.g_e2ee_reapply_cached_decrypted_key_count!=null&&(b.writeFieldBegin({fname:"g_e2ee_reapply_cached_decrypted_key_count",ftype:(h||(h=c("ThriftTypes"))).I64,fid:163}),b.writeI64(BigInt(a.g_e2ee_reapply_cached_decrypted_key_count)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function b(a,b){b.writeStructBegin("E2eeMetrics");b.writeFieldBegin({fname:"p2p_e2ee",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.p2p_e2ee!=null)k(a.p2p_e2ee,b);else{var d=i();k(d,b)}b.writeFieldEnd();b.writeFieldBegin({fname:"group_e2ee",ftype:h.STRUCT,fid:2});if(a.group_e2ee!=null)l(a.group_e2ee,b);else{d=j();l(d,b)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function m(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.engine_type=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.status=a.readI64().toString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I64?b.version=a.readI64().toString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I64?b.gen_prekey_bundle_time_ms=a.readI64().toString():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).I64?b.encrypted_msg_time_ms=a.readI64().toString():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).I64?b.decrypted_msg_time_ms=a.readI64().toString():a.skip(e);break;case 7:e===(h||(h=c("ThriftTypes"))).I64?b.process_sdp_crypto_time_ms=a.readI64().toString():a.skip(e);break;case 8:e===(h||(h=c("ThriftTypes"))).I64?b.create_crypto_offer_time_ms=a.readI64().toString():a.skip(e);break;case 9:e===(h||(h=c("ThriftTypes"))).I64?b.create_crypto_answer_time_ms=a.readI64().toString():a.skip(e);break;case 10:e===(h||(h=c("ThriftTypes"))).I64?b.get_ik_time_ms=a.readI64().toString():a.skip(e);break;case 11:e===(h||(h=c("ThriftTypes"))).I64?b.peer_id=a.readI64().toString():a.skip(e);break;case 12:e===(h||(h=c("ThriftTypes"))).I64?b.peer_connection_index=a.readI64().toString():a.skip(e);break;case 13:e===(h||(h=c("ThriftTypes"))).I64?b.srtp_crypto_suite=a.readI64().toString():a.skip(e);break;case 14:e===(h||(h=c("ThriftTypes"))).I64?b.engine_error=a.readI64().toString():a.skip(e);break;case 15:e===(h||(h=c("ThriftTypes"))).I64?b.libsignal_error=a.readI64().toString():a.skip(e);break;case 16:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_mode=a.readI64().toString():a.skip(e);break;case 17:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_persistent=a.readI64().toString():a.skip(e);break;case 18:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_validated=a.readI64().toString():a.skip(e);break;case 19:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_saved=a.readI64().toString():a.skip(e);break;case 20:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_existing=a.readI64().toString():a.skip(e);break;case 21:e===(h||(h=c("ThriftTypes"))).I64?b.is_e2ee_mandated=a.readI64().toString():a.skip(e);break;case 22:e===(h||(h=c("ThriftTypes"))).I64?b.local_trace_id=a.readI64().toString():a.skip(e);break;case 23:e===(h||(h=c("ThriftTypes"))).I64?b.remote_trace_id=a.readI64().toString():a.skip(e);break;case 24:e===(h||(h=c("ThriftTypes"))).I64?b.local_device_id=a.readI64().toString():a.skip(e);break;case 25:e===(h||(h=c("ThriftTypes"))).I64?b.remote_device_id=a.readI64().toString():a.skip(e);break;case 26:if(e===(h||(h=c("ThriftTypes"))).LIST){b.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.events.push(g)}}else a.skip(e);break;case 27:e===(h||(h=c("ThriftTypes"))).I64?b.gen_dtls_auth_info_status=a.readI64().toString():a.skip(e);break;case 28:e===(h||(h=c("ThriftTypes"))).I64?b.gen_dtls_auth_info_libsignal_status=a.readI64().toString():a.skip(e);break;case 29:e===(h||(h=c("ThriftTypes"))).I64?b.gen_dtls_auth_info_time_ms=a.readI64().toString():a.skip(e);break;case 30:e===(h||(h=c("ThriftTypes"))).I64?b.verify_dtls_auth_info_status=a.readI64().toString():a.skip(e);break;case 31:e===(h||(h=c("ThriftTypes"))).I64?b.verify_dtls_auth_info_libsignal_status=a.readI64().toString():a.skip(e);break;case 32:e===(h||(h=c("ThriftTypes"))).I64?b.verify_dtls_auth_info_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function n(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.received_key_message_counter=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.sent_key_message_counter=a.readI64().toString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I64?b.cached_key_message_counter=a.readI64().toString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).I64?b.used_cached_key_counter=a.readI64().toString():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).I64?b.unused_smu_counter=a.readI64().toString():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).I64?b.missing_key_message_counter=a.readI64().toString():a.skip(e);break;case 7:e===(h||(h=c("ThriftTypes"))).I64?b.negotiate_off_status=a.readI64().toString():a.skip(e);break;case 8:e===(h||(h=c("ThriftTypes"))).I64?b.cipher_suite_status=a.readI64().toString():a.skip(e);break;case 9:e===(h||(h=c("ThriftTypes"))).I64?b.decrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 10:e===(h||(h=c("ThriftTypes"))).I64?b.encrypt_used_cached_session_counter=a.readI64().toString():a.skip(e);break;case 11:e===(h||(h=c("ThriftTypes"))).I64?b.sent_ack_message_counter=a.readI64().toString():a.skip(e);break;case 12:e===(h||(h=c("ThriftTypes"))).I64?b.reuse_ackd_uid_counter=a.readI64().toString():a.skip(e);break;case 13:e===(h||(h=c("ThriftTypes"))).I64?b.total_uids_created_counter=a.readI64().toString():a.skip(e);break;case 14:e===(h||(h=c("ThriftTypes"))).I64?b.generate_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 15:e===(h||(h=c("ThriftTypes"))).I64?b.set_chain_key_failed_error=a.readI64().toString():a.skip(e);break;case 16:e===(h||(h=c("ThriftTypes"))).I64?b.key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 17:e===(h||(h=c("ThriftTypes"))).I64?b.key_message_parse_failed_error=a.readI64().toString():a.skip(e);break;case 18:e===(h||(h=c("ThriftTypes"))).I64?b.empty_pkb_result_error=a.readI64().toString():a.skip(e);break;case 19:e===(h||(h=c("ThriftTypes"))).I64?b.empty_encrypt_result_error=a.readI64().toString():a.skip(e);break;case 20:e===(h||(h=c("ThriftTypes"))).I64?b.empty_decrypt_result_error=a.readI64().toString():a.skip(e);break;case 21:e===(h||(h=c("ThriftTypes"))).I64?b.empty_version_error=a.readI64().toString():a.skip(e);break;case 22:e===(h||(h=c("ThriftTypes"))).I64?b.unsupported_version_error=a.readI64().toString():a.skip(e);break;case 23:e===(h||(h=c("ThriftTypes"))).I64?b.midcall_version_change_error=a.readI64().toString():a.skip(e);break;case 24:e===(h||(h=c("ThriftTypes"))).I64?b.inconsistent_remote_maps_error=a.readI64().toString():a.skip(e);break;case 25:e===(h||(h=c("ThriftTypes"))).I64?b.key_message_pkb_mismatch_error=a.readI64().toString():a.skip(e);break;case 26:e===(h||(h=c("ThriftTypes"))).I64?b.no_key_or_ack_in_e2ee_message_error=a.readI64().toString():a.skip(e);break;case 27:e===(h||(h=c("ThriftTypes"))).I64?b.receiver_key_provider_not_found_error=a.readI64().toString():a.skip(e);break;case 28:e===(h||(h=c("ThriftTypes"))).I64?b.pkb_parse_failed_error=a.readI64().toString():a.skip(e);break;case 29:e===(h||(h=c("ThriftTypes"))).I64?b.message_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 30:e===(h||(h=c("ThriftTypes"))).I64?b.decrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 31:e===(h||(h=c("ThriftTypes"))).I64?b.encrypt_no_identity_key_and_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 32:e===(h||(h=c("ThriftTypes"))).I64?b.decrypt_ack_wrong_message_error=a.readI64().toString():a.skip(e);break;case 33:e===(h||(h=c("ThriftTypes"))).I64?b.invalid_uid_received_error=a.readI64().toString():a.skip(e);break;case 34:e===(h||(h=c("ThriftTypes"))).I64?b.ack_for_absent_user=a.readI64().toString():a.skip(e);break;case 35:e===(h||(h=c("ThriftTypes"))).I64?b.uid_not_awaiting_ack_error=a.readI64().toString():a.skip(e);break;case 36:e===(h||(h=c("ThriftTypes"))).I64?b.decrypt_ack_error=a.readI64().toString():a.skip(e);break;case 37:e===(h||(h=c("ThriftTypes"))).I64?b.empty_decrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 38:e===(h||(h=c("ThriftTypes"))).I64?b.decrypt_ack_cached_session_not_used_error=a.readI64().toString():a.skip(e);break;case 39:e===(h||(h=c("ThriftTypes"))).I64?b.encrypt_ack_error=a.readI64().toString():a.skip(e);break;case 40:e===(h||(h=c("ThriftTypes"))).I64?b.empty_encrypt_result_ack_error=a.readI64().toString():a.skip(e);break;case 41:e===(h||(h=c("ThriftTypes"))).I64?b.invalid_message_type_error=a.readI64().toString():a.skip(e);break;case 42:e===(h||(h=c("ThriftTypes"))).I64?b.server_state_deserialized_failed_error=a.readI64().toString():a.skip(e);break;case 43:e===(h||(h=c("ThriftTypes"))).I64?b.crypto_engine_failure_error=a.readI64().toString():a.skip(e);break;case 44:e===(h||(h=c("ThriftTypes"))).I64?b.empty_e2ee_client_state_error=a.readI64().toString():a.skip(e);break;case 45:e===(h||(h=c("ThriftTypes"))).I64?b.group_e2ee_negotiated=a.readI64().toString():a.skip(e);break;case 46:e===(h||(h=c("ThriftTypes"))).I64?b.negotiation_mode_kn=a.readI64().toString():a.skip(e);break;case 47:e===(h||(h=c("ThriftTypes"))).I64?b.group_e2ee_setup_status=a.readI64().toString():a.skip(e);break;case 48:e===(h||(h=c("ThriftTypes"))).I64?b.enable_group_e2ee=a.readI64().toString():a.skip(e);break;case 49:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_mode_group=a.readI64().toString():a.skip(e);break;case 50:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_persistent_group=a.readI64().toString():a.skip(e);break;case 51:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_validated_group=a.readI64().toString():a.skip(e);break;case 52:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_saved_group=a.readI64().toString():a.skip(e);break;case 53:e===(h||(h=c("ThriftTypes"))).I64?b.identity_key_num_existing_group=a.readI64().toString():a.skip(e);break;case 54:e===(h||(h=c("ThriftTypes"))).I64?b.max_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 55:e===(h||(h=c("ThriftTypes"))).I64?b.max_key_message_latency_ms_joiner=a.readI64().toString():a.skip(e);break;case 56:e===(h||(h=c("ThriftTypes"))).I64?b.max_smu_to_key_message_latency_ms=a.readI64().toString():a.skip(e);break;case 57:e===(h||(h=c("ThriftTypes"))).I64?b.process_smu_time_ms=a.readI64().toString():a.skip(e);break;case 58:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_total_frames=a.readI64().toString():a.skip(e);break;case 59:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 60:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 61:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 62:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 63:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 64:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 65:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_missing_key=a.readI64().toString():a.skip(e);break;case 66:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 67:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 68:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_frame_too_old=a.readI64().toString():a.skip(e);break;case 69:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_seen_frame=a.readI64().toString():a.skip(e);break;case 70:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_invalid_frame=a.readI64().toString():a.skip(e);break;case 71:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 72:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_setting_existing_key=a.readI64().toString():a.skip(e);break;case 73:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 74:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_deescape_data=a.readI64().toString():a.skip(e);break;case 75:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 76:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 77:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_unencrypted_frames=a.readI64().toString():a.skip(e);break;case 78:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_total_frames=a.readI64().toString():a.skip(e);break;case 79:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames=a.readI64().toString():a.skip(e);break;case 80:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_escape_bytes=a.readI64().toString():a.skip(e);break;case 81:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_total_error_frames=a.readI64().toString():a.skip(e);break;case 82:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_alloc=a.readI64().toString():a.skip(e);break;case 83:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_invalid_params=a.readI64().toString():a.skip(e);break;case 84:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_cipher=a.readI64().toString():a.skip(e);break;case 85:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_parse=a.readI64().toString():a.skip(e);break;case 86:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_invalid_key=a.readI64().toString():a.skip(e);break;case 87:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_cipher_auth=a.readI64().toString():a.skip(e);break;case 88:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_escape_data=a.readI64().toString():a.skip(e);break;case 89:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_unsupported_codec=a.readI64().toString():a.skip(e);break;case 90:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_unknown=a.readI64().toString():a.skip(e);break;case 91:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 92:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 93:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 94:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 95:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 96:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 97:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 98:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_missing_key=a.readI64().toString():a.skip(e);break;case 99:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_out_of_ratchet_space=a.readI64().toString():a.skip(e);break;case 100:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 101:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_frame_too_old=a.readI64().toString():a.skip(e);break;case 102:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_seen_frame=a.readI64().toString():a.skip(e);break;case 103:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_invalid_frame=a.readI64().toString():a.skip(e);break;case 104:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_setting_invalid_key=a.readI64().toString():a.skip(e);break;case 105:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_setting_existing_key=a.readI64().toString():a.skip(e);break;case 106:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 107:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_deescape_data=a.readI64().toString():a.skip(e);break;case 108:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_parse_frame_or_key=a.readI64().toString():a.skip(e);break;case 109:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 110:e===(h||(h=c("ThriftTypes"))).I64?b.decryption_unencrypted_frames_data_channel=a.readI64().toString():a.skip(e);break;case 111:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_total_frames_data_channel=a.readI64().toString():a.skip(e);break;case 112:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 113:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_total_error_frames_data_channel=a.readI64().toString():a.skip(e);break;case 114:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_alloc=a.readI64().toString():a.skip(e);break;case 115:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_invalid_params=a.readI64().toString():a.skip(e);break;case 116:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_cipher=a.readI64().toString():a.skip(e);break;case 117:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_parse=a.readI64().toString():a.skip(e);break;case 118:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_invalid_key=a.readI64().toString():a.skip(e);break;case 119:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_cipher_auth=a.readI64().toString():a.skip(e);break;case 120:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_escape_data=a.readI64().toString():a.skip(e);break;case 121:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_unsupported_codec=a.readI64().toString():a.skip(e);break;case 122:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_data_channel_unknown=a.readI64().toString():a.skip(e);break;case 123:e===(h||(h=c("ThriftTypes"))).I64?b.num_removed_data_decryptors=a.readI64().toString():a.skip(e);break;case 124:e===(h||(h=c("ThriftTypes"))).I64?b.num_frame_decryptor_with_unencrypted_data=a.readI64().toString():a.skip(e);break;case 125:e===(h||(h=c("ThriftTypes"))).I64?b.num_removed_decryptors=a.readI64().toString():a.skip(e);break;case 126:e===(h||(h=c("ThriftTypes"))).I64?b.data_channel_encryption_not_ready_in_mandated_calls_error=a.readI64().toString():a.skip(e);break;case 127:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_total_encrypt=a.readI64().toString():a.skip(e);break;case 128:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_error_encrypt=a.readI64().toString():a.skip(e);break;case 129:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_total_decrypt=a.readI64().toString():a.skip(e);break;case 130:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_error_decrypt=a.readI64().toString():a.skip(e);break;case 131:e===(h||(h=c("ThriftTypes"))).I64?b.negotiate_off_time=a.readI64().toString():a.skip(e);break;case 132:e===(h||(h=c("ThriftTypes"))).I64?b.negotiated_version=a.readI64().toString():a.skip(e);break;case 133:e===(h||(h=c("ThriftTypes"))).I64?b.decryptor_removed_time=a.readI64().toString():a.skip(e);break;case 134:e===(h||(h=c("ThriftTypes"))).I64?b.is_e2ee_mandated_group=a.readI64().toString():a.skip(e);break;case 135:if(e===(h||(h=c("ThriftTypes"))).LIST){b.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.events.push(g)}}else a.skip(e);break;case 136:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_received=a.readI64().toString():a.skip(e);break;case 137:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_error_decrypt_non_e2ee_received=a.readI64().toString():a.skip(e);break;case 138:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_error_decrypt_missing_sender=a.readI64().toString():a.skip(e);break;case 139:e===(h||(h=c("ThriftTypes"))).I64?b.num_e2ee_message_error_decrypt_exceeding_retry=a.readI64().toString():a.skip(e);break;case 140:e===(h||(h=c("ThriftTypes"))).I64?b.max_media_channel_key_message_retry_count=a.readI64().toString():a.skip(e);break;case 141:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_total_count_of_extra_decryptions=a.readI64().toString():a.skip(e);break;case 142:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_total_count_of_extra_decryptions_failures=a.readI64().toString():a.skip(e);break;case 143:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key=a.readI64().toString():a.skip(e);break;case 144:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_decryption_error_frames_empty_supported_codes=a.readI64().toString():a.skip(e);break;case 146:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_encryption_error_frames_empty=a.readI64().toString():a.skip(e);break;case 147:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_encryption_error_frames_empty_nalu_blocks=a.readI64().toString():a.skip(e);break;case 148:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_encryption_error_frames_invalid_h264=a.readI64().toString():a.skip(e);break;case 149:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_encryption_error_frames_invalid_h265=a.readI64().toString():a.skip(e);break;case 150:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_encryption_error_frames_invalid_h265_nalu_block=a.readI64().toString():a.skip(e);break;case 151:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_total_count_of_extra_encryptions=a.readI64().toString():a.skip(e);break;case 152:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_total_count_of_extra_encryptions_failures=a.readI64().toString():a.skip(e);break;case 153:e===(h||(h=c("ThriftTypes"))).I64?b.encryption_error_frames_no_active_key=a.readI64().toString():a.skip(e);break;case 154:e===(h||(h=c("ThriftTypes"))).I64?b.key_negotiation_protocol=a.readI64().toString():a.skip(e);break;case 155:e===(h||(h=c("ThriftTypes"))).I64?b.key_messages_received_via_signaling=a.readI64().toString():a.skip(e);break;case 156:e===(h||(h=c("ThriftTypes"))).I64?b.key_messages_received_via_media=a.readI64().toString():a.skip(e);break;case 157:e===(h||(h=c("ThriftTypes"))).I64?b.key_messages_received_via_signaling_joiner=a.readI64().toString():a.skip(e);break;case 158:e===(h||(h=c("ThriftTypes"))).I64?b.key_messages_received_via_media_joiner=a.readI64().toString():a.skip(e);break;case 159:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_participant_hash_verification_failed_error=a.readI64().toString():a.skip(e);break;case 160:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_invalid_key_distributor_id_error=a.readI64().toString():a.skip(e);break;case 161:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_key_message_validation_failure_count=a.readI64().toString():a.skip(e);break;case 162:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_cached_decrypted_key_count=a.readI64().toString():a.skip(e);break;case 163:e===(h||(h=c("ThriftTypes"))).I64?b.g_e2ee_reapply_cached_decrypted_key_count=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function d(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.p2p_e2ee=m(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRUCT?b.group_e2ee=n(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.p2p_e2ee===void 0&&(b.p2p_e2ee=i());b.group_e2ee===void 0&&(b.group_e2ee=j());return b}g.P2pE2eeMetrics$DefaultConstructor=i;g.GroupE2eeMetrics$DefaultConstructor=j;g.E2eeMetrics$DefaultConstructor=a;g.serializeP2pE2eeMetrics=k;g.serializeGroupE2eeMetrics=l;g.serializeE2eeMetrics=b;g.deserializeP2pE2eeMetrics=m;g.deserializeGroupE2eeMetrics=n;g.deserializeE2eeMetrics=d}),98);
__d("HorizonWebMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(){var a;d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);return new(c("MqttChannel"))({appId:(a=c("MqttWebConfig")).appID,capabilities:a.capabilities,chatVisibility:!0,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,pageId:null,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid})}var i=null;function a(){i==null&&(i=h());return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getHorizonWebMqttChannelInstance=a;g.shutdownAndClear=b}),98);
__d("RequestStreamBodyUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return g(atob(a))};b=function(a){return btoa(h(a))};c=function(a){a=btoa(a);var b=a.indexOf("=");return b===-1?a:a.substring(0,b)};var g=function(a){a=a;var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c},h=function(a){var b="",c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b};f.base64ToUint8Array=a;f.uint8ArrayToBase64=b;f.stringToBase64WithoutPadding=c;f.stringToUint8Array=g;f.uint8ArrayToString=h}),66);
__d("MultiwayCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({STRING:0,THRIFT:1,BOTH:2});d=a({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f=a({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:2035,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,INVALID_MULTIWAY_PARAMS:3009,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,REQUEST_TIMEOUT:4044,TOO_MANY_MEDIA_TRACKS_IN_SDP:4045,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,JOIN_SESSION_RESULT_MISSING:5012,LOGGING_POLICY_RESULT_MISSING:5013,INVITE_USERS_RESULT_MISSING:5014,STATE_SYNC_RESULT_MISSING:5015,ENDPOINT_INFO_RESULT_MISSING:5016,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});b=a({NONE:0,INFO:1,ERROR:2});var g=a({SUCCESS:0,ERROR:1,SESSION_NOT_FOUND:10,SESSION_MISMATCH:11,SESSION_TERMINATING:12,CONNECTION_ALREADY_EXIST:20,CONNECTION_OLD_EXIST:21,CONNECTION_NOT_FOUND:23,CONNECTION_MISMATCH:24,SDP_INVALID:30,SDP_NEGOTIATION_FAILED:31,EXCEEDED_MAX_PARTICIPANT_COUNT:40,UNAUTHORIZED:50}),h=a({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28}),i=a({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10}),j=a({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21,CALL_ENDED_BY_EXTENSION:22,CALL_ENDED_BY_OVER_CAPACITY:23}),k=a({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19,SUPPORT_SDP_SENDRECV:20}),l=a({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8}),m=a({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10}),n=a({ACTIVE:0,TERMINATED:1}),o=a({UNKNOWN:0,ACTIVE:1,TERMINATED:2}),p=a({DENIED:0,APPROVED:1}),q=a({UNKNOWN:0,SIGNALING_DATA_MESSAGE:1,STATE_SYNC_UPDATE:2,STATE_SYNC_SNAPSHOT:3}),r=a({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17,UNCALLABLE_DELAYED:18}),s=a({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001,PREGEN_SDP:4002}),t=a({PRIMARY:0,SECONDARY:1}),u=a({UNKNOWN:0,MEDIA_CONNECTED:1});a=a({JoinRequest:"joinRequest",JoinResponse:"joinResponse",ServerMediaUpdateRequest:"serverMediaUpdateRequest",ServerMediaUpdateResponse:"serverMediaUpdateResponse",HangupRequest:"hangupRequest",IceCandidateRequest:"iceCandidateRequest",RingRequest:"ringRequest",RingResponse:"ringResponse",DismissRequest:"dismissRequest",ConferenceStateRequest:"conferenceStateRequest",ConferenceStateResponse:"conferenceStateResponse",AddParticipantsRequest:"addParticipantsRequest",SubscriptionRequest:"subscriptionRequest",ClientMediaUpdateRequest:"clientMediaUpdateRequest",ClientMediaUpdateResponse:"clientMediaUpdateResponse",DataMessageRequest:"dataMessageRequest",RemoveParticipantsRequest:"removeParticipantsRequest",DataMessageResponse:"dataMessageResponse",UpdateRequest:"updateRequest",UpdateResponse:"updateResponse",NotifyRequest:"notifyRequest",NotifyResponse:"notifyResponse",ConnectRequest:"connectRequest",ConnectResponse:"connectResponse",ClientEventRequest:"clientEventRequest",ClientEventResponse:"clientEventResponse",UnsubscribeRequest:"unsubscribeRequest",UnsubscribeResponse:"unsubscribeResponse",ApprovalRequest:"approvalRequest",TransferRequest:"transferRequest"});e.exports={ApprovalStatus:p,Capability:k,ClientEventType:u,DeviceStatus:m,DismissReason:j,E2eeDataMessageType:q,ExtensionSessionStatus:o,HangupReason:i,JoinMode:t,MediaConnectionStatus:n,MessageTag:s,MessageType:h,ParticipantCallState:r,RingType:l,RtcApiStatusCode:g,RtcLogSeverity:b,RtcMessageBodyVariant$Types:a,RtcResponseStatusCode:d,RtcResponseSubCode:f,SdpPayloadType:c}}),null);
__d("ZenonIceStatsParser",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.split("\r\n");a.forEach(function(a){g(a)&&b.push({gen:h(a),type:i(a)})});return b}function g(a){return a.indexOf("candidate:")>-1}function h(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b}function i(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"}f.extractIceInfo=a}),66);
__d("ZenonMWThriftMessageMap",["MultiwayCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return"UNKNOWN";switch(a){case d("MultiwayCommonTypes").MessageType.JOIN:return"JOIN";case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:return"ICE_CANDIDATE";case d("MultiwayCommonTypes").MessageType.HANGUP:return"HANGUP";case d("MultiwayCommonTypes").MessageType.RING:return"RING";case d("MultiwayCommonTypes").MessageType.DISMISS:return"DISMISS";case d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE:return"CONFERENCE_STATE";case d("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case d("MultiwayCommonTypes").MessageType.SUBSCRIPTION:return"SUBSCRIPTION";case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case d("MultiwayCommonTypes").MessageType.DATA_MESSAGE:return"DATA_MESSAGE";case d("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case d("MultiwayCommonTypes").MessageType.PING:return"PING";case d("MultiwayCommonTypes").MessageType.NOTIFY:return"NOTIFY";case d("MultiwayCommonTypes").MessageType.CONNECT:return"CONNECT";case d("MultiwayCommonTypes").MessageType.CLIENT_EVENT:return"CLIENT_EVENT";case d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE:return"UNSUBSCRIBE";case d("MultiwayCommonTypes").MessageType.UPDATE:return"UPDATE";case d("MultiwayCommonTypes").MessageType.APPROVAL:return"APPROVAL";case d("MultiwayCommonTypes").MessageType.WAKEUP:return"WAKEUP";default:return"UNKNOWN"}}function b(a){switch(a.toLowerCase()){case"join":return d("MultiwayCommonTypes").MessageType.JOIN;case"server_media_update":return d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE;case"ice_candidate":return d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE;case"hangup":return d("MultiwayCommonTypes").MessageType.HANGUP;case"ring":return d("MultiwayCommonTypes").MessageType.RING;case"dismiss":return d("MultiwayCommonTypes").MessageType.DISMISS;case"conference_state":return d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE;case"add_participants":return d("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS;case"subscription":return d("MultiwayCommonTypes").MessageType.SUBSCRIPTION;case"client_media_update":return d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE;case"data_message":return d("MultiwayCommonTypes").MessageType.DATA_MESSAGE;case"remove_participants":return d("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS;case"ping":return d("MultiwayCommonTypes").MessageType.PING;case"notify":return d("MultiwayCommonTypes").MessageType.NOTIFY;case"connect":return d("MultiwayCommonTypes").MessageType.CONNECT;case"client_event":return d("MultiwayCommonTypes").MessageType.CLIENT_EVENT;case"unsubscribe":return d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE;case"update":return d("MultiwayCommonTypes").MessageType.UPDATE;case"approval":return d("MultiwayCommonTypes").MessageType.APPROVAL;case"wakeup":return d("MultiwayCommonTypes").MessageType.WAKEUP;default:return null}}g.messageTypeToString=a;g.messageTypeFromString=b}),98);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:4798,OverlayConfigNotPresentFlagValue:-1};b=a;f["default"]=b}),66);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNITTEST_CONFIG:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21,APP_WEARABLE_IG:22,APP_ORCA_RSYS:23,APP_WILDE:24,APP_MKIOS:25,APP_MK4A:26,DYNAMIC:27,SDK_DEFAULT:28,APP_FB4A:29,APP_RSYS_SDK_SAMPLE:30,APP_BIZAPP:31,APP_WORKCHAT:32,APP_ARCHON_LOCAL_OVERRIDES:33,APP_CATHODE:34,APP_WR4I:35,APP_WR4A:36,APP_METACAM:37,HORIZON_EMERGENCY:38,APP_SOCIALPLATFORM:39,APP_TWILIGHT:40,APP_AR_CALLING_LOCAL_OVERRIDES:41,APP_TWILIGHT_CASTING:42,TWILIGHT_EMERGENCY:43,METACAM_EMERGENCY:44,CALL_SCOPED:45,APP_CASE50:46});b=a;f["default"]=b}),66);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").SERVER};b.getValue=function(a){a=this.$1[String(a)];return a!=null?a:c("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("ZenonEndCallReason",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BREAKOUT_SESSION_SWITCH_ROOM:"BreakoutSessionSwitchRoom",CALL_END_ACCEPT_AFTER_HANG_UP:"CallEndAcceptAfterHangUp",CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:"CallerHasAppealableCallingRestriction",CALLER_NOT_VISIBLE:"CallerNotVisible",CAMERA_PERMISSION_DENIED:"CameraPermissionDenied",CARRIER_BLOCKED:"CarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError",CLIENT_ERROR:"ClientError",CLIENT_INTERRUPTED:"ClientInterrupted",CONNECTION_DROPPED:"ConnectionDropped",END_TO_END_ENCRYPTION_INVARIANT_VIOLATED:"EndToEndEncryptionInvariantViolated",HANGUP_CALL:"HangupCall",IGNORE_CALL:"IgnoreCall",IN_ANOTHER_CALL:"InAnotherCall",INACTIVE_TIMEOUT:"InactiveTimeout",INCOMING_TIMEOUT:"IncomingTimeout",MAX_ALLOWED_PARTICIPANTS_REACHED:"MaxAllowedParticipantsReached",MICROPHONE_PERMISSION_DENIED:"MicrophonePermissionDenied",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",NO_PERMISSION:"NoPermission",NO_UI_SHOWN:"NoUIShown",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",OTHER_NOT_CAPABLE:"OtherNotCapable",PRODUCT_SERVER_DEFINED_END_REASON:"ProductServerDefinedEndReason",REMOVED_BY_PARTICIPANT:"RemovedByParticipant",RING_MUTED:"RingMuted",SESSION_MIGRATED:"SessionMigrated",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",TX_ACK_TIMEOUT:"TxAckTimeout",UNEXPECTED_END_OF_CALL:"UnexpectedEndOfCall",UNKNOWN:"Unknown",VERSION_UNSUPPORTED:"VersionUnsupported",WEBRTC_ERROR:"WebRTCError"});c=a;f["default"]=c}),66);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),66);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19,SUPPORT_SDP_SENDRECV:20});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,IGVIDEOCALL:9,ROOM:15,CRUCIBLE:20,MBS_WA:21,BOT:22,HORIZON:23,ULLC:24});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21,CALL_ENDED_BY_EXTENSION:22,CALL_ENDED_BY_OVER_CAPACITY:23});f["default"]=a}),66);
__d("multiway_E2eeMode",[],(function(a,b,c,d,e,f){a=Object.freeze({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4,CATHODE_MEETING_SUMMARIZER:5,CATHODE_REALTIME_SHARED_STATE:6,RP_GENAI_SERVICE:7,SMART_GLASSES_ASSISTANT:8});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_JoinMode",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,SECONDARY:1});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001,PREGEN_SDP:4002});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17,UNCALLABLE_DELAYED:18});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:2035,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,INVALID_MULTIWAY_PARAMS:3009,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,REQUEST_TIMEOUT:4044,TOO_MANY_MEDIA_TRACKS_IN_SDP:4045,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,JOIN_SESSION_RESULT_MISSING:5012,LOGGING_POLICY_RESULT_MISSING:5013,INVITE_USERS_RESULT_MISSING:5014,STATE_SYNC_RESULT_MISSING:5015,ENDPOINT_INFO_RESULT_MISSING:5016,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_E2eeMode","multiway_EndpointServiceType","multiway_HangupReason","multiway_JoinMode","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWE2eeMode=c("multiway_E2eeMode");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWJoinMode=c("multiway_JoinMode");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ConnectionClosed","IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","RollbackSdpFailed","UnknownError"]);f.ZenonMediaError=a}),66);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33,EndToEndEncryptionInvariantViolated:34,ProductServerDefinedEndReason:35,RemovedByParticipant:39,AnsweredByOtherUser:40,CallerHasAppealableCallingRestriction:41});function a(a){switch(a){case"BreakoutSessionSwitchRoom":return i.HangupCall;case"CallEndAcceptAfterHangUp":return i.AcceptAfterHangUp;case"CallerNotVisible":return i.CallerNotVisible;case"CarrierBlocked":return i.CarrierBlocked;case"ClientEncryptionError":return i.ClientEncryptionError;case"ClientError":return i.ClientError;case"ClientInterrupted":return i.ClientInterrupted;case"ConnectionDropped":return i.ConnectionDropped;case"HangupCall":return i.HangupCall;case"IgnoreCall":return i.IgnoreCall;case"InAnotherCall":return i.InAnotherCall;case"EndToEndEncryptionInvariantViolated":return i.EndToEndEncryptionInvariantViolated;case"InactiveTimeout":return i.CallEnded;case"IncomingTimeout":return i.IncomingTimeout;case"MaxAllowedParticipantsReached":return i.MaxAllowedParticipantsReached;case"NoAnswerTimeout":return i.NoAnswerTimeout;case"NoPermission":return i.NoPermission;case"NoUIShown":return i.NoUIShown;case"OtherCarrierBlocked":return i.OtherCarrierBlocked;case"OtherInstanceHandled":return i.OtherInstanceHandled;case"OtherNotCapable":return i.OtherNotCapable;case"SignalingMessageFailed":return i.SignalingMessageFailed;case"UnexpectedEndOfCall":return i.UnexpectedEndOfCall;case"Unknown":return i.CallEnded;case"VersionUnsupported":return i.VersionUnsupported;case"WebRTCError":return i.WebRTCError;case"MicrophonePermissionDenied":return i.MicrophonePermissionDenied;case"CameraPermissionDenied":return i.CameraPermissionDenied;case"SessionMigrated":return i.SessionMigrated;case"RingMuted":return i.RingMuted;case"TxAckTimeout":return i.TxAckTimeout;case"ProductServerDefinedEndReason":return i.ProductServerDefinedEndReason;case"RemovedByParticipant":return i.RemovedByParticipant;case"CallerHasAppealableCallingRestriction":return i.CallerHasAppealableCallingRestriction}}function e(a){switch(a){case i.CallEnded:case i.CallEndedByProduct:case i.HangupCall:return"HangupCall";case i.IgnoreCall:case i.JoinApprovalDenied:case i.RejectedByCallee:return"IgnoreCall";case i.InAnotherCall:return"InAnotherCall";case i.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case i.NoAnswerTimeout:return"NoAnswerTimeout";case i.IncomingTimeout:return"IncomingTimeout";case i.AnsweredOnAnotherDevice:case i.CallCollision:case i.RejectedOnAnotherDevice:case i.OtherInstanceHandled:case i.AnsweredByOtherUser:return"OtherInstanceHandled";case i.SignalingMessageFailed:return"SignalingMessageFailed";case i.ConnectionDropped:return"ConnectionDropped";case i.ClientInterrupted:return"ClientInterrupted";case i.WebRTCError:return"WebRTCError";case i.ClientError:return"ClientError";case i.NoPermission:return"NoPermission";case i.OtherNotCapable:return"OtherNotCapable";case i.NoUIShown:return"NoUIShown";case i.VersionUnsupported:return"VersionUnsupported";case i.CallerNotVisible:return"CallerNotVisible";case i.CarrierBlocked:return"CarrierBlocked";case i.OtherCarrierBlocked:return"OtherCarrierBlocked";case i.ClientEncryptionError:return"ClientEncryptionError";case i.UnexpectedEndOfCall:return"UnexpectedEndOfCall";case i.MaxAllowedParticipantsReached:return"MaxAllowedParticipantsReached";case i.MicrophonePermissionDenied:return"MicrophonePermissionDenied";case i.CameraPermissionDenied:return"CameraPermissionDenied";case i.SessionMigrated:return"SessionMigrated";case i.RingMuted:return"RingMuted";case i.TxAckTimeout:return"TxAckTimeout";case i.EndToEndEncryptionInvariantViolated:return"EndToEndEncryptionInvariantViolated";case i.ProductServerDefinedEndReason:return"ProductServerDefinedEndReason";case i.RemovedByParticipant:return"RemovedByParticipant";case i.CallerHasAppealableCallingRestriction:return"CallerHasAppealableCallingRestriction"}c("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return"Unknown"}function f(a){switch(a){case i.OtherInstanceHandled:case i.AnsweredOnAnotherDevice:case i.AnsweredByOtherUser:case i.RejectedOnAnotherDevice:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function j(a){switch(a){case d("ZenonMediaError").ZenonMediaError.IceDisconnected:return i.ConnectionDropped;case d("ZenonMediaError").ZenonMediaError.ConnectionClosed:return i.HangupCall;case d("ZenonMediaError").ZenonMediaError.IceFailure:case d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:case d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed:return i.WebRTCError;case d("ZenonMediaError").ZenonMediaError.UnknownError:return i.UnexpectedEndOfCall}}function k(a){return l[a]}var l=Object.freeze((b={},b[(h=d("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=i.CallEnded,b[h.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=i.AnsweredOnAnotherDevice,b[h.ZenonMWDismissReason.ANSWERED_BY_OTHER_USER]=i.AnsweredByOtherUser,b[h.ZenonMWDismissReason.IN_ANOTHER_CALL]=i.InAnotherCall,b[h.ZenonMWDismissReason.CONNECTION_DROPPED]=i.ConnectionDropped,b[h.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=i.RejectedOnAnotherDevice,b[h.ZenonMWDismissReason.REJECTED_BY_CALLEE]=i.RejectedByCallee,b[h.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=i.CallEndedByProduct,b[h.ZenonMWDismissReason.INTERNAL_ERROR]=i.SignalingMessageFailed,b[h.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=i.RemovedByParticipant,b[h.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=i.TxAckTimeout,b));g.ZenonDismissReason=i;g.endCallToDismissReason=a;g.dismissToEndCallReason=e;g.dismissReasonToCancelReason=f;g.mediaErrorToDismissReason=j;g.mwDismissToDmissReason=k}),98);
__d("ZenonMWThriftMessageTagUtils",["MultiwayCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("MultiwayCommonTypes").MessageTag.PRANSWER:return 1001;case d("MultiwayCommonTypes").MessageTag.INITIAL_ANSWER_TO_P2P_CALLER:return 1002;case d("MultiwayCommonTypes").MessageTag.DEESCALATE_OFFER_TO_P2P_CALLEE:return 1003;case d("MultiwayCommonTypes").MessageTag.DEESCALATE_ANSWER_TO_P2P_CALLER:return 1004;case d("MultiwayCommonTypes").MessageTag.REQUEST_DEESCALATE_TO_P2P_CALLER:return 1005;case d("MultiwayCommonTypes").MessageTag.REQUEST_ESCALATE:return 1006;case d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:return 1007;case d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:return 1008;case d("MultiwayCommonTypes").MessageTag.PARTICIPANT_ADDED:return 1009;case d("MultiwayCommonTypes").MessageTag.PARTICIPANT_REMOVED:return 1010;case d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ALERTED_FOR_INITIATOR:return 2001;case d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ANSWERED_FOR_INITIATOR:return 2002;case d("MultiwayCommonTypes").MessageTag.CONTAIN_PENDING_APPROVAL_PARTICIPANTS:return 2003;case d("MultiwayCommonTypes").MessageTag.KEEP_ALIVE_PING:return 3001;case d("MultiwayCommonTypes").MessageTag.IS_INITIATOR:return 4001;case d("MultiwayCommonTypes").MessageTag.PREGEN_SDP:return 4002}}function a(a){switch(a){case 1001:return d("MultiwayCommonTypes").MessageTag.PRANSWER;case 1002:return d("MultiwayCommonTypes").MessageTag.INITIAL_ANSWER_TO_P2P_CALLER;case 1003:return d("MultiwayCommonTypes").MessageTag.DEESCALATE_OFFER_TO_P2P_CALLEE;case 1004:return d("MultiwayCommonTypes").MessageTag.DEESCALATE_ANSWER_TO_P2P_CALLER;case 1005:return d("MultiwayCommonTypes").MessageTag.REQUEST_DEESCALATE_TO_P2P_CALLER;case 1006:return d("MultiwayCommonTypes").MessageTag.REQUEST_ESCALATE;case 1007:return d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM;case 1008:return d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS;case 1009:return d("MultiwayCommonTypes").MessageTag.PARTICIPANT_ADDED;case 1010:return d("MultiwayCommonTypes").MessageTag.PARTICIPANT_REMOVED;case 2001:return d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ALERTED_FOR_INITIATOR;case 2002:return d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ANSWERED_FOR_INITIATOR;case 2003:return d("MultiwayCommonTypes").MessageTag.CONTAIN_PENDING_APPROVAL_PARTICIPANTS;case 3001:return d("MultiwayCommonTypes").MessageTag.KEEP_ALIVE_PING;case 4001:return d("MultiwayCommonTypes").MessageTag.IS_INITIATOR;case 4002:return d("MultiwayCommonTypes").MessageTag.PREGEN_SDP}}function b(a){var b=[];a==null?void 0:a.forEach(function(a){a&&b.push(h(a))});return b}g.toThriftMessageTag=a;g.fromThriftMessageTags=b}),98);
__d("ZenonCallsModelTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);b=a.Mirrored(["Unknown","CallsBlocked","PageAdminPressedDecline"]);a=a.Mirrored(["None","PendingPeerFeedback","Declined","RemoteDeclined","LocalDeclined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);f.ZenonCallParticipantState=c;f.ZenonCallParticipantType=d;f.ZenonCallState=e;f.ZenonEndCallSubreason=b;f.ZenonVideoEscalationStatus=a}),66);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({UNKNOWN:0,ADDING:1,CONTACTING:2,RINGING:3,ACCEPTING:4,PRECONNECTING:5,CONNECTING:6,CONNECTED:7,REMOVING:8,DISCONNECTED:9,NO_ANSWER:10,REJECTED:11,UNREACHABLE:12,CONNECTION_DROPPED:13,PARTICIPANT_LIMIT_REACHED:14,IN_ANOTHER_CALL:15,RING_TYPE_UNSUPPORTED:16,PENDING_APPROVAL:17,APPROVING:18,DENYING:19,APPROVED:20,FAILED_APPROVAL:21,HANGUP_IN_WAITING_ROOM:22,RECONNECTING:23});function a(a){if(a==null)return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case h.CONTACTING:case h.PRECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case h.RINGING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case h.CONNECTING:case h.RECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case h.CONNECTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case h.PENDING_APPROVAL:case h.APPROVING:case h.DENYING:case h.ACCEPTING:case h.ADDING:case h.REMOVING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case h.APPROVED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case h.FAILED_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case h.HANGUP_IN_WAITING_ROOM:case h.UNKNOWN:case h.DISCONNECTED:case h.NO_ANSWER:case h.REJECTED:case h.UNREACHABLE:case h.CONNECTION_DROPPED:case h.PARTICIPANT_LIMIT_REACHED:case h.IN_ANOTHER_CALL:case h.RING_TYPE_UNSUPPORTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}g.ZenonParticipantState=h;g.toCallParticipantState=a}),98);
__d("ZenonScreenShare",["UserAgent","ZenonAppProvider","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.length===1&&((a=a[0])==null?void 0:a.contentType)==="screen"}function h(){return!c("UserAgent").isBrowser("Safari")}function i(){return d("ZenonAppProvider").isOculusCastingSite()&&c("justknobx")._("1977")?!1:!0}function b(){return!h()||!i()}g.isScreenSharingTrack=a;g.screenShareWithReplaceTrack=b}),98);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("addDevTierOverridesToHeaderExtensions",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={multiwayCoreTier:"",multiwayWwwTier:""};if(!c("gkx")("25224"))return b;b.multiwayWwwTier=h(a,"multiway_www_tier");b.multiwayCoreTier=h(a,"multiway_core_tier");return b}function h(a,b){b=b+"=";a=a.split(b);return a[1]?a.pop().split("&").shift():""}g["default"]=a}),98);
__d("ZenonMWThriftTranslatorUtils",["MultiwayCommonTypes","MultiwaySharedTypes","OverlayConfigServerLayer","RequestStreamBodyUtils","WebrtcSignalingCommonTypes","ZenonDismissReason","ZenonMWMessageTypes","ZenonMWThriftMessageTagUtils","ZenonParticipantState","ZenonScreenShare","ZenonSignalingProtocol","ZenonSignalingTypes","addDevTierOverridesToHeaderExtensions","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="signalingDominantSpeakerUpdate",l="signalingVideoUploadUpdate",m="E2eeState",n=new Map(Array.from(d("MultiwaySharedTypes").ConferenceType.members(),function(a){return[d("MultiwaySharedTypes").ConferenceType.getName(a),a]}));function a(a,b,c,d){c===void 0&&(c=!1),a&&Object.keys(a).forEach(function(e){if(e===m&&d)return;var f=a[e],g=f.data;f=f.version;if(g!=null){g={data:g,eventName:"stateSyncNotifyRequest",responseRequired:c,topic:e,version:f};b.push(g)}})}function b(a){if(a){a=a[m];return a==null?void 0:a.data}}function e(a){if(a==null)return d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN;switch(a){case d("MultiwaySharedTypes").MediaPath.SFU:return d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU;case d("MultiwaySharedTypes").MediaPath.P2P:return d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P;default:return d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN}}function f(a){if(a==null)return d("ZenonParticipantState").ZenonParticipantState.UNKNOWN;switch(a){case d("MultiwayCommonTypes").ParticipantCallState.DISCONNECTED:return d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED;case d("MultiwayCommonTypes").ParticipantCallState.NO_ANSWER:return d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER;case d("MultiwayCommonTypes").ParticipantCallState.REJECTED:return d("ZenonParticipantState").ZenonParticipantState.REJECTED;case d("MultiwayCommonTypes").ParticipantCallState.UNREACHABLE:case d("MultiwayCommonTypes").ParticipantCallState.UNCALLABLE:return d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE;case d("MultiwayCommonTypes").ParticipantCallState.CONNECTION_DROPPED:return d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED;case d("MultiwayCommonTypes").ParticipantCallState.CONTACTING:return d("ZenonParticipantState").ZenonParticipantState.CONTACTING;case d("MultiwayCommonTypes").ParticipantCallState.RINGING:return d("ZenonParticipantState").ZenonParticipantState.RINGING;case d("MultiwayCommonTypes").ParticipantCallState.CONNECTING:return d("ZenonParticipantState").ZenonParticipantState.CONNECTING;case d("MultiwayCommonTypes").ParticipantCallState.CONNECTED:return d("ZenonParticipantState").ZenonParticipantState.CONNECTED;case d("MultiwayCommonTypes").ParticipantCallState.PARTICIPANT_LIMIT_REACHED:return d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED;case d("MultiwayCommonTypes").ParticipantCallState.IN_ANOTHER_CALL:return d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL;case d("MultiwayCommonTypes").ParticipantCallState.RING_TYPE_UNSUPPORTED:return d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED;case d("MultiwayCommonTypes").ParticipantCallState.PENDING_APPROVAL:return d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL;case d("MultiwayCommonTypes").ParticipantCallState.APPROVED:return d("ZenonParticipantState").ZenonParticipantState.APPROVED;case d("MultiwayCommonTypes").ParticipantCallState.FAILED_APPROVAL:return d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL;case d("MultiwayCommonTypes").ParticipantCallState.HANGUP_IN_WAITING_ROOM:return d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM;default:return d("ZenonParticipantState").ZenonParticipantState.UNKNOWN}}function o(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(d("RequestStreamBodyUtils").uint8ArrayToString(a));b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b}function p(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(d("RequestStreamBodyUtils").uint8ArrayToString(b));a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return null}function q(a){return a.reduce(function(a,b){var c;c=(c=b.body)==null?void 0:(c=c.genericMessage)==null?void 0:c.topic;b=(b=b.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;c!=null&&b!=null&&(a[c]=d("RequestStreamBodyUtils").uint8ArrayToString(b));return a},{})}function r(a){switch(a){case d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return d("MultiwaySharedTypes").MediaPath.SFU;case d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return d("MultiwaySharedTypes").MediaPath.P2P;default:return d("MultiwaySharedTypes").MediaPath.UNKNOWN}}function s(a,b,c){c===void 0&&(c=0);var d={fromVersion:b,tracks:[],version:c};a!=null&&Object.keys(a.tracks).forEach(function(b){var c,e=a.tracks[b];c={enabled:e.enabled,name:(c=e.name)!=null?c:"",participantID:(c=e.owner)!=null?c:"0",trackID:b,type:t(e.label)};d.tracks.push(c)});return d}function t(a){if(a==null)return null;switch(a){case d("WebrtcSignalingCommonTypes").TrackLabel.DEFAULT_AUDIO:return"audio";case d("WebrtcSignalingCommonTypes").TrackLabel.DEFAULT_VIDEO:return"video";case d("WebrtcSignalingCommonTypes").TrackLabel.SCREEN_AUDIO:return"screen_audio";case d("WebrtcSignalingCommonTypes").TrackLabel.SCREEN_VIDEO:return"screen";default:return null}}function u(a,b){b=c("OverlayConfigServerLayer").createFromHeader(b);if(b){b={eventName:"overlayConfigServerUpdateRequest",serverLayer:b};a.push(b)}}function v(a){var b=a.header,c=a.rtcMessageBody;a=a.type;b=A(b,a);a={messageBody:c,messageHeader:b};return a}function w(a){var b=a.header,c=a.rtcMessageBody,d=a.statusCode,e=a.subCode;a=a.type;b=H(b,a,d,e);a={messageBody:c,messageHeader:b};return a}var x={IN_ANOTHER_CALL:(i=d("MultiwayCommonTypes")).DeviceStatus.IN_ANOTHER_CALL,NO_OP:null,NOT_SUPPORTED:i.DeviceStatus.NOT_SUPPORTED,OK:i.DeviceStatus.OK};function y(a,b){return Object.keys(a).map(function(c){var e=a[c];return{body:{genericMessage:{data:d("RequestStreamBodyUtils").stringToUint8Array(e),topic:c}},header:{recipients:new Set(b),topic_DEPRECATED:c}}})}function z(a){var b=a.clientSessionId,e=a.conferenceName,f=a.receiver,g=a.receiverUserId,h=a.sequenceNumber,i=a.serverInfoData,j=a.transactionId;if(g==null)throw c("err")("Incoming Thrift MW messages should have receiverUserId populated.");b=b;var k={userID:"2"};f={actorID:(f=f==null?void 0:f.actorId)!=null?f:null,messageID:j,messageTags:d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(a.messageTags),protocol:c("ZenonSignalingProtocol").MW,remoteInfo:k,retryCount:a.retryCount,roomInfo:{name:e},sequenceNumber:Number(h),signalingID:b,userInfo:{userID:g!=null?g:"1"}};i!=null&&(f.remoteSignalingID=i);return f}function A(a,b){var e,f=a.messageID,g=a.messageTags,h=a.remoteSignalingID,i=a.roomInfo,j=a.signalingID,k=c("addDevTierOverridesToHeaderExtensions")(window.location.href);e={clientStack:d("WebrtcSignalingCommonTypes").ClientStack.ZENON,conferenceName:(e=i.name)!=null?e:"",conferenceType:I((e=i.name)!=null?e:""),messageTags:new Set(g==null?void 0:g.map(function(a){return d("ZenonMWThriftMessageTagUtils").toThriftMessageTag(a)})),retryCount:a.retryCount,sequenceNumber:(i=a.sequenceNumber)==null?void 0:i.toString(),transactionId:f,type:b};(k.multiwayCoreTier!==""||k.multiwayWwwTier!=="")&&(e.extensions=k);j!=null&&(e.clientSessionId=j);h!=null&&(e.serverInfoData=h);a.actorID!=null&&(e.sender={id:a.actorID});return e}function B(a){switch(a){case d("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return d("MultiwayCommonTypes").HangupReason.IGNORE_CALL;case d("ZenonDismissReason").ZenonDismissReason.HangupCall:return d("MultiwayCommonTypes").HangupReason.HANGUP_CALL;case d("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return d("MultiwayCommonTypes").HangupReason.NO_ANSWER_TIMEOUT;case d("ZenonDismissReason").ZenonDismissReason.ClientError:return d("MultiwayCommonTypes").HangupReason.CLIENT_ERROR;case d("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return d("MultiwayCommonTypes").HangupReason.IN_ANOTHER_CALL;case d("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return d("MultiwayCommonTypes").HangupReason.CLIENT_INTERRUPTED;case d("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return d("MultiwayCommonTypes").HangupReason.SESSION_MIGRATED;default:return d("MultiwayCommonTypes").HangupReason.HANGUP_CALL}}function C(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return d("RequestStreamBodyUtils").uint8ArrayToString(c.data);else if(b)return JSON.stringify(b);else if(a)return JSON.stringify(a);return null}function D(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return c.topic;else if(b)return k;else if(a)return l;return null}function E(a){if(a==null)return null;if(a===1)return d("MultiwaySharedTypes").EndpointServiceType.COMPOSITING_SERVICE;else return d("MultiwaySharedTypes").EndpointServiceType.UNKNOWN}function F(a){a=G(a);return a!=null?a:d("ZenonDismissReason").ZenonDismissReason.CallEnded}function G(a){if(a==null)return null;switch(a){case d("MultiwayCommonTypes").DismissReason.CALL_ENDED:return d("ZenonDismissReason").ZenonDismissReason.CallEnded;case d("MultiwayCommonTypes").DismissReason.ANSWERED_ON_ANOTHER_DEVICE:return d("ZenonDismissReason").ZenonDismissReason.AnsweredOnAnotherDevice;case d("MultiwayCommonTypes").DismissReason.ANSWERED_BY_OTHER_USER:return d("ZenonDismissReason").ZenonDismissReason.AnsweredByOtherUser;case d("MultiwayCommonTypes").DismissReason.IN_ANOTHER_CALL:return d("ZenonDismissReason").ZenonDismissReason.InAnotherCall;case d("MultiwayCommonTypes").DismissReason.CONNECTION_DROPPED:return d("ZenonDismissReason").ZenonDismissReason.ConnectionDropped;case d("MultiwayCommonTypes").DismissReason.PRIMARY_ENDPOINT_HANGUP:return d("ZenonDismissReason").ZenonDismissReason.HangupCall;case d("MultiwayCommonTypes").DismissReason.REJECTED_ON_ANOTHER_DEVICE:return d("ZenonDismissReason").ZenonDismissReason.RejectedOnAnotherDevice;case d("MultiwayCommonTypes").DismissReason.REMOVED_BY_PARTICIPANT:return d("ZenonDismissReason").ZenonDismissReason.RemovedByParticipant;case d("MultiwayCommonTypes").DismissReason.REJECTED_BY_CALLEE:return d("ZenonDismissReason").ZenonDismissReason.RejectedByCallee;case d("MultiwayCommonTypes").DismissReason.INTERNAL_ERROR:return d("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case d("MultiwayCommonTypes").DismissReason.CALL_ENDED_BY_PRODUCT:return d("ZenonDismissReason").ZenonDismissReason.CallEndedByProduct;case d("MultiwayCommonTypes").DismissReason.TX_ACK_TIMEDOUT:return d("ZenonDismissReason").ZenonDismissReason.TxAckTimeout;default:return null}}function H(a,b,c,e){a=A(a,b);a.responseStatusCode=c!=null?c:d("MultiwayCommonTypes").RtcResponseStatusCode.OK;a.responseSubCode=e;return a}function I(a){var b=a.indexOf(":");if(b===-1)return null;a=a.slice(0,b);return(b=n.get(a))!=null?b:null}function J(a){var b={},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var e={customAudioContentType:d("WebrtcSignalingCommonTypes").CustomAudioContentType.NONE,customVideoContentType:d("WebrtcSignalingCommonTypes").CustomVideoContentType.NONE,enabled:a.enabled},f=c?P(a.type):null;f!=null&&(e.label=f);b[a.trackID]=e});return{tracks:b}}function K(a){a=x[a];return a!=null?a:d("MultiwayCommonTypes").DeviceStatus.OK}function L(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b}function M(a){return R[a]}function N(a){return a==null?null:S[a]}function O(a){var b={};a.forEach(function(a,c){b[c]={data:a.data,version:a.version}});return b}function P(a){switch(a){case"audio":return d("WebrtcSignalingCommonTypes").TrackLabel.DEFAULT_AUDIO;case"video":return d("WebrtcSignalingCommonTypes").TrackLabel.DEFAULT_VIDEO;case"screen":return d("WebrtcSignalingCommonTypes").TrackLabel.SCREEN_VIDEO;case"screen_audio":return d("WebrtcSignalingCommonTypes").TrackLabel.SCREEN_AUDIO;default:return null}}function Q(a){if(a===d("MultiwaySharedTypes").EndpointServiceType.COMPOSITING_SERVICE)return 1;else return 0}var R=Object.freeze((h={},h[(j=d("ZenonSignalingTypes")).ZenonSignalingStatusCode.OK]=i.RtcResponseStatusCode.OK,h[j.ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=i.RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED,h[j.ZenonSignalingStatusCode.METHOD_NOT_ALLOWED]=i.RtcResponseStatusCode.METHOD_NOT_ALLOWED,h)),S=Object.freeze((h={},h[j.ZenonSignalingStatusSubCode.CLIENT_TERMINATED]=i.RtcResponseSubCode.CLIENT_TERMINATED,h));g.addThriftStateStoreSignalingEvents=a;g.fetchE2eeServerState=b;g.fromThriftMediaPath=e;g.fromThriftParticipantState=f;g.getCollisionContextFromThriftAppMessages=o;g.getRoomMetadataFromThriftAppMessages=p;g.mwThriftAppMessagesToSignalingAppMessages=q;g.toThriftMediaPath=r;g.toZenonMediaStatesFromThrift=s;g.toMWClientTrackContentTypeFromThrift=t;g.maybeAddOverlayConfigServerUpdateRequestFromThrift=u;g.createMWThriftRequest=v;g.createMWThriftResponse=w;g.signalingMessageAppMessagesToThriftMWAppMessages=y;g.mwThriftMessageHeaderToSignalingMessageHeader=z;g.toMWThriftHangupReason=B;g.getGenericMWThriftDataMessageData=C;g.getGenericMWThriftDataMessageTopic=D;g.toThriftServiceRecipient=E;g.fromMWThriftDismissReason=F;g.getConferenceTypeFromName=I;g.toThriftMWMediaStatusEx=J;g.toMWThriftDeviceStatus=K;g.toMWThriftMediaStatus=L;g.toMWThriftResponseStatusCode=M;g.toMWThriftResponseStatusSubCode=N;g.toThriftMWSyncStateStore=O;g.toMWThriftTrackLabel=P;g.toServiceRecipientType=Q}),98);
__d("ZenonMWThriftMessageDebugLogger",["Log","LogHistory","MultiwayCommonTypes","ODS","RequestStreamBodyUtils","RpWebStateMachineLoggingBlocklist","ZenonAuditedCheckpointLogId","ZenonIceStatsParser","ZenonInfraActionsLogger","ZenonMWThriftMessageMap","ZenonMWThriftTranslatorUtils","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=d("LogHistory").getInstance("webrtc"),this.$2=new Set(c("RpWebStateMachineLoggingBlocklist").MESSAGE_TYPES)}var b=a.prototype;b.$3=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$4=function(a){a=a.messageHeader.responseStatusCode;return a!=null};b.logMWThriftMessage=function(a,b,e){this.$5(a,b,e);if(!c("isEmployeeTestUserZenonLogging")())return;var f=e.messageHeader,g=d("ZenonMWThriftMessageMap").messageTypeToString(e.messageHeader.type),h=this.$4(e)?"RESPONSE":"REQUEST";e=this.$6(e);a="[ms] "+a+" ["+b+"] "+g+" "+h+" [retryCount: "+f.retryCount+(e!=null?" details: "+e:"")+"]";this.$2.has(g)||this.$3(a,!0,f.transactionId)};b.$5=function(a,b,c){a=this.$7(a,b,c);a!==null&&(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_signaling",a)};b.$7=function(a,b,c){var e=c.messageBody,f=c.messageHeader,g="";if(f.type!=null)switch(f.type){case d("MultiwayCommonTypes").MessageType.DATA_MESSAGE:if(e.dataMessageRequest){g=(e=d("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageTopic(e.dataMessageRequest))!=null?e:"undefined"}break;default:break}e=this.$4(c)?"RESPONSE":"REQUEST";c=d("ZenonMWThriftMessageMap").messageTypeToString(f.type);if(g==="")return a+"-"+b+"-"+c+"-"+e;else return a+"-"+b+"-"+c+"-"+e+"-"+g};b.$6=function(a){var b=a.messageHeader;if(d("MultiwayCommonTypes").MessageType==null||b.type==null)return null;switch(b.type){case d("MultiwayCommonTypes").MessageType.JOIN:return this.$8(a);case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:return this.$9(a);case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:return this.$10(a);case d("MultiwayCommonTypes").MessageType.SUBSCRIPTION:return this.$11(a);case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:return this.$12(a);default:return null}};b.$8=function(a){var b=a.messageBody,c=a.messageHeader;if(this.$4(a)){return JSON.stringify({hasAnswer:((a=b.joinResponse)==null?void 0:a.answer)!=null,hasRenegotiationOffer:((a=b.joinResponse)==null?void 0:a.renegotiationOffer)!=null,isPendingApproval:(a=b.joinResponse)==null?void 0:a.isPendingApproval,multipleVideoStreamsAllowed:(a=b.joinResponse)==null?void 0:a.multipleVideoStreamsAllowed,statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({deviceCapabilities:(a=b.joinRequest)==null?void 0:a.deviceCapabilities,sdpType:((c=b.joinRequest)==null?void 0:c.offer)!=null?"offer":((a=b.joinRequest)==null?void 0:a.answer)!=null?"answer":"null",userCapabilities:((c=b.joinRequest)==null?void 0:c.userCapabilities)?d("RequestStreamBodyUtils").uint8ArrayToString(b.joinRequest.userCapabilities):""})};b.$9=function(a){var b=a.messageBody,c=a.messageHeader;if(this.$4(a)){return JSON.stringify({currentVersion:(a=b.serverMediaUpdateResponse)==null?void 0:a.currentVersion,hasAnswer:((a=b.serverMediaUpdateResponse)==null?void 0:a.answer)!=null,statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({fromVersion:(a=b.serverMediaUpdateRequest)==null?void 0:a.fromVersion,messageTags:c.messageTags,renegotiationRequested:(c=(a=b.serverMediaUpdateRequest)==null?void 0:a.renegotiationRequested)!=null?c:!1,sdpType:((a=b.serverMediaUpdateRequest)==null?void 0:a.offer)?"offer":((c=b.serverMediaUpdateRequest)==null?void 0:c.answer)?"answer":((a=b.serverMediaUpdateRequest)==null?void 0:a.update)?"delta":"empty",toVersion:(a=(c=b.serverMediaUpdateRequest)==null?void 0:c.toVersion)!=null?a:""})};b.$10=function(a){var b=a.messageBody,c=a.messageHeader;if(this.$4(a)){return JSON.stringify({currentVersion:(a=(a=b.clientMediaUpdateResponse)==null?void 0:a.currentVersion)!=null?a:"",statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({fromVersion:(c=(a=b.clientMediaUpdateRequest)==null?void 0:a.fromVersion)!=null?c:"",toVersion:(c=(a=b.clientMediaUpdateRequest)==null?void 0:a.toVersion)!=null?c:""})};b.$11=function(a){var b=a.messageBody;return this.$4(a)?null:JSON.stringify({subscriptions:(b=(a=b.subscriptionRequest)==null?void 0:a.subscriptions)!=null?b:""})};b.$12=function(a){var b=a.messageBody;if(this.$4(a))return null;b=(a=b.iceCandidateRequest)==null?void 0:a.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:b})};b.logSendMultiwayThriftMessageFailure=function(a,b,e){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","send_message_failure");h.flush();e=e?"Stack Trace: "+e.stack+".":"Error msg: "+a;c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to send MW Thrift message of type "+b+". "+e})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonMWMessageReliabilityLogTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSING_REQUEST","START_PROCESSING_RESPONSE","PROCESSING_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST","SENT_REQUEST_FROM_HANDLER","SENT_RESPONSE","SEND_REQUEST_FAILED","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_RESPONSE_FAILED","SENT_SM_EVENT","PROCESSED_SM_EVENT","REQUEST_AFTER_NULL_CHECK","REQUEST_AFTER_TRANSLATION"]);f.ZenonMWMessageReliabilityEvent=a}),66);
__d("ZenonMWThriftResponseStatusCodeUtils",["MultiwayCommonTypes","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MultiwayCommonTypes").RtcResponseStatusCode.OK:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;case d("MultiwayCommonTypes").RtcResponseStatusCode.BAD_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.BAD_REQUEST;case d("MultiwayCommonTypes").RtcResponseStatusCode.UNAUTHORIZED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED;case d("MultiwayCommonTypes").RtcResponseStatusCode.NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseStatusCode.METHOD_NOT_ALLOWED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED;case d("MultiwayCommonTypes").RtcResponseStatusCode.CONFLICT:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONFLICT;case d("MultiwayCommonTypes").RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED;case d("MultiwayCommonTypes").RtcResponseStatusCode.SERVER_INTERNAL_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVER_INTERNAL_ERROR;case d("MultiwayCommonTypes").RtcResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE}}function b(a){switch(a){case d("MultiwayCommonTypes").RtcResponseSubCode.UNKNOWN:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNKNOWN;case d("MultiwayCommonTypes").RtcResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS;case d("MultiwayCommonTypes").RtcResponseSubCode.MEMBERSHIP_CHECK_FAIL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEMBERSHIP_CHECK_FAIL;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_THROTTLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_THROTTLED;case d("MultiwayCommonTypes").RtcResponseSubCode.ENDPOINT_THROTTLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.ENDPOINT_THROTTLED;case d("MultiwayCommonTypes").RtcResponseSubCode.MWS_MESSAGE_SENT_TO_INCORRECT_REGION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MWS_MESSAGE_SENT_TO_INCORRECT_REGION;case d("MultiwayCommonTypes").RtcResponseSubCode.UNSUPPORTED_REQUEST_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNSUPPORTED_REQUEST_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_REQUEST_UNACCEPTABLE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_REQUEST_UNACCEPTABLE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_RESPONSE_UNACCEPTABLE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_RESPONSE_UNACCEPTABLE;case d("MultiwayCommonTypes").RtcResponseSubCode.RING_RESPONSE_BODY_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RING_RESPONSE_BODY_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SDP:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SDP;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CONFERENCE_NAME:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CONFERENCE_NAME;case d("MultiwayCommonTypes").RtcResponseSubCode.SERVER_INFO_CONFERENCE_NAME_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SERVER_INFO_CONFERENCE_NAME_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.INCORRECT_VERSION_RANGE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INCORRECT_VERSION_RANGE;case d("MultiwayCommonTypes").RtcResponseSubCode.SENDER_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SENDER_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.RECIPIENT_NOT_SPECIFIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RECIPIENT_NOT_SPECIFIED;case d("MultiwayCommonTypes").RtcResponseSubCode.FIELD_NOT_ALLOWED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FIELD_NOT_ALLOWED;case d("MultiwayCommonTypes").RtcResponseSubCode.USERS_NOT_SPECIFIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.USERS_NOT_SPECIFIED;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CALL_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CALL_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.SESSION_DESCRIPTION_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SESSION_DESCRIPTION_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_CLIENT_MEDIA_UPDATES:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_CLIENT_MEDIA_UPDATES;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SERVER_INFO_DATA:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SERVER_INFO_DATA;case d("MultiwayCommonTypes").RtcResponseSubCode.INCORRECT_STATE_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INCORRECT_STATE_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.MISMATCHED_STATE_FOR_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISMATCHED_STATE_FOR_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_STATE_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_STATE_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.NO_RESOLVER_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NO_RESOLVER_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_APPROVERLIST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_APPROVERLIST;case d("MultiwayCommonTypes").RtcResponseSubCode.FULL_SDP_REQUIRED_IN_APPROVED_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FULL_SDP_REQUIRED_IN_APPROVED_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_BROADCAST_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_BROADCAST_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_ENDPOINT_CONFIG:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_ENDPOINT_CONFIG;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_E2EE_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_E2EE_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.SFU_MODE_PREVENTED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SFU_MODE_PREVENTED;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CONFERENCE_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CONFERENCE_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.JOIN_REQUEST_DENIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.JOIN_REQUEST_DENIED;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ENDPOINT:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ENDPOINT;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_HEADER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_HEADER;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_BODY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_BODY;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_PARAMS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_PARAMS;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_DATA_MESSAGE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_DATA_MESSAGE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ADD_PARTICIPANTS_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ADD_PARTICIPANTS_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_SUBSCRIPTION_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_SUBSCRIPTION_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_JOIN_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_JOIN_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_HANGUP_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_HANGUP_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ICE_CANDIDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ICE_CANDIDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_P2P_MESSAGE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_P2P_MESSAGE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_UPDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_UPDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CLIENT_EVENT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CLIENT_EVENT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CONNECT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CONNECT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_UNSUBSCRIBE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_UNSUBSCRIBE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_APPROVAL_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_APPROVAL_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_ENDPOINT_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_ENDPOINT_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_ENDPOINT_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_ENDPOINT_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_TRANSFER_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_TRANSFER_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_GENERIC:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_GENERIC;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUESTOR_NOT_MEMBER_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUESTOR_NOT_MEMBER_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.NOT_BROADCAST_OWNER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NOT_BROADCAST_OWNER;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_NOT_INVITED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_NOT_INVITED;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_DISCONNECTED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_DISCONNECTED;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_INVITATION_EXPIRED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_INVITATION_EXPIRED;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_IN_PENDING_APPROVAL_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_IN_PENDING_APPROVAL_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_MULTIWAY_PARAMS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_MULTIWAY_PARAMS;case d("MultiwayCommonTypes").RtcResponseSubCode.BROADCAST_ALREADY_STOPPED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.BROADCAST_ALREADY_STOPPED;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_GENERATE_SDP_ANSWER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_GENERATE_SDP_ANSWER;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_GENERATE_SESSION_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_GENERATE_SESSION_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_SESSION_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_SESSION_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_ALREADY_EXISTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_ALREADY_EXISTS;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_MESSENGER_SENDER_UNSET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_MESSENGER_SENDER_UNSET;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_SET_TRANSPORT_INFO:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_SET_TRANSPORT_INFO;case d("MultiwayCommonTypes").RtcResponseSubCode.NON_PRIMARY_MULTIWAY_SERVER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NON_PRIMARY_MULTIWAY_SERVER;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_GET_REMOTE_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_GET_REMOTE_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.LOCAL_DESCRIPTION_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LOCAL_DESCRIPTION_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SDP_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SDP_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_UNSET_ON_P2P_ANSWER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_UNSET_ON_P2P_ANSWER;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_ICE_CANDIDATE_PAYLOAD:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_ICE_CANDIDATE_PAYLOAD;case d("MultiwayCommonTypes").RtcResponseSubCode.P2P_PROTOCOL_UNSET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.P2P_PROTOCOL_UNSET;case d("MultiwayCommonTypes").RtcResponseSubCode.CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CREATE_ACK_FOR_INVALID_MESSAGE_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_IN_SFU_MODE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_IN_SFU_MODE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS;case d("MultiwayCommonTypes").RtcResponseSubCode.RESOLVE_STATE_API_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RESOLVE_STATE_API_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.EXTERNAL_RESOLUTION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXTERNAL_RESOLUTION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.INTERNAL_RESOLUTION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INTERNAL_RESOLUTION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.RESOLUTION_DISABLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RESOLUTION_DISABLED;case d("MultiwayCommonTypes").RtcResponseSubCode.BROADCAST_ID_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.BROADCAST_ID_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_UNSET_ON_P2P_OFFER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_UNSET_ON_P2P_OFFER;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_OFFER_MISSING_REQUIRED_VALUE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_OFFER_MISSING_REQUIRED_VALUE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS;case d("MultiwayCommonTypes").RtcResponseSubCode.OTHER_USER_ANSWERED_THE_CALL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.OTHER_USER_ANSWERED_THE_CALL;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_DESERIALIZATION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_DESERIALIZATION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.REMOTE_SDP_TRACKID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REMOTE_SDP_TRACKID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.SIGNALING_MESSAGE_TO_CLIENT_DROPPED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SIGNALING_MESSAGE_TO_CLIENT_DROPPED;case d("MultiwayCommonTypes").RtcResponseSubCode.DATA_CHANNEL_ENDPOINT_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.DATA_CHANNEL_ENDPOINT_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_IS_TERMINATING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_IS_TERMINATING;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_IS_TERMINATED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_IS_TERMINATED;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_NAME_EMPTY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_NAME_EMPTY;case d("MultiwayCommonTypes").RtcResponseSubCode.NONCE_EMPTY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NONCE_EMPTY;case d("MultiwayCommonTypes").RtcResponseSubCode.NONCE_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NONCE_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_HAS_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_HAS_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_HAS_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_HAS_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_TERMINATED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_INCAPABLE_RENEGOTIATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_INCAPABLE_RENEGOTIATION;case d("MultiwayCommonTypes").RtcResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_ALREADY_IN_WAITING_ROOM:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_ALREADY_IN_WAITING_ROOM;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_NOT_IN_PENDING_APPROVAL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_NOT_IN_PENDING_APPROVAL;case d("MultiwayCommonTypes").RtcResponseSubCode.USER_NOT_APPROVER_FOR_TARGET_USER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.USER_NOT_APPROVER_FOR_TARGET_USER;case d("MultiwayCommonTypes").RtcResponseSubCode.UNSUPPORTED_CAPABILITIES:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNSUPPORTED_CAPABILITIES;case d("MultiwayCommonTypes").RtcResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON;case d("MultiwayCommonTypes").RtcResponseSubCode.WWW_KILLSWITCHED_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.WWW_KILLSWITCHED_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_MEDIA_PATH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_PATH;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_MEDIA_STATUS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_STATUS;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_SESSION_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_SESSION_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_USER_IDS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_USER_IDS;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_SDP_CONNECT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_SDP_CONNECT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION;case d("MultiwayCommonTypes").RtcResponseSubCode.P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUEST_TIMEOUT:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUEST_TIMEOUT;case d("MultiwayCommonTypes").RtcResponseSubCode.TOO_MANY_MEDIA_TRACKS_IN_SDP:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.TOO_MANY_MEDIA_TRACKS_IN_SDP;case d("MultiwayCommonTypes").RtcResponseSubCode.OK:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.OK;case d("MultiwayCommonTypes").RtcResponseSubCode.ENDPOINT_INFO_RESULT_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.ENDPOINT_INFO_RESULT_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.INVITE_USERS_RESULT_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVITE_USERS_RESULT_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.JOIN_SESSION_RESULT_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.JOIN_SESSION_RESULT_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.LOGGING_POLICY_RESULT_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LOGGING_POLICY_RESULT_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.STATE_SYNC_RESULT_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.STATE_SYNC_RESULT_MISSING}}g.getResponseStatusCodeFromThrift=a;g.getResponseSubCodeFromThrift=b}),98);
__d("MDCMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?218968626708284:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getMDCMqttChannelInstance=a;g.getMDCMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("OculusMqttChannel",["CurrentUser","HorizonMetaIsCastingRoute","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("HorizonMetaIsCastingRoute").getIsCastingRoute()?c("MqttEnvInitializer").initialize(function(a){return new WebSocket(a,"horizon_webcasting")}):c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?2763362503905702:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getOculusMqttChannelInstance=a;g.getOculusMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("ZenonMqttChannel",["CurrentUser","FBLogger","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=-1;try{c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);if(c("gkx")("11152")&&c("CurrentUser").getAppID()===String(1358015658191005))a=949958857019662;else{var b;a=Number((b=c("CurrentUser").getAppID())!=null?b:c("MqttWebConfig").appID)}return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!1,clientCapabilities:c("MqttWebConfig").clientCapabilities,endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid})}catch(b){c("FBLogger")("rtc_www").catching(b).warn("[ZenonMqttChannel][%d] failed to create MqttChannel",a);throw b}}b=a();e=b;g["default"]=e}),98);
__d("getZenonMqttChannel",["CurrentUser","FBMqttChannel","HorizonWebMqttChannel","IGDOverLSMqttChannel","MDCMqttChannel","OculusMqttChannel","RpWebMqttEnabledAppIds","ZenonAppProvider","ZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(){if(d("ZenonAppProvider").isInstagramApp())return d("IGDOverLSMqttChannel").getInstance();else if(d("ZenonAppProvider").isOculusCastingSite())return d("OculusMqttChannel").getOculusMqttChannelInstance();else if(d("ZenonAppProvider").isHorizonApp())return d("HorizonWebMqttChannel").getHorizonWebMqttChannelInstance();else if(d("ZenonAppProvider").isMDCApp())return d("MDCMqttChannel").getMDCMqttChannelInstance();else return h.has(Number(c("CurrentUser").getAppID()))?c("ZenonMqttChannel"):c("FBMqttChannel")}g["default"]=a}),98);
__d("ZenonMWThriftMessageQPLLogger",["DateConsts","QPLMsgTypesSitevarConfig","QPLUserFlow","ZenonLoggingUtils","ZenonMWMessageReliabilityLogTypes","ZenonMWThriftMessageMap","ZenonMWThriftMessageTagUtils","ZenonMWThriftResponseStatusCodeUtils","getZenonMqttChannel","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=c("getZenonMqttChannel")(),j=new Map();function a(a,b,e){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;var f=a.messageHeader,g=d("ZenonMWThriftMessageMap").messageTypeToString(a.messageHeader.type).toLowerCase();if(!c("QPLMsgTypesSitevarConfig").QPL_MSG_TYPES.includes(g))return;f=k(f.transactionId);switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:l(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(b=e==null?void 0:e.peerConnectionState)!=null?b:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:m(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:n(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:o(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:p(f,a,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:q(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(g=e==null?void 0:e.peerConnectionState)!=null?g:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST:r(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED:s(f,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:t(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT:u(f,e==null?void 0:e.smEvent);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT:v(f,e==null?void 0:e.smEvent);return;default:return}}function b(a,b){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:babelHelpers["extends"]({},b)},{instanceKey:+a})}function k(a){a=isNaN(+a)?0:+a;var b=9223372036854776e3;return Math.round(a%b)}function l(a,b,e,f){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:f.messageHeader.retryCount},int_array:{messageTags:d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(f.messageHeader.messageTags)},string:babelHelpers["extends"]({},e,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h});if(f.messageBody.serverMediaUpdateRequest){e=f.messageBody.serverMediaUpdateRequest;b=e.answer;f=e.offer;e=e.update;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:{sdpType:f?"offer":b?"answer":e?"delta":"empty"}},{instanceKey:a})}f={onMQTTStateChanged:function(b){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"mqtt_"+b,{instanceKey:a})}};i.subscribeChannelEvents(f);j.set(a,f)}function m(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_request",{instanceKey:a})}function n(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_response",{instanceKey:a});c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},{instanceKey:a})}function o(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},instanceKey:a});e=j.get(a);e&&(i.unsubscribeChannelEvents(e),j["delete"](a))}function p(a,b,e){b=b.messageHeader;var f=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_response_failed",{annotations:{"int":{responseStatusCode:f?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(f):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3},string:{errorMessage:e}},instanceKey:a});f=j.get(a);f&&(i.unsubscribeChannelEvents(f),j["delete"](a))}function q(a,b,e,f){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:f.messageHeader.retryCount},int_array:{messageTags:d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(f.messageHeader.messageTags)},string:babelHelpers["extends"]({},e,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h})}function r(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_request",{instanceKey:a})}function s(a,b){c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_request_failed",{annotations:{string:{errorMessage:b}},instanceKey:a})}function t(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},instanceKey:a})}function u(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sent_sm_event:"+b,{instanceKey:a})}function v(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_sm_event:"+b,{instanceKey:a})}g.log=a;g.updateState=b}),98);
__d("ZenonMWThriftMessageReliabilityLogger",["ODS","ZenonMWMessageReliabilityLogTypes","ZenonMWThriftMessageMap","ZenonMWThriftMessageQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map(),k=new Map();function a(a){k.set(a,!0)}function b(a,b,c){a=j.get(a);if(!a)return;u(a,b,c)}function c(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST)}function e(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST)}function f(a){q(a)||u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK)}function l(a){q(a)||u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION)}function m(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST)}function n(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST)}function o(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST)}function p(a,b){var c=q(a)?d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED;u(a,c,{errorMessage:b})}function q(a){a=a.messageHeader.responseStatusCode;return a!=null}function r(a,b){var c=d("ZenonMWThriftMessageMap").messageTypeToString(a.messageHeader.type).toLowerCase();a=q(a)?"response":"request";switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","receive_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processing_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processed_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sending_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_translation_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_null_check_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sent_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;default:return}}var s={connectionState:"",peerConnectionState:"",signalingState:""};function t(a){var b=babelHelpers["extends"]({},s,{},a);if(s.connectionState!==b.connectionState||s.peerConnectionState!==b.peerConnectionState||s.signalingState!==b.signalingState){s=b;for(b of i.keys())d("ZenonMWThriftMessageQPLLogger").updateState(b,a)}}function u(a,b,c){var e,f=a.messageHeader;e=(e=i.get(f.transactionId))!=null?e:new Set();i.set(f.transactionId,e);if(b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT&&b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT&&e.has(b))return;e.add(b);j.set(f.transactionId,a);r(a,b);d("ZenonMWThriftMessageQPLLogger").log(a,b,babelHelpers["extends"]({},c,{},s))}g.setE2eeIsMandatedForCall=a;g.logEventForTxid=b;g.logReceivedMessage=c;g.logProcessingMessage=e;g.logMessageAfterNullCheck=f;g.logMessageAfterTranslation=l;g.logProcessedMessage=m;g.logSendingMessage=n;g.logSentMessage=o;g.logSendMessageFailed=p;g.updateState=t}),98);
__d("MqttThriftHeaderSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(a,b){b.writeStructBegin("MqttThriftHeader"),a.traceInfo!=null&&(b.writeFieldBegin({fname:"traceInfo",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.traceInfo),b.writeFieldEnd()),a.coreContextRequestId!=null&&(b.writeFieldBegin({fname:"coreContextRequestId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.coreContextRequestId),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function d(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.traceInfo=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.coreContextRequestId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}g.MqttThriftHeader$DefaultConstructor=a;g.serializeMqttThriftHeader=b;g.deserializeMqttThriftHeader=d}),98);
__d("StateSyncSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{version:0}}function b(){return{stateStore:{}}}function i(a,b){b.writeStructBegin("State");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.version!=null)b.writeI32(a.version);else{var d=0;b.writeI32(d)}b.writeFieldEnd();a.data!=null&&(b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function d(a,b){b.writeStructBegin("Snapshot");b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.stateStore!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(a of Object.entries(a.stateStore)){var d=a[0],e=a[1];b.writeString(d);i(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeString(a);i(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function j(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version=0);return b}function e(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=j(a);b.stateStore[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.stateStore===void 0&&(b.stateStore={});return b}g.State$DefaultConstructor=a;g.Snapshot$DefaultConstructor=b;g.serializeState=i;g.serializeSnapshot=d;g.deserializeState=j;g.deserializeSnapshot=e}),98);
__d("StateSyncTopicsConfigTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,INTERNAL:1,EXTERNAL:2});d=a({UNKNOWN:0,PARTICIPANT_JOIN:100,PARTICIPANT_UPDATE:101,PARTICIPANT_LEAVE:102,PARTICIPANT_NEGOTIATED:103,PARTICIPANT_SDP_CHANGED:104,EXTENSION_CREATION:201,EXTENSION_JOIN:202,EXTENSION_UPDATE:203,EXTENSION_LEAVE:204,EXTENSION_REQUEST:205,CONFERENCE_UPDATE:501,DOMINANT_SPEAKER_UPDATE:1001,MEDIA_ASPECT_RATIO_UPDATE:1002,TIMER_FIRED:1003,MEDIA_PATH_CHANGED:1004,PARTICIPANTS_ACKED_MEDIA:1005});f=a({UNKNOWN:0,ANY_PARTICIPANT_SUBSCRIBED:1,ALWAYS_RESOLVE:2});b=a({CACHIUS:1,IRIS:2});a=a({Config_engine:1,E2eeState:2,Media_information:3,Breakout:4,Countdown_timer:5,Effect_match:6,Emoji_reactions:7,Entered_avatars_mode:8,Moderator_controls:9,Polls:10,Raised_hands_queue:11,Xac_calling:12,Action_items:13,Can_you_see_my_screen:14,Collage:15,Companion:16,Coplay:17,Coview:18,Custom_video_capabilities:19,Dropin:20,Dtmf:21,E2ee_v2_msg:22,Effect_sync:23,Et_pluto_activity:24,Et_pluto_session:25,Et_test_activity:26,Et_test_session:27,Et_tubi_activity:28,Et_tubi_session:29,External_resolution_enabled:30,Hyperspace_copresence_state:31,Hyperspace_mic_state:32,Intenticons:33,Live_stream:34,Live_stream_app_message:35,Max_video_subscriptions:36,Media_sync:37,Media_sync_autoplay:38,Meeting_assistant:39,Meeting_transcription:40,Morpheo_grid:41,Multipeer_ar:42,Number_of_people:43,Opaque_blob:44,Photo_booth:45,Qna:46,Quizzes:47,Reactions:48,Role_assignments:49,Room_features_availability:50,Rooms_notes:51,Screenshare_floor_control:52,Screenshare_single_floor_control:53,Sctp_negotiation:54,Sideband:55,Simple:56,Simple_external:57,Simple_pass_through:58,Simple_passthrough:59,Snippets:60,Sound_effects:61,Whiteboard:62,Whiteboard_messenger:63,Workroom:64,Workrooms_ask_everyone_to_open:65,Workrooms_vr:66,Avatar_transport_state:67,Ambisonic:68,Cathode_extension:69,Biz_calling:70,Work_costreaming:71,Conversation_bot:72,Voip_zone:73,Admin_initiated_casting:74,Smart_glasses_assistant:75,Codec_avatar_2d:76,Custom_media_routing:77});e.exports={CryptoAuthVerifierIdentity:b,DataSource:d,DataSourceCondition:f,ResolutionPath:c,TopicId:a}}),null);
__d("WebrtcEnumsTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({OFFER:0,ANSWER:1,ICE_CANDIDATE:2,OK:3,HANG_UP:4,OTHER_DISMISS:5,PRANSWER:7,PING:8,PING_ACK:9,ICE_RESTART_OFFER:10,ICE_RESTART_ANSWER:11,OFFER_ACK:12,ANSWER_ACK:13,NOTIFY_MEDIA_STATE:14,ACK:15,INVALID:16,OFFER_NACK:17,NACK:18,VIDEO_REQUEST:19,SDP_UPDATE:20,SWITCH_TO_MULTIWAY:28,NEGOTIATE:30,PR_OFFER_ACK:32,CLIENT_REPORTED_EVENT:33});d=a({OFFER:0,ANSWER:1});f=a({LL_NIL:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5});b=a({IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,MICROPHONE_PERMISSION_DENIED:20,CAMERA_PERMISSION_DENIED:21,SESSION_MIGRATED:22,RING_MUTED:23,MAX_ALLOWED_PARTICIPANTS_REACHED:24,CALLEE_REQUIRES_MULTIWAY:25,LIVE_NOT_ACKED:26,TX_ACK_TIMEDOUT:27,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:28,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:29,ANSWERED_BY_OTHER_USER:30,LONG_LASTING_AUDIO_ISSUE:31,ADMIN_CALLING_OWN_PAGE:32,PAGE_CALLS_BLOCKED:33});var g=a({UDP:0,TCP:1,SSLTCP:2}),h=a({HOST:0,SERVER_REFLEXIVE:1,PEER_REFLEXIVE:2,RELAY:3}),i=a({TCPTYPE_NONE:0,TCPTYPE_PASSIVE:1,TCPTYPE_ACTIVE:2,TCPTYPE_SIMOPEN:3}),j=a({SENDONLY:0,SENDRECV:1,RECVONLY:2,INACTIVE:3}),k=a({AUDIO:0,VIDEO:1,DATA:2}),l=a({AUDIO:0,VIDEO:1,SCREEN:2}),m=a({AES_CM_128_HMAC_SHA1_80:0,AES_CM_128_HMAC_SHA1_32:1,F8_128_HMAC_SHA1_80:2,AEAD_AES_256_GCM:8}),n=a({RTP_SAVPF:0,DTLS_SCTP:1,SCTP:2}),o=a({URN_IETF_PARAMS_RTP_HDREXT_SSRC_AUDIO_LEVEL:0,URN_IETF_PARAMS_RTP_HDREXT_TOFFSET:1,IETF_DRAFT_HOLMER_RMCAT_TRANSPORT_WIDE_CC_01:2,URN_3GPP_VIDEO_ORIENTATION:3,ABS_SEND_TIME:4,PLAYOUT_DELAY:5,VIDEO_CONTENT_TYPE:6,VIDEO_TIMING:7,RTP_MID:8,RTP_STREAM_ID:9,RTP_REPAIRED_STREAM_ID:10,ENCRYPT_EXTENSIONS:11,FRAME_MARKING:12,GENERIC_FRAME_DESCRIPTOR:13,RTP_LOSS_INFO:14,RTP_CONGESTION_INFO:15,RTP_AUDIO_DROP_INFO:16,FRAME_ENCRYPTION_INFO:17,GENERIC_FRAME_DESCRIPTOR_01:18,DEPENDENCY_DESCRIPTOR:19,COLOR_SPACE:20,ABS_CAPTURE_TIME:21,VIDEO_FRAME_TRACKING_ID:22}),p=a({ISAC:0,SPEEX_ISAC_OBSOLETE:1,SPEEX:2,OPUS:3,PCMU_OBSOLETE:4,PCMA_OBSOLETE:5,CN:6,TELEPHONE_EVENT:7,VP8:8,RED:9,ULPFEC:10,H264:17,ISPX_WB_2:32,GOOGLE_DATA:33,AAC:36,AAC_LD:37,VP9:96,GOOGLE_SCTP_DATA:97,H265:98,RTX:99,FLEXFEC:100,MULTIPLEX:101,VIDEO_DATA:102,AV1:103}),q=a({SILENCEBIT_OBSOLETE:0,SPEEXUSEJITTERBIT_OBSOLETE:1,USEINBANDFEC:2,USEADAPTIVEFEC_OBSOLETE:3,EXTERNALBWE_OBSOLETE:4,FEC_BEI_OBSOLETE:5,ISPX_ADAPTIVE_FEC:6,CBR:7,USEDTX:8}),r=a({MINPTIME:0,MAXAVERAGEBITRATE:1,SPROP_STEREO:2,STEREO:3,MAXPTIME:4,PTIME:5,FEC_BEI_OBSOLETE:6,PORT:7,H264PROFILELEVELID:8,PACKETIZATION_MODE:9,LEVEL_ASYMMETRY_ALLOWED:10,APT:11,MAXPLAYBACKRATE:12,REPAIR_WINDOW:13,EMPTY_KEY:14}),s=a({CR_NONE:0,CR_ACTIVE:1,CR_PASSIVE:2,CR_ACTPASS:3,CR_HOLDCONN:4});a=a({EVENT_NONE:0,EVENT_MEDIA_CONNECTED:1});e.exports={CallEndReason:b,ClientReportedEventType:a,CodecName:p,CodecOption:r,CodecOptionBoolean:q,ConnectionRole:s,CryptoSuite:m,ExtmapUris:o,IceCandidateProtocolType:h,IceCandidateTcpType:i,IceCandidateTransport:g,MediaProtocol:n,MediaType:k,PayloadType:c,SdpNegotiateType:d,SendRecvMode:j,StreamType:l,UploadLogLevel:f}}),null);
__d("WebrtcSdpSerializers",["ThriftTypes","WebrtcEnumsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{msid:"stream_label"}}function e(){return{id:""}}function f(){return{bwtype:"",bw:0}}function i(){return{numAudioChannels:1}}function j(){return{id:1,extensionAttributes:[]}}function k(){return{}}function l(){return{componentId:1,transport:d("WebrtcEnumsTypes").IceCandidateTransport.cast(0),generation:0}}function m(){return{port:1,protocol:d("WebrtcEnumsTypes").MediaProtocol.cast(0),sendRecvMode:d("WebrtcEnumsTypes").SendRecvMode.cast(1),hasRtcpMux:!0}}function n(){return{supportsMsid:!0}}function o(){return{}}function p(a,b){b.writeStructBegin("SsrcGroup");a.semantics!=null&&(b.writeFieldBegin({fname:"semantics",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.semantics),b.writeFieldEnd());if(a.ssrcIds!=null){b.writeFieldBegin({fname:"ssrcIds",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.I32,size:a.ssrcIds.length});for(a of a.ssrcIds)b.writeI32(a);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("SsrcObject");a.ssrcId!=null&&(b.writeFieldBegin({fname:"ssrcId",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1}),b.writeI32(a.ssrcId),b.writeFieldEnd());a.cname!=null&&(b.writeFieldBegin({fname:"cname",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.cname),b.writeFieldEnd());b.writeFieldBegin({fname:"msid",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3});if(a.msid!=null)b.writeString(a.msid);else{var d="stream_label";b.writeString(d)}b.writeFieldEnd();a.msidAppData!=null&&(b.writeFieldBegin({fname:"msidAppData",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.msidAppData),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("RtcpFbVal");b.writeFieldBegin({fname:"id",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.id!=null)b.writeString(a.id);else{var d="";b.writeString(d)}b.writeFieldEnd();a.param!=null&&(b.writeFieldBegin({fname:"param",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.param),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("Bandwidth");b.writeFieldBegin({fname:"bwtype",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.bwtype!=null)b.writeString(a.bwtype);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"bw",ftype:h.I32,fid:2});if(a.bw!=null)b.writeI32(a.bw);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("CodecDescription");a.payloadType!=null&&(b.writeFieldBegin({fname:"payloadType",ftype:(h||(h=c("ThriftTypes"))).BYTE,fid:1}),b.writeByte(a.payloadType),b.writeFieldEnd());if(a.encodingName!=null){var d;b.writeFieldBegin({fname:"encodingName",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});b.writeI32((d=a.encodingName)!=null?d:0);b.writeFieldEnd()}a.clockRateKhz!=null&&(b.writeFieldBegin({fname:"clockRateKhz",ftype:(h||(h=c("ThriftTypes"))).BYTE,fid:3}),b.writeByte(a.clockRateKhz),b.writeFieldEnd());b.writeFieldBegin({fname:"numAudioChannels",ftype:(h||(h=c("ThriftTypes"))).BYTE,fid:4});if(a.numAudioChannels!=null)b.writeByte(a.numAudioChannels);else{d=1;b.writeByte(d)}b.writeFieldEnd();if(a.fmtParameters!=null){b.writeFieldBegin({fname:"fmtParameters",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:5});b.writeMapBegin({ktype:h.I32,vtype:h.STRING,size:Object.keys(a.fmtParameters).length});for(d of Object.entries(a.fmtParameters)){var e=d[0],f=d[1];b.writeI32((e=Number(e))!=null?e:0);b.writeString(f)}b.writeMapEnd();b.writeFieldEnd()}if(a.enabledOptions!=null){b.writeFieldBegin({fname:"enabledOptions",ftype:(h||(h=c("ThriftTypes"))).SET,fid:6});b.writeSetBegin({etype:h.I32,size:a.enabledOptions.size});for(e of a.enabledOptions)b.writeI32(e!=null?e:0);b.writeSetEnd();b.writeFieldEnd()}if(a.rtcpFbParameters!=null){b.writeFieldBegin({fname:"rtcpFbParameters",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:7});b.writeMapBegin({ktype:h.STRING,vtype:h.STRING,size:Object.keys(a.rtcpFbParameters).length});for(f of Object.entries(a.rtcpFbParameters)){d=f[0];e=f[1];b.writeString(d);b.writeString(e)}b.writeMapEnd();b.writeFieldEnd()}if(a.rtcpFbParamList!=null){b.writeFieldBegin({fname:"rtcpFbParamList",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:10});b.writeListBegin({etype:h.STRUCT,size:a.rtcpFbParamList.length});for(d of a.rtcpFbParamList)r(d,b);b.writeListEnd();b.writeFieldEnd()}a.videoWidth!=null&&(b.writeFieldBegin({fname:"videoWidth",ftype:(h||(h=c("ThriftTypes"))).I32,fid:8}),b.writeI32(a.videoWidth),b.writeFieldEnd());a.videoHeight!=null&&(b.writeFieldBegin({fname:"videoHeight",ftype:(h||(h=c("ThriftTypes"))).I32,fid:9}),b.writeI32(a.videoHeight),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function u(a,b){b.writeStructBegin("Extmap");b.writeFieldBegin({fname:"id",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.id!=null)b.writeI32(a.id);else{var d=1;b.writeI32(d)}b.writeFieldEnd();if(a.uri!=null){b.writeFieldBegin({fname:"uri",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});b.writeI32((d=a.uri)!=null?d:0);b.writeFieldEnd()}b.writeFieldBegin({fname:"extensionAttributes",ftype:h.LIST,fid:3});if(a.extensionAttributes!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:a.extensionAttributes.length});for(d of a.extensionAttributes)b.writeI32(d!=null?d:0);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:a.length});for(d of a)b.writeI32(d!=null?d:0);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("CryptoParam");a.tag!=null&&(b.writeFieldBegin({fname:"tag",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1}),b.writeI32(a.tag),b.writeFieldEnd());if(a.suite!=null){var d;b.writeFieldBegin({fname:"suite",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});b.writeI32((d=a.suite)!=null?d:0);b.writeFieldEnd()}a.keyParams!=null&&(b.writeFieldBegin({fname:"keyParams",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.keyParams),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("IceCandidateSdp");a.foundation!=null&&(b.writeFieldBegin({fname:"foundation",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.foundation),b.writeFieldEnd());b.writeFieldBegin({fname:"componentId",ftype:(h||(h=c("ThriftTypes"))).BYTE,fid:2});if(a.componentId!=null)b.writeByte(a.componentId);else{var e=1;b.writeByte(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"transport",ftype:h.I32,fid:3});if(a.transport!=null){b.writeI32((e=a.transport)!=null?e:0)}else{e=d("WebrtcEnumsTypes").IceCandidateTransport.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.priority!=null&&(b.writeFieldBegin({fname:"priority",ftype:(h||(h=c("ThriftTypes"))).I32,fid:4}),b.writeI32(a.priority),b.writeFieldEnd());a.address!=null&&(b.writeFieldBegin({fname:"address",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeString(a.address),b.writeFieldEnd());a.port!=null&&(b.writeFieldBegin({fname:"port",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6}),b.writeI32(a.port),b.writeFieldEnd());if(a.protocolType!=null){b.writeFieldBegin({fname:"protocolType",ftype:(h||(h=c("ThriftTypes"))).I32,fid:7});b.writeI32((e=a.protocolType)!=null?e:0);b.writeFieldEnd()}a.relatedAddress!=null&&(b.writeFieldBegin({fname:"relatedAddress",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:8}),b.writeString(a.relatedAddress),b.writeFieldEnd());a.relatedPort!=null&&(b.writeFieldBegin({fname:"relatedPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:9}),b.writeI32(a.relatedPort),b.writeFieldEnd());a.username!=null&&(b.writeFieldBegin({fname:"username",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:10}),b.writeString(a.username),b.writeFieldEnd());a.password!=null&&(b.writeFieldBegin({fname:"password",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:11}),b.writeString(a.password),b.writeFieldEnd());b.writeFieldBegin({fname:"generation",ftype:h.I32,fid:12});if(a.generation!=null)b.writeI32(a.generation);else{e=0;b.writeI32(e)}b.writeFieldEnd();if(a.tcptype!=null){b.writeFieldBegin({fname:"tcptype",ftype:(h||(h=c("ThriftTypes"))).I32,fid:13});b.writeI32((e=a.tcptype)!=null?e:0);b.writeFieldEnd()}a.networkId!=null&&(b.writeFieldBegin({fname:"networkId",ftype:(h||(h=c("ThriftTypes"))).I16,fid:14}),b.writeI16(a.networkId),b.writeFieldEnd());a.networkCost!=null&&(b.writeFieldBegin({fname:"networkCost",ftype:(h||(h=c("ThriftTypes"))).I16,fid:15}),b.writeI16(a.networkCost),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("MediaDescription");if(a.mediaType!=null){var e;b.writeFieldBegin({fname:"mediaType",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((e=a.mediaType)!=null?e:0);b.writeFieldEnd()}b.writeFieldBegin({fname:"port",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.port!=null)b.writeI32(a.port);else{e=1;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"protocol",ftype:h.I32,fid:3});if(a.protocol!=null){b.writeI32((e=a.protocol)!=null?e:0)}else{e=d("WebrtcEnumsTypes").MediaProtocol.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.fmt!=null&&(b.writeFieldBegin({fname:"fmt",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:22}),b.writeString(a.fmt),b.writeFieldEnd());a.mediaIceUserFrag!=null&&(b.writeFieldBegin({fname:"mediaIceUserFrag",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.mediaIceUserFrag),b.writeFieldEnd());a.mediaIcePassword!=null&&(b.writeFieldBegin({fname:"mediaIcePassword",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeString(a.mediaIcePassword),b.writeFieldEnd());if(a.mediaIceOptions!=null){b.writeFieldBegin({fname:"mediaIceOptions",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:6});b.writeListBegin({etype:h.STRING,size:a.mediaIceOptions.length});for(e of a.mediaIceOptions)b.writeString(e);b.writeListEnd();b.writeFieldEnd()}a.mediaSslFingerprintHash!=null&&(b.writeFieldBegin({fname:"mediaSslFingerprintHash",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:7}),b.writeString(a.mediaSslFingerprintHash),b.writeFieldEnd());a.mediaSslFingerprintDigest!=null&&(b.writeFieldBegin({fname:"mediaSslFingerprintDigest",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:8}),b.writeString(a.mediaSslFingerprintDigest),b.writeFieldEnd());if(a.extmaps!=null){b.writeFieldBegin({fname:"extmaps",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:9});b.writeListBegin({etype:h.STRUCT,size:a.extmaps.length});for(e of a.extmaps)u(e,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldBegin({fname:"sendRecvMode",ftype:h.I32,fid:10});if(a.sendRecvMode!=null){b.writeI32((e=a.sendRecvMode)!=null?e:0)}else{e=d("WebrtcEnumsTypes").SendRecvMode.cast(1);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"hasRtcpMux",ftype:h.BOOL,fid:11});if(a.hasRtcpMux!=null)b.writeBool(a.hasRtcpMux);else{e=!0;b.writeBool(e)}b.writeFieldEnd();a.rtcpReducedSize!=null&&(b.writeFieldBegin({fname:"rtcpReducedSize",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:25}),b.writeBool(a.rtcpReducedSize),b.writeFieldEnd());if(a.cryptoParams!=null){b.writeFieldBegin({fname:"cryptoParams",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:12});b.writeListBegin({etype:h.STRUCT,size:a.cryptoParams.length});for(e of a.cryptoParams)v(e,b);b.writeListEnd();b.writeFieldEnd()}if(a.codecs!=null){b.writeFieldBegin({fname:"codecs",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:13});b.writeListBegin({etype:h.STRUCT,size:a.codecs.length});for(e of a.codecs)t(e,b);b.writeListEnd();b.writeFieldEnd()}a.maxPTime!=null&&(b.writeFieldBegin({fname:"maxPTime",ftype:(h||(h=c("ThriftTypes"))).I32,fid:14}),b.writeI32(a.maxPTime),b.writeFieldEnd());a.pTime!=null&&(b.writeFieldBegin({fname:"pTime",ftype:(h||(h=c("ThriftTypes"))).I32,fid:15}),b.writeI32(a.pTime),b.writeFieldEnd());if(a.ssrcObjects!=null){b.writeFieldBegin({fname:"ssrcObjects",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:16});b.writeListBegin({etype:h.STRUCT,size:a.ssrcObjects.length});for(e of a.ssrcObjects)q(e,b);b.writeListEnd();b.writeFieldEnd()}if(a.candidates!=null){b.writeFieldBegin({fname:"candidates",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:17});b.writeListBegin({etype:h.STRUCT,size:a.candidates.length});for(e of a.candidates)w(e,b);b.writeListEnd();b.writeFieldEnd()}a.conferenceMode!=null&&(b.writeFieldBegin({fname:"conferenceMode",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:18}),b.writeBool(a.conferenceMode),b.writeFieldEnd());if(a.ssrcGroups!=null){b.writeFieldBegin({fname:"ssrcGroups",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:19});b.writeListBegin({etype:h.STRUCT,size:a.ssrcGroups.length});for(e of a.ssrcGroups)p(e,b);b.writeListEnd();b.writeFieldEnd()}if(a.connectionRole!=null){b.writeFieldBegin({fname:"connectionRole",ftype:(h||(h=c("ThriftTypes"))).I32,fid:20});b.writeI32((e=a.connectionRole)!=null?e:0);b.writeFieldEnd()}a.mid!=null&&(b.writeFieldBegin({fname:"mid",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:21}),b.writeString(a.mid),b.writeFieldEnd());a.bandwidth!=null&&(b.writeFieldBegin({fname:"bandwidth",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:23}),s(a.bandwidth,b),b.writeFieldEnd());a.sctpPort!=null&&(b.writeFieldBegin({fname:"sctpPort",ftype:(h||(h=c("ThriftTypes"))).I32,fid:24}),b.writeI32(a.sctpPort),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function y(a,b){b.writeStructBegin("SessionDescription");a.sessionId!=null&&(b.writeFieldBegin({fname:"sessionId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.sessionId),b.writeFieldEnd());a.sessionVersion!=null&&(b.writeFieldBegin({fname:"sessionVersion",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.sessionVersion),b.writeFieldEnd());b.writeFieldBegin({fname:"supportsMsid",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:3});if(a.supportsMsid!=null)b.writeBool(a.supportsMsid);else{var d=!0;b.writeBool(d)}b.writeFieldEnd();a.useIceLite!=null&&(b.writeFieldBegin({fname:"useIceLite",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:4}),b.writeBool(a.useIceLite),b.writeFieldEnd());if(a.features!=null){b.writeFieldBegin({fname:"features",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:5});b.writeListBegin({etype:h.STRING,size:a.features.length});for(d of a.features)b.writeString(d);b.writeListEnd();b.writeFieldEnd()}if(a.connectionRole!=null){b.writeFieldBegin({fname:"connectionRole",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6});b.writeI32((d=a.connectionRole)!=null?d:0);b.writeFieldEnd()}a.bandwidth!=null&&(b.writeFieldBegin({fname:"bandwidth",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7}),s(a.bandwidth,b),b.writeFieldEnd());if(a.transportBundle!=null){b.writeFieldBegin({fname:"transportBundle",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:8});b.writeListBegin({etype:h.STRING,size:a.transportBundle.length});for(d of a.transportBundle)b.writeString(d);b.writeListEnd();b.writeFieldEnd()}if(a.commonCryptos!=null){b.writeFieldBegin({fname:"commonCryptos",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:9});b.writeListBegin({etype:h.STRUCT,size:a.commonCryptos.length});for(d of a.commonCryptos)v(d,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function z(a,b){b.writeStructBegin("Sdp");a.sessionDescription!=null&&(b.writeFieldBegin({fname:"sessionDescription",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),y(a.sessionDescription,b),b.writeFieldEnd());if(a.mediaDescriptions!=null){b.writeFieldBegin({fname:"mediaDescriptions",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.mediaDescriptions.length});for(a of a.mediaDescriptions)x(a,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function A(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.semantics=a.readString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.ssrcIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI32();b.ssrcIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function B(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.ssrcId=a.readI32():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.cname=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.msid=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.msidAppData=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.msid===void 0&&(b.msid="stream_label");return b}function C(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.id=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.param=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.id===void 0&&(b.id="");return b}function D(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.bwtype=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I32?b.bw=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bwtype===void 0&&(b.bwtype="");b.bw===void 0&&(b.bw=0);return b}function E(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).BYTE?b.payloadType=a.readByte():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.encodingName=d("WebrtcEnumsTypes").CodecName.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).BYTE?b.clockRateKhz=a.readByte():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).BYTE?b.numAudioChannels=a.readByte():a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).MAP){b.fmtParameters={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=d("WebrtcEnumsTypes").CodecOption.cast(a.readI32()),j=a.readString();i!=null&&(b.fmtParameters[i]=j)}}else a.skip(f);break;case 6:if(f===(h||(h=c("ThriftTypes"))).SET){b.enabledOptions=new Set();i=a.readSetBegin();for(j=0;j<i.size;j++){g=d("WebrtcEnumsTypes").CodecOptionBoolean.cast(a.readI32());b.enabledOptions.add(g)}}else a.skip(f);break;case 7:if(f===(h||(h=c("ThriftTypes"))).MAP){b.rtcpFbParameters={};e=a.readMapBegin();for(g=0;g<e.size;g++){j=a.readString();i=a.readString();b.rtcpFbParameters[j]=i}}else a.skip(f);break;case 10:if(f===(h||(h=c("ThriftTypes"))).LIST){b.rtcpFbParamList=[];j=a.readListBegin();for(i=0;i<j.size;i++){g=C(a);b.rtcpFbParamList.push(g)}}else a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).I32?b.videoWidth=a.readI32():a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).I32?b.videoHeight=a.readI32():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.numAudioChannels===void 0&&(b.numAudioChannels=1);return b}function F(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.id=a.readI32():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.uri=d("WebrtcEnumsTypes").ExtmapUris.cast(a.readI32()):a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).LIST){b.extensionAttributes=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("WebrtcEnumsTypes").ExtmapUris.cast(a.readI32());b.extensionAttributes.push(i)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.id===void 0&&(b.id=1);b.extensionAttributes===void 0&&(b.extensionAttributes=[]);return b}function G(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.tag=a.readI32():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.suite=d("WebrtcEnumsTypes").CryptoSuite.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.keyParams=a.readString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function H(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.foundation=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).BYTE?b.componentId=a.readByte():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.transport=d("WebrtcEnumsTypes").IceCandidateTransport.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.priority=a.readI32():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.address=a.readString():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.port=a.readI32():a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).I32?b.protocolType=d("WebrtcEnumsTypes").IceCandidateProtocolType.cast(a.readI32()):a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).STRING?b.relatedAddress=a.readString():a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).I32?b.relatedPort=a.readI32():a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).STRING?b.username=a.readString():a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).STRING?b.password=a.readString():a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).I32?b.generation=a.readI32():a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).I32?b.tcptype=d("WebrtcEnumsTypes").IceCandidateTcpType.cast(a.readI32()):a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).I16?b.networkId=a.readI16():a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).I16?b.networkCost=a.readI16():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.componentId===void 0&&(b.componentId=1);b.transport===void 0&&(b.transport=d("WebrtcEnumsTypes").IceCandidateTransport.cast(0));b.generation===void 0&&(b.generation=0);return b}function I(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.mediaType=d("WebrtcEnumsTypes").MediaType.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.port=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.protocol=d("WebrtcEnumsTypes").MediaProtocol.cast(a.readI32()):a.skip(f);break;case 22:f===(h||(h=c("ThriftTypes"))).STRING?b.fmt=a.readString():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.mediaIceUserFrag=a.readString():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.mediaIcePassword=a.readString():a.skip(f);break;case 6:if(f===(h||(h=c("ThriftTypes"))).LIST){b.mediaIceOptions=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.mediaIceOptions.push(i)}}else a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRING?b.mediaSslFingerprintHash=a.readString():a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).STRING?b.mediaSslFingerprintDigest=a.readString():a.skip(f);break;case 9:if(f===(h||(h=c("ThriftTypes"))).LIST){b.extmaps=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=F(a);b.extmaps.push(e)}}else a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).I32?b.sendRecvMode=d("WebrtcEnumsTypes").SendRecvMode.cast(a.readI32()):a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).BOOL?b.hasRtcpMux=a.readBool():a.skip(f);break;case 25:f===(h||(h=c("ThriftTypes"))).BOOL?b.rtcpReducedSize=a.readBool():a.skip(f);break;case 12:if(f===(h||(h=c("ThriftTypes"))).LIST){b.cryptoParams=[];e=a.readListBegin();for(g=0;g<e.size;g++){i=G(a);b.cryptoParams.push(i)}}else a.skip(f);break;case 13:if(f===(h||(h=c("ThriftTypes"))).LIST){b.codecs=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=E(a);b.codecs.push(e)}}else a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).I32?b.maxPTime=a.readI32():a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).I32?b.pTime=a.readI32():a.skip(f);break;case 16:if(f===(h||(h=c("ThriftTypes"))).LIST){b.ssrcObjects=[];e=a.readListBegin();for(g=0;g<e.size;g++){i=B(a);b.ssrcObjects.push(i)}}else a.skip(f);break;case 17:if(f===(h||(h=c("ThriftTypes"))).LIST){b.candidates=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=H(a);b.candidates.push(e)}}else a.skip(f);break;case 18:f===(h||(h=c("ThriftTypes"))).BOOL?b.conferenceMode=a.readBool():a.skip(f);break;case 19:if(f===(h||(h=c("ThriftTypes"))).LIST){b.ssrcGroups=[];e=a.readListBegin();for(g=0;g<e.size;g++){i=A(a);b.ssrcGroups.push(i)}}else a.skip(f);break;case 20:f===(h||(h=c("ThriftTypes"))).I32?b.connectionRole=d("WebrtcEnumsTypes").ConnectionRole.cast(a.readI32()):a.skip(f);break;case 21:f===(h||(h=c("ThriftTypes"))).STRING?b.mid=a.readString():a.skip(f);break;case 23:f===(h||(h=c("ThriftTypes"))).STRUCT?b.bandwidth=D(a):a.skip(f);break;case 24:f===(h||(h=c("ThriftTypes"))).I32?b.sctpPort=a.readI32():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.port===void 0&&(b.port=1);b.protocol===void 0&&(b.protocol=d("WebrtcEnumsTypes").MediaProtocol.cast(0));b.sendRecvMode===void 0&&(b.sendRecvMode=d("WebrtcEnumsTypes").SendRecvMode.cast(1));b.hasRtcpMux===void 0&&(b.hasRtcpMux=!0);return b}function J(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.sessionId=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.sessionVersion=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).BOOL?b.supportsMsid=a.readBool():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).BOOL?b.useIceLite=a.readBool():a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).LIST){b.features=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.features.push(i)}}else a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.connectionRole=d("WebrtcEnumsTypes").ConnectionRole.cast(a.readI32()):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRUCT?b.bandwidth=D(a):a.skip(f);break;case 8:if(f===(h||(h=c("ThriftTypes"))).LIST){b.transportBundle=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=a.readString();b.transportBundle.push(e)}}else a.skip(f);break;case 9:if(f===(h||(h=c("ThriftTypes"))).LIST){b.commonCryptos=[];e=a.readListBegin();for(g=0;g<e.size;g++){i=G(a);b.commonCryptos.push(i)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.supportsMsid===void 0&&(b.supportsMsid=!0);return b}function K(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.sessionDescription=J(a):a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.mediaDescriptions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=I(a);b.mediaDescriptions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}g.SsrcGroup$DefaultConstructor=a;g.SsrcObject$DefaultConstructor=b;g.RtcpFbVal$DefaultConstructor=e;g.Bandwidth$DefaultConstructor=f;g.CodecDescription$DefaultConstructor=i;g.Extmap$DefaultConstructor=j;g.CryptoParam$DefaultConstructor=k;g.IceCandidateSdp$DefaultConstructor=l;g.MediaDescription$DefaultConstructor=m;g.SessionDescription$DefaultConstructor=n;g.Sdp$DefaultConstructor=o;g.serializeSsrcGroup=p;g.serializeSsrcObject=q;g.serializeRtcpFbVal=r;g.serializeBandwidth=s;g.serializeCodecDescription=t;g.serializeExtmap=u;g.serializeCryptoParam=v;g.serializeIceCandidateSdp=w;g.serializeMediaDescription=x;g.serializeSessionDescription=y;g.serializeSdp=z;g.deserializeSsrcGroup=A;g.deserializeSsrcObject=B;g.deserializeRtcpFbVal=C;g.deserializeBandwidth=D;g.deserializeCodecDescription=E;g.deserializeExtmap=F;g.deserializeCryptoParam=G;g.deserializeIceCandidateSdp=H;g.deserializeMediaDescription=I;g.deserializeSessionDescription=J;g.deserializeSdp=K}),98);
__d("MultiwayCommonSerializers",["DataMessageSerializers","DataMessageTypes","MultiwayCommonTypes","MultiwaySharedSerializers","MultiwaySharedTypes","StateSyncSerializers","StateSyncTopicsConfigTypes","ThriftTypes","Utf8ToString","WebrtcSdpSerializers","WebrtcSignalingCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a;return{message:"",responseStatusCode:(a=d("MultiwayCommonTypes")).RtcResponseStatusCode.cast(0),responseSubCode:a.RtcResponseSubCode.cast(0),apiStatusCode:a.RtcApiStatusCode.cast(0),rtcLogSeverity:a.RtcLogSeverity.cast(0)}}function i(){return{}}function b(){return{media:{}}}function e(){return{body:"",msid:"",mid:""}}function f(){return{sourceKey:"",media:[],ssrcGroups:[]}}function j(){return{mediaStatus:{}}}function k(){return{sdpMLineIndex:"0",sdpMid:""}}function l(){return{stateStore:{},stateStoreV2:{}}}function aa(){return{version:0}}function ba(){return{encryptedTopic:"",encryptedData:Uint8Array.of(),senderId:Uint8Array.of(),messageType:d("MultiwayCommonTypes").E2eeDataMessageType.cast(0)}}function ca(){return{fromVersion:"0",toVersion:"0",mediaUpdates:[]}}function da(){return{currentVersion:"0",mediaPath:d("MultiwaySharedTypes").MediaPath.cast(0)}}function ea(){return{callerUserId:"",calleeUserId:"",sessionId:""}}function fa(){return{fromVersion:"0",toVersion:"0",mediaUpdates:[],renegotiationRequested:!1,multipleVideoStreamsAllowed:!1,mediaPath:d("MultiwaySharedTypes").MediaPath.cast(0),screenShareStreamAllowed:!1}}function ga(){return{currentVersion:"0"}}function ha(){return{}}function ia(){return{reason:d("MultiwayCommonTypes").HangupReason.cast(0),detailedReasonString:""}}function ja(){return{iceCandidateSdps:[]}}function ka(){return{reason:d("MultiwayCommonTypes").DismissReason.cast(0),detailedReasonString:""}}function la(){return{joinMode:d("MultiwayCommonTypes").JoinMode.cast(0)}}function ma(){return{state:d("MultiwayCommonTypes").ParticipantCallState.cast(0)}}function na(){return{}}function oa(){return{}}function pa(){return{}}function qa(){return{version:"0",participantStates:{},groupsOfUsers:[]}}function ra(){return{currentVersion:"0"}}function sa(){return{subscriptions:[]}}function ta(){return{message:d("DataMessageSerializers").DataMessage$DefaultConstructor()}}function ua(){return{deliveryResult:{}}}function va(){return{usersToInvite:new Set()}}function wa(){return{smcTier:"",region:"",isUsfu:!1,isEdge:!1}}function xa(){return{offer:i(),deviceCapabilities:new Set()}}function ya(){return{answer:i(),mediaStatus:{},initiator:"",isPendingApproval:!1,multipleVideoStreamsAllowed:!1,mediaPath:d("MultiwaySharedTypes").MediaPath.cast(0),groupsOfUsers:[],screenShareStreamAllowed:!1}}function za(){return{deviceCapabilities:new Set()}}function Aa(){return{}}function Ba(){return{type:d("MultiwayCommonTypes").ClientEventType.cast(0)}}function Ca(){return{clientEvents:[]}}function Da(){return{}}function Ea(){return{}}function Fa(){return{caller:"",otherParticipants:new Set(),ringType:d("MultiwayCommonTypes").RingType.cast(0),mediaPath:d("MultiwaySharedTypes").MediaPath.cast(0),isTransferCall:!1}}function Ga(){return{deviceStatus:d("MultiwayCommonTypes").DeviceStatus.cast(0)}}function Ha(){return{usersToRemove:new Set()}}function Ia(){return{topic:"",version:0,topicId:d("StateSyncTopicsConfigTypes").TopicId.cast(0)}}function Ja(){return{topic:"",version:0}}function Ka(){return{syncPayload:l(),topic:"",version:0,topicId:d("StateSyncTopicsConfigTypes").TopicId.cast(0)}}function La(){return{topic:"",version:0}}function Ma(){return{topic:"",version:0,data:Uint8Array.of()}}function Na(){return{topic:"",version:0}}function Oa(){return{approvalStatus:d("MultiwayCommonTypes").ApprovalStatus.cast(0),targetUsers:new Set()}}function Pa(){return{id:""}}function Qa(){return{actorId:"",baseId:""}}function m(){return{type:d("MultiwayCommonTypes").MessageType.cast(0),conferenceName:"",transactionId:"",retryCount:0}}function n(){return{}}function Ra(){return{messageHeader:m(),messageBody:n()}}function Sa(){return{users:new Set(),allowMultipleJoins:!1,dismissOthersOnFirstJoin:!1,aliasId:""}}function Ta(){return{}}function Ua(a,b){b.writeStructBegin("RtcException");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.message!=null)b.writeString(a.message);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"responseStatusCode",ftype:h.I32,fid:2});if(a.responseStatusCode!=null){b.writeI32((e=a.responseStatusCode)!=null?e:0)}else{e=d("MultiwayCommonTypes").RtcResponseStatusCode.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"responseSubCode",ftype:h.I32,fid:3});if(a.responseSubCode!=null){b.writeI32((e=a.responseSubCode)!=null?e:0)}else{e=d("MultiwayCommonTypes").RtcResponseSubCode.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"apiStatusCode",ftype:h.I32,fid:4});if(a.apiStatusCode!=null){b.writeI32((e=a.apiStatusCode)!=null?e:0)}else{e=d("MultiwayCommonTypes").RtcApiStatusCode.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"rtcLogSeverity",ftype:h.I32,fid:5});if(a.rtcLogSeverity!=null){b.writeI32((e=a.rtcLogSeverity)!=null?e:0)}else{a=d("MultiwayCommonTypes").RtcLogSeverity.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function o(a,b){b.writeStructBegin("SessionDescription"),a.sdpString!=null&&(b.writeFieldBegin({fname:"sdpString",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.sdpString),b.writeFieldEnd()),a.sdpThrift!=null&&(b.writeFieldBegin({fname:"sdpThrift",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),d("WebrtcSdpSerializers").serializeSdp(a.sdpThrift,b),b.writeFieldEnd()),a.sdpCompressionVersion!=null&&(b.writeFieldBegin({fname:"sdpCompressionVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(BigInt(a.sdpCompressionVersion)),b.writeFieldEnd()),a.sdpCompressedData!=null&&(b.writeFieldBegin({fname:"sdpCompressedData",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.sdpCompressedData),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function Va(a,b){b.writeStructBegin("SessionDescriptionUpdate");b.writeFieldBegin({fname:"media",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.media!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(a.media).length});for(a of Object.entries(a.media)){var d=a[0],e=a[1];b.writeI32(Number(d));p(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeI32(Number(a));p(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function p(a,b){b.writeStructBegin("MediaDescriptionUpdate");b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.body!=null)b.writeString(a.body);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"msid",ftype:h.STRING,fid:2});if(a.msid!=null)b.writeString(a.msid);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"mid",ftype:h.STRING,fid:3});if(a.mid!=null)b.writeString(a.mid);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("ServerMediaUpdate");b.writeFieldBegin({fname:"sourceKey",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.sourceKey!=null)b.writeString(a.sourceKey);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"media",ftype:h.LIST,fid:2});if(a.media!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.media.length});for(e of a.media)d("MultiwaySharedSerializers").serializeMedia(e,b);b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:e.length});for(e of e)d("MultiwaySharedSerializers").serializeMedia(e,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"ssrcGroups",ftype:h.LIST,fid:3});if(a.ssrcGroups!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.ssrcGroups.length});for(e of a.ssrcGroups)d("MultiwaySharedSerializers").serializeSsrcGroup(e,b);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.length});for(e of a)d("MultiwaySharedSerializers").serializeSsrcGroup(e,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("ClientMediaUpdate");b.writeFieldBegin({fname:"mediaStatus",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.mediaStatus!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.BOOL,size:Object.keys(a.mediaStatus).length});for(var e of Object.entries(a.mediaStatus)){var f=e[0],g=e[1];b.writeString(f);b.writeBool(g)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.BOOL,size:Object.keys(f).length});for(g of Object.entries(f)){e=g[0];f=g[1];b.writeString(e);b.writeBool(f)}b.writeMapEnd()}b.writeFieldEnd();a.mediaStatusEx!=null&&(b.writeFieldBegin({fname:"mediaStatusEx",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatusEx,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("IceCandidate");a.candidateSdpString!=null&&(b.writeFieldBegin({fname:"candidateSdpString",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.candidateSdpString),b.writeFieldEnd());b.writeFieldBegin({fname:"sdpMLineIndex",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2});if(a.sdpMLineIndex!=null)b.writeI64(BigInt(a.sdpMLineIndex));else{var e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"sdpMid",ftype:h.STRING,fid:3});if(a.sdpMid!=null)b.writeString(a.sdpMid);else{e="";b.writeString(e)}b.writeFieldEnd();a.candidateSdpThrift!=null&&(b.writeFieldBegin({fname:"candidateSdpThrift",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4}),d("WebrtcSdpSerializers").serializeIceCandidateSdp(a.candidateSdpThrift,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("SyncPayload");b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.stateStore!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(var e of Object.entries(a.stateStore)){var f=e[0],g=e[1];b.writeString(f);d("StateSyncSerializers").serializeState(g,b)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(f).length});for(g of Object.entries(f)){e=g[0];f=g[1];b.writeString(e);d("StateSyncSerializers").serializeState(f,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"stateStoreV2",ftype:h.MAP,fid:4});if(a.stateStoreV2!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(a.stateStoreV2).length});for(e of Object.entries(a.stateStoreV2)){f=e[0];g=e[1];b.writeI32((a=Number(f))!=null?a:0);d("StateSyncSerializers").serializeState(g,b)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).I32,vtype:h.STRUCT,size:Object.keys(f).length});for(a of Object.entries(f)){g=a[0];e=a[1];b.writeI32((f=Number(g))!=null?f:0);d("StateSyncSerializers").serializeState(e,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function Wa(a,b){b.writeStructBegin("SyncAck");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.version!=null)b.writeI32(a.version);else{a=0;b.writeI32(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function Xa(a,b){b.writeStructBegin("E2eeData");b.writeFieldBegin({fname:"encryptedTopic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.encryptedTopic!=null)b.writeString(a.encryptedTopic);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"encryptedData",ftype:h.STRING,fid:2});if(a.encryptedData!=null)b.writeBinary(a.encryptedData);else{e=Uint8Array.of();b.writeBinary(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"senderId",ftype:h.STRING,fid:3});if(a.senderId!=null)b.writeBinary(a.senderId);else{e=Uint8Array.of();b.writeBinary(e)}b.writeFieldEnd();if(a.targetIds!=null){b.writeFieldBegin({fname:"targetIds",ftype:(h||(h=c("ThriftTypes"))).SET,fid:4});b.writeSetBegin({etype:h.STRING,size:a.targetIds.size});for(e of a.targetIds)b.writeBinary(e);b.writeSetEnd();b.writeFieldEnd()}b.writeFieldBegin({fname:"messageType",ftype:h.I32,fid:5});if(a.messageType!=null){b.writeI32((e=a.messageType)!=null?e:0)}else{a=d("MultiwayCommonTypes").E2eeDataMessageType.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function u(a,b){b.writeStructBegin("ClientMediaUpdateRequest");b.writeFieldBegin({fname:"fromVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.fromVersion!=null)b.writeI64(BigInt(a.fromVersion));else{var d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldBegin({fname:"toVersion",ftype:h.I64,fid:2});if(a.toVersion!=null)b.writeI64(BigInt(a.toVersion));else{d="0";b.writeI64(BigInt(d))}b.writeFieldEnd();b.writeFieldBegin({fname:"mediaUpdates",ftype:h.LIST,fid:3});if(a.mediaUpdates!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.mediaUpdates.length});for(d of a.mediaUpdates)r(d,b);b.writeListEnd()}else{d=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:d.length});for(d of d)r(d,b);b.writeListEnd()}b.writeFieldEnd();a.offer!=null&&(b.writeFieldBegin({fname:"offer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4}),o(a.offer,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("ClientMediaUpdateResponse");b.writeFieldBegin({fname:"currentVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.currentVersion!=null)b.writeI64(BigInt(a.currentVersion));else{var e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();a.answer!=null&&(b.writeFieldBegin({fname:"answer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),o(a.answer,b),b.writeFieldEnd());a.mediaStatus!=null&&(b.writeFieldBegin({fname:"mediaStatus",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatus,b),b.writeFieldEnd());a.sdpOriginLocalId!=null&&(b.writeFieldBegin({fname:"sdpOriginLocalId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.sdpOriginLocalId),b.writeFieldEnd());a.renegotiationOffer!=null&&(b.writeFieldBegin({fname:"renegotiationOffer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5}),o(a.renegotiationOffer,b),b.writeFieldEnd());b.writeFieldBegin({fname:"mediaPath",ftype:h.I32,fid:6});if(a.mediaPath!=null){b.writeI32((e=a.mediaPath)!=null?e:0)}else{e=d("MultiwaySharedTypes").MediaPath.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();if(a.stateStore!=null){b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:7});b.writeMapBegin({ktype:h.STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(e of Object.entries(a.stateStore)){var f=e[0],g=e[1];b.writeString(f);d("StateSyncSerializers").serializeState(g,b)}b.writeMapEnd();b.writeFieldEnd()}if(a.stateStoreV2!=null){b.writeFieldBegin({fname:"stateStoreV2",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:8});b.writeMapBegin({ktype:h.I32,vtype:h.STRUCT,size:Object.keys(a.stateStoreV2).length});for(f of Object.entries(a.stateStoreV2)){g=f[0];e=f[1];b.writeI32((a=Number(g))!=null?a:0);d("StateSyncSerializers").serializeState(e,b)}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function Ya(a,b){b.writeStructBegin("MultipleRelaysAllocationParameters");b.writeFieldBegin({fname:"callerUserId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.callerUserId!=null)b.writeString(a.callerUserId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"calleeUserId",ftype:h.STRING,fid:2});if(a.calleeUserId!=null)b.writeString(a.calleeUserId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"sessionId",ftype:h.STRING,fid:3});if(a.sessionId!=null)b.writeString(a.sessionId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("ServerMediaUpdateRequest");b.writeFieldBegin({fname:"fromVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.fromVersion!=null)b.writeI64(BigInt(a.fromVersion));else{var e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"toVersion",ftype:h.I64,fid:2});if(a.toVersion!=null)b.writeI64(BigInt(a.toVersion));else{e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"mediaUpdates",ftype:h.LIST,fid:3});if(a.mediaUpdates!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.mediaUpdates.length});for(e of a.mediaUpdates)q(e,b);b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:e.length});for(e of e)q(e,b);b.writeListEnd()}b.writeFieldEnd();a.offer!=null&&(b.writeFieldBegin({fname:"offer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4}),o(a.offer,b),b.writeFieldEnd());a.answer!=null&&(b.writeFieldBegin({fname:"answer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),o(a.answer,b),b.writeFieldEnd());a.mediaStatus!=null&&(b.writeFieldBegin({fname:"mediaStatus",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatus,b),b.writeFieldEnd());b.writeFieldBegin({fname:"renegotiationRequested",ftype:h.BOOL,fid:8});if(a.renegotiationRequested!=null)b.writeBool(a.renegotiationRequested);else{e=!1;b.writeBool(e)}b.writeFieldEnd();a.prAnswer!=null&&(b.writeFieldBegin({fname:"prAnswer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:9}),o(a.prAnswer,b),b.writeFieldEnd());if(a.stateStore!=null){b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:10});b.writeMapBegin({ktype:h.STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(e of Object.entries(a.stateStore)){var f=e[0],g=e[1];b.writeString(f);d("StateSyncSerializers").serializeState(g,b)}b.writeMapEnd();b.writeFieldEnd()}a.sdpOriginLocalId!=null&&(b.writeFieldBegin({fname:"sdpOriginLocalId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:11}),b.writeString(a.sdpOriginLocalId),b.writeFieldEnd());a.multipleRelaysParameters!=null&&(b.writeFieldBegin({fname:"multipleRelaysParameters",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:12}),Ya(a.multipleRelaysParameters,b),b.writeFieldEnd());b.writeFieldBegin({fname:"multipleVideoStreamsAllowed",ftype:h.BOOL,fid:13});if(a.multipleVideoStreamsAllowed!=null)b.writeBool(a.multipleVideoStreamsAllowed);else{f=!1;b.writeBool(f)}b.writeFieldEnd();a.renegotiationOffer!=null&&(b.writeFieldBegin({fname:"renegotiationOffer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:14}),o(a.renegotiationOffer,b),b.writeFieldEnd());b.writeFieldBegin({fname:"mediaPath",ftype:h.I32,fid:15});if(a.mediaPath!=null){b.writeI32((g=a.mediaPath)!=null?g:0)}else{e=d("MultiwaySharedTypes").MediaPath.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.update!=null&&(b.writeFieldBegin({fname:"update",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:16}),Va(a.update,b),b.writeFieldEnd());b.writeFieldBegin({fname:"screenShareStreamAllowed",ftype:h.BOOL,fid:17});if(a.screenShareStreamAllowed!=null)b.writeBool(a.screenShareStreamAllowed);else{f=!1;b.writeBool(f)}b.writeFieldEnd();if(a.stateStoreV2!=null){b.writeFieldBegin({fname:"stateStoreV2",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:18});b.writeMapBegin({ktype:h.I32,vtype:h.STRUCT,size:Object.keys(a.stateStoreV2).length});for(g of Object.entries(a.stateStoreV2)){e=g[0];f=g[1];b.writeI32((e=Number(e))!=null?e:0);d("StateSyncSerializers").serializeState(f,b)}b.writeMapEnd();b.writeFieldEnd()}if(a.allowedCustomVideoContentTypes!=null){b.writeFieldBegin({fname:"allowedCustomVideoContentTypes",ftype:(h||(h=c("ThriftTypes"))).SET,fid:19});b.writeSetBegin({etype:h.I32,size:a.allowedCustomVideoContentTypes.size});for(e of a.allowedCustomVideoContentTypes)b.writeI32(e!=null?e:0);b.writeSetEnd();b.writeFieldEnd()}a.relayInfo!=null&&(b.writeFieldBegin({fname:"relayInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:20}),d("MultiwaySharedSerializers").serializeRelayInfo(a.relayInfo,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("ServerMediaUpdateResponse");b.writeFieldBegin({fname:"currentVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.currentVersion!=null)b.writeI64(BigInt(a.currentVersion));else{var e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();a.answer!=null&&(b.writeFieldBegin({fname:"answer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),o(a.answer,b),b.writeFieldEnd());a.mediaStatus!=null&&(b.writeFieldBegin({fname:"mediaStatus",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatus,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function y(a,b){b.writeStructBegin("TransferRequest"),b.writeFieldStop(),b.writeStructEnd()}function z(a,b){b.writeStructBegin("HangupRequest");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("MultiwayCommonTypes").HangupReason.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"detailedReasonString",ftype:h.STRING,fid:2});if(a.detailedReasonString!=null)b.writeString(a.detailedReasonString);else{e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function A(a,b){b.writeStructBegin("IceCandidateRequest");b.writeFieldBegin({fname:"iceCandidateSdps",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:1});if(a.iceCandidateSdps!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.iceCandidateSdps.length});for(a of a.iceCandidateSdps)s(a,b);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.length});for(a of a)s(a,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function B(a,b){b.writeStructBegin("DismissRequest");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("MultiwayCommonTypes").DismissReason.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"detailedReasonString",ftype:h.STRING,fid:2});if(a.detailedReasonString!=null)b.writeString(a.detailedReasonString);else{e="";b.writeString(e)}b.writeFieldEnd();a.callabilityResultErrorCode!=null&&(b.writeFieldBegin({fname:"callabilityResultErrorCode",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(BigInt(a.callabilityResultErrorCode)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function Za(a,b){b.writeStructBegin("EndpointSettings");b.writeFieldBegin({fname:"joinMode",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.joinMode!=null){b.writeI32((a=a.joinMode)!=null?a:0)}else{a=d("MultiwayCommonTypes").JoinMode.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function C(a,b){b.writeStructBegin("ParticipantState");b.writeFieldBegin({fname:"state",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.state!=null){var e;b.writeI32((e=a.state)!=null?e:0)}else{e=d("MultiwayCommonTypes").ParticipantCallState.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.userCapabilities!=null&&(b.writeFieldBegin({fname:"userCapabilities",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.userCapabilities),b.writeFieldEnd());a.sctpNodeId!=null&&(b.writeFieldBegin({fname:"sctpNodeId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(BigInt(a.sctpNodeId)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function $a(a,b){b.writeStructBegin("ServerOnlyParticipantState"),a.userCountry!=null&&(b.writeFieldBegin({fname:"userCountry",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.userCountry),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function D(a,b){b.writeStructBegin("UserProfile"),a.name!=null&&(b.writeFieldBegin({fname:"name",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.name),b.writeFieldEnd()),a.profilePictureUri!=null&&(b.writeFieldBegin({fname:"profilePictureUri",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.profilePictureUri),b.writeFieldEnd()),a.aliasId!=null&&(b.writeFieldBegin({fname:"aliasId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.aliasId),b.writeFieldEnd()),a.thirdPartyId!=null&&(b.writeFieldBegin({fname:"thirdPartyId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.thirdPartyId),b.writeFieldEnd()),a.groupId!=null&&(b.writeFieldBegin({fname:"groupId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeString(a.groupId),b.writeFieldEnd()),a.avatarImageUri!=null&&(b.writeFieldBegin({fname:"avatarImageUri",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:6}),b.writeString(a.avatarImageUri),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function ab(a,b){b.writeStructBegin("ProductMetadata"),a.callerInfo!=null&&(b.writeFieldBegin({fname:"callerInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),D(a.callerInfo,b),b.writeFieldEnd()),a.liveBroadcastId!=null&&(b.writeFieldBegin({fname:"liveBroadcastId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.liveBroadcastId),b.writeFieldEnd()),a.callingTags!=null&&(b.writeFieldBegin({fname:"callingTags",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3}),b.writeI32(a.callingTags),b.writeFieldEnd()),a.backingIdentifier!=null&&(b.writeFieldBegin({fname:"backingIdentifier",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.backingIdentifier),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function E(a,b){b.writeStructBegin("ConferenceStateRequest");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.version!=null)b.writeI64(BigInt(a.version));else{var e="0";b.writeI64(BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"participantStates",ftype:h.MAP,fid:2});if(a.participantStates!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.participantStates).length});for(e of Object.entries(a.participantStates)){var f=e[0],g=e[1];b.writeString(f);C(g,b)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(f).length});for(g of Object.entries(f)){e=g[0];f=g[1];b.writeString(e);C(f,b)}b.writeMapEnd()}b.writeFieldEnd();if(a.userProfiles!=null){b.writeFieldBegin({fname:"userProfiles",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:3});b.writeMapBegin({ktype:h.STRING,vtype:h.STRUCT,size:Object.keys(a.userProfiles).length});for(e of Object.entries(a.userProfiles)){f=e[0];g=e[1];b.writeString(f);D(g,b)}b.writeMapEnd();b.writeFieldEnd()}if(a.appMessages!=null){b.writeFieldBegin({fname:"appMessages",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:4});b.writeListBegin({etype:h.STRUCT,size:a.appMessages.length});for(f of a.appMessages)d("DataMessageSerializers").serializeDataMessage(f,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldBegin({fname:"groupsOfUsers",ftype:h.LIST,fid:5});if(a.groupsOfUsers!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.groupsOfUsers.length});for(g of a.groupsOfUsers)Y(g,b);b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:e.length});for(f of e)Y(f,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function F(a,b){b.writeStructBegin("ConferenceStateResponse");b.writeFieldBegin({fname:"currentVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.currentVersion!=null)b.writeI64(BigInt(a.currentVersion));else{a="0";b.writeI64(BigInt(a))}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function G(a,b){b.writeStructBegin("SubscriptionRequest");b.writeFieldBegin({fname:"subscriptions",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:1});if(a.subscriptions!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.subscriptions.length});for(a of a.subscriptions)d("MultiwaySharedSerializers").serializeSubscription(a,b);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.length});for(a of a)d("MultiwaySharedSerializers").serializeSubscription(a,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function H(a,b){b.writeStructBegin("DataMessageRequest");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.message!=null)d("DataMessageSerializers").serializeDataMessage(a.message,b);else{a=d("DataMessageSerializers").DataMessage$DefaultConstructor();d("DataMessageSerializers").serializeDataMessage(a,b)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function I(a,b){b.writeStructBegin("DataMessageResponse");b.writeFieldBegin({fname:"deliveryResult",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.deliveryResult!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.I32,size:Object.keys(a.deliveryResult).length});for(var d of Object.entries(a.deliveryResult)){var e=d[0],f=d[1];b.writeString(e);b.writeI32(f!=null?f:0)}b.writeMapEnd()}else{e={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.I32,size:Object.keys(e).length});for(f of Object.entries(e)){d=f[0];e=f[1];b.writeString(d);b.writeI32(e!=null?e:0)}b.writeMapEnd()}b.writeFieldEnd();if(a.serviceTypeDeliveryResult!=null){b.writeFieldBegin({fname:"serviceTypeDeliveryResult",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:2});b.writeMapBegin({ktype:h.I32,vtype:h.I32,size:Object.keys(a.serviceTypeDeliveryResult).length});for(d of Object.entries(a.serviceTypeDeliveryResult)){e=d[0];f=d[1];b.writeI32((a=Number(e))!=null?a:0);b.writeI32(f!=null?f:0)}b.writeMapEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function J(a,b){b.writeStructBegin("AddParticipantsRequest");b.writeFieldBegin({fname:"usersToInvite",ftype:(h||(h=c("ThriftTypes"))).SET,fid:1});if(a.usersToInvite!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.usersToInvite.size});for(var e of a.usersToInvite)b.writeString(e);b.writeSetEnd()}else{e=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:e.size});for(e of e)b.writeString(e);b.writeSetEnd()}b.writeFieldEnd();if(a.appMessages!=null){b.writeFieldBegin({fname:"appMessages",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.appMessages.length});for(e of a.appMessages)d("DataMessageSerializers").serializeDataMessage(e,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function K(a,b){b.writeStructBegin("SfuAllocation");b.writeFieldBegin({fname:"smcTier",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.smcTier!=null)b.writeString(a.smcTier);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"region",ftype:h.STRING,fid:2});if(a.region!=null)b.writeString(a.region);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"isUsfu",ftype:h.BOOL,fid:3});if(a.isUsfu!=null)b.writeBool(a.isUsfu);else{d=!1;b.writeBool(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"isEdge",ftype:h.BOOL,fid:4});if(a.isEdge!=null)b.writeBool(a.isEdge);else{d=!1;b.writeBool(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function L(a,b){b.writeStructBegin("JoinRequest");b.writeFieldBegin({fname:"offer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.offer!=null)o(a.offer,b);else{var e=i();o(e,b)}b.writeFieldEnd();b.writeFieldBegin({fname:"deviceCapabilities",ftype:h.SET,fid:2});if(a.deviceCapabilities!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:a.deviceCapabilities.size});for(e of a.deviceCapabilities)b.writeI32(e!=null?e:0);b.writeSetEnd()}else{e=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:e.size});for(e of e)b.writeI32(e!=null?e:0);b.writeSetEnd()}b.writeFieldEnd();if(a.usersToCall!=null){b.writeFieldBegin({fname:"usersToCall",ftype:(h||(h=c("ThriftTypes"))).SET,fid:3});b.writeSetBegin({etype:h.STRING,size:a.usersToCall.size});for(e of a.usersToCall)b.writeString(e);b.writeSetEnd();b.writeFieldEnd()}if(a.mediaStatus!=null){b.writeFieldBegin({fname:"mediaStatus",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:4});b.writeMapBegin({ktype:h.STRING,vtype:h.BOOL,size:Object.keys(a.mediaStatus).length});for(e of Object.entries(a.mediaStatus)){var f=e[0],g=e[1];b.writeString(f);b.writeBool(g)}b.writeMapEnd();b.writeFieldEnd()}a.userCapabilities!=null&&(b.writeFieldBegin({fname:"userCapabilities",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeBinary(a.userCapabilities),b.writeFieldEnd());a.supportedExperiments!=null&&(b.writeFieldBegin({fname:"supportedExperiments",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:6}),b.writeString(a.supportedExperiments),b.writeFieldEnd());if(a.appMessages!=null){b.writeFieldBegin({fname:"appMessages",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:9});b.writeListBegin({etype:h.STRUCT,size:a.appMessages.length});for(f of a.appMessages)d("DataMessageSerializers").serializeDataMessage(f,b);b.writeListEnd();b.writeFieldEnd()}a.userToEscalate!=null&&(b.writeFieldBegin({fname:"userToEscalate",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:10}),b.writeString(a.userToEscalate),b.writeFieldEnd());a.escalatingCallId!=null&&(b.writeFieldBegin({fname:"escalatingCallId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:11}),b.writeI64(BigInt(a.escalatingCallId)),b.writeFieldEnd());if(a.conferenceType!=null){b.writeFieldBegin({fname:"conferenceType",ftype:(h||(h=c("ThriftTypes"))).I32,fid:12});b.writeI32((g=a.conferenceType)!=null?g:0);b.writeFieldEnd()}a.mediaStatusEx!=null&&(b.writeFieldBegin({fname:"mediaStatusEx",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:13}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatusEx,b),b.writeFieldEnd());a.answer!=null&&(b.writeFieldBegin({fname:"answer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:14}),o(a.answer,b),b.writeFieldEnd());a.syncPayload!=null&&(b.writeFieldBegin({fname:"syncPayload",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:15}),t(a.syncPayload,b),b.writeFieldEnd());if(a.usersToApproveFromWaitingRoom!=null){b.writeFieldBegin({fname:"usersToApproveFromWaitingRoom",ftype:(h||(h=c("ThriftTypes"))).SET,fid:16});b.writeSetBegin({etype:h.STRING,size:a.usersToApproveFromWaitingRoom.size});for(e of a.usersToApproveFromWaitingRoom)b.writeString(e);b.writeSetEnd();b.writeFieldEnd()}a.e2eeEnforcement!=null&&(b.writeFieldBegin({fname:"e2eeEnforcement",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:17}),d("MultiwaySharedSerializers").serializeE2eeEnforcement(a.e2eeEnforcement,b),b.writeFieldEnd());a.sfuAllocation!=null&&(b.writeFieldBegin({fname:"sfuAllocation",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:18}),K(a.sfuAllocation,b),b.writeFieldEnd());if(a.clientMediaMode!=null){b.writeFieldBegin({fname:"clientMediaMode",ftype:(h||(h=c("ThriftTypes"))).I32,fid:19});b.writeI32((f=a.clientMediaMode)!=null?f:0);b.writeFieldEnd()}a.endpointSettings!=null&&(b.writeFieldBegin({fname:"endpointSettings",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:20}),Za(a.endpointSettings,b),b.writeFieldEnd());a.backupSfuAllocation!=null&&(b.writeFieldBegin({fname:"backupSfuAllocation",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:21}),K(a.backupSfuAllocation,b),b.writeFieldEnd());if(a.supportedCustomVideoContentTypes!=null){b.writeFieldBegin({fname:"supportedCustomVideoContentTypes",ftype:(h||(h=c("ThriftTypes"))).SET,fid:22});b.writeSetBegin({etype:h.I32,size:a.supportedCustomVideoContentTypes.size});for(g of a.supportedCustomVideoContentTypes)b.writeI32(g!=null?g:0);b.writeSetEnd();b.writeFieldEnd()}a.configIntegrityOpaqueToken!=null&&(b.writeFieldBegin({fname:"configIntegrityOpaqueToken",ftype:(h||(h=c("ThriftTypes"))).I32,fid:23}),b.writeI32(a.configIntegrityOpaqueToken),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function M(a,b){b.writeStructBegin("JoinResponse");b.writeFieldBegin({fname:"answer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.answer!=null)o(a.answer,b);else{var e=i();o(e,b)}b.writeFieldEnd();b.writeFieldBegin({fname:"mediaStatus",ftype:h.MAP,fid:2});if(a.mediaStatus!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.BOOL,size:Object.keys(a.mediaStatus).length});for(e of Object.entries(a.mediaStatus)){var f=e[0],g=e[1];b.writeString(f);b.writeBool(g)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.BOOL,size:Object.keys(f).length});for(g of Object.entries(f)){e=g[0];f=g[1];b.writeString(e);b.writeBool(f)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"initiator",ftype:h.STRING,fid:3});if(a.initiator!=null)b.writeString(a.initiator);else{e="";b.writeString(e)}b.writeFieldEnd();a.negotiatedExperiments!=null&&(b.writeFieldBegin({fname:"negotiatedExperiments",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeString(a.negotiatedExperiments),b.writeFieldEnd());a.mediaStatusEx!=null&&(b.writeFieldBegin({fname:"mediaStatusEx",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatusEx,b),b.writeFieldEnd());if(a.appMessages!=null){b.writeFieldBegin({fname:"appMessages",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:7});b.writeListBegin({etype:h.STRUCT,size:a.appMessages.length});for(f of a.appMessages)d("DataMessageSerializers").serializeDataMessage(f,b);b.writeListEnd();b.writeFieldEnd()}if(a.stateStore!=null){b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:8});b.writeMapBegin({ktype:h.STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(g of Object.entries(a.stateStore)){e=g[0];f=g[1];b.writeString(e);d("StateSyncSerializers").serializeState(f,b)}b.writeMapEnd();b.writeFieldEnd()}a.sdpOriginLocalId!=null&&(b.writeFieldBegin({fname:"sdpOriginLocalId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:9}),b.writeString(a.sdpOriginLocalId),b.writeFieldEnd());b.writeFieldBegin({fname:"isPendingApproval",ftype:h.BOOL,fid:10});if(a.isPendingApproval!=null)b.writeBool(a.isPendingApproval);else{e=!1;b.writeBool(e)}b.writeFieldEnd();a.renegotiationOffer!=null&&(b.writeFieldBegin({fname:"renegotiationOffer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:11}),o(a.renegotiationOffer,b),b.writeFieldEnd());b.writeFieldBegin({fname:"multipleVideoStreamsAllowed",ftype:h.BOOL,fid:12});if(a.multipleVideoStreamsAllowed!=null)b.writeBool(a.multipleVideoStreamsAllowed);else{f=!1;b.writeBool(f)}b.writeFieldEnd();b.writeFieldBegin({fname:"mediaPath",ftype:h.I32,fid:13});if(a.mediaPath!=null){b.writeI32((g=a.mediaPath)!=null?g:0)}else{e=d("MultiwaySharedTypes").MediaPath.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"groupsOfUsers",ftype:h.LIST,fid:14});if(a.groupsOfUsers!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.groupsOfUsers.length});for(f of a.groupsOfUsers)Y(f,b);b.writeListEnd()}else{g=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:g.length});for(e of g)Y(e,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"screenShareStreamAllowed",ftype:h.BOOL,fid:15});if(a.screenShareStreamAllowed!=null)b.writeBool(a.screenShareStreamAllowed);else{f=!1;b.writeBool(f)}b.writeFieldEnd();a.relayInfo!=null&&(b.writeFieldBegin({fname:"relayInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:16}),d("MultiwaySharedSerializers").serializeRelayInfo(a.relayInfo,b),b.writeFieldEnd());a.selfSctpNodeId!=null&&(b.writeFieldBegin({fname:"selfSctpNodeId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:17}),b.writeI64(BigInt(a.selfSctpNodeId)),b.writeFieldEnd());if(a.stateStoreV2!=null){b.writeFieldBegin({fname:"stateStoreV2",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:18});b.writeMapBegin({ktype:h.I32,vtype:h.STRUCT,size:Object.keys(a.stateStoreV2).length});for(g of Object.entries(a.stateStoreV2)){e=g[0];f=g[1];b.writeI32((e=Number(e))!=null?e:0);d("StateSyncSerializers").serializeState(f,b)}b.writeMapEnd();b.writeFieldEnd()}if(a.allowedCustomVideoContentTypes!=null){b.writeFieldBegin({fname:"allowedCustomVideoContentTypes",ftype:(h||(h=c("ThriftTypes"))).SET,fid:19});b.writeSetBegin({etype:h.I32,size:a.allowedCustomVideoContentTypes.size});for(e of a.allowedCustomVideoContentTypes)b.writeI32(e!=null?e:0);b.writeSetEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function N(a,b){b.writeStructBegin("ConnectRequest");a.sdp!=null&&(b.writeFieldBegin({fname:"sdp",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),o(a.sdp,b),b.writeFieldEnd());b.writeFieldBegin({fname:"deviceCapabilities",ftype:(h||(h=c("ThriftTypes"))).SET,fid:3});if(a.deviceCapabilities!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:a.deviceCapabilities.size});for(var e of a.deviceCapabilities)b.writeI32(e!=null?e:0);b.writeSetEnd()}else{e=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).I32,size:e.size});for(e of e)b.writeI32(e!=null?e:0);b.writeSetEnd()}b.writeFieldEnd();if(a.supportedCustomVideoContentTypes!=null){b.writeFieldBegin({fname:"supportedCustomVideoContentTypes",ftype:(h||(h=c("ThriftTypes"))).SET,fid:5});b.writeSetBegin({etype:h.I32,size:a.supportedCustomVideoContentTypes.size});for(e of a.supportedCustomVideoContentTypes)b.writeI32(e!=null?e:0);b.writeSetEnd();b.writeFieldEnd()}a.prOffer!=null&&(b.writeFieldBegin({fname:"prOffer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),o(a.prOffer,b),b.writeFieldEnd());a.e2eeEnforcement!=null&&(b.writeFieldBegin({fname:"e2eeEnforcement",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7}),d("MultiwaySharedSerializers").serializeE2eeEnforcement(a.e2eeEnforcement,b),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function O(a,b){b.writeStructBegin("ConnectResponse"),a.sdp!=null&&(b.writeFieldBegin({fname:"sdp",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),o(a.sdp,b),b.writeFieldEnd()),a.sdpOriginLocalId!=null&&(b.writeFieldBegin({fname:"sdpOriginLocalId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.sdpOriginLocalId),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function P(a,b){b.writeStructBegin("ClientEvent");b.writeFieldBegin({fname:"type",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.type!=null){var e;b.writeI32((e=a.type)!=null?e:0)}else{e=d("MultiwayCommonTypes").ClientEventType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.time!=null&&(b.writeFieldBegin({fname:"time",ftype:(h||(h=c("ThriftTypes"))).I64,fid:2}),b.writeI64(BigInt(a.time)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function Q(a,b){b.writeStructBegin("ClientEventRequest");b.writeFieldBegin({fname:"clientEvents",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:1});if(a.clientEvents!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.clientEvents.length});for(a of a.clientEvents)P(a,b);b.writeListEnd()}else{a=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.length});for(a of a)P(a,b);b.writeListEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function bb(a,b){b.writeStructBegin("ThreadIdInfo"),a.groupThreadId!=null&&(b.writeFieldBegin({fname:"groupThreadId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.groupThreadId),b.writeFieldEnd()),a.peerId!=null&&(b.writeFieldBegin({fname:"peerId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.peerId),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function R(a,b){b.writeStructBegin("ClientEventResponse"),b.writeFieldStop(),b.writeStructEnd()}function S(a,b){b.writeStructBegin("RingRequest");b.writeFieldBegin({fname:"caller",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.caller!=null)b.writeString(a.caller);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"otherParticipants",ftype:h.SET,fid:2});if(a.otherParticipants!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.otherParticipants.size});for(e of a.otherParticipants)b.writeString(e);b.writeSetEnd()}else{e=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:e.size});for(e of e)b.writeString(e);b.writeSetEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"ringType",ftype:h.I32,fid:4});if(a.ringType!=null){b.writeI32((e=a.ringType)!=null?e:0)}else{e=d("MultiwayCommonTypes").RingType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.offeredExperiments!=null&&(b.writeFieldBegin({fname:"offeredExperiments",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeString(a.offeredExperiments),b.writeFieldEnd());a.isScheduledCall!=null&&(b.writeFieldBegin({fname:"isScheduledCall",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:6}),b.writeBool(a.isScheduledCall),b.writeFieldEnd());if(a.appMessages!=null){b.writeFieldBegin({fname:"appMessages",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:8});b.writeListBegin({etype:h.STRUCT,size:a.appMessages.length});for(e of a.appMessages)d("DataMessageSerializers").serializeDataMessage(e,b);b.writeListEnd();b.writeFieldEnd()}a.offer!=null&&(b.writeFieldBegin({fname:"offer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:10}),o(a.offer,b),b.writeFieldEnd());a.mediaStatusEx!=null&&(b.writeFieldBegin({fname:"mediaStatusEx",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:11}),d("MultiwaySharedSerializers").serializeClientMediaStatus(a.mediaStatusEx,b),b.writeFieldEnd());a.isPreconnectSupported!=null&&(b.writeFieldBegin({fname:"isPreconnectSupported",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:12}),b.writeBool(a.isPreconnectSupported),b.writeFieldEnd());a.sdpOriginLocalId!=null&&(b.writeFieldBegin({fname:"sdpOriginLocalId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:13}),b.writeString(a.sdpOriginLocalId),b.writeFieldEnd());a.unifiedOffer!=null&&(b.writeFieldBegin({fname:"unifiedOffer",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:14}),o(a.unifiedOffer,b),b.writeFieldEnd());b.writeFieldBegin({fname:"mediaPath",ftype:h.I32,fid:15});if(a.mediaPath!=null){b.writeI32((e=a.mediaPath)!=null?e:0)}else{e=d("MultiwaySharedTypes").MediaPath.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.e2eeEnforcement!=null&&(b.writeFieldBegin({fname:"e2eeEnforcement",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:16}),d("MultiwaySharedSerializers").serializeE2eeEnforcement(a.e2eeEnforcement,b),b.writeFieldEnd());a.isLegacyCall!=null&&(b.writeFieldBegin({fname:"isLegacyCall",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:17}),b.writeBool(a.isLegacyCall),b.writeFieldEnd());b.writeFieldBegin({fname:"isTransferCall",ftype:h.BOOL,fid:18});if(a.isTransferCall!=null)b.writeBool(a.isTransferCall);else{e=!1;b.writeBool(e)}b.writeFieldEnd();a.relayInfo!=null&&(b.writeFieldBegin({fname:"relayInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:20}),d("MultiwaySharedSerializers").serializeRelayInfo(a.relayInfo,b),b.writeFieldEnd());if(a.overlayConfigs!=null){b.writeFieldBegin({fname:"overlayConfigs",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:21});b.writeMapBegin({ktype:h.I32,vtype:h.I32,size:Object.keys(a.overlayConfigs).length});for(e of Object.entries(a.overlayConfigs)){var f=e[0],g=e[1];b.writeI32(Number(f));b.writeI32(g)}b.writeMapEnd();b.writeFieldEnd()}a.productMetadata!=null&&(b.writeFieldBegin({fname:"productMetadata",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:22}),ab(a.productMetadata,b),b.writeFieldEnd());a.callerClientSessionId!=null&&(b.writeFieldBegin({fname:"callerClientSessionId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:23}),b.writeString(a.callerClientSessionId),b.writeFieldEnd());a.threadIdInfo!=null&&(b.writeFieldBegin({fname:"threadIdInfo",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:24}),bb(a.threadIdInfo,b),b.writeFieldEnd());a.linkUrl!=null&&(b.writeFieldBegin({fname:"linkUrl",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:25}),b.writeString(a.linkUrl),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function T(a,b){b.writeStructBegin("RingResponse");b.writeFieldBegin({fname:"deviceStatus",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.deviceStatus!=null){b.writeI32((a=a.deviceStatus)!=null?a:0)}else{a=d("MultiwayCommonTypes").DeviceStatus.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function U(a,b){b.writeStructBegin("RemoveParticipantsRequest");b.writeFieldBegin({fname:"usersToRemove",ftype:(h||(h=c("ThriftTypes"))).SET,fid:1});if(a.usersToRemove!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.usersToRemove.size});for(a of a.usersToRemove)b.writeString(a);b.writeSetEnd()}else{a=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.size});for(a of a)b.writeString(a);b.writeSetEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function V(a,b){b.writeStructBegin("UnsubscribeRequest");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.topic!=null)b.writeString(a.topic);else{var e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:2});if(a.version!=null)b.writeI32(a.version);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"topicId",ftype:h.I32,fid:3});if(a.topicId!=null){b.writeI32((e=a.topicId)!=null?e:0)}else{a=d("StateSyncTopicsConfigTypes").TopicId.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function W(a,b){b.writeStructBegin("UnsubscribeResponse");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.topic!=null)b.writeString(a.topic);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:2});if(a.version!=null)b.writeI32(a.version);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function X(a,b){b.writeStructBegin("UpdateRequest");b.writeFieldBegin({fname:"syncPayload",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.syncPayload!=null)t(a.syncPayload,b);else{var e=l();t(e,b)}b.writeFieldEnd();b.writeFieldBegin({fname:"topic",ftype:h.STRING,fid:2});if(a.topic!=null)b.writeString(a.topic);else{e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:3});if(a.version!=null)b.writeI32(a.version);else{e=0;b.writeI32(e)}b.writeFieldEnd();a.data!=null&&(b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.data),b.writeFieldEnd());b.writeFieldBegin({fname:"topicId",ftype:h.I32,fid:5});if(a.topicId!=null){b.writeI32((e=a.topicId)!=null?e:0)}else{a=d("StateSyncTopicsConfigTypes").TopicId.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function cb(a,b){b.writeStructBegin("UpdateResponse");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.topic!=null)b.writeString(a.topic);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:3});if(a.version!=null)b.writeI32(a.version);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function db(a,b){b.writeStructBegin("NotifyRequest");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.topic!=null)b.writeString(a.topic);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:3});if(a.version!=null)b.writeI32(a.version);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"data",ftype:h.STRING,fid:4});if(a.data!=null)b.writeBinary(a.data);else{d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.syncPayload!=null&&(b.writeFieldBegin({fname:"syncPayload",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5}),t(a.syncPayload,b),b.writeFieldEnd());if(a.topicId!=null){b.writeFieldBegin({fname:"topicId",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6});b.writeI32((d=a.topicId)!=null?d:0);b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function eb(a,b){b.writeStructBegin("NotifyResponse");b.writeFieldBegin({fname:"topic",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.topic!=null)b.writeString(a.topic);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"version",ftype:h.I32,fid:3});if(a.version!=null)b.writeI32(a.version);else{d=0;b.writeI32(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function fb(a,b){b.writeStructBegin("ApprovalRequest");b.writeFieldBegin({fname:"approvalStatus",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.approvalStatus!=null){var e;b.writeI32((e=a.approvalStatus)!=null?e:0)}else{e=d("MultiwayCommonTypes").ApprovalStatus.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"targetUsers",ftype:h.SET,fid:3});if(a.targetUsers!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.targetUsers.size});for(e of a.targetUsers)b.writeString(e);b.writeSetEnd()}else{a=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.size});for(e of a)b.writeString(e);b.writeSetEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function gb(a,b){b.writeStructBegin("RtcSender");b.writeFieldBegin({fname:"id",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.id!=null)b.writeString(a.id);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function hb(a,b){b.writeStructBegin("RtcReceiver");b.writeFieldBegin({fname:"actorId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.actorId!=null)b.writeString(a.actorId);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"baseId",ftype:h.STRING,fid:2});if(a.baseId!=null)b.writeString(a.baseId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function ib(a,b){b.writeStructBegin("RtcMessageHeader");b.writeFieldBegin({fname:"type",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.type!=null){var e;b.writeI32((e=a.type)!=null?e:0)}else{e=d("MultiwayCommonTypes").MessageType.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();b.writeFieldBegin({fname:"conferenceName",ftype:h.STRING,fid:2});if(a.conferenceName!=null)b.writeString(a.conferenceName);else{e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"transactionId",ftype:h.STRING,fid:3});if(a.transactionId!=null)b.writeString(a.transactionId);else{e="";b.writeString(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"retryCount",ftype:h.I16,fid:4});if(a.retryCount!=null)b.writeI16(a.retryCount);else{e=0;b.writeI16(e)}b.writeFieldEnd();a.serverInfoData!=null&&(b.writeFieldBegin({fname:"serverInfoData",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeString(a.serverInfoData),b.writeFieldEnd());if(a.responseStatusCode!=null){b.writeFieldBegin({fname:"responseStatusCode",ftype:(h||(h=c("ThriftTypes"))).I32,fid:6});b.writeI32((e=a.responseStatusCode)!=null?e:0);b.writeFieldEnd()}if(a.extensions!=null){b.writeFieldBegin({fname:"extensions",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:7});b.writeMapBegin({ktype:h.STRING,vtype:h.STRING,size:Object.keys(a.extensions).length});for(e of Object.entries(a.extensions)){var f=e[0],g=e[1];b.writeString(f);b.writeString(g)}b.writeMapEnd();b.writeFieldEnd()}a.sequenceNumber!=null&&(b.writeFieldBegin({fname:"sequenceNumber",ftype:(h||(h=c("ThriftTypes"))).I64,fid:8}),b.writeI64(BigInt(a.sequenceNumber)),b.writeFieldEnd());a.clientSessionId!=null&&(b.writeFieldBegin({fname:"clientSessionId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:9}),b.writeString(a.clientSessionId),b.writeFieldEnd());a.responseStatusMessage!=null&&(b.writeFieldBegin({fname:"responseStatusMessage",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:10}),b.writeString(a.responseStatusMessage),b.writeFieldEnd());if(a.responseSubCode!=null){b.writeFieldBegin({fname:"responseSubCode",ftype:(h||(h=c("ThriftTypes"))).I32,fid:11});b.writeI32((f=a.responseSubCode)!=null?f:0);b.writeFieldEnd()}a.collisionKey!=null&&(b.writeFieldBegin({fname:"collisionKey",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:12}),b.writeString(a.collisionKey),b.writeFieldEnd());if(a.conferenceType!=null){b.writeFieldBegin({fname:"conferenceType",ftype:(h||(h=c("ThriftTypes"))).I32,fid:13});b.writeI32((g=a.conferenceType)!=null?g:0);b.writeFieldEnd()}a.serverSessionId!=null&&(b.writeFieldBegin({fname:"serverSessionId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:14}),b.writeString(a.serverSessionId),b.writeFieldEnd());a.rtcHandle!=null&&(b.writeFieldBegin({fname:"rtcHandle",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:15}),b.writeString(a.rtcHandle),b.writeFieldEnd());a.retryAfterMsec!=null&&(b.writeFieldBegin({fname:"retryAfterMsec",ftype:(h||(h=c("ThriftTypes"))).I32,fid:16}),b.writeI32(a.retryAfterMsec),b.writeFieldEnd());a.receiverUserId!=null&&(b.writeFieldBegin({fname:"receiverUserId",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:17}),b.writeString(a.receiverUserId),b.writeFieldEnd());if(a.clientStack!=null){b.writeFieldBegin({fname:"clientStack",ftype:(h||(h=c("ThriftTypes"))).I32,fid:18});b.writeI32((e=a.clientStack)!=null?e:0);b.writeFieldEnd()}a.serverMsgTime!=null&&(b.writeFieldBegin({fname:"serverMsgTime",ftype:(h||(h=c("ThriftTypes"))).I64,fid:19}),b.writeI64(BigInt(a.serverMsgTime)),b.writeFieldEnd());a.sender!=null&&(b.writeFieldBegin({fname:"sender",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:20}),gb(a.sender,b),b.writeFieldEnd());a.receiver!=null&&(b.writeFieldBegin({fname:"receiver",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:21}),hb(a.receiver,b),b.writeFieldEnd());if(a.messageTags!=null){b.writeFieldBegin({fname:"messageTags",ftype:(h||(h=c("ThriftTypes"))).SET,fid:22});b.writeSetBegin({etype:h.I32,size:a.messageTags.size});for(f of a.messageTags)b.writeI32(f!=null?f:0);b.writeSetEnd();b.writeFieldEnd()}a.conferenceId!=null&&(b.writeFieldBegin({fname:"conferenceId",ftype:(h||(h=c("ThriftTypes"))).I64,fid:23}),b.writeI64(BigInt(a.conferenceId)),b.writeFieldEnd());a.protocolVersion!=null&&(b.writeFieldBegin({fname:"protocolVersion",ftype:(h||(h=c("ThriftTypes"))).I32,fid:24}),b.writeI32(a.protocolVersion),b.writeFieldEnd());a.bodyCompressionVersion!=null&&(b.writeFieldBegin({fname:"bodyCompressionVersion",ftype:(h||(h=c("ThriftTypes"))).I64,fid:25}),b.writeI64(BigInt(a.bodyCompressionVersion)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function jb(a,b){b.writeStructBegin("RtcMessageBody"),a.joinRequest!=null&&(b.writeFieldBegin({fname:"joinRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1}),L(a.joinRequest,b),b.writeFieldEnd()),a.joinResponse!=null&&(b.writeFieldBegin({fname:"joinResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2}),M(a.joinResponse,b),b.writeFieldEnd()),a.serverMediaUpdateRequest!=null&&(b.writeFieldBegin({fname:"serverMediaUpdateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3}),w(a.serverMediaUpdateRequest,b),b.writeFieldEnd()),a.serverMediaUpdateResponse!=null&&(b.writeFieldBegin({fname:"serverMediaUpdateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4}),x(a.serverMediaUpdateResponse,b),b.writeFieldEnd()),a.hangupRequest!=null&&(b.writeFieldBegin({fname:"hangupRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5}),z(a.hangupRequest,b),b.writeFieldEnd()),a.iceCandidateRequest!=null&&(b.writeFieldBegin({fname:"iceCandidateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),A(a.iceCandidateRequest,b),b.writeFieldEnd()),a.ringRequest!=null&&(b.writeFieldBegin({fname:"ringRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:8}),S(a.ringRequest,b),b.writeFieldEnd()),a.ringResponse!=null&&(b.writeFieldBegin({fname:"ringResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:9}),T(a.ringResponse,b),b.writeFieldEnd()),a.dismissRequest!=null&&(b.writeFieldBegin({fname:"dismissRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:10}),B(a.dismissRequest,b),b.writeFieldEnd()),a.conferenceStateRequest!=null&&(b.writeFieldBegin({fname:"conferenceStateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:11}),E(a.conferenceStateRequest,b),b.writeFieldEnd()),a.conferenceStateResponse!=null&&(b.writeFieldBegin({fname:"conferenceStateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:12}),F(a.conferenceStateResponse,b),b.writeFieldEnd()),a.addParticipantsRequest!=null&&(b.writeFieldBegin({fname:"addParticipantsRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:13}),J(a.addParticipantsRequest,b),b.writeFieldEnd()),a.subscriptionRequest!=null&&(b.writeFieldBegin({fname:"subscriptionRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:14}),G(a.subscriptionRequest,b),b.writeFieldEnd()),a.clientMediaUpdateRequest!=null&&(b.writeFieldBegin({fname:"clientMediaUpdateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:15}),u(a.clientMediaUpdateRequest,b),b.writeFieldEnd()),a.clientMediaUpdateResponse!=null&&(b.writeFieldBegin({fname:"clientMediaUpdateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:16}),v(a.clientMediaUpdateResponse,b),b.writeFieldEnd()),a.dataMessageRequest!=null&&(b.writeFieldBegin({fname:"dataMessageRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:17}),H(a.dataMessageRequest,b),b.writeFieldEnd()),a.removeParticipantsRequest!=null&&(b.writeFieldBegin({fname:"removeParticipantsRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:18}),U(a.removeParticipantsRequest,b),b.writeFieldEnd()),a.dataMessageResponse!=null&&(b.writeFieldBegin({fname:"dataMessageResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:19}),I(a.dataMessageResponse,b),b.writeFieldEnd()),a.updateRequest!=null&&(b.writeFieldBegin({fname:"updateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:30}),X(a.updateRequest,b),b.writeFieldEnd()),a.updateResponse!=null&&(b.writeFieldBegin({fname:"updateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:31}),cb(a.updateResponse,b),b.writeFieldEnd()),a.notifyRequest!=null&&(b.writeFieldBegin({fname:"notifyRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:32}),db(a.notifyRequest,b),b.writeFieldEnd()),a.notifyResponse!=null&&(b.writeFieldBegin({fname:"notifyResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:33}),eb(a.notifyResponse,b),b.writeFieldEnd()),a.connectRequest!=null&&(b.writeFieldBegin({fname:"connectRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:34}),N(a.connectRequest,b),b.writeFieldEnd()),a.connectResponse!=null&&(b.writeFieldBegin({fname:"connectResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:35}),O(a.connectResponse,b),b.writeFieldEnd()),a.clientEventRequest!=null&&(b.writeFieldBegin({fname:"clientEventRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:36}),Q(a.clientEventRequest,b),b.writeFieldEnd()),a.clientEventResponse!=null&&(b.writeFieldBegin({fname:"clientEventResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:37}),R(a.clientEventResponse,b),b.writeFieldEnd()),a.unsubscribeRequest!=null&&(b.writeFieldBegin({fname:"unsubscribeRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:40}),V(a.unsubscribeRequest,b),b.writeFieldEnd()),a.unsubscribeResponse!=null&&(b.writeFieldBegin({fname:"unsubscribeResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:41}),W(a.unsubscribeResponse,b),b.writeFieldEnd()),a.approvalRequest!=null&&(b.writeFieldBegin({fname:"approvalRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:42}),fb(a.approvalRequest,b),b.writeFieldEnd()),a.transferRequest!=null&&(b.writeFieldBegin({fname:"transferRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:43}),y(a.transferRequest,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function kb(a,b){b.writeStructBegin("RtcMultiwayMessage");b.writeFieldBegin({fname:"messageHeader",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});if(a.messageHeader!=null)ib(a.messageHeader,b);else{var d=m();ib(d,b)}b.writeFieldEnd();b.writeFieldBegin({fname:"messageBody",ftype:h.STRUCT,fid:2});if(a.messageBody!=null)jb(a.messageBody,b);else{d=n();jb(d,b)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function Y(a,b){b.writeStructBegin("GroupOfUsers");b.writeFieldBegin({fname:"users",ftype:(h||(h=c("ThriftTypes"))).SET,fid:1});if(a.users!=null){b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:a.users.size});for(var d of a.users)b.writeString(d);b.writeSetEnd()}else{d=new Set();b.writeSetBegin({etype:(h||(h=c("ThriftTypes"))).STRING,size:d.size});for(d of d)b.writeString(d);b.writeSetEnd()}b.writeFieldEnd();b.writeFieldBegin({fname:"allowMultipleJoins",ftype:h.BOOL,fid:2});if(a.allowMultipleJoins!=null)b.writeBool(a.allowMultipleJoins);else{d=!1;b.writeBool(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"dismissOthersOnFirstJoin",ftype:h.BOOL,fid:3});if(a.dismissOthersOnFirstJoin!=null)b.writeBool(a.dismissOthersOnFirstJoin);else{d=!1;b.writeBool(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"aliasId",ftype:h.STRING,fid:4});if(a.aliasId!=null)b.writeString(a.aliasId);else{d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function lb(a,b){b.writeStructBegin("RtcMessageBodyVariant");if(a.joinRequest!=null){b.writeFieldBegin({fname:"joinRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});L(a.joinRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.joinResponse!=null){b.writeFieldBegin({fname:"joinResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});M(a.joinResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.serverMediaUpdateRequest!=null){b.writeFieldBegin({fname:"serverMediaUpdateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});w(a.serverMediaUpdateRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.serverMediaUpdateResponse!=null){b.writeFieldBegin({fname:"serverMediaUpdateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});x(a.serverMediaUpdateResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.hangupRequest!=null){b.writeFieldBegin({fname:"hangupRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});z(a.hangupRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.iceCandidateRequest!=null){b.writeFieldBegin({fname:"iceCandidateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});A(a.iceCandidateRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ringRequest!=null){b.writeFieldBegin({fname:"ringRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:8});S(a.ringRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ringResponse!=null){b.writeFieldBegin({fname:"ringResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:9});T(a.ringResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.dismissRequest!=null){b.writeFieldBegin({fname:"dismissRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:10});B(a.dismissRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.conferenceStateRequest!=null){b.writeFieldBegin({fname:"conferenceStateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:11});E(a.conferenceStateRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.conferenceStateResponse!=null){b.writeFieldBegin({fname:"conferenceStateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:12});F(a.conferenceStateResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.addParticipantsRequest!=null){b.writeFieldBegin({fname:"addParticipantsRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:13});J(a.addParticipantsRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.subscriptionRequest!=null){b.writeFieldBegin({fname:"subscriptionRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:14});G(a.subscriptionRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.clientMediaUpdateRequest!=null){b.writeFieldBegin({fname:"clientMediaUpdateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:15});u(a.clientMediaUpdateRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.clientMediaUpdateResponse!=null){b.writeFieldBegin({fname:"clientMediaUpdateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:16});v(a.clientMediaUpdateResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.dataMessageRequest!=null){b.writeFieldBegin({fname:"dataMessageRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:17});H(a.dataMessageRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.removeParticipantsRequest!=null){b.writeFieldBegin({fname:"removeParticipantsRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:18});U(a.removeParticipantsRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.dataMessageResponse!=null){b.writeFieldBegin({fname:"dataMessageResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:19});I(a.dataMessageResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.updateRequest!=null){b.writeFieldBegin({fname:"updateRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:30});X(a.updateRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.updateResponse!=null){b.writeFieldBegin({fname:"updateResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:31});cb(a.updateResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.notifyRequest!=null){b.writeFieldBegin({fname:"notifyRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:32});db(a.notifyRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.notifyResponse!=null){b.writeFieldBegin({fname:"notifyResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:33});eb(a.notifyResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.connectRequest!=null){b.writeFieldBegin({fname:"connectRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:34});N(a.connectRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.connectResponse!=null){b.writeFieldBegin({fname:"connectResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:35});O(a.connectResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.clientEventRequest!=null){b.writeFieldBegin({fname:"clientEventRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:36});Q(a.clientEventRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.clientEventResponse!=null){b.writeFieldBegin({fname:"clientEventResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:37});R(a.clientEventResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.unsubscribeRequest!=null){b.writeFieldBegin({fname:"unsubscribeRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:40});V(a.unsubscribeRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.unsubscribeResponse!=null){b.writeFieldBegin({fname:"unsubscribeResponse",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:41});W(a.unsubscribeResponse,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.approvalRequest!=null){b.writeFieldBegin({fname:"approvalRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:42});fb(a.approvalRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.transferRequest!=null){b.writeFieldBegin({fname:"transferRequest",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:43});y(a.transferRequest,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function mb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.responseStatusCode=d("MultiwayCommonTypes").RtcResponseStatusCode.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.responseSubCode=d("MultiwayCommonTypes").RtcResponseSubCode.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.apiStatusCode=d("MultiwayCommonTypes").RtcApiStatusCode.cast(a.readI32()):a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.rtcLogSeverity=d("MultiwayCommonTypes").RtcLogSeverity.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message="");b.responseStatusCode===void 0&&(b.responseStatusCode=d("MultiwayCommonTypes").RtcResponseStatusCode.cast(0));b.responseSubCode===void 0&&(b.responseSubCode=d("MultiwayCommonTypes").RtcResponseSubCode.cast(0));b.apiStatusCode===void 0&&(b.apiStatusCode=d("MultiwayCommonTypes").RtcApiStatusCode.cast(0));b.rtcLogSeverity===void 0&&(b.rtcLogSeverity=d("MultiwayCommonTypes").RtcLogSeverity.cast(0));return b}function Z(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpString=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.sdpThrift=d("WebrtcSdpSerializers").deserializeSdp(a):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.sdpCompressionVersion=a.readI64().toString():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpCompressedData=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return b}function nb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.media={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readI32(),i=ob(a);b.media[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.media===void 0&&(b.media={});return b}function ob(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.body=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.msid=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.mid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.body===void 0&&(b.body="");b.msid===void 0&&(b.msid="");b.mid===void 0&&(b.mid="");return b}function pb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.sourceKey=a.readString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.media=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("MultiwaySharedSerializers").deserializeMedia(a);b.media.push(i)}}else a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).LIST){b.ssrcGroups=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=d("MultiwaySharedSerializers").deserializeSsrcGroup(a);b.ssrcGroups.push(e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.sourceKey===void 0&&(b.sourceKey="");b.media===void 0&&(b.media=[]);b.ssrcGroups===void 0&&(b.ssrcGroups=[]);return b}function qb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.mediaStatus={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=a.readBool();b.mediaStatus[i]=j}}else a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatusEx=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.mediaStatus===void 0&&(b.mediaStatus={});return b}function rb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.candidateSdpString=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I64?b.sdpMLineIndex=a.readI64().toString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpMid=a.readString():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRUCT?b.candidateSdpThrift=d("WebrtcSdpSerializers").deserializeIceCandidateSdp(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.sdpMLineIndex===void 0&&(b.sdpMLineIndex="0");b.sdpMid===void 0&&(b.sdpMid="");return b}function $(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=d("StateSyncSerializers").deserializeState(a);b.stateStore[i]=j}}else a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStoreV2={};i=a.readMapBegin();for(j=0;j<i.size;j++){g=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32());e=d("StateSyncSerializers").deserializeState(a);g!=null&&(b.stateStoreV2[g]=e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.stateStore===void 0&&(b.stateStore={});b.stateStoreV2===void 0&&(b.stateStoreV2={});return b}function sb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version=0);return b}function tb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.encryptedTopic=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.encryptedData=a.readBinary():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.senderId=a.readBinary():a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).SET){b.targetIds=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=d("Utf8ToString").Utf8ToString(a.readBinary());b.targetIds.add(i)}}else a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.messageType=d("MultiwayCommonTypes").E2eeDataMessageType.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.encryptedTopic===void 0&&(b.encryptedTopic="");b.encryptedData===void 0&&(b.encryptedData=Uint8Array.of());b.senderId===void 0&&(b.senderId=Uint8Array.of());b.messageType===void 0&&(b.messageType=d("MultiwayCommonTypes").E2eeDataMessageType.cast(0));return b}function ub(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.fromVersion=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I64?b.toVersion=a.readI64().toString():a.skip(e);break;case 3:if(e===(h||(h=c("ThriftTypes"))).LIST){b.mediaUpdates=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=qb(a);b.mediaUpdates.push(g)}}else a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRUCT?b.offer=Z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.fromVersion===void 0&&(b.fromVersion="0");b.toVersion===void 0&&(b.toVersion="0");b.mediaUpdates===void 0&&(b.mediaUpdates=[]);return b}function vb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.currentVersion=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.answer=Z(a):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatus=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpOriginLocalId=a.readString():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRUCT?b.renegotiationOffer=Z(a):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(a.readI32()):a.skip(f);break;case 7:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=d("StateSyncSerializers").deserializeState(a);b.stateStore[i]=j}}else a.skip(f);break;case 8:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStoreV2={};i=a.readMapBegin();for(j=0;j<i.size;j++){g=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32());e=d("StateSyncSerializers").deserializeState(a);g!=null&&(b.stateStoreV2[g]=e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.currentVersion===void 0&&(b.currentVersion="0");b.mediaPath===void 0&&(b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(0));return b}function wb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.callerUserId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.calleeUserId=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.sessionId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.callerUserId===void 0&&(b.callerUserId="");b.calleeUserId===void 0&&(b.calleeUserId="");b.sessionId===void 0&&(b.sessionId="");return b}function xb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.fromVersion=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I64?b.toVersion=a.readI64().toString():a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).LIST){b.mediaUpdates=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=pb(a);b.mediaUpdates.push(i)}}else a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRUCT?b.offer=Z(a):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRUCT?b.answer=Z(a):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatus=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).BOOL?b.renegotiationRequested=a.readBool():a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).STRUCT?b.prAnswer=Z(a):a.skip(f);break;case 10:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};i=a.readMapBegin();for(g=0;g<i.size;g++){e=a.readString();var j=d("StateSyncSerializers").deserializeState(a);b.stateStore[e]=j}}else a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpOriginLocalId=a.readString():a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).STRUCT?b.multipleRelaysParameters=wb(a):a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).BOOL?b.multipleVideoStreamsAllowed=a.readBool():a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).STRUCT?b.renegotiationOffer=Z(a):a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).I32?b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(a.readI32()):a.skip(f);break;case 16:f===(h||(h=c("ThriftTypes"))).STRUCT?b.update=nb(a):a.skip(f);break;case 17:f===(h||(h=c("ThriftTypes"))).BOOL?b.screenShareStreamAllowed=a.readBool():a.skip(f);break;case 18:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStoreV2={};e=a.readMapBegin();for(j=0;j<e.size;j++){g=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32());i=d("StateSyncSerializers").deserializeState(a);g!=null&&(b.stateStoreV2[g]=i)}}else a.skip(f);break;case 19:if(f===(h||(h=c("ThriftTypes"))).SET){b.allowedCustomVideoContentTypes=new Set();g=a.readSetBegin();for(i=0;i<g.size;i++){j=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32());b.allowedCustomVideoContentTypes.add(j)}}else a.skip(f);break;case 20:f===(h||(h=c("ThriftTypes"))).STRUCT?b.relayInfo=d("MultiwaySharedSerializers").deserializeRelayInfo(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.fromVersion===void 0&&(b.fromVersion="0");b.toVersion===void 0&&(b.toVersion="0");b.mediaUpdates===void 0&&(b.mediaUpdates=[]);b.renegotiationRequested===void 0&&(b.renegotiationRequested=!1);b.multipleVideoStreamsAllowed===void 0&&(b.multipleVideoStreamsAllowed=!1);b.mediaPath===void 0&&(b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(0));b.screenShareStreamAllowed===void 0&&(b.screenShareStreamAllowed=!1);return b}function yb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.currentVersion=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRUCT?b.answer=Z(a):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatus=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.currentVersion===void 0&&(b.currentVersion="0");return b}function zb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Ab(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("MultiwayCommonTypes").HangupReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.detailedReasonString=a.readString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("MultiwayCommonTypes").HangupReason.cast(0));b.detailedReasonString===void 0&&(b.detailedReasonString="");return b}function Bb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).LIST){b.iceCandidateSdps=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=rb(a);b.iceCandidateSdps.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.iceCandidateSdps===void 0&&(b.iceCandidateSdps=[]);return b}function Cb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("MultiwayCommonTypes").DismissReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.detailedReasonString=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.callabilityResultErrorCode=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("MultiwayCommonTypes").DismissReason.cast(0));b.detailedReasonString===void 0&&(b.detailedReasonString="");return b}function Db(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.joinMode=d("MultiwayCommonTypes").JoinMode.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.joinMode===void 0&&(b.joinMode=d("MultiwayCommonTypes").JoinMode.cast(0));return b}function Eb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.state=d("MultiwayCommonTypes").ParticipantCallState.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.userCapabilities=a.readBinary():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.sctpNodeId=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.state===void 0&&(b.state=d("MultiwayCommonTypes").ParticipantCallState.cast(0));return b}function Fb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.userCountry=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Gb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.name=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.profilePictureUri=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.aliasId=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.thirdPartyId=a.readString():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).STRING?b.groupId=a.readString():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRING?b.avatarImageUri=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Hb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.callerInfo=Gb(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.liveBroadcastId=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.callingTags=a.readI32():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.backingIdentifier=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Ib(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.version=a.readI64().toString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).MAP){b.participantStates={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=Eb(a);b.participantStates[i]=j}}else a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).MAP){b.userProfiles={};i=a.readMapBegin();for(j=0;j<i.size;j++){g=a.readString();e=Gb(a);b.userProfiles[g]=e}}else a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).LIST){b.appMessages=[];g=a.readListBegin();for(e=0;e<g.size;e++){j=d("DataMessageSerializers").deserializeDataMessage(a);b.appMessages.push(j)}}else a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).LIST){b.groupsOfUsers=[];i=a.readListBegin();for(j=0;j<i.size;j++){e=lc(a);b.groupsOfUsers.push(e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version="0");b.participantStates===void 0&&(b.participantStates={});b.groupsOfUsers===void 0&&(b.groupsOfUsers=[]);return b}function Jb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.currentVersion=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.currentVersion===void 0&&(b.currentVersion="0");return b}function Kb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).LIST){b.subscriptions=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("MultiwaySharedSerializers").deserializeSubscription(a);b.subscriptions.push(i)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.subscriptions===void 0&&(b.subscriptions=[]);return b}function Lb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.message=d("DataMessageSerializers").deserializeDataMessage(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message=d("DataMessageSerializers").DataMessage$DefaultConstructor());return b}function Mb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).MAP){b.deliveryResult={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=d("DataMessageTypes").DataMessageStatusCode.cast(a.readI32());b.deliveryResult[i]=j}}else a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).MAP){b.serviceTypeDeliveryResult={};i=a.readMapBegin();for(j=0;j<i.size;j++){g=d("MultiwaySharedTypes").EndpointServiceType.cast(a.readI32());e=d("DataMessageTypes").DataMessageStatusCode.cast(a.readI32());g!=null&&(b.serviceTypeDeliveryResult[g]=e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.deliveryResult===void 0&&(b.deliveryResult={});return b}function Nb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).SET){b.usersToInvite=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.usersToInvite.add(i)}}else a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.appMessages=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=d("DataMessageSerializers").deserializeDataMessage(a);b.appMessages.push(e)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.usersToInvite===void 0&&(b.usersToInvite=new Set());return b}function Ob(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.smcTier=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.region=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.isUsfu=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.isEdge=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.smcTier===void 0&&(b.smcTier="");b.region===void 0&&(b.region="");b.isUsfu===void 0&&(b.isUsfu=!1);b.isEdge===void 0&&(b.isEdge=!1);return b}function Pb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.offer=Z(a):a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).SET){b.deviceCapabilities=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var j=d("MultiwayCommonTypes").Capability.cast(a.readI32());b.deviceCapabilities.add(j)}}else a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).SET){b.usersToCall=new Set();j=a.readSetBegin();for(g=0;g<j.size;g++){e=a.readString();b.usersToCall.add(e)}}else a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).MAP){b.mediaStatus={};e=a.readMapBegin();for(g=0;g<e.size;g++){j=a.readString();var k=a.readBool();b.mediaStatus[j]=k}}else a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.userCapabilities=a.readBinary():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRING?b.supportedExperiments=a.readString():a.skip(f);break;case 9:if(f===(h||(h=c("ThriftTypes"))).LIST){b.appMessages=[];j=a.readListBegin();for(k=0;k<j.size;k++){g=d("DataMessageSerializers").deserializeDataMessage(a);b.appMessages.push(g)}}else a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).STRING?b.userToEscalate=a.readString():a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).I64?b.escalatingCallId=a.readI64().toString():a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).I32?b.conferenceType=d("MultiwaySharedTypes").ConferenceType.cast(a.readI32()):a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatusEx=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).STRUCT?b.answer=Z(a):a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).STRUCT?b.syncPayload=$(a):a.skip(f);break;case 16:if(f===(h||(h=c("ThriftTypes"))).SET){b.usersToApproveFromWaitingRoom=new Set();e=a.readSetBegin();for(g=0;g<e.size;g++){k=a.readString();b.usersToApproveFromWaitingRoom.add(k)}}else a.skip(f);break;case 17:f===(h||(h=c("ThriftTypes"))).STRUCT?b.e2eeEnforcement=d("MultiwaySharedSerializers").deserializeE2eeEnforcement(a):a.skip(f);break;case 18:f===(h||(h=c("ThriftTypes"))).STRUCT?b.sfuAllocation=Ob(a):a.skip(f);break;case 19:f===(h||(h=c("ThriftTypes"))).I32?b.clientMediaMode=d("MultiwaySharedTypes").MediaPath.cast(a.readI32()):a.skip(f);break;case 20:f===(h||(h=c("ThriftTypes"))).STRUCT?b.endpointSettings=Db(a):a.skip(f);break;case 21:f===(h||(h=c("ThriftTypes"))).STRUCT?b.backupSfuAllocation=Ob(a):a.skip(f);break;case 22:if(f===(h||(h=c("ThriftTypes"))).SET){b.supportedCustomVideoContentTypes=new Set();j=a.readSetBegin();for(k=0;k<j.size;k++){g=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32());b.supportedCustomVideoContentTypes.add(g)}}else a.skip(f);break;case 23:f===(h||(h=c("ThriftTypes"))).I32?b.configIntegrityOpaqueToken=a.readI32():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.offer===void 0&&(b.offer=i());b.deviceCapabilities===void 0&&(b.deviceCapabilities=new Set());return b}function Qb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.answer=Z(a):a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).MAP){b.mediaStatus={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var j=a.readString(),k=a.readBool();b.mediaStatus[j]=k}}else a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.initiator=a.readString():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.negotiatedExperiments=a.readString():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatusEx=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;case 7:if(f===(h||(h=c("ThriftTypes"))).LIST){b.appMessages=[];j=a.readListBegin();for(k=0;k<j.size;k++){g=d("DataMessageSerializers").deserializeDataMessage(a);b.appMessages.push(g)}}else a.skip(f);break;case 8:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};e=a.readMapBegin();for(g=0;g<e.size;g++){k=a.readString();j=d("StateSyncSerializers").deserializeState(a);b.stateStore[k]=j}}else a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpOriginLocalId=a.readString():a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).BOOL?b.isPendingApproval=a.readBool():a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).STRUCT?b.renegotiationOffer=Z(a):a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).BOOL?b.multipleVideoStreamsAllowed=a.readBool():a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).I32?b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(a.readI32()):a.skip(f);break;case 14:if(f===(h||(h=c("ThriftTypes"))).LIST){b.groupsOfUsers=[];k=a.readListBegin();for(j=0;j<k.size;j++){g=lc(a);b.groupsOfUsers.push(g)}}else a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).BOOL?b.screenShareStreamAllowed=a.readBool():a.skip(f);break;case 16:f===(h||(h=c("ThriftTypes"))).STRUCT?b.relayInfo=d("MultiwaySharedSerializers").deserializeRelayInfo(a):a.skip(f);break;case 17:f===(h||(h=c("ThriftTypes"))).I64?b.selfSctpNodeId=a.readI64().toString():a.skip(f);break;case 18:if(f===(h||(h=c("ThriftTypes"))).MAP){b.stateStoreV2={};e=a.readMapBegin();for(g=0;g<e.size;g++){j=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32());k=d("StateSyncSerializers").deserializeState(a);j!=null&&(b.stateStoreV2[j]=k)}}else a.skip(f);break;case 19:if(f===(h||(h=c("ThriftTypes"))).SET){b.allowedCustomVideoContentTypes=new Set();j=a.readSetBegin();for(k=0;k<j.size;k++){g=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32());b.allowedCustomVideoContentTypes.add(g)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.answer===void 0&&(b.answer=i());b.mediaStatus===void 0&&(b.mediaStatus={});b.initiator===void 0&&(b.initiator="");b.isPendingApproval===void 0&&(b.isPendingApproval=!1);b.multipleVideoStreamsAllowed===void 0&&(b.multipleVideoStreamsAllowed=!1);b.mediaPath===void 0&&(b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(0));b.groupsOfUsers===void 0&&(b.groupsOfUsers=[]);b.screenShareStreamAllowed===void 0&&(b.screenShareStreamAllowed=!1);return b}function Rb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.sdp=Z(a):a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).SET){b.deviceCapabilities=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=d("MultiwayCommonTypes").Capability.cast(a.readI32());b.deviceCapabilities.add(i)}}else a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).SET){b.supportedCustomVideoContentTypes=new Set();i=a.readSetBegin();for(g=0;g<i.size;g++){e=d("WebrtcSignalingCommonTypes").CustomVideoContentType.cast(a.readI32());b.supportedCustomVideoContentTypes.add(e)}}else a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).STRUCT?b.prOffer=Z(a):a.skip(f);break;case 7:f===(h||(h=c("ThriftTypes"))).STRUCT?b.e2eeEnforcement=d("MultiwaySharedSerializers").deserializeE2eeEnforcement(a):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.deviceCapabilities===void 0&&(b.deviceCapabilities=new Set());return b}function Sb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.sdp=Z(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.sdpOriginLocalId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Tb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.type=d("MultiwayCommonTypes").ClientEventType.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I64?b.time=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.type===void 0&&(b.type=d("MultiwayCommonTypes").ClientEventType.cast(0));return b}function Ub(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).LIST){b.clientEvents=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=Tb(a);b.clientEvents.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.clientEvents===void 0&&(b.clientEvents=[]);return b}function Vb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.groupThreadId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.peerId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Wb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function Xb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.caller=a.readString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).SET){b.otherParticipants=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.otherParticipants.add(i)}}else a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.ringType=d("MultiwayCommonTypes").RingType.cast(a.readI32()):a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.offeredExperiments=a.readString():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).BOOL?b.isScheduledCall=a.readBool():a.skip(f);break;case 8:if(f===(h||(h=c("ThriftTypes"))).LIST){b.appMessages=[];i=a.readListBegin();for(g=0;g<i.size;g++){e=d("DataMessageSerializers").deserializeDataMessage(a);b.appMessages.push(e)}}else a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).STRUCT?b.offer=Z(a):a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).STRUCT?b.mediaStatusEx=d("MultiwaySharedSerializers").deserializeClientMediaStatus(a):a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).BOOL?b.isPreconnectSupported=a.readBool():a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).STRING?b.sdpOriginLocalId=a.readString():a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).STRUCT?b.unifiedOffer=Z(a):a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).I32?b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(a.readI32()):a.skip(f);break;case 16:f===(h||(h=c("ThriftTypes"))).STRUCT?b.e2eeEnforcement=d("MultiwaySharedSerializers").deserializeE2eeEnforcement(a):a.skip(f);break;case 17:f===(h||(h=c("ThriftTypes"))).BOOL?b.isLegacyCall=a.readBool():a.skip(f);break;case 18:f===(h||(h=c("ThriftTypes"))).BOOL?b.isTransferCall=a.readBool():a.skip(f);break;case 20:f===(h||(h=c("ThriftTypes"))).STRUCT?b.relayInfo=d("MultiwaySharedSerializers").deserializeRelayInfo(a):a.skip(f);break;case 21:if(f===(h||(h=c("ThriftTypes"))).MAP){b.overlayConfigs={};e=a.readMapBegin();for(g=0;g<e.size;g++){i=a.readI32();var j=a.readI32();b.overlayConfigs[i]=j}}else a.skip(f);break;case 22:f===(h||(h=c("ThriftTypes"))).STRUCT?b.productMetadata=Hb(a):a.skip(f);break;case 23:f===(h||(h=c("ThriftTypes"))).STRING?b.callerClientSessionId=a.readString():a.skip(f);break;case 24:f===(h||(h=c("ThriftTypes"))).STRUCT?b.threadIdInfo=Vb(a):a.skip(f);break;case 25:f===(h||(h=c("ThriftTypes"))).STRING?b.linkUrl=a.readString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.caller===void 0&&(b.caller="");b.otherParticipants===void 0&&(b.otherParticipants=new Set());b.ringType===void 0&&(b.ringType=d("MultiwayCommonTypes").RingType.cast(0));b.mediaPath===void 0&&(b.mediaPath=d("MultiwaySharedTypes").MediaPath.cast(0));b.isTransferCall===void 0&&(b.isTransferCall=!1);return b}function Yb(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 2:f===(h||(h=c("ThriftTypes"))).I32?b.deviceStatus=d("MultiwayCommonTypes").DeviceStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.deviceStatus===void 0&&(b.deviceStatus=d("MultiwayCommonTypes").DeviceStatus.cast(0));return b}function Zb(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).SET){b.usersToRemove=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();b.usersToRemove.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.usersToRemove===void 0&&(b.usersToRemove=new Set());return b}function $b(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.topicId=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);b.topicId===void 0&&(b.topicId=d("StateSyncTopicsConfigTypes").TopicId.cast(0));return b}function ac(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);return b}function bc(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).STRUCT?b.syncPayload=$(a):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).I32?b.topicId=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.syncPayload===void 0&&(b.syncPayload=l());b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);b.topicId===void 0&&(b.topicId=d("StateSyncTopicsConfigTypes").TopicId.cast(0));return b}function cc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);return b}function dc(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRUCT?b.syncPayload=$(a):a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.topicId=d("StateSyncTopicsConfigTypes").TopicId.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);b.data===void 0&&(b.data=Uint8Array.of());return b}function ec(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.topic=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.topic===void 0&&(b.topic="");b.version===void 0&&(b.version=0);return b}function fc(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 2:f===(h||(h=c("ThriftTypes"))).I32?b.approvalStatus=d("MultiwayCommonTypes").ApprovalStatus.cast(a.readI32()):a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).SET){b.targetUsers=new Set();e=a.readSetBegin();for(var g=0;g<e.size;g++){var i=a.readString();b.targetUsers.add(i)}}else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.approvalStatus===void 0&&(b.approvalStatus=d("MultiwayCommonTypes").ApprovalStatus.cast(0));b.targetUsers===void 0&&(b.targetUsers=new Set());return b}function gc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.id===void 0&&(b.id="");return b}function hc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.actorId=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.baseId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.actorId===void 0&&(b.actorId="");b.baseId===void 0&&(b.baseId="");return b}function ic(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.type=d("MultiwayCommonTypes").MessageType.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.conferenceName=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.transactionId=a.readString():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I16?b.retryCount=a.readI16():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.serverInfoData=a.readString():a.skip(f);break;case 6:f===(h||(h=c("ThriftTypes"))).I32?b.responseStatusCode=d("MultiwayCommonTypes").RtcResponseStatusCode.cast(a.readI32()):a.skip(f);break;case 7:if(f===(h||(h=c("ThriftTypes"))).MAP){b.extensions={};e=a.readMapBegin();for(var g=0;g<e.size;g++){var i=a.readString(),j=a.readString();b.extensions[i]=j}}else a.skip(f);break;case 8:f===(h||(h=c("ThriftTypes"))).I64?b.sequenceNumber=a.readI64().toString():a.skip(f);break;case 9:f===(h||(h=c("ThriftTypes"))).STRING?b.clientSessionId=a.readString():a.skip(f);break;case 10:f===(h||(h=c("ThriftTypes"))).STRING?b.responseStatusMessage=a.readString():a.skip(f);break;case 11:f===(h||(h=c("ThriftTypes"))).I32?b.responseSubCode=d("MultiwayCommonTypes").RtcResponseSubCode.cast(a.readI32()):a.skip(f);break;case 12:f===(h||(h=c("ThriftTypes"))).STRING?b.collisionKey=a.readString():a.skip(f);break;case 13:f===(h||(h=c("ThriftTypes"))).I32?b.conferenceType=d("MultiwaySharedTypes").ConferenceType.cast(a.readI32()):a.skip(f);break;case 14:f===(h||(h=c("ThriftTypes"))).STRING?b.serverSessionId=a.readString():a.skip(f);break;case 15:f===(h||(h=c("ThriftTypes"))).STRING?b.rtcHandle=a.readString():a.skip(f);break;case 16:f===(h||(h=c("ThriftTypes"))).I32?b.retryAfterMsec=a.readI32():a.skip(f);break;case 17:f===(h||(h=c("ThriftTypes"))).STRING?b.receiverUserId=a.readString():a.skip(f);break;case 18:f===(h||(h=c("ThriftTypes"))).I32?b.clientStack=d("WebrtcSignalingCommonTypes").ClientStack.cast(a.readI32()):a.skip(f);break;case 19:f===(h||(h=c("ThriftTypes"))).I64?b.serverMsgTime=a.readI64().toString():a.skip(f);break;case 20:f===(h||(h=c("ThriftTypes"))).STRUCT?b.sender=gc(a):a.skip(f);break;case 21:f===(h||(h=c("ThriftTypes"))).STRUCT?b.receiver=hc(a):a.skip(f);break;case 22:if(f===(h||(h=c("ThriftTypes"))).SET){b.messageTags=new Set();i=a.readSetBegin();for(j=0;j<i.size;j++){g=d("MultiwayCommonTypes").MessageTag.cast(a.readI32());b.messageTags.add(g)}}else a.skip(f);break;case 23:f===(h||(h=c("ThriftTypes"))).I64?b.conferenceId=a.readI64().toString():a.skip(f);break;case 24:f===(h||(h=c("ThriftTypes"))).I32?b.protocolVersion=a.readI32():a.skip(f);break;case 25:f===(h||(h=c("ThriftTypes"))).I64?b.bodyCompressionVersion=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.type===void 0&&(b.type=d("MultiwayCommonTypes").MessageType.cast(0));b.conferenceName===void 0&&(b.conferenceName="");b.transactionId===void 0&&(b.transactionId="");b.retryCount===void 0&&(b.retryCount=0);return b}function jc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.joinRequest=Pb(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRUCT?b.joinResponse=Qb(a):a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRUCT?b.serverMediaUpdateRequest=xb(a):a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRUCT?b.serverMediaUpdateResponse=yb(a):a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).STRUCT?b.hangupRequest=Ab(a):a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRUCT?b.iceCandidateRequest=Bb(a):a.skip(e);break;case 8:e===(h||(h=c("ThriftTypes"))).STRUCT?b.ringRequest=Xb(a):a.skip(e);break;case 9:e===(h||(h=c("ThriftTypes"))).STRUCT?b.ringResponse=Yb(a):a.skip(e);break;case 10:e===(h||(h=c("ThriftTypes"))).STRUCT?b.dismissRequest=Cb(a):a.skip(e);break;case 11:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conferenceStateRequest=Ib(a):a.skip(e);break;case 12:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conferenceStateResponse=Jb(a):a.skip(e);break;case 13:e===(h||(h=c("ThriftTypes"))).STRUCT?b.addParticipantsRequest=Nb(a):a.skip(e);break;case 14:e===(h||(h=c("ThriftTypes"))).STRUCT?b.subscriptionRequest=Kb(a):a.skip(e);break;case 15:e===(h||(h=c("ThriftTypes"))).STRUCT?b.clientMediaUpdateRequest=ub(a):a.skip(e);break;case 16:e===(h||(h=c("ThriftTypes"))).STRUCT?b.clientMediaUpdateResponse=vb(a):a.skip(e);break;case 17:e===(h||(h=c("ThriftTypes"))).STRUCT?b.dataMessageRequest=Lb(a):a.skip(e);break;case 18:e===(h||(h=c("ThriftTypes"))).STRUCT?b.removeParticipantsRequest=Zb(a):a.skip(e);break;case 19:e===(h||(h=c("ThriftTypes"))).STRUCT?b.dataMessageResponse=Mb(a):a.skip(e);break;case 30:e===(h||(h=c("ThriftTypes"))).STRUCT?b.updateRequest=bc(a):a.skip(e);break;case 31:e===(h||(h=c("ThriftTypes"))).STRUCT?b.updateResponse=cc(a):a.skip(e);break;case 32:e===(h||(h=c("ThriftTypes"))).STRUCT?b.notifyRequest=dc(a):a.skip(e);break;case 33:e===(h||(h=c("ThriftTypes"))).STRUCT?b.notifyResponse=ec(a):a.skip(e);break;case 34:e===(h||(h=c("ThriftTypes"))).STRUCT?b.connectRequest=Rb(a):a.skip(e);break;case 35:e===(h||(h=c("ThriftTypes"))).STRUCT?b.connectResponse=Sb(a):a.skip(e);break;case 36:e===(h||(h=c("ThriftTypes"))).STRUCT?b.clientEventRequest=Ub(a):a.skip(e);break;case 37:e===(h||(h=c("ThriftTypes"))).STRUCT?b.clientEventResponse=Wb(a):a.skip(e);break;case 40:e===(h||(h=c("ThriftTypes"))).STRUCT?b.unsubscribeRequest=$b(a):a.skip(e);break;case 41:e===(h||(h=c("ThriftTypes"))).STRUCT?b.unsubscribeResponse=ac(a):a.skip(e);break;case 42:e===(h||(h=c("ThriftTypes"))).STRUCT?b.approvalRequest=fc(a):a.skip(e);break;case 43:e===(h||(h=c("ThriftTypes"))).STRUCT?b.transferRequest=zb(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function kc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRUCT?b.messageHeader=ic(a):a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRUCT?b.messageBody=jc(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.messageHeader===void 0&&(b.messageHeader=m());b.messageBody===void 0&&(b.messageBody=n());return b}function lc(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).SET){b.users=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();b.users.add(g)}}else a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.allowMultipleJoins=a.readBool():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.dismissOthersOnFirstJoin=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.aliasId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.users===void 0&&(b.users=new Set());b.allowMultipleJoins===void 0&&(b.allowMultipleJoins=!1);b.dismissOthersOnFirstJoin===void 0&&(b.dismissOthersOnFirstJoin=!1);b.aliasId===void 0&&(b.aliasId="");return b}function mc(a){var b,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.joinRequest=Pb(a),b="joinRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: joinRequest, previous deserialized field: "+b);else a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.joinResponse=Qb(a),b="joinResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: joinResponse, previous deserialized field: "+b);else a.skip(f);break;case 3:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.serverMediaUpdateRequest=xb(a),b="serverMediaUpdateRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: serverMediaUpdateRequest, previous deserialized field: "+b);else a.skip(f);break;case 4:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.serverMediaUpdateResponse=yb(a),b="serverMediaUpdateResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: serverMediaUpdateResponse, previous deserialized field: "+b);else a.skip(f);break;case 5:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.hangupRequest=Ab(a),b="hangupRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: hangupRequest, previous deserialized field: "+b);else a.skip(f);break;case 6:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.iceCandidateRequest=Bb(a),b="iceCandidateRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: iceCandidateRequest, previous deserialized field: "+b);else a.skip(f);break;case 8:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.ringRequest=Xb(a),b="ringRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: ringRequest, previous deserialized field: "+b);else a.skip(f);break;case 9:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.ringResponse=Yb(a),b="ringResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: ringResponse, previous deserialized field: "+b);else a.skip(f);break;case 10:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.dismissRequest=Cb(a),b="dismissRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: dismissRequest, previous deserialized field: "+b);else a.skip(f);break;case 11:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.conferenceStateRequest=Ib(a),b="conferenceStateRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: conferenceStateRequest, previous deserialized field: "+b);else a.skip(f);break;case 12:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.conferenceStateResponse=Jb(a),b="conferenceStateResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: conferenceStateResponse, previous deserialized field: "+b);else a.skip(f);break;case 13:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.addParticipantsRequest=Nb(a),b="addParticipantsRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: addParticipantsRequest, previous deserialized field: "+b);else a.skip(f);break;case 14:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.subscriptionRequest=Kb(a),b="subscriptionRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: subscriptionRequest, previous deserialized field: "+b);else a.skip(f);break;case 15:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.clientMediaUpdateRequest=ub(a),b="clientMediaUpdateRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: clientMediaUpdateRequest, previous deserialized field: "+b);else a.skip(f);break;case 16:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.clientMediaUpdateResponse=vb(a),b="clientMediaUpdateResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: clientMediaUpdateResponse, previous deserialized field: "+b);else a.skip(f);break;case 17:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.dataMessageRequest=Lb(a),b="dataMessageRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: dataMessageRequest, previous deserialized field: "+b);else a.skip(f);break;case 18:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.removeParticipantsRequest=Zb(a),b="removeParticipantsRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: removeParticipantsRequest, previous deserialized field: "+b);else a.skip(f);break;case 19:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.dataMessageResponse=Mb(a),b="dataMessageResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: dataMessageResponse, previous deserialized field: "+b);else a.skip(f);break;case 30:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.updateRequest=bc(a),b="updateRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: updateRequest, previous deserialized field: "+b);else a.skip(f);break;case 31:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.updateResponse=cc(a),b="updateResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: updateResponse, previous deserialized field: "+b);else a.skip(f);break;case 32:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.notifyRequest=dc(a),b="notifyRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: notifyRequest, previous deserialized field: "+b);else a.skip(f);break;case 33:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.notifyResponse=ec(a),b="notifyResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: notifyResponse, previous deserialized field: "+b);else a.skip(f);break;case 34:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.connectRequest=Rb(a),b="connectRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: connectRequest, previous deserialized field: "+b);else a.skip(f);break;case 35:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.connectResponse=Sb(a),b="connectResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: connectResponse, previous deserialized field: "+b);else a.skip(f);break;case 36:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.clientEventRequest=Ub(a),b="clientEventRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: clientEventRequest, previous deserialized field: "+b);else a.skip(f);break;case 37:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.clientEventResponse=Wb(a),b="clientEventResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: clientEventResponse, previous deserialized field: "+b);else a.skip(f);break;case 40:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.unsubscribeRequest=$b(a),b="unsubscribeRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: unsubscribeRequest, previous deserialized field: "+b);else a.skip(f);break;case 41:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.unsubscribeResponse=ac(a),b="unsubscribeResponse";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: unsubscribeResponse, previous deserialized field: "+b);else a.skip(f);break;case 42:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.approvalRequest=fc(a),b="approvalRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: approvalRequest, previous deserialized field: "+b);else a.skip(f);break;case 43:if(f===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)d.transferRequest=zb(a),b="transferRequest";else throw new Error("more than one field have been deserialized in union type: RtcMessageBodyVariant; current field: transferRequest, previous deserialized field: "+b);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}g.RtcException$DefaultConstructor=a;g.SessionDescription$DefaultConstructor=i;g.SessionDescriptionUpdate$DefaultConstructor=b;g.MediaDescriptionUpdate$DefaultConstructor=e;g.ServerMediaUpdate$DefaultConstructor=f;g.ClientMediaUpdate$DefaultConstructor=j;g.IceCandidate$DefaultConstructor=k;g.SyncPayload$DefaultConstructor=l;g.SyncAck$DefaultConstructor=aa;g.E2eeData$DefaultConstructor=ba;g.ClientMediaUpdateRequest$DefaultConstructor=ca;g.ClientMediaUpdateResponse$DefaultConstructor=da;g.MultipleRelaysAllocationParameters$DefaultConstructor=ea;g.ServerMediaUpdateRequest$DefaultConstructor=fa;g.ServerMediaUpdateResponse$DefaultConstructor=ga;g.TransferRequest$DefaultConstructor=ha;g.HangupRequest$DefaultConstructor=ia;g.IceCandidateRequest$DefaultConstructor=ja;g.DismissRequest$DefaultConstructor=ka;g.EndpointSettings$DefaultConstructor=la;g.ParticipantState$DefaultConstructor=ma;g.ServerOnlyParticipantState$DefaultConstructor=na;g.UserProfile$DefaultConstructor=oa;g.ProductMetadata$DefaultConstructor=pa;g.ConferenceStateRequest$DefaultConstructor=qa;g.ConferenceStateResponse$DefaultConstructor=ra;g.SubscriptionRequest$DefaultConstructor=sa;g.DataMessageRequest$DefaultConstructor=ta;g.DataMessageResponse$DefaultConstructor=ua;g.AddParticipantsRequest$DefaultConstructor=va;g.SfuAllocation$DefaultConstructor=wa;g.JoinRequest$DefaultConstructor=xa;g.JoinResponse$DefaultConstructor=ya;g.ConnectRequest$DefaultConstructor=za;g.ConnectResponse$DefaultConstructor=Aa;g.ClientEvent$DefaultConstructor=Ba;g.ClientEventRequest$DefaultConstructor=Ca;g.ThreadIdInfo$DefaultConstructor=Da;g.ClientEventResponse$DefaultConstructor=Ea;g.RingRequest$DefaultConstructor=Fa;g.RingResponse$DefaultConstructor=Ga;g.RemoveParticipantsRequest$DefaultConstructor=Ha;g.UnsubscribeRequest$DefaultConstructor=Ia;g.UnsubscribeResponse$DefaultConstructor=Ja;g.UpdateRequest$DefaultConstructor=Ka;g.UpdateResponse$DefaultConstructor=La;g.NotifyRequest$DefaultConstructor=Ma;g.NotifyResponse$DefaultConstructor=Na;g.ApprovalRequest$DefaultConstructor=Oa;g.RtcSender$DefaultConstructor=Pa;g.RtcReceiver$DefaultConstructor=Qa;g.RtcMessageHeader$DefaultConstructor=m;g.RtcMessageBody$DefaultConstructor=n;g.RtcMultiwayMessage$DefaultConstructor=Ra;g.GroupOfUsers$DefaultConstructor=Sa;g.RtcMessageBodyVariant$DefaultConstructor=Ta;g.serializeRtcException=Ua;g.serializeSessionDescription=o;g.serializeSessionDescriptionUpdate=Va;g.serializeMediaDescriptionUpdate=p;g.serializeServerMediaUpdate=q;g.serializeClientMediaUpdate=r;g.serializeIceCandidate=s;g.serializeSyncPayload=t;g.serializeSyncAck=Wa;g.serializeE2eeData=Xa;g.serializeClientMediaUpdateRequest=u;g.serializeClientMediaUpdateResponse=v;g.serializeMultipleRelaysAllocationParameters=Ya;g.serializeServerMediaUpdateRequest=w;g.serializeServerMediaUpdateResponse=x;g.serializeTransferRequest=y;g.serializeHangupRequest=z;g.serializeIceCandidateRequest=A;g.serializeDismissRequest=B;g.serializeEndpointSettings=Za;g.serializeParticipantState=C;g.serializeServerOnlyParticipantState=$a;g.serializeUserProfile=D;g.serializeProductMetadata=ab;g.serializeConferenceStateRequest=E;g.serializeConferenceStateResponse=F;g.serializeSubscriptionRequest=G;g.serializeDataMessageRequest=H;g.serializeDataMessageResponse=I;g.serializeAddParticipantsRequest=J;g.serializeSfuAllocation=K;g.serializeJoinRequest=L;g.serializeJoinResponse=M;g.serializeConnectRequest=N;g.serializeConnectResponse=O;g.serializeClientEvent=P;g.serializeClientEventRequest=Q;g.serializeThreadIdInfo=bb;g.serializeClientEventResponse=R;g.serializeRingRequest=S;g.serializeRingResponse=T;g.serializeRemoveParticipantsRequest=U;g.serializeUnsubscribeRequest=V;g.serializeUnsubscribeResponse=W;g.serializeUpdateRequest=X;g.serializeUpdateResponse=cb;g.serializeNotifyRequest=db;g.serializeNotifyResponse=eb;g.serializeApprovalRequest=fb;g.serializeRtcSender=gb;g.serializeRtcReceiver=hb;g.serializeRtcMessageHeader=ib;g.serializeRtcMessageBody=jb;g.serializeRtcMultiwayMessage=kb;g.serializeGroupOfUsers=Y;g.serializeRtcMessageBodyVariant=lb;g.deserializeRtcException=mb;g.deserializeSessionDescription=Z;g.deserializeSessionDescriptionUpdate=nb;g.deserializeMediaDescriptionUpdate=ob;g.deserializeServerMediaUpdate=pb;g.deserializeClientMediaUpdate=qb;g.deserializeIceCandidate=rb;g.deserializeSyncPayload=$;g.deserializeSyncAck=sb;g.deserializeE2eeData=tb;g.deserializeClientMediaUpdateRequest=ub;g.deserializeClientMediaUpdateResponse=vb;g.deserializeMultipleRelaysAllocationParameters=wb;g.deserializeServerMediaUpdateRequest=xb;g.deserializeServerMediaUpdateResponse=yb;g.deserializeTransferRequest=zb;g.deserializeHangupRequest=Ab;g.deserializeIceCandidateRequest=Bb;g.deserializeDismissRequest=Cb;g.deserializeEndpointSettings=Db;g.deserializeParticipantState=Eb;g.deserializeServerOnlyParticipantState=Fb;g.deserializeUserProfile=Gb;g.deserializeProductMetadata=Hb;g.deserializeConferenceStateRequest=Ib;g.deserializeConferenceStateResponse=Jb;g.deserializeSubscriptionRequest=Kb;g.deserializeDataMessageRequest=Lb;g.deserializeDataMessageResponse=Mb;g.deserializeAddParticipantsRequest=Nb;g.deserializeSfuAllocation=Ob;g.deserializeJoinRequest=Pb;g.deserializeJoinResponse=Qb;g.deserializeConnectRequest=Rb;g.deserializeConnectResponse=Sb;g.deserializeClientEvent=Tb;g.deserializeClientEventRequest=Ub;g.deserializeThreadIdInfo=Vb;g.deserializeClientEventResponse=Wb;g.deserializeRingRequest=Xb;g.deserializeRingResponse=Yb;g.deserializeRemoveParticipantsRequest=Zb;g.deserializeUnsubscribeRequest=$b;g.deserializeUnsubscribeResponse=ac;g.deserializeUpdateRequest=bc;g.deserializeUpdateResponse=cc;g.deserializeNotifyRequest=dc;g.deserializeNotifyResponse=ec;g.deserializeApprovalRequest=fc;g.deserializeRtcSender=gc;g.deserializeRtcReceiver=hc;g.deserializeRtcMessageHeader=ic;g.deserializeRtcMessageBody=jc;g.deserializeRtcMultiwayMessage=kc;g.deserializeGroupOfUsers=lc;g.deserializeRtcMessageBodyVariant=mc}),98);
__d("ZenonMWThriftMessageSerializer",["CompactSerializer","MqttThriftHeaderSerializers","MultiwayCommonSerializers","TCompactProtocol","TReadBuffer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);var c=d("CompactSerializer").serialize(a.messageHeader,d("MultiwayCommonSerializers").serializeRtcMessageHeader);a=d("CompactSerializer").serialize(a.messageBody,d("MultiwayCommonSerializers").serializeRtcMessageBody);if(b){b=new Uint8Array(c.length+a.length);b.set(c);b.set(a,c.length);return b}b={};b=d("CompactSerializer").serialize(b,d("MqttThriftHeaderSerializers").serializeMqttThriftHeader);var e=new Uint8Array(b.length+c.length+a.length);e.set(b);e.set(c,b.length);e.set(a,b.length+c.length);return e}function b(a,b){b===void 0&&(b=!1);a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocol"))(a);b||d("MqttThriftHeaderSerializers").deserializeMqttThriftHeader(a);b=d("MultiwayCommonSerializers").deserializeRtcMessageHeader(a);a=d("MultiwayCommonSerializers").deserializeRtcMessageBody(a);return{messageBody:a,messageHeader:b}}g.serializeMWThriftMessage=a;g.deserializeMWThriftMessage=b}),98);
__d("ZenonMWThriftAddParticipantsTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="new_room_context";function a(a,b){var c={usersToInvite:new Set(b.participants)};if(b.groupThreadId!=null){b={calling_tags:2,group_thread_id:b.groupThreadId};if(b){b=[{body:{genericMessage:{data:d("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(b)),topic:h}},header:{topic_DEPRECATED:h}}];c.appMessages=b}}return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{addParticipantsRequest:c},type:d("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS})}g.NEW_ROOM_CONTEXT=h;g.toThriftAddParticipantsRequest=a}),98);
__d("ZenonMWThriftApprovalTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=b.approvalStatus;b=b.targetUsers;c={approvalStatus:c===0?d("MultiwayCommonTypes").ApprovalStatus.DENIED:d("MultiwayCommonTypes").ApprovalStatus.APPROVED,targetUsers:new Set(b)};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{approvalRequest:c},type:d("MultiwayCommonTypes").MessageType.APPROVAL})}g.toThriftApprovalRequest=a}),98);
__d("ZenonMWThriftClientEventTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={clientEvents:[{type:b.clientEventType===0?d("MultiwayCommonTypes").ClientEventType.UNKNOWN:d("MultiwayCommonTypes").ClientEventType.MEDIA_CONNECTED}]};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{clientEventRequest:b},type:d("MultiwayCommonTypes").MessageType.CLIENT_EVENT})}g.toThriftClientEventRequest=a}),98);
__d("ZenonMWCommonUtils",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.split("\n");if(a.length<2)throw c("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw c("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw c("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a}function b(a){return a.includes("BUNDLE 0")}g.getSdpVersion=a;g.isUnifiedPlan=b}),98);
__d("ZenonMWThriftClientMediaUpdateTranslator",["MultiwayCommonTypes","ZenonMWCommonUtils","ZenonMWThriftResponseStatusCodeUtils","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=a.messageBody;a=a.messageHeader;c=c.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(c){var h=c.answer,i=c.mediaStatus,j=h!=null&&i!=null;d("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(c.stateStore,b,!1,j);var k=d("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(c.stateStore);if(j){h=(j=h==null?void 0:h.sdpString)!=null?j:"";j=d("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(i);i={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};var l=c.renegotiationOffer,m=null;l!=null&&l.sdpString!=null&&(m={sdp:l.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(l.sdpString)});l={e2eeServerState:k,eventName:"remoteSdpRequest",mediaPath:d("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(c.mediaPath),mediaStates:j,negotiateType:!1,renegotiationOffer:m,sdp:{sdp:h,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(h)},sdpOriginLocalId:c.sdpOriginLocalId,source:"clientMediaUpdateResponse"};b.push(i);b.push(l)}k={ackMessageId:a.transactionId,acknowledgedVersion:Number(c.currentVersion),eventName:"mediaUpdateResponse",retryAfter:g!=null?g:0};e!=null&&(k.responseStatusCode=d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e));f!=null&&(k.responseSubCode=d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(f));b.push(k)}return b}function b(a,b,c){b={fromVersion:String(b.version),mediaUpdates:[{mediaStatus:d("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(b),mediaStatusEx:d("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(b)}],toVersion:String(b.version)};c!==void 0&&(b.offer={sdpString:c.sdp});return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{clientMediaUpdateRequest:b},type:d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE})}g.fromThriftClientMediaUpdateResponse=a;g.toThriftClientMediaUpdateRequest=b}),98);
__d("ZenonMWThriftConferenceStateTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWMessageTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=a.messageBody.conferenceStateRequest;if(c){var e=c.appMessages,f=c.participantStates,g={eventName:"participantUpdateRequest",participantStates:new Map(),sctpUserIdNodeIdMap:new Map(),versionId:+c.version},h={actorRepresentatives:new Map(),eventName:"clientInfoRequest",mediaPath:d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map()};Object.keys(f).forEach(function(a){var b=f[a],c=b.sctpNodeId,e=b.state;b=b.userCapabilities;g.participantStates.set(a,d("ZenonMWThriftTranslatorUtils").fromThriftParticipantState(e));c!=null&&g.sctpUserIdNodeIdMap.set(a,+c);h.userCapabilities.set(a,b?d("RequestStreamBodyUtils").uint8ArrayToString(b):"")});b.push(g);b.push(h);c=d("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(e);if(c){c.serverInfoData=a.messageHeader.serverInfoData;e={context:c,eventName:"roomContextUpdateRequest"};b.push(e)}}return b}function b(a,b){b={currentVersion:String(b.requestVersionId)};return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{conferenceStateResponse:b},type:d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE})}g.fromThriftConferenceStateRequest=a;g.toThriftConferenceStateResponse=b}),98);
__d("ZenonMWThriftDataMessageTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonActorHooks","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageBody.dataMessageRequest;if(a){var c=a.message.header,e=d("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageData(a);a=d("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageTopic(a);var f=h(c.serviceRecipients);if(e!=null&&a!=null){c={data:e,eventName:"genericDataMessageRequest",recipientIDs:Array.from((e=c.recipients)!=null?e:[]),serviceRecipients:f,topic:a};b.push(c)}}return b}function b(a,b){var c={data:d("RequestStreamBodyUtils").stringToUint8Array(b.data),topic:b.topic},e=new Set(b.serviceRecipients.map(d("ZenonMWThriftTranslatorUtils").toThriftServiceRecipient));return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{dataMessageRequest:{message:{body:{genericMessage:c},header:{recipients:new Set(b.recipientIDs),sender:d("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:e,topic_DEPRECATED:""}}}},type:d("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function c(a){return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{dataMessageResponse:{deliveryResult:{}}},type:d("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function h(a){var b=[];a==null?void 0:a.forEach(function(a){return b.push(d("ZenonMWThriftTranslatorUtils").toServiceRecipientType(a))});return b}g.fromThriftDataMessageRequest=a;g.toThriftDataMessageRequest=b;g.toThriftDataMessageResponse=c}),98);
__d("ZenonMWThriftDismissTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageBody.dismissRequest;if(a){var c=a.detailedReasonString;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:d("ZenonMWThriftTranslatorUtils").fromMWThriftDismissReason(a),shouldInformPeer:!0,subreason:c};b.push(a)}return b}function b(a){return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{},type:d("MultiwayCommonTypes").MessageType.DISMISS})}g.fromThriftDismissRequest=a;g.toThriftDismissResponse=b}),98);
__d("ZenonMWThriftHangupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageHeader;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function b(a,b){b=b.reason;b={detailedReasonString:"",reason:d("ZenonMWThriftTranslatorUtils").toMWThriftHangupReason(b)};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{hangupRequest:b},type:d("MultiwayCommonTypes").MessageType.HANGUP})}g.fromThriftHangupResponse=a;g.toThriftHangupRequest=b}),98);
__d("ZenonMWThriftIceCandidateTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageBody.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMid:a.sdpMid,sdpMLineIndex:parseInt(a.sdpMLineIndex,10)}})};b.push(a)}return b}function b(a){var b=[];a=a.messageHeader;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function c(a){return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{},type:d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}function e(a,b){b=b.iceCandidates;b=b.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex.toString()}});b={iceCandidateSdps:b};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{iceCandidateRequest:b},type:d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}g.fromThriftIceCandidateRequest=a;g.fromThriftIceCandidateResponse=b;g.toThriftIceCandidateResponse=c;g.toThriftIceCandidateRequest=e}),98);
__d("ZenonBrowsers",["UserAgent","UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function a(){return c("UserAgent").isBrowser("Edge (Chromium Based)")||c("UserAgent").isBrowser("Edge PWA (Chromium Based)")}function j(){return c("UserAgent").isBrowser("Safari")}function k(){return c("UserAgent").isBrowser("Firefox")}function b(){return c("UserAgent").isBrowser("Opera")}function l(){return c("UserAgent").isBrowser("Mobile Safari")}function m(){return c("UserAgent").isBrowser("Oculus Browser")}function n(){return c("UserAgent").isBrowser("Samsung Browser")}function d(){return l()||c("UserAgent").isPlatform("Android")||n()}function o(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function p(){if(k()){var a;return(a=c("UserAgentData").browserVersion)!=null?a:0}if(i()){a=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return a!=null?parseInt(a[2],10):999}return 0}function q(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function e(a){if(!q())return!1;var b=p();return b>=a}function f(){return k()}function r(){return k()||j()||c("UserAgent").isBrowser("Chrome >= 97")}function s(){return!o()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function t(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function u(){return!m()}function v(){return!m()}function w(){return!l()&&!j()&&!((i()||h())&&p()<80)&&!(k()&&p()<70)}function x(){return(i()||h())&&p()>=77||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 14.1")}function y(){return!(c("UserAgent").isBrowser("Chrome > 105")&&c("UserAgent").isBrowser("Chrome < 115"))}function z(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")||c("UserAgent").isBrowser("Edge PWA (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=a;g.isDesktopSafari=j;g.isFirefox=k;g.isOpera=b;g.isMobileSafari=l;g.isOculusBrowser=m;g.isSamsung=n;g.isSupportedMobileBrowser=d;g.isMobileDevice=o;g.webrtcVersion=p;g.isFBWebview=q;g.isFBWebviewWithChromeMinVersion=e;g.noTransceiverForNegotiations=f;g.onlySupportsUnifiedPlan=r;g.isVideoFilterEffectSupported=s;g.videoEscalationByUnmuteWorkaround=t;g.supportsMWAVEscalation=u;g.supportsVideoCalls=v;g.supportsRollback=w;g.supportsIceRestart=x;g.supportsPranswer=y;g.isVideoLayersAllocationSupported=z}),98);
__d("ZenonJoiningContext",[],(function(a,b,c,d,e,f){"use strict";b="joining_context";function a(a){var b=a.callablePostID,c=a.callingTags,d=a.callTrigger,e=a.conferenceName,f=a.groupThreadID,g=a.igThreadID,h=a.immersiveModeDoorID,i=a.isMetaAiCall,j=a.linkUrl,k=a.liveBroadcastID,l=a.meetingID,m=a.peerID,n=a.rtcDoorID;a=a.serverInfoData;return{call_trigger:d,callable_post_id:b,calling_tags:c,conference_name:e,group_thread_id:f,ig_thread_id:g,immersive_mode_door_id:h,is_meta_ai_call:i,link_url:j,live_broadcast_id:k,meeting_id:l,peer_id:m,rtc_door_id:n,server_info_data:a}}f.JOINING_CONTEXT_TOPIC=b;f.convertCollisionToJoiningContext=a}),66);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("shouldUseSFUMediaPath",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("25249");if(b)return!0;return d("ZenonAppProvider").isMessengerWebApp()&&a&&((b=c("gkx")("3298"))!=null?b:!1)?!0:!1}g["default"]=a}),98);
__d("ZenonMWJoinUtils",["ZenonBrowsers","ZenonIGMediaUtil","gkx","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ZenonBrowsers").isFirefox()&&a!=="answer"?!1:!c("ZenonIGMediaUtil").shouldUseSFUOnly()}function b(){return c("shouldUseSFUMediaPath")(!1)?!1:c("gkx")("25223")}g.canUseMwpp=a;g.canDeescalate=b}),98);
__d("ZenonMWThriftJoinTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","RequestStreamBodyUtils","RoboticsPermission","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonDismissReason","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWCommonUtils","ZenonMWJoinUtils","ZenonMWThriftTranslatorUtils","ZenonScreenShare","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.messageHeader,f=e.responseStatusCode,g=e.responseSubCode;if(f&&f!==d("MultiwayCommonTypes").RtcResponseStatusCode.OK){var i;g="JOIN response status code: "+String(f)+" subcode "+String(g!=null?g:"[undefined]");c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Got non-OK "+g,errorDomain:"ZenonMWThriftMessageTranslator.fromThriftJoinResponse"});i={detailedReasonFromMW:(i=e.responseStatusMessage)!=null?i:"",eventName:"terminateRequest",fromJoinResponse:!0,reason:h(f,e.responseSubCode),shouldInformPeer:!1,subreason:g};b.push(i);return b}f=a.messageBody.joinResponse;if(!f)return b;a=(i=(g=f.answer)==null?void 0:g.sdpString)!=null?i:"";g=a!=="";d("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(f.stateStore,b,!1,g);d("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(b,e);i=d("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(f.stateStore);e={ackMessageId:e.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:g,source:"joinResponse"};b.push(e);if(g){e={sdp:a,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(a)};g=d("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(f.mediaStatusEx);a=f.renegotiationOffer;var j=null;a!=null&&a.sdpString!=null&&(j={sdp:a.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(a.sdpString)});a={e2eeServerState:i,eventName:"remoteSdpRequest",mediaPath:d("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(f.mediaPath),mediaStates:g,negotiateType:!1,renegotiationOffer:j,sdp:e,sdpOriginLocalId:f.sdpOriginLocalId,source:"joinResponse"};b.push(a)}i={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:f.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};b.push(i);if(f.isPendingApproval){g={eventName:"pendingApprovalRequest"};b.push(g)}j=f.groupsOfUsers;var k=new Map();j.forEach(function(a){var b=a.aliasId;a=a.users;b!=null&&a.forEach(function(a){k.set(a,b)})});e={actorRepresentatives:k,eventName:"clientInfoRequest",mediaPath:d("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(f.mediaPath),userCapabilities:new Map()};b.push(e);return b}function b(a,b,e,f){var g=b.initialSyncStates,h=b.isSecondaryJoinRole,j=b.userCapabilities;j={clientMediaMode:e.mediaMode==="p2p"?d("MultiwaySharedTypes").MediaPath.P2P:d("MultiwaySharedTypes").MediaPath.SFU,deviceCapabilities:new Set([d("MultiwayCommonTypes").Capability.SUPPORT_NEW_PARTICIPANT_STATES,d("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU,d("MultiwayCommonTypes").Capability.SUPPORT_SDP_RENEGOTIATION,d("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED].concat(d("ZenonBrowsers").supportsPranswer()?[d("MultiwayCommonTypes").Capability.SUPPORT_PRECONNECT]:[])),mediaStatus:d("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(e.mediaStates),mediaStatusEx:d("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(e.mediaStates),offer:{},syncPayload:g?{stateStore:d("ZenonMWThriftTranslatorUtils").toThriftMWSyncStateStore(g),stateStoreV2:{}}:void 0,userCapabilities:d("RequestStreamBodyUtils").stringToUint8Array((g=j.get(a.userInfo.userID))!=null?g:"")};h!=null&&(j.endpointSettings={joinMode:h?d("MultiwayCommonTypes").JoinMode.SECONDARY:d("MultiwayCommonTypes").JoinMode.PRIMARY});g=b.isE2eeMandated===!0;j.e2eeEnforcement={infraMandatedExpStatus:b.e2eeInfraMandatedExpStatus,mode:g?d("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED:d("MultiwaySharedTypes").E2eeMode.E2EE_NOT_MANDATED,p2pSFrameExpStatus:d("MultiwaySharedTypes").P2PSFrameExpStatus.NOT_SET,preventSfuMode:!1};e.sdp.type==="offer"&&(j.offer={sdpString:e.sdp.sdp});d("ZenonMWJoinUtils").canUseMwpp(e.sdp.type)&&(j.deviceCapabilities.add(d("MultiwayCommonTypes").Capability.SUPPORT_MWPP),e.sdp.type==="answer"&&(j.answer={sdpString:e.sdp.sdp}),d("ZenonMWJoinUtils").canDeescalate()&&j.deviceCapabilities.add(d("MultiwayCommonTypes").Capability.SUPPORT_MWPP_DEESCALATION));(!d("ZenonScreenShare").screenShareWithReplaceTrack()||c("RoboticsPermission").is_authorized_robot)&&j.deviceCapabilities.add(d("MultiwayCommonTypes").Capability.SUPPORT_MULTIPLE_VIDEO_STREAMS);h=f==null?void 0:f.otherParticipants;h&&(j.usersToCall=new Set(h));b=[];e=(e=f==null?void 0:f.roomInfo.context)!=null?e:a.roomInfo.context;if(e!=null){var k=d("ZenonJoiningContext").convertCollisionToJoiningContext(e);g&&(k.calling_tags=2);b=[].concat(b,[{body:{genericMessage:{data:d("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(k)),topic:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(f==null?void 0:f.appMessages)!=null&&(b=[].concat(b,d("ZenonMWThriftTranslatorUtils").signalingMessageAppMessagesToThriftMWAppMessages(f.appMessages,h)));j.appMessages=b;g=d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{joinRequest:j},type:d("MultiwayCommonTypes").MessageType.JOIN});e&&e.serverInfoData!=null&&(g.messageHeader.serverInfoData=e.serverInfoData);i(e,g.messageHeader)&&(g.messageHeader.conferenceType=d("MultiwaySharedTypes").ConferenceType.ROOM);return g}function h(a,b){if(b===d("MultiwayCommonTypes").RtcResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return d("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;if(b===d("MultiwayCommonTypes").RtcResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON)return d("ZenonDismissReason").ZenonDismissReason.ProductServerDefinedEndReason;if(b===d("MultiwayCommonTypes").RtcResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION&&c("justknobx")._("4391"))return d("ZenonDismissReason").ZenonDismissReason.CallerHasAppealableCallingRestriction;switch(a){case d("MultiwayCommonTypes").RtcResponseStatusCode.METHOD_NOT_ALLOWED:case d("MultiwayCommonTypes").RtcResponseStatusCode.UNAUTHORIZED:return d("ZenonDismissReason").ZenonDismissReason.NoPermission;case d("MultiwayCommonTypes").RtcResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case d("MultiwayCommonTypes").RtcResponseStatusCode.OK:throw c("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",error:"[ZP] Got unexpected JOIN response status: "+String(a)+" subcode "+String(b!=null?b:"[undefined]"),errorDomain:"fromMWThriftJoinResponseStatusToDismissReason"});return d("ZenonDismissReason").ZenonDismissReason.UnexpectedEndOfCall}}function i(a,b){return((a==null?void 0:a.peerID)!=null||(a==null?void 0:a.groupThreadID)!=null)&&b.conferenceName===""}g.fromThriftJoinResponse=a;g.toThriftJoinRequest=b}),98);
__d("ZenonMWThriftPingTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageHeader;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function b(a){return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{},type:d("MultiwayCommonTypes").MessageType.PING})}g.fromThriftPingResponse=a;g.toThriftPingRequest=b}),98);
__d("ZenonMWThriftRemoveParticipantsTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={usersToRemove:new Set(b.participants)};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{removeParticipantsRequest:b},type:d("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS})}g.toThriftRemoveParticipantsRequest=a}),98);
__d("ZenonMWThriftRingTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWCommonUtils","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(b)return{groupThreadID:b.groupThreadId,peerID:b.peerId,serverInfoData:c};b=d("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(a);b&&(b.serverInfoData=c);return b!=null?b:{groupThreadID:null,peerID:null,serverInfoData:c}}function a(a,b){var c=[],e=a.messageBody;a=a.messageHeader;e=e.ringRequest;if(e){var f=e.appMessages,g=e.caller,i=e.e2eeEnforcement,j=e.otherParticipants,k=e.ringType,l=e.sdpOriginLocalId,m=e.threadIdInfo;g=g;k=k===d("MultiwayCommonTypes").RingType.PEER_VIDEO_CALL||k===d("MultiwayCommonTypes").RingType.GROUP_VIDEO_CALL||k===d("MultiwayCommonTypes").RingType.LIVE_STREAM||k===d("MultiwayCommonTypes").RingType.PEER_ESCALATED_AUDIO_CALL;var n=a.conferenceName;a=a.serverInfoData;m=h(f,m,a);var o=d("ZenonMWThriftTranslatorUtils").getRoomMetadataFromThriftAppMessages(f);g={actorID:b.actorID,e2eeInfraMandatedExpStatus:i==null?void 0:i.infraMandatedExpStatus,eventName:"inviteRequest",inviterID:g,isE2eeMandated:(i==null?void 0:i.mode)===d("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:Array.from(j),requestingVideo:k,roomInfo:babelHelpers["extends"]({context:m,name:n},o==null?{}:{room:o,sender:o.sender}),userID:b.userInfo.userID};a!=null&&(g.serverInfoData=a);f!=null&&(g.appMessages=d("ZenonMWThriftTranslatorUtils").mwThriftAppMessagesToSignalingAppMessages(f));c.push(g);k=(j=(i=e.offer)==null?void 0:i.sdpString)!=null?j:"";n=(m=e.mediaStatusEx)!=null?m:null;if(k!==""&&n!=null){o={sdp:k,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(k)};b=d("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(n);a={eventName:"remoteSdpRequest",mediaPath:d("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(e.mediaPath),mediaStates:b,negotiateType:!1,sdp:o,sdpOriginLocalId:l,source:"ringRequest"};c.push(a)}}return c}function b(a,b){b=b.status;b==="IN_ANOTHER_CALL"&&(a.signalingID=null);b=d("ZenonMWThriftTranslatorUtils").toMWThriftDeviceStatus(b);b={deviceStatus:b};return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{ringResponse:b},type:d("MultiwayCommonTypes").MessageType.RING})}g.fromThriftRingRequest=a;g.toThriftRingResponse=b}),98);
__d("ZenonMWThriftServerMediaUpdateTranslator",["FBLogger","MultiwayCommonTypes","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonInfraActionsLogger","ZenonMWCommonUtils","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageTagUtils","ZenonMWThriftTranslatorUtils","ZenonScreenShare"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.messageBody.serverMediaUpdateRequest,f=a.messageHeader,g=f.messageTags,i=f.transactionId;if(!e)return b;var j=e.answer,k=e.fromVersion,l=e.mediaPath,m=e.mediaStatus,n=e.multipleVideoStreamsAllowed,o=e.offer,p=e.prAnswer,q=e.renegotiationRequested,r=e.sdpOriginLocalId,s=e.stateStore,t=e.toVersion;e=e.update;o=(o=o==null?void 0:o.sdpString)!=null?o:"";j=(j=j==null?void 0:j.sdpString)!=null?j:"";p=(p=p==null?void 0:p.sdpString)!=null?p:"";k=+k;t=+t;l=d("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(l);g=d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(g);var u=function(){d("ZenonMWThriftMessageReliabilityLogger").logProcessedMessage(a)},v=o!=="",w=j!=="",x=d("ZenonBrowsers").supportsPranswer()&&p!=="",y=e!==null;y=v||w||x||y;d("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(s,b,!1,y);y=d("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(s);if(q){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 1: renegotationRequested"});s={ackMessageId:i,eventName:"initiateRenegotiationRequest",fromVersion:k,hasRemoteOffer:o!=="",mediaPath:l,messageTags:g!=null?g:[],onProcessed:u,version:t};b.push(s);if(v){q=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(q)}}else if(w){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 2: answer SDP"});s=h(i,k,l,m,{sdp:j,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(j)},r,u,g,y);if(s.sdp.sdp!=null&&d("ZenonMWCommonUtils").isUnifiedPlan(s.sdp.sdp)){q={sdp:j,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(j)};s.renegotiationOffer=q}b.push(s)}else if(v){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 3: offer SDP"});w=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(w)}else if(e){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 4: delta SDP"});j=h(i,k,l,m,{type:"offer",update:e,version:t},r,u,g,y);b.push(j)}else if(x){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 5: prAnswer SDP"});q=h(i,k,l,m,{sdp:p,type:"pranswer",version:d("ZenonMWCommonUtils").getSdpVersion(p)},r,u,g,y);b.push(q)}else if(m){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 6: media update"});s={ackMessageId:i,eventName:"mediaUpdateRequest",mediaStates:d("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(m,k,t),messageTags:g!=null?g:[],onProcessed:u};b.push(s)}else{v="Warning: unsupported SMU type. TXID: "+i;c("FBLogger")("rpweb").warn(v);c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:v,errorDomain:"ZenonMWThriftServerMediaUpdateTranslator"})}d("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(b,f);o={capabilities:{multipleVideoStreamsAllowed:n},eventName:"capabilitiesRequest",messageTags:g!=null?g:[]};b.push(o);return b}function h(a,b,c,e,f,g,h,i,j){return{ackMessageId:a,e2eeServerState:j,eventName:"remoteSdpRequest",fromVersion:b,mediaPath:c,mediaStates:d("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(e),messageTags:i!=null?i:[],negotiateType:!1,onProcessed:h,sdp:f,sdpOriginLocalId:g,source:"serverMediaUpdateRequest"}}function b(a,b,c,e){return i({acknowledgedVersion:b.acknowledgedVersion,answer:e,header:a,mediaStates:c,statusCode:d("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(b.statusCode),subCode:(e=d("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(b.subCode))!=null?e:void 0})}function e(a,b){return i({acknowledgedVersion:b.acknowledgedVersion,header:a,statusCode:d("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(b.statusCode),subCode:(a=d("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(b.subCode))!=null?a:void 0})}function f(a,b){return i({acknowledgedVersion:b.acknowledgedVersion,header:a,statusCode:(a=d("MultiwayCommonTypes").RtcResponseStatusCode.cast(b.responseStatusCode))!=null?a:d("MultiwayCommonTypes").RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED,subCode:d("MultiwayCommonTypes").RtcResponseSubCode.cast(b.responseSubCode)})}function i(a){var b=a.acknowledgedVersion,c=a.answer,e=a.header,f=a.mediaStates,g=a.statusCode;a=a.subCode;b={currentVersion:String(b)};f&&(b.mediaStatus=j(f));c&&(b.answer={sdpString:c.sdp});return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{serverMediaUpdateResponse:b},statusCode:g,subCode:a,type:d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE})}function j(a){var b={tracks:{}},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var e={customAudioContentType:void 0,customVideoContentType:void 0,enabled:a.enabled,name:a.name,owner:a.participantID},f=c?d("ZenonMWThriftTranslatorUtils").toMWThriftTrackLabel(a.type):null;f!=null&&(e.label=f);b.tracks[a.trackID]=e});return b}g.fromThriftServerMediaUpdateRequest=a;g.toThriftServerMediaUpdateResponse=b;g.toThriftServerMediaUpdateRenegotiationResponse=e;g.toThriftServerMediaUpdateNoSdpResponse=f}),98);
__d("ZenonMWThriftStateSyncTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.messageBody.updateResponse;a=a.messageHeader.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function b(a){a=a.messageBody.notifyRequest;if(!a)return[];var b=[];if(a.syncPayload!=null)d("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(a.syncPayload.stateStore,b,!0,!1);else{var c=a.data,e=a.topic;a=a.version;c={data:c,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:e,version:a};b.push(c)}return b}function c(a){var b=a.messageBody.unsubscribeResponse;a=a.messageHeader.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function e(a,b){var c=b.data,e=b.topic;b=b.version;c={data:c,syncPayload:{stateStore:{},stateStoreV2:{}},topic:e,topicId:null,version:b};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{updateRequest:c},type:d("MultiwayCommonTypes").MessageType.UPDATE})}function f(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{notifyResponse:c},type:d("MultiwayCommonTypes").MessageType.NOTIFY})}function h(a,b){var c=b.topic;b=b.version;c={topic:c,topicId:null,version:b};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{unsubscribeRequest:c},type:d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE})}g.fromThriftUpdateResponse=a;g.fromThriftNotifyRequest=b;g.fromThriftUnsubscribeResponse=c;g.toThriftUpdateRequest=e;g.toThriftNotifyResponse=f;g.toThriftUnsubscribeRequest=h}),98);
__d("ZenonMWThriftSubscriptionTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.subscriptions;b={subscriptions:b.map(function(a){var b;return{cname:"",options:{videoQuality:d("MultiwaySharedTypes").VideoQuality.cast((b=a.options)==null?void 0:b.videoQuality)},trackId:a.trackId,type:d("MultiwaySharedTypes").SubscriptionType.cast(a.type)}})};return d("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:a,rtcMessageBody:{subscriptionRequest:b},type:d("MultiwayCommonTypes").MessageType.SUBSCRIPTION})}g.toThriftSubscriptionRequest=a}),98);
__d("ZenonMWThriftWakeupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.messageHeader;a={ackMessageId:a.transactionId,eventName:"wakeupRequest"};b.push(a);return b}function b(a){return d("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:a,rtcMessageBody:{},type:d("MultiwayCommonTypes").MessageType.WAKEUP})}g.fromThriftWakeupRequest=a;g.toThriftWakeupResponse=b}),98);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("ZenonMWThriftMessageTranslator",["FBLogger","MultiwayCommonTypes","ZenonActorHooks","ZenonMWThriftAddParticipantsTranslator","ZenonMWThriftApprovalTranslator","ZenonMWThriftClientEventTranslator","ZenonMWThriftClientMediaUpdateTranslator","ZenonMWThriftConferenceStateTranslator","ZenonMWThriftDataMessageTranslator","ZenonMWThriftDismissTranslator","ZenonMWThriftHangupTranslator","ZenonMWThriftIceCandidateTranslator","ZenonMWThriftJoinTranslator","ZenonMWThriftPingTranslator","ZenonMWThriftRemoveParticipantsTranslator","ZenonMWThriftRingTranslator","ZenonMWThriftServerMediaUpdateTranslator","ZenonMWThriftStateSyncTranslator","ZenonMWThriftSubscriptionTranslator","ZenonMWThriftTranslatorUtils","ZenonMWThriftWakeupTranslator","ZenonSignalingMessage","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw c("unrecoverableViolation")("Unexpected Translation: called toMWThriftMessage with empty signaling events","rtc_www");else{var e=a[0];switch(e.eventName){case"addParticipantsRequest":return d("ZenonMWThriftAddParticipantsTranslator").toThriftAddParticipantsRequest(b,e);case"clientEventRequest":return d("ZenonMWThriftClientEventTranslator").toThriftClientEventRequest(b,e);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"))return d("ZenonMWThriftJoinTranslator").toThriftJoinRequest(b,e,a[1]);break;case"dismissResponse":return d("ZenonMWThriftDismissTranslator").toThriftDismissResponse(b);case"genericDataMessageRequest":return d("ZenonMWThriftDataMessageTranslator").toThriftDataMessageRequest(b,e);case"genericDataMessageResponse":return d("ZenonMWThriftDataMessageTranslator").toThriftDataMessageResponse(b);case"terminateRequest":return d("ZenonMWThriftHangupTranslator").toThriftHangupRequest(b,e);case"initiateRenegotiationResponse":if(a.length>=3&&a[1].eventName==="remoteSdpResponse"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="answer")return d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(b,a[1],a[2].mediaStates,a[2].sdp);else return d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateRenegotiationResponse(b,e);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return d("ZenonMWThriftJoinTranslator").toThriftJoinRequest(b,a[1],a[2],e);break;case"inviteResponse":return d("ZenonMWThriftRingTranslator").toThriftRingResponse(b,e);case"iceCandidateRequest":return d("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateRequest(b,e);case"iceCandidateResponse":return d("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateResponse(b);case"participantUpdateResponse":return d("ZenonMWThriftConferenceStateTranslator").toThriftConferenceStateResponse(b,e);case"localSdpRequest":return d("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(b,e.mediaStates,e.sdp);case"mediaUpdateRequest":return d("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(b,e.mediaStates);case"mediaUpdateResponse":return d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateNoSdpResponse(b,e);case"pingRequest":return d("ZenonMWThriftPingTranslator").toThriftPingRequest(b);case"remoteSdpResponse":return e.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?a[1].mediaMode!=="p2p"?d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(b,e,a[1].mediaStates):d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(b,e,a[1].mediaStates,a[1].sdp):d("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(b,e);case"removeParticipantsRequest":return d("ZenonMWThriftRemoveParticipantsTranslator").toThriftRemoveParticipantsRequest(b,e);case"subscriptionRequest":return d("ZenonMWThriftSubscriptionTranslator").toThriftSubscriptionRequest(b,e);case"stateSyncNotifyResponse":return d("ZenonMWThriftStateSyncTranslator").toThriftNotifyResponse(b,e);case"stateSyncUpdateRequest":return d("ZenonMWThriftStateSyncTranslator").toThriftUpdateRequest(b,e);case"stateSyncUnsubscribeRequest":return d("ZenonMWThriftStateSyncTranslator").toThriftUnsubscribeRequest(b,e);case"usersApprovalRequest":return d("ZenonMWThriftApprovalTranslator").toThriftApprovalRequest(b,e);case"wakeupResponse":return d("ZenonMWThriftWakeupTranslator").toThriftWakeupResponse(b)}}return null}function b(a){var b=a.messageHeader;if(!h(b)){c("FBLogger")("rtc_www").info("Ignoring Thrift MW message; receiver does not match self ID","rtc_www");return null}var e=b.type,f=b.responseStatusCode==null;b=d("ZenonMWThriftTranslatorUtils").mwThriftMessageHeaderToSignalingMessageHeader(b);var g=[];if(e==null)return new(c("ZenonSignalingMessage"))(b,g);switch(e){case d("MultiwayCommonTypes").MessageType.RING:f&&(g=d("ZenonMWThriftRingTranslator").fromThriftRingRequest(a,b));break;case d("MultiwayCommonTypes").MessageType.JOIN:f||(g=d("ZenonMWThriftJoinTranslator").fromThriftJoinResponse(a));break;case d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE:f&&(g=d("ZenonMWThriftConferenceStateTranslator").fromThriftConferenceStateRequest(a));break;case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:f||(g=d("ZenonMWThriftClientMediaUpdateTranslator").fromThriftClientMediaUpdateResponse(a));break;case d("MultiwayCommonTypes").MessageType.HANGUP:f||(g=d("ZenonMWThriftHangupTranslator").fromThriftHangupResponse(a));break;case d("MultiwayCommonTypes").MessageType.PING:f||(g=d("ZenonMWThriftPingTranslator").fromThriftPingResponse(a));break;case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:!f?g=d("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateResponse(a):g=d("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateRequest(a);break;case d("MultiwayCommonTypes").MessageType.DATA_MESSAGE:f&&(g=d("ZenonMWThriftDataMessageTranslator").fromThriftDataMessageRequest(a));break;case d("MultiwayCommonTypes").MessageType.DISMISS:f&&(g=d("ZenonMWThriftDismissTranslator").fromThriftDismissRequest(a));break;case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:f&&(g=d("ZenonMWThriftServerMediaUpdateTranslator").fromThriftServerMediaUpdateRequest(a));break;case d("MultiwayCommonTypes").MessageType.NOTIFY:f&&(g=d("ZenonMWThriftStateSyncTranslator").fromThriftNotifyRequest(a));break;case d("MultiwayCommonTypes").MessageType.UPDATE:f||(g=d("ZenonMWThriftStateSyncTranslator").fromThriftUpdateResponse(a));break;case d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE:f||(g=d("ZenonMWThriftStateSyncTranslator").fromThriftUnsubscribeResponse(a));break;case d("MultiwayCommonTypes").MessageType.WAKEUP:f&&(g=d("ZenonMWThriftWakeupTranslator").fromThriftWakeupRequest(a));break;default:break}return new(c("ZenonSignalingMessage"))(b,g)}function h(a){return d("ZenonActorHooks").ZenonActor.isInstagramUser()||d("ZenonActorHooks").ZenonActor.isOculusUser()||d("ZenonActorHooks").ZenonActor.isKadabraUser()||d("ZenonActorHooks").ZenonActor.isManagedMetaAccount()||d("ZenonActorHooks").ZenonActor.isMDCUser()||a.receiverUserId==null||a.receiverUserId===d("ZenonActorHooks").ZenonActor.getID()||((a=a.receiver)==null?void 0:a.baseId)===d("ZenonActorHooks").ZenonActor.getAccountID()}g.toMWThriftMessage=a;g.toSignalingMessage=b}),98);
__d("decodeIgSignalingPayload",["TCompactProtocol","TReadBuffer","ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2;function a(a){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocol"))(a);var b=null;a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case i:e===(h||(h=c("ThriftTypes"))).STRING?b=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}g["default"]=a}),98);
__d("IgSignalingListener",["FBLogger","IGDOverLSMqttChannel","RequestStreamBodyUtils","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","decodeIgSignalingPayload","nullthrows","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("IGDOverLSMqttChannel").waitAndGetInstance();a=function(){function a(){}var b=a.prototype;b.setLoggingEventHandler=function(a){this.$1=a};b.subscribe=function(a,b){var e=this;c("promiseDone")(h.then(function(f){f.subscribeBinary("/pubsub",function(f){try{f=c("nullthrows")(c("decodeIgSignalingPayload")(f));f=JSON.parse(f);f=d("RequestStreamBodyUtils").base64ToUint8Array(f.binaryPayload);f=d("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(f,!0);d("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(f);c("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","MQTT Thrift",f);e.$1&&e.$1({mwThriftMessage:f,name:"mwThriftMessageRecv"});var g=d("ZenonMWThriftMessageTranslator").toSignalingMessage(f);if(g==null)return;a(g);b&&e.$2(f,g,b);d("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(f)}catch(a){c("FBLogger")("rpweb").catching(a).mustfix("Error receiving MQTT message from /pubsub topic")}})}))};b.unsubscribe=function(){c("promiseDone")(h.then(function(a){a.unsubscribeAll("/webrtc"),a.unsubscribeAll("/pubsub")}))};b.$2=function(a,b,d){try{d(a,b)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);
__d("LazyLoadInstance",["asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={LOADING:1,NOT_READY:0,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:h.NOT_READY}}var d=a.prototype;d.get=function(a){switch(this.$1.stage){case h.NOT_READY:c("promiseDone")(this.$2(this.$1),a);break;case h.LOADING:c("promiseDone")(this.$1.instancePromise,a);break;case h.READY:a(this.$1.instance);break}};d.getNow=function(){return this.$1.stage===h.READY?this.$1.instance:null};d.preload=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$1.stage===h.NOT_READY&&(yield this.$2(this.$1))});function c(){return a.apply(this,arguments)}return c}();d.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:h.READY};return a});this.$1={instancePromise:a,stage:h.LOADING};return a};return a}();g["default"]=a}),98);
__d("LsRtcEndCallSurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743882");b=d("FalcoLoggerInternal").create("ls_rtc_end_call_survey",a);e=b;g["default"]=e}),98);
__d("LsRtcStarRatingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743884");b=d("FalcoLoggerInternal").create("ls_rtc_star_rating",a);e=b;g["default"]=e}),98);
__d("OverlayConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,640,360,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);b=a;f["default"]=b}),66);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").DEFAULT};b.getValue=function(a){return c("OverlayConfigDefaults")[a]};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("OverlayConfigLayerManager",["OverlayConfigConstants","OverlayConfigDefaultsLayer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[new(c("OverlayConfigDefaultsLayer"))()]}var b=a.prototype;b.getValue=function(a){for(var b=this.$1.length-1;b>=0;b--){var d=this.$1[b].getValue(a);if(d>c("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return d}throw c("unrecoverableViolation")("OverlayConfigLayerManager: No value found for id "+String(a),"rtc_www")};b.addLayer=function(a){this.$1.push(a);return this.$1.length-1};b.replaceLayer=function(a,b){if(a===0)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Tried to replace default layer!","rtc_www");else if(this.$1[a]==null)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Layer does not exist at index "+String(a),"rtc_www");this.$1[a]=b};b.clone=function(){var b=new a();b.$1=this.$1.slice();return b};return a}();g["default"]=a}),98);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("Configs")).ExampleConfig,h=a.SimulcastOverSignalingConfig,i=a.PreferredCaptureConfig,j=a.ZenonSdpTransformConfig,k=a.ZenonPeerConnectionConfig,l=a.ZenonStartCallImmediatelyConfig,m=a.ZenonGeneralizedIdentityConfig,n=a.ZenonMultiCallSupportConfig,o=a.ZenonPlatformSupportConfig,p=a.ZenonSimulcastConfig,q=a.DynamicRuleConfig,r=a.SignalingPingConfig;c=function(){function a(){this.layerManager=new(b("OverlayConfigLayerManager"))()}var c=a.prototype;c.getExampleConfig=function(){return new g(this.layerManager)};c.getSimulcastOverSignalingConfig=function(){return new h(this.layerManager)};c.getPreferredCaptureConfig=function(){return new i(this.layerManager)};c.getZenonSdpTransformConfig=function(){return new j(this.layerManager)};c.getZenonPeerConnectionConfig=function(){return new k(this.layerManager)};c.getZenonStartCallImmediatelyConfig=function(){return new l(this.layerManager)};c.getZenonGeneralizedIdentityConfig=function(){return new m(this.layerManager)};c.getZenonMultiCallSupportConfig=function(){return new n(this.layerManager)};c.getZenonPlatformSupportConfig=function(){return new o(this.layerManager)};c.getZenonSimulcastConfig=function(){return new p(this.layerManager)};c.getDynamicRuleConfig=function(){return new q(this.layerManager)};c.getSignalingPingConfig=function(){return new r(this.layerManager)};return a}();e.exports=c}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OverlayConfigManagerWithServerLayer$p_1=-1;b!=null&&(c.layerManager=b.layerManager.clone());return c}var c=b.prototype;c.setServerLayer=function(a){if(this.$OverlayConfigManagerWithServerLayer$p_1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer$p_1,a);return}this.$OverlayConfigManagerWithServerLayer$p_1=this.layerManager.addLayer(a)};return b}(c("OverlayConfigManager"));g["default"]=a}),98);
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGCoreModal.react"),{backdropColor:"dark",children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:d("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:e,children:i.jsx(j,babelHelpers["extends"]({},a))}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisXESwitcherUtil",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("4847")===!0}function b(){return c("qex")._("4848")===!0}g.shouldEnableIGWebXMDSSwitcher=a;g.shouldEnableIGWebXMDSSwitcherTitle=b}),98);
__d("PolarisXESwitcherDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24200373556213830"}),null);
__d("PolarisXESwitcherDialogQuery$Parameters",["PolarisXESwitcherDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisXESwitcherDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisXESwitcherDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisXESwitcherDialog.entrypoint",["JSResourceForInteraction","PolarisXESwitcherDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisXESwitcherDialogQuery:{parameters:c("PolarisXESwitcherDialogQuery$Parameters"),variables:{accounts:a.routeParams.accounts}}}}},root:c("JSResourceForInteraction")("PolarisXESwitcherDialog.react").__setRef("PolarisXESwitcherDialog.entrypoint")};g["default"]=a}),98);
__d("usePolarisXESwitcherDialog",["PolarisSwitchAccountsUtil","PolarisXESwitcherDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(9),b=d("PolarisSwitchAccountsUtil").useXESwitcherIgAccounts(),e;a[0]!==b?(e=b.map(i),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b={accounts:e},a[2]=e,a[3]=b):b=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={},a[4]=e):e=a[4];a[5]!==b?(e={routeParams:b,routeProps:e},a[5]=b,a[6]=e):e=a[6];b=c("useCometEntryPointDialog")(c("PolarisXESwitcherDialog.entrypoint"),e);var f=b[0];a[7]!==f?(e=function(){return f({})},a[7]=f,a[8]=e):e=a[8];return e}function i(a){return{badge_count_message:a.badgeCountMessage,profile_pic_url:a.profilePicUrl,user_id:a.userId,username:a.username}}g["default"]=a}),98);
__d("PolarisGlobalUIComponents.react",["CometErrorBoundary.react","CometPlaceholder.react","IGWebPreCallProvider.react","PolarisAppStoreLauncher.react","PolarisCallGatingHelpers","PolarisConfig","PolarisIsLiveProducerEnabled","PolarisIsLoggedIn","PolarisLiveCreationModalLazy.react","PolarisOneTapLogin","PolarisQPConstants","PolarisReactRedux.react","PolarisSwitchAccountsModalLazy.react","PolarisToastWrapper.react","PolarisUA","PolarisXESwitcherUtil","cr:1609","cr:3106","cr:4779","cr:4839","cr:7274","cr:8738","cr:9681","polarisNavigationSelectors","react","react-compiler-runtime","stylex","usePolarisXESwitcherDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mobileToast:{marginBottom:"xx7atzb",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(27),f=a.hasMobileNavs,g=a.pageIdentifier;a=a.viewer;var i=d("PolarisReactRedux.react").useSelector(d("polarisNavigationSelectors").getHideNavQueryParam),n=d("PolarisReactRedux.react").useSelector(m),o=n.isAccountSwitcherOpen;n=n.isLiveCreationModalOpen;var p;e[0]!==n?(p=!d("PolarisUA").isMobile()&&n&&d("PolarisIsLiveProducerEnabled").isLiveProducerEnabled()?j.jsx(c("PolarisLiveCreationModalLazy.react"),{}):null,e[0]=n,e[1]=p):p=e[1];n=p;p=null;if(d("PolarisUA").isMobile()&&d("PolarisOneTapLogin").isCAASpiDialogEligible())if(b("cr:7274")){var q;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(b("cr:7274"),{}),e[2]=q):q=e[2];p=q}else if(b("cr:8738")){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(b("cr:8738"),{}),e[3]=q):q=e[3];p=q}e[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx("div",{children:j.jsx(c("PolarisSwitchAccountsModalLazy.react"),{})}),e[4]=q):q=e[4];q=q;var r=c("usePolarisXESwitcherDialog")();f=f&&!!a&&k.mobileToast;var s;e[5]!==f?(s=(h||(h=c("stylex")))(f),e[5]=f,e[6]=s):s=e[6];e[7]!==s?(f=j.jsx(c("PolarisToastWrapper.react"),{className:s}),e[7]=s,e[8]=f):f=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=b("cr:9681")!=null&&j.jsx(b("cr:9681"),{slot:d("PolarisQPConstants").SLOTS.app_start}),p=j.jsx(c("CometErrorBoundary.react"),{fallback:l,children:p}),e[9]=s,e[10]=p):(s=e[9],p=e[10]);e[11]!==o||e[12]!==r?(q=o&&d("PolarisIsLoggedIn").isLoggedIn()&&(d("PolarisXESwitcherUtil").shouldEnableIGWebXMDSSwitcher()?r():q),e[11]=o,e[12]=r,e[13]=q):q=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("CometErrorBoundary.react"),{children:b("cr:4779")!=null&&d("PolarisCallGatingHelpers").isIncomingCallEnabled()?j.jsx(c("IGWebPreCallProvider.react"),{children:j.jsx(b("cr:4779"),{})}):null}),e[14]=o):o=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(r=b("cr:3106")&&j.jsx(b("cr:3106"),{}),e[15]=r):r=e[15];var t;e[16]!==i||e[17]!==g||e[18]!==a?(t=d("PolarisConfig").probablyHasApp()&&!i&&b("cr:1609")&&j.jsx("div",{children:j.jsx(b("cr:1609"),{pageID:g,viewer:a})}),e[16]=i,e[17]=g,e[18]=a,e[19]=t):t=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("PolarisAppStoreLauncher.react"),{}),g=b("cr:4839")!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(b("cr:4839"),{})}):null,e[20]=i,e[21]=g):(i=e[20],g=e[21]);e[22]!==n||e[23]!==t||e[24]!==f||e[25]!==q?(a=j.jsxs(j.Fragment,{children:[f,s,p,q,o,n,r,t,i,g]}),e[22]=n,e[23]=t,e[24]=f,e[25]=q,e[26]=a):a=e[26];return a}function l(){return j.jsx("div",{})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return a.navigation}g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("ZenonCallWindowOpener_Popup",["UserAgent","ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=1280,i={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},j=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"];a=function(){function a(){}var b=a.prototype;b.openWindow=function(a){a=this.$1(a.joinContext);var b=this.$2(a),e=b.left;b=b.top;d("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+e+",top="+b+",width="+a.width+",height="+a.height});var f=c("UserAgent").isBrowser("Safari")?window.location.hostname:"";return window.open(f,"",[].concat(j,["height="+a.height,"width="+a.width,"left="+e,"top="+b]).join(","))};b.$1=function(a){if(screen&&screen.width>h)if(a.type==="link"||a.thread.type===2)return{height:i.LargeForGroup.height,width:i.LargeForGroup.width};else return{height:i.LargeForP2P.height,width:i.LargeForP2P.width};else return{height:i.Small.height,width:i.Small.width}};b.$2=function(a){var b=a.height;a=a.width;return{left:Math.floor(window.innerWidth/2-a/2+((a=window.screenLeft)!=null?a:window.screenX)),top:Math.floor(window.innerHeight/2-b/2+((a=window.screenTop)!=null?a:window.screenY))}};return a}();g["default"]=a}),98);
__d("ZenonCallWindowOpener_iFrame",["ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.openWindow=function(a){d("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_iFrame"});a=document.createElement("iframe");a.setAttribute("data-testid","zenon-call-window");a.frameBorder="0";a.style.width="100%";a.style.height="100vh";a.style.position="fixed";a.style.top="0";a.style.left="0";a.style.zIndex="9999";document.body.appendChild(a);a=a.contentWindow;return a};return a}();g["default"]=a}),98);
__d("RTWebCallWindowOpener",["RTWebDropInUtils","ZenonCallWindowOpener_Popup","ZenonCallWindowOpener_iFrame","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("gkx")("15312")?new(c("ZenonCallWindowOpener_iFrame"))():new(c("ZenonCallWindowOpener_Popup"))()}var b=a.prototype;b.openWindow=function(a){if(a.context.intent==="accept invite"&&a.context.controllerParams.appMessages!=null){var b=d("RTWebDropInUtils").isDropInFromAppMessages(a.context.controllerParams.appMessages);if(b)return babelHelpers["extends"]({},window,{close:function(){return null}})}return this.$1.openWindow(a)};return a}();g["default"]=a}),98);
__d("RtcDoorCallingTags",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({OPEN:0,VANISHING:1,SECRET:2,CANVAS:32,LEAD_GEN:128,COPRESENCE:256,CONDUIT:512});c=a;f["default"]=c}),66);
__d("TokenBucketRateLimit",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a=function(){function a(a,b){this.$1=a*h,this.$2=a*h,this.$3=Date.now(),this.$4=b*h}var b=a.prototype;b.take=function(a){a===void 0&&(a=1);a=a*h;this.$5();if(this.$2<a)return!1;this.$2-=a;return!0};b.$5=function(){if(this.$2>=this.$1)return;var a=Date.now(),b=(a-this.$3)/d("DateConsts").MS_PER_SEC;b=Math.round(b*this.$4);if(b===0)return;this.$2=Math.min(this.$1,this.$2+b);this.$3=a};return a}();g["default"]=a}),98);
__d("WebAssemblyMemorySingleton",[],(function(a,b,c,d,e,f){"use strict";var g=64*1024;c=5701632;d=45*g;var h=c+d,i=null,j=0,k=0;function a(){i==null&&(i=new WebAssembly.Memory({initial:h/g,maximum:2147483648/g}),j=h);return i}function b(){if(i!=null){var a=i.buffer.byteLength;a!==j&&(k++,j=a)}return{memory_reallocation_count:k,memory_size_kb:j/1024}}e={INITIAL_MEMORY_ALLOCATED_IN_BYTES:h,get:a,getMetrics:b};f.WebAssemblyMemorySingleton=e}),66);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return String(Math.trunc(a))};a=function(){return i((h||(h=c("performanceNow")))())};b=function(a){return i(a!=null?a:0)};d=function(a){return a==null?null:i(a!=null?a:0)};e=function(a){return a!=null?a:""};g.truncateNumber=i;g.performanceNowParsed=a;g.nonNullIntNumber=b;g.intNumberOrNull=d;g.nonNullString=e}),98);
__d("ZenonCallInfoManager",["ZenonDeviceId"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.callTrigger,c=a.conferenceName,e=a.isCaller,f=a.isVideo,g=a.localCallID,h=a.peerID,i=a.protocol,j=a.serverInfoData;a=a.signalingID;var k=d("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback();b={callTrigger:b!=null?b:"",conferenceName:c!=null?c:"",deviceID:k,isCaller:e,isVideo:f,localCallID:g,peerID:h,protocol:i,signalingID:a};this.$1=babelHelpers["extends"]({},b,{serverInfoData:j})}var b=a.prototype;b.setDeviceID=function(a){this.$1.deviceID=a};b.setLocalCallID=function(a){this.$1.localCallID=a};b.setSharedCallId=function(a){this.$1.serverInfoData=a};b.setSignalingID=function(a){this.$1.signalingID=a};b.getCallInfo=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ZenonCallInviteModelTypes",[],(function(a,b,c,d,e,f){"use strict";a={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};f.CallInviteModelType=a}),66);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonIncomingRingSDKTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$ZenonCallInviteModel$p_2=function(a){c("FBLogger")("rtc_www").info("Received cancel for: ",a.ringID);if(e.__currentRequest&&e.__currentRequest.model&&e.__currentRequest.model.ringID===a.ringID)switch(a.reason){case d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:a=((a=e.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.type)!==d("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;e.__currentRequest.model=babelHelpers["extends"]({},e.__currentRequest.model,{type:"missed"});a&&e.emit("callInvite",e.__currentRequest.model);break;case d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:e.dismiss();break}};e.$ZenonCallInviteModel$p_1=function(a){var b;c("FBLogger")("rtc_www").info("Receiving ring: ",a.ringID);if(((b=e.__currentRequest)==null?void 0:(b=b.model)==null?void 0:b.type)==="ringing")return;e.__currentRequest={model:{actorID:a.actorID,context:a.context,controllerParams:a.controllerParams,inviterID:a.inviterID,isE2eeMandated:a.isE2eeMandated,participants:a.otherParticipants,receiverUserId:a.receiverUserId,requestingVideo:a.requestingVideo,ringID:a.ringID,ringRequest:a.ringRequest,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a};e.emit("callInvite",e.__currentRequest.model);a.isClientPermissableRing||a.onDecline("VersionUnsupported")};e.__eventSource=b;e.__currentRequest=null;return e}var e=b.prototype;e.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};e.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a||(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel$p_1),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel$p_2))};e.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};e.dismiss=function(){var a;c("FBLogger")("rtc_www").info("Dismissing ring: ",(a=this.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.ringID);this.__currentRequest=null;this.emit("callInvite",null)};e.accept=function(a,b){var d=this.__currentRequest;if(d){var e;c("FBLogger")("rtc_www").info("Accepting ring: ",(e=d.model)==null?void 0:e.ringID);((e=d.model)==null?void 0:e.type)==="ringing"&&d.ringPayload.onAccept(a,b);this.dismiss()}};e.decline=function(a,b){a===void 0&&(a="IgnoreCall");var d=this.__currentRequest;if(d){var e;c("FBLogger")("rtc_www").info("Declining ring: ",(e=d.model)==null?void 0:e.ringID);d.ringPayload.onDecline(a,b);this.dismiss();return}};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("ZenonLogPromiseRejection",["FBLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);return a["catch"](function(a){c("FBLogger")("rtc_www").catching(a).debug(a.message);if(b&&c("gkx")("1083"))throw a})}g["default"]=a}),98);
__d("ZenonCallLogger",["Promise","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLogPromiseRejection","isEmployeeTestUserZenonLogging","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["mwMessageSent","mwThriftMessageSent","mwMessageRecv","mwThriftMessageRecv","setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),j=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]);a=function(){function a(a){var b=this,c=a.config,d=a.initLoggerInfo,e=a.isE2eeMandated;a=a.processorConfigs;this.$5=[];this.$6=new Set();this.$1=d;this.$2=c;this.$3=e;this.$4={clientSessionID:d.signalingID,localCallID:d.localCallID,peerID:d.peerID,sharedCallID:d.serverInfoData};a.forEach(function(a){b.addLogProcessor(a)})}var d=a.prototype;d.addLogProcessor=function(a){var b=this;this.$5.push(new a.LogProcessor({config:this.$2,data:this.$1,isE2eeMandated:this.$3,updateLogIdentifiers:function(a){return b.updateLogIdentifiers(a)}}))};d.updateLogIdentifiers=function(a){Object.assign(this.$4,a),this.log({logIdentifiers:a,name:"updateLogIdentifiers"})};d.log=function(a){if(j.has(a.name)&&this.$6.has(a.name))return;this.$6.add(a.name);this.$7(a);c("promiseDone")(this.logToProcessors(a))};d.logToProcessors=function(a){return c("ZenonLogPromiseRejection")((h||(h=b("Promise"))).all(this.$5.map(function(b){return b.processEvent(a)})).then(function(){}))};d.$7=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;if(i.has(a.name))return;c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] ZenonCallLogger event: "+a.name})};d.getLogIdentifiers=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var e=a.prototype;e.initCall=function(a){var e=this;if(this.$3)throw new(d("ZenonCallWindowErrors").OpeningAnotherCallError)();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,(h||(h=b("Promise"))).resolve({alohaEscalatedMW:!1})]}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var f=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to access close on call window")}this.$2=f;this.$3=!0;return[f,(h||(h=b("Promise"))).all([this.$7.load(),this.$4.load()]).then(function(b){var c=b[0];b=b[1];e.$5===null&&(e.$5=new b(e.$1,new c(e.$1)));return e.$5.initCall(e.$2,a)})["finally"](function(){e.$3=!1})]};return a}();g["default"]=a}),98);
__d("ZenonClientPerfQPLConstants",[],(function(a,b,c,d,e,f){"use strict";a="zenon_popup_opened";b="zenon_call_join_request";c="zenon_sfu_e2ee_negotiation_complete";d="csm_outgoing_start";e="csm_incoming_connection_started";var g="csm_invite_sent",h="csm_invite_ack_recv",i="csm_answer_recv",j="csm_answer_sdp_recv",k="csm_pranswer_sdp_recv",l="csm_offer_sdp_recv",m="csm_answer_sent",n="csm_negotiation_complete",o="csm_network_ready",p="csm_connection_ready",q="csm_dismiss_sent",r="csm_dismiss_recv",s="media_first_audio_packet",t="media_first_audio_packet_sent",u="media_first_video_packet",v="media_first_video_packet_sent",w="media_peer_connection_factory_created",x="signaling_mw_join_req_sent",y="signaling_mw_join_response_recv";f.POINT_ZENON_POPUP_OPENED=a;f.POINT_ZENON_CALL_JOIN_REQUEST=b;f.POINT_ZENON_SFU_E2EE_NEGOTIATION_COMPLETE=c;f.POINT_CONNECTION_OUTGOING_START=d;f.POINT_CONNECTION_INCOMING_CONNECTION_STARTED=e;f.POINT_CONNECTION_INVITE_SENT=g;f.POINT_CONNECTION_INVITE_ACK_RECV=h;f.POINT_CONNECTION_ANSWER_RECV=i;f.POINT_CONNECTION_ANSWER_SDP_RECV=j;f.POINT_CONNECTION_PRANSWER_SDP_RECV=k;f.POINT_CONNECTION_OFFER_SDP_RECV=l;f.POINT_CONNECTION_ANSWER_SENT=m;f.POINT_CONNECTION_NEGOTIATION_COMPLETE=n;f.POINT_CONNECTION_NETWORK_READY=o;f.POINT_CONNECTION_READY=p;f.POINT_CONNECTION_DISMISS_SENT=q;f.POINT_CONNECTION_DISMISS_RECV=r;f.POINT_MEDIA_FIRST_AUDIO_PACKET=s;f.POINT_MEDIA_FIRST_AUDIO_PACKET_SENT=t;f.POINT_MEDIA_FIRST_VIDEO_PACKET=u;f.POINT_MEDIA_FIRST_VIDEO_PACKET_SENT=v;f.POINT_MEDIA_PEER_CONNECTION_FACTORY_CREATED=w;f.POINT_SIGNALING_MW_JOIN_REQ_SENT=x;f.POINT_SIGNALING_MW_JOIN_RESPONSE_RECV=y}),66);
__d("ZenonCollisionContext",["RtcDoorCallingTags"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=null;a.groupThreadID!=null?c={e2eeThreadID:a.groupThreadID,id:a.groupThreadID,type:b?16:2}:a.peerID!=null&&(c={id:a.peerID,secureOneToOneThreadPeerId:b?a.peerID:void 0,type:b?15:1});return c}function b(a){var b=a.call_trigger,d=a.callable_post_id,e=a.calling_tags,f=a.conference_name,g=a.group_thread_id,h=a.ig_thread_id,i=a.immersive_mode_door_id,j=a.is_meta_ai_call,k=a.link_url,l=a.live_broadcast_id,m=a.meeting_id,n=a.peer_id,o=a.rtc_door_id;a=a.server_info_data;return{callablePostID:d,callingTags:c("RtcDoorCallingTags").cast(e),callTrigger:b,conferenceName:f,groupThreadID:g,igThreadID:h,immersiveModeDoorID:i,isMetaAiCall:j,linkUrl:k,liveBroadcastID:l,meetingID:m,peerID:n,rtcDoorID:o,serverInfoData:a}}function d(a){a===void 0&&(a={});return!Object.values(a).some(function(a){return a!=null})}g.getThreadIDAndTypeFromCollisionContext=a;g.fromRTCJoiningContext=b;g.isCollisionContextEmpty=d}),98);
__d("ZenonDeviceInfoHelper",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=-1,h=!1,i={getBatteryStats:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield i.internalGetWindow().navigator.getBattery);if(typeof a!=="function")return{level:g,placeholder:!0,wasCharged:!1};a=(yield a.call(navigator));a.charging?h=!0:a.onchargingchange=function(a){a.target.charging&&(h=!0),a.target.onchargingchange=null};return{level:a.level*100,placeholder:!1,wasCharged:h}});function c(){return a.apply(this,arguments)}return c}(),internalGetWindow:function(){return window}};a=i;f["default"]=a}),66);
__d("ZenonE2eeMandatedStateManager",["$InternalEnum","E2eeStateTypes","MultiwaySharedTypes","ZenonActorHooks","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["NONE","ONLY_INFRA_MANDATED_EXP_CONTROL","ONLY_INFRA_MANDATED_EXP_TEST","INFRA_AND_PRODUCT_MANDATED"]),i=null,j=function(){function a(){this.$1=h.NONE}var b=a.prototype;b.processE2eeMandatedStateFromProductAndRing=function(a,b){this.$1=this.$2(a,b)};b.areBothInfraAndProductE2eeMandated=function(){return this.$1===h.INFRA_AND_PRODUCT_MANDATED};b.isInfraE2eeMandated=function(){return this.areBothInfraAndProductE2eeMandated()||this.$3()};b.$3=function(){return this.$1===h.ONLY_INFRA_MANDATED_EXP_TEST};b.processE2eeMandatedStateFromE2eeServerUpdate=function(a){if(this.areBothInfraAndProductE2eeMandated())return;if(a===d("E2eeStateTypes").InfraMandatedExpStatus.TEST&&this.$1===h.ONLY_INFRA_MANDATED_EXP_TEST)return;if(a===d("E2eeStateTypes").InfraMandatedExpStatus.CONTROL&&this.$1===h.ONLY_INFRA_MANDATED_EXP_CONTROL)return;this.$1=h.NONE};b.isEligibleForE2eeInfraMandatedExperiment=function(){var a;return(a=(a=c("qex")._("138"))!=null?a:c("qex")._("192"))!=null?a:!1};b.isP2pMediaPathPreferredForInfraMandatedExperiment=function(){var a;return this.$3()&&((a=(a=c("qex")._("531"))!=null?a:c("qex")._("532"))!=null?a:!1)};b.getE2eeInfraMandatedExpStatus=function(){switch(this.$1){case h.INFRA_AND_PRODUCT_MANDATED:case h.NONE:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET;case h.ONLY_INFRA_MANDATED_EXP_CONTROL:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL;case h.ONLY_INFRA_MANDATED_EXP_TEST:return d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST}};b.$2=function(a,b){if(a)return h.INFRA_AND_PRODUCT_MANDATED;if(d("ZenonActorHooks").ZenonActor.getAppID()===436761779744620..toString())return h.NONE;if(!this.isEligibleForE2eeInfraMandatedExperiment())return h.NONE;a=this.$4();if(b==null)return a;b=this.$5(b);if(b===h.NONE)return h.NONE;return b===h.ONLY_INFRA_MANDATED_EXP_CONTROL?a===h.ONLY_INFRA_MANDATED_EXP_TEST?h.NONE:h.ONLY_INFRA_MANDATED_EXP_CONTROL:a===h.ONLY_INFRA_MANDATED_EXP_CONTROL?h.NONE:h.ONLY_INFRA_MANDATED_EXP_TEST};b.$4=function(){var a=this.$6();if(a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST)return h.ONLY_INFRA_MANDATED_EXP_TEST;return a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?h.ONLY_INFRA_MANDATED_EXP_CONTROL:h.NONE};b.$6=function(){var a;return(a=c("qex")._("196"))!=null?a:c("qex")._("227")};b.$5=function(a){if(a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST)return h.ONLY_INFRA_MANDATED_EXP_TEST;return a===d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?h.ONLY_INFRA_MANDATED_EXP_CONTROL:h.NONE};return a}();function a(){i==null&&(i=new j());return i}e=a();g["default"]=e}),98);
__d("ZenonGenericLocalStorageStore",["CacheStorage","WebStorage","ZenonODSLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=2e3,k=3;a=function(){function a(a,b,d){this.$1=a,this.$2=new(c("CacheStorage"))(b,d)}var b=a.prototype;b.getLocalStorageObjects=function(){return this.$2.get(this.$1)||{}};b.removeLocalStorageObjects=function(a){this.mutateLocalStorageObjects(function(b){a.forEach(function(a){var c=a.peerID;a=a.signalingID;b[c]&&b[c][a]&&(delete b[c][a],Object.entries(b[c]).length===0&&delete b[c])});return b})};b.mutateLocalStorageObjects=function(a,b,d,e){var f=this;b===void 0&&(b=k);d===void 0&&(d=!1);e===void 0&&(e=null);var g=this.getLocalStorageObjects(),i=this.getLocalStorageObjects();g=a(g);var l=this.getLocalStorageObjects();(h||(h=c("areEqual")))(i,l)?(this.$2.set(this.$1,g),this.logStorageError(this.$2.getLastSetException(),e)):b>0&&(d?c("setTimeout")(function(){f.mutateLocalStorageObjects(a,b-1,!0)},j):this.mutateLocalStorageObjects(a,b-1,!0))};b.logStorageError=function(a,b){a!=null&&(d("ZenonUserActionLogger").logError({call_id:b==null?void 0:b.signalingID,error_domain:"ZenonGenericLocalStorageStore_storeLocalStorageObjects",error_type:a.name,peer_id:b==null?void 0:b.peerID}),(i||(i=c("WebStorage"))).isLocalStorageQuotaExceeded()&&c("ZenonODSLogger").logCounter("local_storage_quota_exceeded"))};return a}();g["default"]=a}),98);
__d("ZenonLSCallStartEventManager",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$ZenonLSCallStartEventManager$p_1={},b.$ZenonLSCallStartEventManager$p_2=!1,b.$ZenonLSCallStartEventManager$p_3=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateEventTimestamp=function(a){this.$ZenonLSCallStartEventManager$p_1[a]==null&&(this.$ZenonLSCallStartEventManager$p_1[a]=d("ZenonCallFalcoEventUtils").performanceNowParsed())};c.receivedFromInvite=function(){this.$ZenonLSCallStartEventManager$p_2=!0};c.receivedFromServer=function(){this.$ZenonLSCallStartEventManager$p_3=!0};c.getStartEventData=function(){var a=this.getCallInfo();a=a.signalingID;var b=babelHelpers["extends"]({},this.getTimestamps(),{},this.$ZenonLSCallStartEventManager$p_4());a!==""&&(b.local_signaling_id=a);return b};c.$ZenonLSCallStartEventManager$p_4=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID,f=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({connection_logging_id:a,local_call_id:c,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway"},f!=null&&{shared_call_id:f},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};c.getTimestamps=function(){return this.$ZenonLSCallStartEventManager$p_1};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallStartEventManager(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a=this.getCallInfo(),b=a.signalingID;a={callInfo:a,connectionLoggingId:b,receivedFromInvite:this.$ZenonLSCallStartEventManager$p_2,receivedFromServer:this.$ZenonLSCallStartEventManager$p_3,timestamps:this.getTimestamps()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSCallStartEventManager$p_2=c.receivedFromInvite;a.$ZenonLSCallStartEventManager$p_3=c.receivedFromServer;a.$ZenonLSCallStartEventManager$p_1=c.timestamps;return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallStartEventStore",["ZenonGenericLocalStorageStore","ZenonLSCallStartEventManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_START_",j="ls_call_start",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallStartEventManager=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallStartEventManager").fromJsonString(d.__d);else return null};d.storeCallStartEventManager=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallStartEventStoreInstance=b}),98);
__d("ZenonLoggingEventTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);c=b("$InternalEnum")({Primary:"primary",Secondary:"secondary"});d="rtc_www";f.ZenonUpdateIceInfoDirection=a;f.ZenonJoinMode=c;f.tslogSource=d}),66);
__d("ZenonLSCallSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonDeviceInfoHelper","ZenonDismissReason","ZenonLoggingEventTypes","ZenonPeerID","asyncToGeneratorRuntime","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this,b)||this;e.$ZenonLSCallSummary$p_1={call_answered_time:"-1",call_connected_time:"-1",call_created_time:"-1",call_ended_time:"-1",last_updated_time:"-1"};e.$ZenonLSCallSummary$p_2=!1;e.$ZenonLSCallSummary$p_3=null;e.$ZenonLSCallSummary$p_6=null;e.$ZenonLSCallSummary$p_8=null;e.$ZenonLSCallSummary$p_9=null;e.$ZenonLSCallSummary$p_10=null;e.$ZenonLSCallSummary$p_11=null;e.$ZenonLSCallSummary$p_15=null;e.$ZenonLSCallSummary$p_19=!1;e.$ZenonLSCallSummary$p_12=b.callTrigger;e.$ZenonLSCallSummary$p_7=b.isVideo;e.$ZenonLSCallSummary$p_4=0;e.$ZenonLSCallSummary$p_14=(b=b.joinMode)!=null?b:d("ZenonLoggingEventTypes").ZenonJoinMode.Primary;e.$ZenonLSCallSummary$p_5=(h||(h=c("performanceNow")))();e.setTimestamp("call_created_time");e.updateLastUpdatedTime();c("promiseDone")(e.updateBatteryStart());return e}var f=e.prototype;f.setTimestamp=function(a){if(this.$ZenonLSCallSummary$p_1[a]!=="-1")return;this.$ZenonLSCallSummary$p_1[a]=String(this.$ZenonLSCallSummary$p_20())};f.getTimestamps=function(){return this.$ZenonLSCallSummary$p_1};f.getExtraInfo=function(){var a={};this.$ZenonLSCallSummary$p_9!=null&&!isNaN(this.$ZenonLSCallSummary$p_9)&&(a.battery_end_level=String(this.$ZenonLSCallSummary$p_9));this.$ZenonLSCallSummary$p_8!=null&&!isNaN(this.$ZenonLSCallSummary$p_8)&&(a.battery_start_level=String(this.$ZenonLSCallSummary$p_8));this.$ZenonLSCallSummary$p_10!=null&&(a.was_device_charged=this.$ZenonLSCallSummary$p_10);this.$ZenonLSCallSummary$p_11!=null&&(a.max_concurrent_connected_participant=this.$ZenonLSCallSummary$p_11);return a};f.getVideoStats=function(){var a={};if(this.$ZenonLSCallSummary$p_6!=null){var b;isNaN(this.$ZenonLSCallSummary$p_6.ld)||(a.local_video_duration=String(this.$ZenonLSCallSummary$p_6.ld));if(!isNaN((b=this.$ZenonLSCallSummary$p_6)==null?void 0:b.rd)){a.remote_video_duration=String((b=(b=this.$ZenonLSCallSummary$p_6)==null?void 0:b.rd)!=null?b:0)}}return a};f.getEndCallStats=function(){var a={};this.$ZenonLSCallSummary$p_16!=null&&(a.end_call_reason=d("ZenonDismissReason").dismissToEndCallReason(this.$ZenonLSCallSummary$p_16));this.$ZenonLSCallSummary$p_17!=null&&(a.end_call_subreason=this.$ZenonLSCallSummary$p_17);this.$ZenonLSCallSummary$p_19!=null&&(a.remote_ended=this.$ZenonLSCallSummary$p_19);if(this.$ZenonLSCallSummary$p_3!=null){var b;a.is_connected_end=(b=this.$ZenonLSCallSummary$p_21())!=null?b:!1}return a};f.getLoggingArgs=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.peerID,e=a.serverInfoData;a=a.signalingID;return{call_id:a,conf_name:(a=this.$ZenonLSCallSummary$p_13)!=null?a:"",peer_id:d("ZenonPeerID").convertPeerIDForLogging(c),serv_info:e!=null?e:"",web_device_id:b}};f.getSummaryLoggingInfo=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.isCaller,e=a.localCallID,f=a.peerID,g=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({},this.getTimestamps(),{},this.getExtraInfo(),{},this.getVideoStats(),{},this.getEndCallStats(),{},g!=null&&{shared_call_id:g},{call_trigger:(g=this.$ZenonLSCallSummary$p_12)!=null?g:"",client_session_id:a==null?null:String(a),invite_requested_video:this.$ZenonLSCallSummary$p_7,is_caller:c,join_mode:String(this.$ZenonLSCallSummary$p_14),local_call_id:e,peer_id:d("ZenonPeerID").convertPeerIDForLogging(f),rtc_actor_id:this.$ZenonLSCallSummary$p_15,steady_time:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time:String(Date.now()),web_device_id:b})};f.onCallEscalated=function(){this.updateLastUpdatedTime()};f.onCallAccepted=function(a){this.$ZenonLSCallSummary$p_12=a,this.setTimestamp("call_answered_time"),this.updateLastUpdatedTime()};f.onCallConnected=function(){this.setTimestamp("call_connected_time"),this.updateLastUpdatedTime()};f.setMediaStats=function(a){this.$ZenonLSCallSummary$p_6=a.video,this.updateLastUpdatedTime()};f.setMaxConnectedParticipants=function(a){this.$ZenonLSCallSummary$p_11=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.updateLastUpdatedTime()};f.setRtcActorID=function(a){this.$ZenonLSCallSummary$p_15=a};f.unsetEndCallFields=function(){this.$ZenonLSCallSummary$p_18===!0&&(this.$ZenonLSCallSummary$p_16=null,this.$ZenonLSCallSummary$p_17=null,this.$ZenonLSCallSummary$p_19=null,this.$ZenonLSCallSummary$p_3=null,this.$ZenonLSCallSummary$p_1.call_ended_time="-1",this.$ZenonLSCallSummary$p_5=0,this.$ZenonLSCallSummary$p_18=null)};f.onCallEnded=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){this.$ZenonLSCallSummary$p_16=a,this.$ZenonLSCallSummary$p_17=d,this.$ZenonLSCallSummary$p_18=c,this.$ZenonLSCallSummary$p_19=b,this.$ZenonLSCallSummary$p_3==null&&(this.$ZenonLSCallSummary$p_3=this.$ZenonLSCallSummary$p_22()),yield this.updateBatteryEnd(),this.setTimestamp("call_ended_time"),this.updateLastUpdatedTime()});function c(b,c,d,e){return a.apply(this,arguments)}return c}();f.onPCStateChange=function(a){this.$ZenonLSCallSummary$p_2=a,this.updateLastUpdatedTime()};f.updateBatteryStart=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level;a=a.placeholder;a!==!0&&(this.$ZenonLSCallSummary$p_8=parseInt(b,10))});function d(){return a.apply(this,arguments)}return d}();f.updateBatteryEnd=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level,d=a.placeholder;a=a.wasCharged;d!==!0&&(this.$ZenonLSCallSummary$p_9=parseInt(b,10),this.setDeviceCharged(a))});function d(){return a.apply(this,arguments)}return d}();f.setDeviceCharged=function(a){this.$ZenonLSCallSummary$p_10!==!0&&(this.$ZenonLSCallSummary$p_10=a)};f.setConferenceName=function(a){this.$ZenonLSCallSummary$p_13=a,this.updateLastUpdatedTime()};f.getDeviceCharged=function(){return this.$ZenonLSCallSummary$p_10};e.fromJsonString=function(a){var b;try{b=JSON.parse(a)}catch(a){return null}a=b.callInfo;var c=a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new e(a);a.setDeviceID(c);a.$ZenonLSCallSummary$p_1=b.timestamps;a.$ZenonLSCallSummary$p_2=b.pcIsConnected;a.$ZenonLSCallSummary$p_3=b.endIsConnected;a.$ZenonLSCallSummary$p_16=b.endCallReason;a.$ZenonLSCallSummary$p_17=b.endCallSubreason;a.$ZenonLSCallSummary$p_19=b.isRemoteEnded;a.$ZenonLSCallSummary$p_7=b.isVideo;a.$ZenonLSCallSummary$p_15=(c=b.rtcActorID)!=null?c:null;a.$ZenonLSCallSummary$p_6={ld:parseInt(b.videoStats.local_video_duration,10),rd:parseInt(b.videoStats.remote_video_duration,10)};a.$ZenonLSCallSummary$p_8=parseInt(b.extraInfo.battery_start_level,10);a.$ZenonLSCallSummary$p_9=parseInt(b.extraInfo.battery_end_level,10);b.extraInfo.was_device_charged!=null&&(a.$ZenonLSCallSummary$p_10=b.extraInfo.was_device_charged);b.extraInfo.max_concurrent_connected_participant!=null&&(a.$ZenonLSCallSummary$p_11=b.extraInfo.max_concurrent_connected_participant);b.unsetOnRetrieve!=null&&(a.$ZenonLSCallSummary$p_18=b.unsetOnRetrieve);b.accumulatedCallTime!=null&&(a.$ZenonLSCallSummary$p_4=b.accumulatedCallTime);b.conferenceName!=null&&(a.$ZenonLSCallSummary$p_13=b.conferenceName);return a};f.toJsonString=function(){var a={accumulatedCallTime:this.$ZenonLSCallSummary$p_20(),callInfo:this.getCallInfo(),conferenceName:this.$ZenonLSCallSummary$p_13,endCallReason:this.$ZenonLSCallSummary$p_16,endCallSubreason:this.$ZenonLSCallSummary$p_17,endIsConnected:this.$ZenonLSCallSummary$p_21(),extraInfo:this.getExtraInfo(),isRemoteEnded:this.$ZenonLSCallSummary$p_19,isVideo:this.$ZenonLSCallSummary$p_7,joinMode:this.$ZenonLSCallSummary$p_14,pcIsConnected:this.$ZenonLSCallSummary$p_22(),rtcActorID:this.$ZenonLSCallSummary$p_15,timestamps:this.getTimestamps(),unsetOnRetrieve:this.$ZenonLSCallSummary$p_18,videoStats:this.getVideoStats()};return JSON.stringify(a)};f.$ZenonLSCallSummary$p_20=function(){var a=(h||(h=c("performanceNow")))()-this.$ZenonLSCallSummary$p_5;return Math.floor(this.$ZenonLSCallSummary$p_4+a)};f.$ZenonLSCallSummary$p_21=function(){return this.$ZenonLSCallSummary$p_3==null?null:this.$ZenonLSCallSummary$p_3&&Number(this.$ZenonLSCallSummary$p_11)>1};f.$ZenonLSCallSummary$p_22=function(){return this.$ZenonLSCallSummary$p_2&&Number(this.$ZenonLSCallSummary$p_11)>1};f.updateLastUpdatedTime=function(){this.$ZenonLSCallSummary$p_1.last_updated_time=String(this.$ZenonLSCallSummary$p_20())};f.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallSummary(c,b,this)};f.remove=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};return e}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSCallSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_SUMMARY_",j="ls_summary",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallSummary").fromJsonString(d.__d);else return null};d.storeCallSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallSummaryStoreInstance=b}),98);
__d("ZenonLSE2EEStatsManager",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:d("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map(),wasm_metrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var c=b.prototype;c.updateE2eeStats=function(a){this.$ZenonLSE2EEStatsManager$p_1=a};c.getGroupE2eeMetricsInFalcoShape=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID;a=a.serverInfoData;return babelHelpers["extends"]({g_e2ee_web_wasm_final_memory_usage_kb:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_size_kb),g_e2ee_web_wasm_memory_reallocation_count:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_reallocation_count),local_call_id:c},a!=null&&{shared_call_id:a},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b},this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics)};c.getP2pE2eeMetricsInFalcoShape=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID;a=a.serverInfoData;return babelHelpers["extends"]({local_call_id:c},a!=null&&{shared_call_id:a},{peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b},this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics)};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeE2eeStats(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a={callInfo:this.getCallInfo(),groupE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics,p2pE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics,trackSpecificE2eeStatsWithTrackId:Array.from(this.$ZenonLSE2EEStatsManager$p_1.track_specific_e2ee_stats),wasmMetrics:this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:c.groupE2eeMetrics,p2p_e2ee_metrics:c.p2pE2eeMetrics,track_specific_e2ee_stats:new Map(c.trackSpecificE2eeStatsWithTrackId),wasm_metrics:c.wasmMetrics};return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSE2EEStore",["ZenonGenericLocalStorageStore","ZenonLSE2EEStatsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_E2EE_STATS_",j="ls_e2ee_stats",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveE2eeStats=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSE2EEStatsManager").fromJsonString(d.__d);else return null};d.storeE2eeStats=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSE2EEStoreInstance=b}),98);
__d("ZenonLSPeerConnectionSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonIceStatsParser","ZenonLoggingEventTypes","ZenonMWMessageTypes","ZenonPeerID","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$ZenonLSPeerConnectionSummary$p_1={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},audio:{echo_confidence:{}},dataChannelMetrics:{},ecv:{},extraInfo:{},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}};b.$ZenonLSPeerConnectionSummary$p_2={};b.$ZenonLSPeerConnectionSummary$p_3={};b.$ZenonLSPeerConnectionSummary$p_5=-1;b.$ZenonLSPeerConnectionSummary$p_8=null;b.$ZenonLSPeerConnectionSummary$p_9=new Map();b.$ZenonLSPeerConnectionSummary$p_10="unknown";b.$ZenonLSPeerConnectionSummary$p_6=(h||(h=c("performanceNow")))();b.$ZenonLSPeerConnectionSummary$p_4=0;b.$ZenonLSPeerConnectionSummary$p_7=null;return b}var e=b.prototype;e.$ZenonLSPeerConnectionSummary$p_11=function(){var a,b=this,c="",e=0,f=0,g=0,h=0;Object.keys((a=this.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics)!=null?a:{}).forEach(function(a){a=b.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics[a];if(a==null)return;c+=a.label+":"+a.bytes_sent+":"+a.bytes_received+":"+a.messages_sent+":"+a.messages_received+",";e+=Number(a.bytes_sent);f+=Number(a.bytes_received);g+=Number(a.messages_sent);h+=Number(a.messages_received)});return{data_channel_total_bytes_recv:d("ZenonCallFalcoEventUtils").nonNullIntNumber(f),data_channel_total_bytes_sent:d("ZenonCallFalcoEventUtils").nonNullIntNumber(e),data_channel_total_msg_recv:d("ZenonCallFalcoEventUtils").nonNullIntNumber(h),data_channel_total_msg_sent:d("ZenonCallFalcoEventUtils").nonNullIntNumber(g),data_channel_type:"SCTP",sctp_per_channel_stats_raw:c}};e.$ZenonLSPeerConnectionSummary$p_12=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.sender,b=a.codec;b=b===void 0?{}:b;var c={gen0_ice_sent_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.host),gen0_ice_sent_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.relay),gen0_ice_sent_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.srflx)};b=b.www;b!=null&&(c.audio_send_codec=String(b));this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_bytes_sent",a.bytes);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_level_count",a.taulc);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_level_sum",a.tx_sum_lvl);this.$ZenonLSPeerConnectionSummary$p_13(c,"audio_send_packets_sent",a.psent);this.$ZenonLSPeerConnectionSummary$p_13(c,"avg_video_uplink_bandwidth_estimate",a.ube_avg);this.$ZenonLSPeerConnectionSummary$p_13(c,"transport_conn_rtt_avg",a.avgrtt);return c};e.$ZenonLSPeerConnectionSummary$p_13=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_14=function(){var a,b,c;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:a.ss;b=(b=a==null?void 0:a.frames)!=null?b:0;c=(c=a==null?void 0:a.eqps)!=null?c:0;c=b>0&&c>0?c/b:null;b={};this.$ZenonLSPeerConnectionSummary$p_15(b,"avg_video_actual_encode_bitrate_ss",a==null?void 0:a.avbr);this.$ZenonLSPeerConnectionSummary$p_15(b,"avg_video_uplink_bandwidth_estimate_ss",a==null?void 0:a.avbw);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_duration_ss",a==null?void 0:a.dur);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_frames_send_to_encoder_ss",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_total_input_pixel_ss",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_total_output_pixel_ss",a==null?void 0:a.video_sum_encoded_pixel);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_frames_encoded_ss",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary$p_15(b,"video_send_qp_sum_ss",c);return b};e.$ZenonLSPeerConnectionSummary$p_15=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_16=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.video.bwe,b={};this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_actual_encode_bitrate",a==null?void 0:a.avg_enc_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_actual_encode_bitrate_ss",a==null?void 0:a.avg_enc_bitrate_ss);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_retransmit_bitrate",a==null?void 0:a.avg_retrans_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_transmit_bitrate",a==null?void 0:a.avg_trans_bitrate);this.$ZenonLSPeerConnectionSummary$p_17(b,"avg_video_uplink_bandwidth_estimate",a==null?void 0:a.avg_send_bw);return b};e.$ZenonLSPeerConnectionSummary$p_17=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_18=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.sender_pct.video)==null?void 0:a.vqs;var b={};(a==null?void 0:a.avg)!=null&&(b.video_send_quality_score=d("ZenonCallFalcoEventUtils").truncateNumber(a==null?void 0:a.avg));return b};e.$ZenonLSPeerConnectionSummary$p_19=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender,b={video_send_codec:a==null?void 0:a.ename};this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_firs_sent",a==null?void 0:a.fir);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_nacks_sent",a==null?void 0:a.nack);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_recv_plis_sent",a==null?void 0:a.pli);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_height",a==null?void 0:a.ah);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_height_input",a==null?void 0:a.ch);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_width",a==null?void 0:a.aw);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frame_width_input",a==null?void 0:a.cw);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_captured",a==null?void 0:a.fcap);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_encoded",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_sent",a==null?void 0:a.fcsn);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_frames_send_to_encoder",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_capture_duration_ms",this.$ZenonLSPeerConnectionSummary$p_1.video.ld);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_duration_blur",a==null?void 0:a.video_blur_dur);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_key_frames_encoded",a==null?void 0:a.kframes);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_packets_sent",a==null?void 0:a.psent);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_qp_sum",a==null?void 0:a.eqps);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_total_input_pixel",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary$p_20(b,"video_send_total_output_pixel",a==null?void 0:a.video_sum_encoded_pixel);return b};e.$ZenonLSPeerConnectionSummary$p_20=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_21=function(){var a,b=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver,c={video_recv_codec:b==null?void 0:b.dname};this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_frames_assembled",b==null?void 0:b.jtasb);this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_frames_out",b==null?void 0:b.jtfrm);this.$ZenonLSPeerConnectionSummary$p_22(c,"audio_recv_jitter_buffer_keyframes_out",b==null?void 0:b.jtkey);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_bytes_decoded",b==null?void 0:b.dec_bytes);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_packets_lost",b==null?void 0:b.plost);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_packets_recv",b==null?void 0:b.precv);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_av_sync_abs",b==null?void 0:b.avabs);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frame_height",b==null?void 0:b.rh);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frame_width",b==null?void 0:b.rw);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_frames_decoded",b==null?void 0:b.frd);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_count",b==null?void 0:b.frcnt);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_duration",b==null?void 0:b.frdur);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_duration_above_500_ms",b==null?void 0:b.frdur500);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_freeze_duration_above_500_ms_v2",b==null?void 0:b.frdur500);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_pause_count",b==null?void 0:b.pact);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_pause_duration_ms",b==null?void 0:b.padur);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_qp_sum",b==null?void 0:b.qps);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_total_pixels_decoded",b==null?void 0:b.agg_video_sum_decoded_pixel);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_union_decode_time_ms",b==null?void 0:b.dec_time);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_firs_recv",b==null?void 0:b.fir);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_nacks_recv",b==null?void 0:b.nack);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_send_plis_recv",b==null?void 0:b.pli);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_weighted_vqs",b==null?void 0:(a=b.vqs)==null?void 0:a.avg);a=b==null?void 0:b.dec_time_all_streams;b=b==null?void 0:b.dec_frame;this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_decode_time_ms",a);this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_agg_frames_decoded",b);a!=null&&a>0&&b!=null&&b>0&&this.$ZenonLSPeerConnectionSummary$p_22(c,"video_recv_framerate_decoded",b*1e3/a);return c};e.$ZenonLSPeerConnectionSummary$p_23=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver)==null?void 0:a.ss_recv;var b={};this.$ZenonLSPeerConnectionSummary$p_24(b,"video_recv_duration_ss",a==null?void 0:a.ss_recv_dur);return b};e.$ZenonLSPeerConnectionSummary$p_24=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_25=function(){var a,b,c;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(a=a.video_recv_stalls)==null?void 0:a.recv_no_bytes_stall;b=(b=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(b=b.video_recv_stalls)==null?void 0:b.recv_decode_stall;c=(c=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(c=c.video_recv_stalls)==null?void 0:c.recv_render_stall;var d={};if(a){var e=a.is_stall,f=a.sdur;a=a.nstall;e!=null&&(d.video_recv_byte_received_is_stalled=String(e));f!=null&&(d.video_recv_byte_received_total_stall_duration_ms=String(f));a!=null&&(d.video_recv_byte_received_total_stalls=String(a))}if(b){e=b.is_stall;f=b.sdur;a=b.nstall;e!=null&&(d.video_recv_decoder_is_stalled=String(e));f!=null&&(d.video_recv_decoder_total_stall_duration_ms=String(f));a!=null&&(d.video_recv_decoder_total_stalls=String(a))}if(c){b=c.is_stall;e=c.sdur;f=c.nstall;b!=null&&(d.video_render_is_stalled=String(b));e!=null&&(d.video_render_total_stall_duration_ms=String(e));f!=null&&(d.video_render_total_stalls=String(f))}return d};e.$ZenonLSPeerConnectionSummary$p_26=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null?void 0:(a=a.screen_recv_stalls)==null?void 0:a.recv_decode_stall;var b={};if(a){var c=a.is_stall,d=a.sdur;a=a.nstall;c!=null&&(b.screen_share_recv_decoder_is_stalled=String(c));d!=null&&(b.screen_share_recv_decoder_total_stall_duration_ms=String(d));a!=null&&(b.screen_share_recv_decoder_total_stalls=String(a))}return b};e.$ZenonLSPeerConnectionSummary$p_22=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_27=function(){var a,b,c=this.$ZenonLSPeerConnectionSummary$p_1.DebugAudioMetrics.NetworkReceive.jb_nm;a=c==null?void 0:(a=c.neteq)==null?void 0:a.meanWait;b=c==null?void 0:(b=c.speech_expand_rate)==null?void 0:b.avg;c=c==null?void 0:(c=c.speech_expand_rate)==null?void 0:c.M;var d={};a!=null&&(d.audio_recv_neteq_mean_wait_ms=String(a));b!=null&&(d.audio_recv_neteq_speech_expand_rate_avg=String(b));c!=null&&(d.audio_recv_neteq_speech_expand_rate_max=String(c));return d};e.$ZenonLSPeerConnectionSummary$p_28=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.CoreAudioMetrics,b=a.audio_device,c=a.isstall,d=a.sdur;a=a.astall;var e={};b!=null&&(e.audio_device=String(b));c!=null&&(e.audio_device_is_stalled=String(c));d!=null&&(e.audio_device_stall_duration=String(d));a!=null&&(e.audio_device_total_stall=String(a));return e};e.$ZenonLSPeerConnectionSummary$p_29=function(){var a,b={};if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms)!=null){b.ecv_neteq_wait_time_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_rtt_ms)!=null){b.ecv_rtt_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_rtt_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_plccng_v2)!=null){b.ecv_plccng_v2=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_plccng_v2))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms_v2)!=null){b.ecv_video_freeze_duration_above_500_ms_v2=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms_v2))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms)!=null){b.ecv_av_sync_above_1000_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_decoded_bitrate_duration_sum)!=null){b.ecv_decoded_bitrate_duration_sum=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_decoded_bitrate_duration_sum))}return b};e.$ZenonLSPeerConnectionSummary$p_30=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.capture_stall,b=a.is_stall,c=a.last_sdur,d=a.sdur;a=a.nstall;var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.encode_stall,f=e.is_stall,g=e.last_sdur,h=e.sdur;e=e.nstall;var i=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.sent_stall,j=i.is_stall,k=i.last_sdur,l=i.sdur;i=i.nstall;var m={};b!=null&&(m.video_device_capture_is_stalled=String(b));c!=null&&(m.video_device_capture_last_stall_duration_ms=String(c));d!=null&&(m.video_device_capture_total_stall_duration_ms=String(d));a!=null&&(m.video_device_capture_total_stalls=String(a));f!=null&&(m.video_encode_is_stalled=String(f));g!=null&&(m.video_encode_last_stall_duration_ms=String(g));h!=null&&(m.video_encode_total_stall_duration_ms=String(h));e!=null&&(m.video_encode_total_stalls=String(e));j!=null&&(m.video_send_is_stalled=String(j));k!=null&&(m.video_send_last_stall_duration_ms=String(k));l!=null&&(m.video_send_total_stall_duration_ms=String(l));i!=null&&(m.video_send_total_stalls=String(i));return m};e.$ZenonLSPeerConnectionSummary$p_31=function(){var a=this.$ZenonLSPeerConnectionSummary$p_1,b=a.receiver;a=a.receiver_pct;var c=null;b.codec!=null&&(c=String(Object.values(b.codec).pop()));var e={gen0_ice_received_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.host),gen0_ice_received_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.relay),gen0_ice_received_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.srflx)};c!=null&&(e.audio_recv_codec=String(c));this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_avg_us",(c=a.audio.jbd)==null?void 0:c.avg,(c=a.audio.rtt)==null?void 0:c.avg);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p5_us",(c=a.audio.jbd)==null?void 0:c.p5,(c=a.audio.rtt)==null?void 0:c.p5);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p50_us",(c=a.audio.jbd)==null?void 0:c.p50,(c=a.audio.rtt)==null?void 0:c.p50);this.$ZenonLSPeerConnectionSummary$p_32(e,"audio_ctp_latency_p95_us",(c=a.audio.jbd)==null?void 0:c.p95,(c=a.audio.rtt)==null?void 0:c.p95);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_bytes_recv",b.bytes);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_concealed_samples",b.sp_c);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_fec_packets_discarded",b.fecpd);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_fec_packets_received",b.fecpr);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter",b.jitter);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter_buffer_flushes",b.dec_pack_flush);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_level_count",b.taulc);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter_buffer_emitted_count",b.jbec);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_jitter_buffer_delay",b.jbd);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_level_sum",b.rx_sum_lvl);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_total_samples_duration",b.sp_dur);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_total_samples_received",b.sp_r);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_accelerate",b.dec_ar);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_normal",b.dec_normal);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_operations",b.neteq_calls);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_plc",b.dec_plc);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_plccng",b.dec_plc_cng);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_neteq_preemptive_expand",b.dec_per);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_packets_lost",b.plost);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_packets_recv",b.precv);this.$ZenonLSPeerConnectionSummary$p_33(e,"audio_recv_silent_concealed_samples",b.sp_sc);return e};e.$ZenonLSPeerConnectionSummary$p_34=function(){var a,b={};a=(a=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:a.ss;if((a==null?void 0:a.dur)!=null&&(a==null?void 0:a.dur)>0){a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.capture_stall;var c=a.is_stall,d=a.sdur;a=a.nstall;var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.encode_stall,f=e.is_stall,g=e.sdur;e=e.nstall;var h=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.sent_stall,i=h.is_stall,j=h.sdur;h=h.nstall;c!=null&&(b.screen_share_capture_is_stalled=String(c));d!=null&&(b.screen_share_capture_total_stall_duration_ms=String(d));a!=null&&(b.screen_share_capture_total_stalls=String(a));f!=null&&(b.screen_share_encode_is_stalled=String(f));g!=null&&(b.screen_share_encode_total_stall_duration_ms=String(g));e!=null&&(b.screen_share_encode_total_stalls=String(e));i!=null&&(b.screen_share_send_is_stalled=String(i));j!=null&&(b.screen_share_send_total_stall_duration_ms=String(j));h!=null&&(b.screen_share_send_total_stalls=String(h))}return b};e.$ZenonLSPeerConnectionSummary$p_33=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary$p_35=function(){var a,b=this.$ZenonLSPeerConnectionSummary$p_1.extraInfo,c=b.localIceCandidate;b=b.remoteIceCandidate;return{relay_protocol:c==null?void 0:c.relayProtocol,transport_conn_type:"l:"+((a=c==null?void 0:c.candidateType)!=null?a:"")+"-"+((a=c==null?void 0:c.protocol)!=null?a:"")+";r:"+((c=b==null?void 0:b.candidateType)!=null?c:"")+"-"+((a=b==null?void 0:b.protocol)!=null?a:"")}};e.$ZenonLSPeerConnectionSummary$p_36=function(){var a=this.$ZenonLSPeerConnectionSummary$p_9,b={},c=0,e=!1,f=0,g=0;a.forEach(function(a,b){e!==a&&(a?c>0&&(g++,f+=b-c,c=0):c=b,e=a)});if(c>0){a=this.$ZenonLSPeerConnectionSummary$p_5;a>-1&&a>c&&(g++,f+=a-c)}b.transport_num_gaps=d("ZenonCallFalcoEventUtils").nonNullIntNumber(g);b.transport_total_gap_duration_ms=d("ZenonCallFalcoEventUtils").nonNullIntNumber(f);this.$ZenonLSPeerConnectionSummary$p_8!=null&&(b.transport_connected=this.$ZenonLSPeerConnectionSummary$p_8?"1":"0");return b};e.$ZenonLSPeerConnectionSummary$p_37=function(){var a,b={};b.audio_send_echo_confidence=(a=this.$ZenonLSPeerConnectionSummary$p_1.audio)==null?void 0:(a=a.echo_confidence)==null?void 0:a.audio_send_echo_confidence;return b};e.onCallEnded=function(){this.$ZenonLSPeerConnectionSummary$p_5=this.$ZenonLSPeerConnectionSummary$p_38(),this.$ZenonLSPeerConnectionSummary$p_8==null&&(this.$ZenonLSPeerConnectionSummary$p_8=this.$ZenonLSPeerConnectionSummary$p_7)};e.$ZenonLSPeerConnectionSummary$p_32=function(a,b,c,e){var f=0;c!=null&&(f+=c);e!=null&&(f+=e/2);f>0&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(f))};e.getPeerConnectionSummary=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID,f=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({},this.$ZenonLSPeerConnectionSummary$p_11(),{},this.$ZenonLSPeerConnectionSummary$p_28(),{},this.$ZenonLSPeerConnectionSummary$p_12(),{},this.$ZenonLSPeerConnectionSummary$p_31(),{},this.$ZenonLSPeerConnectionSummary$p_14(),{},this.$ZenonLSPeerConnectionSummary$p_16(),{},this.$ZenonLSPeerConnectionSummary$p_18(),{},this.$ZenonLSPeerConnectionSummary$p_19(),{},this.$ZenonLSPeerConnectionSummary$p_21(),{},this.$ZenonLSPeerConnectionSummary$p_23(),{},this.$ZenonLSPeerConnectionSummary$p_27(),{},this.$ZenonLSPeerConnectionSummary$p_36(),{},this.$ZenonLSPeerConnectionSummary$p_29(),{},this.$ZenonLSPeerConnectionSummary$p_30(),{},this.$ZenonLSPeerConnectionSummary$p_34(),{},this.$ZenonLSPeerConnectionSummary$p_25(),{},this.$ZenonLSPeerConnectionSummary$p_26(),{},this.$ZenonLSPeerConnectionSummary$p_35(),{},this.$ZenonLSPeerConnectionSummary$p_37(),{},f!=null&&{shared_call_id:f},{connection_logging_id:a,local_call_id:c,media_path:this.$ZenonLSPeerConnectionSummary$p_10,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway",steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};e.$ZenonLSPeerConnectionSummary$p_38=function(){var a=(h||(h=c("performanceNow")))()-this.$ZenonLSPeerConnectionSummary$p_6;return Math.floor(this.$ZenonLSPeerConnectionSummary$p_4+a)};e.updateIceInfo=function(a,b){var c=b===d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$ZenonLSPeerConnectionSummary$p_2:this.$ZenonLSPeerConnectionSummary$p_3;b=d("ZenonIceStatsParser").extractIceInfo(a);b.forEach(function(a){var b=a.gen;a=a.type;b===0&&(c[a]==null?c[a]=1:c[a]++)})};e.onPCStateChange=function(a){this.$ZenonLSPeerConnectionSummary$p_7!==a&&(this.$ZenonLSPeerConnectionSummary$p_7=a,this.$ZenonLSPeerConnectionSummary$p_9.set(this.$ZenonLSPeerConnectionSummary$p_38(),a))};e.$ZenonLSPeerConnectionSummary$p_39=function(a){switch(a){case d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return"sfu";case d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return"p2p";case d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN:default:return"unknown"}};e.setMediaPath=function(a){this.$ZenonLSPeerConnectionSummary$p_10=this.$ZenonLSPeerConnectionSummary$p_39(a)};e.setMediaStats=function(a){this.$ZenonLSPeerConnectionSummary$p_1=a};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storePeerConnectionSummary(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a=this.getCallInfo();a=a.signalingID;a={accumulatedCallTime:this.$ZenonLSPeerConnectionSummary$p_38(),callInfo:this.getCallInfo(),connectionLoggingId:a,endIsConnected:this.$ZenonLSPeerConnectionSummary$p_8,gen0IceReceivedCount:this.$ZenonLSPeerConnectionSummary$p_3,gen0IceSentCount:this.$ZenonLSPeerConnectionSummary$p_2,mediaPath:this.$ZenonLSPeerConnectionSummary$p_10,mediaStats:this.$ZenonLSPeerConnectionSummary$p_1,pcIsConnected:this.$ZenonLSPeerConnectionSummary$p_7};return JSON.stringify(a)};b.fromJsonString=function(a){var c,d;try{d=JSON.parse(a)}catch(a){return null}a=d.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSPeerConnectionSummary$p_10=d.mediaPath;a.$ZenonLSPeerConnectionSummary$p_1=d.mediaStats;a.$ZenonLSPeerConnectionSummary$p_3=d.gen0IceReceivedCount;a.$ZenonLSPeerConnectionSummary$p_2=d.gen0IceSentCount;a.$ZenonLSPeerConnectionSummary$p_7=(c=d.pcIsConnected)!=null?c:null;a.$ZenonLSPeerConnectionSummary$p_8=d.endIsConnected;d.accumulatedCallTime!=null&&(a.$ZenonLSPeerConnectionSummary$p_4=d.accumulatedCallTime);return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSPeerConnectionSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSPeerConnectionSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_PCS_",j="ls_pcs",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrievePeerConnectionSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSPeerConnectionSummary").fromJsonString(d.__d);else return null};d.storePeerConnectionSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSPeerConnectionSummaryStoreInstance=b}),98);
__d("ZenonLSStarRatingsManager",["LsRtcEndCallSurveyFalcoEvent","LsRtcStarRatingFalcoEvent","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.setRating=function(a,b){var e=this.getCallInfo(),f=e.deviceID,g=e.localCallID,h=e.peerID;e=e.serverInfoData;var i={local_call_id:g,peer_id:d("ZenonPeerID").convertPeerIDForLogging(h),shared_call_id:e,web_device_id:f};c("LsRtcStarRatingFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({rating_style:b?"1":null,star_rating:a.toString()},i)})};e.setSurvey=function(a,b,e){b===void 0&&(b=null);e===void 0&&(e=null);var f=this.getCallInfo(),g=f.deviceID,h=f.localCallID,i=f.peerID;f=f.serverInfoData;h={local_call_id:h,peer_id:d("ZenonPeerID").convertPeerIDForLogging(i),shared_call_id:f,web_device_id:g};i=Array.isArray(b)?b:b!=null?[b]:[];var j=babelHelpers["extends"]({rtc_end_call_survey_issue:(g=(f=e)==null?void 0:f.toLocaleLowerCase())!=null?g:"",rtc_end_call_survey_selected_options:i},h,{},a==null?{}:{rtc_end_call_survey_freeform:a});c("LsRtcEndCallSurveyFalcoEvent").log(function(){return j})};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeStarRatings(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a={callInfo:this.getCallInfo()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);return new b(a)};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSStarRatingsStore",["ZenonGenericLocalStorageStore","ZenonLSStarRatingsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_STAR_RATINGS_",j="ls_star_ratings",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveStarRatings=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSStarRatingsManager").fromJsonString(d.__d);else return null};d.storeStarRatings=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSStarRatingsStoreInstance=b}),98);
__d("ZenonMWThriftMessageLogger",["MultiwayCommonTypes","ZenonLoggingEventTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=new Set();function a(a,b){var c=a.messageHeader;a=a.messageBody;if(h.has(c.transactionId)||c.type==null)return;switch(c.type){case d("MultiwayCommonTypes").MessageType.JOIN:a.joinRequest&&j(a.joinRequest,b);break;case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:a.iceCandidateRequest&&l(a.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);break;case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:a.clientMediaUpdateRequest&&m(a.clientMediaUpdateRequest,b);break;case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:a.serverMediaUpdateResponse&&p(a.serverMediaUpdateResponse,b);break;default:break}h.add(c.transactionId)}function b(a,b){var c=a.messageHeader;a=a.messageBody;if(i.has(c.transactionId)||c.type==null)return;switch(c.type){case d("MultiwayCommonTypes").MessageType.JOIN:a.joinResponse&&k(a.joinResponse,b);break;case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:a.iceCandidateRequest&&l(a.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);break;case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:a.clientMediaUpdateResponse&&n(a.clientMediaUpdateResponse,b);break;case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:a.serverMediaUpdateRequest&&o(a.serverMediaUpdateRequest,b);break;default:break}i.add(c.transactionId)}function j(a,b){var c=a.answer;a=a.offer;b({name:"inviteSent"});q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function k(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function l(a,b,c){a=a.iceCandidateSdps;a.forEach(function(a){a.candidateSdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.candidateSdpString})})}function m(a,b){a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function n(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function o(a,b){var c=a.answer;a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function p(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function q(a,b,c){a.sdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.sdpString})}g.logSentMessage=a;g.logReceivedMessage=b}),98);
__d("promiseAny",["invariant","AggregateError","Promise"],(function(a,b,c,d,e,f,g,h){var i;function j(a){return new(i||(i=b("Promise")))(function(c,d){return(i||(i=b("Promise"))).resolve(a).then(d,c)})}function a(a){a.length!==0||h(0,14837);return(i||(i=b("Promise"))).all(a.map(j)).then(function(a){throw new(c("AggregateError"))(a)},function(a){return a})}g["default"]=a}),98);
__d("ZenonMessageSenderChain",["promiseAny"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.addMessageSender=function(a){this.$1.push(a)};b.sendMessage=function(a){var b=this.$1.map(function(b){return b.sendMessage(a)});return c("promiseAny")(b)};b.setMessageReceiver=function(a){this.$1.forEach(function(b){return b.setMessageReceiver(a)})};b.setLoggingEventHandler=function(a){this.$1.forEach(function(b){return b.setLoggingEventHandler(a)})};return a}();g["default"]=a}),98);
__d("ZenonSignalingConstants",[],(function(a,b,c,d,e,f){"use strict";a="/t_rtc_multi";b="config_engine";c="D3F4U1T_F8_TR4CK";f.T_RTC_MULTI_MQTT_TOPIC=a;f.CONFIG_ENGINE_STATE_SYNC_TOPIC=b;f.DEFAULT_TRACK=c}),66);
__d("ZenonValidateMWThriftMessage",["FBLogger","MultiwayCommonTypes","ZenonInfraActionsLogger","ZenonMWThriftMessageMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.messageHeader.type,e=d("ZenonMWThriftMessageMap").messageTypeToString(b);if(a.messageHeader.serverInfoData==null&&b!=null&&b!==d("MultiwayCommonTypes").MessageType.JOIN){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP][DROP] No remoteSignalingID in message: "+e});c("FBLogger")("rtc_www").warn("[ZP][DROP] No remoteSignalingID in message: "+e);return!1}return!0}g["default"]=a}),98);
__d("waitForZenonMqttConnected",["Promise","ZenonUserActionLogger","err","getZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15e3;function a(){return new(h||(h=b("Promise")))(function(a,b){var d=c("getZenonMqttChannel")();if(d.getConnectionState()==="Connected")a();else{c("ZenonUserActionLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring sending MWS message"});c("ZenonUserActionLogger").startTimer("MQTT not connected");var e={onMQTTStateChanged:function(b){b==="Connected"&&(c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT connected after deferring sending MWS message",timerName:"MQTT not connected"}),d.unsubscribeChannelEvents(e),window.clearTimeout(f),a())}},f=window.setTimeout(function(){d.unsubscribeChannelEvents(e),c("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT never connected. Current status: "+d.getConnectionState(),timerName:"MQTT not connected"}),b(c("err")("timeout"))},i);d.subscribeChannelEvents(e)}})}g["default"]=a}),98);
__d("ZenonMqttMWThriftMessageSender",["Promise","RpZenonBinaryThriftSignalingSitevarConfig","ZenonActorHooks","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageLogger","ZenonMWThriftMessageMap","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","ZenonSignalingConstants","ZenonUserActionLogger","ZenonValidateMWThriftMessage","asyncToGeneratorRuntime","err","filterNulls","getZenonMqttChannel","waitForZenonMqttConnected"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){var a=c("RpZenonBinaryThriftSignalingSitevarConfig").supported_message_types_mqtt.map(function(a){return d("ZenonMWThriftMessageMap").messageTypeFromString(a)});this.$3=new Set(c("filterNulls")(a))}var e=a.prototype;e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,e=!0;yield c("waitForZenonMqttConnected")()["catch"](function(a){c("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS Thrift message through MQTT because MQTT could not connect. Error: "+a}),e=!1});if(!e)return;d("ZenonMWThriftMessageReliabilityLogger").logSendingMessage(a);c("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("SENDING","MQTT Thrift",a);this.$2&&d("ZenonMWThriftMessageLogger").logSentMessage(a,this.$2);var f=c("getZenonMqttChannel")();try{yield f.publishBinary(d("ZenonSignalingConstants").T_RTC_MULTI_MQTT_TOPIC,d("ZenonMWThriftMessageSerializer").serializeMWThriftMessage(a)).then(function(){d("ZenonMWThriftMessageReliabilityLogger").logSentMessage(a),b.$2&&b.$2({mwThriftMessage:a,name:"mwThriftMessageSent"})},function(c){b.$5(a,c.toString())})}catch(b){this.$5(a,b.toString())}});function e(b){return a.apply(this,arguments)}return e}();e.$5=function(a,b){b=b!=null?b:"MQTT Thrift Message Send Error";d("ZenonMWThriftMessageReliabilityLogger").logSendMessageFailed(a,"[MQTT Thrift] "+b);c("ZenonMWThriftMessageDebugLogger").logSendMultiwayThriftMessageFailure(b,d("ZenonMWThriftMessageMap").messageTypeToString(a.messageHeader.type))};e.sendMessage=function(a){var e=d("ZenonMWThriftMessageTranslator").toMWThriftMessage(a);if(!e||!c("ZenonValidateMWThriftMessage")(e))return(h||(h=b("Promise"))).reject(c("err")("Invalid MW Thrift message"));if(e.messageHeader.type!=null&&!this.$3.has(e.messageHeader.type))return(h||(h=b("Promise"))).resolve();return a.getHeader().userInfo.userID!==d("ZenonActorHooks").ZenonActor.getAccountID()&&!d("ZenonActorHooks").ZenonActor.isInstagramUser()&&!d("ZenonActorHooks").ZenonActor.isOculusUser()&&!d("ZenonActorHooks").ZenonActor.isKadabraUser()?(h||(h=b("Promise"))).reject(c("err")("MQTT doesn't work with Page users yet")):this.$4(e)};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonParentClientPerfQPLLogProcessor",["Promise","QuickPerformanceLogger","ZenonClientPerfQPLConstants","ZenonDismissReason","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a){var b=a.data;a=a.isE2eeMandated;this.$1=b.localCallID;this.$2=b.serverInfoData;this.$3=b.signalingID;this.$4=a}var e=a.prototype;e.processEvent=function(a){var e=c("qpl")._(41156610,"2039");switch(a.name){case"inviteReceived":this.$2=a.serverInfoData;(i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(e,+this.$3);(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(e,{bool:{isE2eeMandated:this.$4},string:{local_call_id:this.$1,server_info_data:this.$2}},{instanceKey:+this.$3});break;case"callEnded":(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(e,{string:{endCallReason:d("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},{instanceKey:+this.$3});(i||(i=c("QuickPerformanceLogger"))).markerEnd(e,4,+this.$3);break;case"popupOpened":(i||(i=c("QuickPerformanceLogger"))).markerPoint(e,d("ZenonClientPerfQPLConstants").POINT_ZENON_POPUP_OPENED,{instanceKey:+this.$3});break}return(h||(h=b("Promise"))).resolve()};return a}();e={LogProcessor:a};g.ZenonParentClientPerfQPLLogProcessor=a;g.ZenonParentClientPerfQPLLogProcessorConfig=e}),98);
__d("ZenonParentLSCallSummaryLogProcessor",["ODS","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){a=a.data;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$6=a.protocol;this.$1=new(c("ZenonLSCallSummary"))(a);this.$2=new(c("ZenonLSPeerConnectionSummary"))(a);this.$3=new(c("ZenonLSCallStartEventManager"))(a);this.$4=new(c("ZenonLSE2EEStatsManager"))(a);this.$5=new(c("ZenonLSStarRatingsManager"))(a);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"NSL - created call summaries in parent window"})}var e=a.prototype;e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){switch(a.name){case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break;case"callEnded":yield this.$7(a);break;case"inviteReceived":this.$8(a);break;case"popupOpened":yield this.$9(a);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}});function c(b){return a.apply(this,arguments)}return c}();e.$8=function(a){a=a.serverInfoData;if(a==null)return;this.$1.setSharedCallId(a);this.$2.setSharedCallId(a);this.$3.setSharedCallId(a);this.$4.setSharedCallId(a)};e.$9=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.onCallEnded(d("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance)});function c(b){return a.apply(this,arguments)}return c}();e.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.isRemoteEnded)return;var b=a.endCallReason,c=a.endCallSubreason;a=a.isRemoteEnded;if(b===d("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a)return;b===d("ZenonDismissReason").ZenonDismissReason.ClientError&&(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason");yield this.$1.onCallEnded(b,a,!1,c);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);this.$2.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);this.$3.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);this.$4.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);this.$5.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance)});function c(b){return a.apply(this,arguments)}return c}();return a}();e={LogProcessor:a};g.ZenonParentLSCallSummaryLogProcessor=a;g.ZenonParentLSCallSummaryLogProcessorConfig=e}),98);
__d("ZenonParentQPLLogProcessor",["Promise","QPLUserFlow","ZenonDismissReason","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.data;a=a.isE2eeMandated;this.$1=b.localCallID;this.$2=b.serverInfoData;this.$3=b.signalingID;this.$4=a}var e=a.prototype;e.processEvent=function(a){switch(a.name){case"inviteReceived":c("QPLUserFlow").start(c("qpl")._(64225282,"3408"),{annotations:{bool:{isE2eeMandated:this.$4}},instanceKey:+this.$3});c("QPLUserFlow").start(c("qpl")._(398997251,"1544"),{annotations:{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_received",{instanceKey:+this.$3});break;case"callEnded":c("QPLUserFlow").endCancel(c("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:d("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3});if(a.isRemoteEnded)return(h||(h=b("Promise"))).resolve();c("QPLUserFlow").endCancel(c("qpl")._(64225282,"3408"),{instanceKey:+this.$3});break;case"callAccepted":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"call_accepted",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"call_accepted",{instanceKey:+this.$3});break;case"dismissRecv":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"dismiss_recv",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"dismiss_recv",{instanceKey:+this.$3});break;case"inviteResponded":c("QPLUserFlow").addPoint(c("qpl")._(64225282,"3408"),"invite_responded",{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_responded",{instanceKey:+this.$3});break;case"popupOpened":c("QPLUserFlow").endSuccess(c("qpl")._(64225282,"3408"),{instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"popup_opened",{instanceKey:+this.$3});break}return(h||(h=b("Promise"))).resolve()};return a}();e={LogProcessor:a};g.ZenonParentQPLLogProcessor=a;g.ZenonParentQPLLogProcessorConfig=e}),98);
__d("ZenonParentSignalingClient",["Promise","ZenonDebugLogger","ZenonSignalingTypes","promiseDone","qpl","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,b,d){c("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1.getSignalingID());switch(a.eventName){case"inviteRequest":f.$11(a,b,d);break;case"remoteSdpRequest":f.$12(a,b);break;case"terminateRequest":f.$13(a,b,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=b;b.setReceiver(this.$9);c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64234815,"1094"),+a.getSignalingID())}var e=a.prototype;e.setSignalingEventHandlers=function(a){if(this.$6!=null){c("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};e.setLoggingEventHandler=function(a){this.$8=a};e.setSecureDataMessageManager=function(a){throw c("unrecoverableViolation")("setSecureDataMessageManager called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.getSignalingModel=function(){return this.$1};e.processReceiveEvent=function(a,b,d){throw c("unrecoverableViolation")("processReceiveEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};return this.$10(a)};e.receiveMessage=function(a){this.$2.receiveMessage(a)};e.isTerminated=function(){return this.$4==="terminated"};e.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};return this.$10(a)}else throw c("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};e.respondToInvite=function(a){if(this.$4==="inviteReceived"){if(this.$7==null)throw c("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={ackMessageId:this.$7,eventName:"inviteResponse",status:a};return this.$10(a)}else throw c("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};e.initiateClientRenegotiation=function(a){throw c("unrecoverableViolation")("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendClientEvent=function(a){throw c("unrecoverableViolation")("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendInvite=function(a,b,d){throw c("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendSdp=function(a,b){throw c("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendIceCandidate=function(a){throw c("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendMediaUpdate=function(a){throw c("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendAddParticipantsMessage=function(a){throw c("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendRemoveParticipantsRequest=function(a){throw c("unrecoverableViolation")("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendUsersApprovalRequest=function(a,b){throw c("unrecoverableViolation")("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendStateSyncUnsubscribe=function(a){throw c("unrecoverableViolation")("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendStateSyncUpdate=function(a,b){throw c("unrecoverableViolation")("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendSubscriptionRequest=function(a){throw c("unrecoverableViolation")("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendClientInfo=function(a){throw c("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.sendGenericDataMessage=function(a,b,d){throw c("unrecoverableViolation")("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.silentlyTerminate=function(){throw c("unrecoverableViolation")("terminate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};e.$10=function(a){var d=this;c("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1.getSignalingID());return new(h||(h=b("Promise")))(function(b,c){return d.$3.sendEvent(a,b,c)})};e.$11=function(a,b,c){this.$4==="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};e.$13=function(a,b,d){if(this.$4!=="terminated"){this.$4="terminated";d={ackMessageId:b,eventName:"dismissResponse"};this.$3.sendEvent(d);if(this.$6&&this.$6.onDismissReceived){c("promiseDone")(this.$6.onDismissReceived(this.$1.getSignalingID(),a.reason,(b=a.subreason)!=null?b:null,a.detailedReasonFromMW))}}};e.$12=function(a,b){b={ackMessageId:b,acknowledgedVersion:a.sdp.version,eventName:"remoteSdpResponse",negotiateType:a.negotiateType,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:a.sdp.type};this.$3.sendEvent(b)};return a}();g["default"]=a}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.take=function(a,b){b===void 0&&(b=1);a=this.$2(a);return a.take(b)};b.$2=function(a){var b,d=this.$1.get(a);if(d)return d;b=(b=c("ZenonPlatformRateLimitSitevarConfig").buckets.get(a))!=null?b:c("ZenonPlatformRateLimitSitevarConfig")["default"];d=new(c("TokenBucketRateLimit"))(b.bucket_size,b.refill_rate);this.$1.set(a,d);return d};return a}();g["default"]=a}),98);
__d("ZenonSignalingTransportTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",PARENT_INITIATED_CALL:"rtc_child_window_start_call",PARENT_LOG_IDENTIFIERS:"rtc_parent_log_identifiers",PARENT_PCF_TIMINGS:"rtc_parent_pcf_timings",PARENT_QPL_MARKER:"rtc_parent_qpl_marker",PARENT_TO_CHILD_MESSAGE:"rtc_child_window_message"});f.ChildTransportMessageType=a}),66);
__d("isFacebookishURI",["isFacebookURI","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)||c("isMessengerDotComURI")(a)}g["default"]=a}),98);
__d("ZenonSignalingParentTransport",["MultiwaySharedTypes","QuickPerformanceLogger","RTWebIncomingRingConfiguration","Random","URI","ZenonBrowsers","ZenonE2eeMandatedStateManager","ZenonIGMediaUtil","ZenonProductConnectFunnel","ZenonSignalingTransportTypes","isFacebookishURI","performanceNow","recoverableViolation","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=45*1e3;a=function(){function a(a){var b=this;this.verificationNonce=null;this.portToChild=null;this.$1=null;this.$2=null;this.localCallID=null;this.$3=new Map();this.$4=new Map();this.$5=window;a!=null&&(this.$5=a);d("RTWebIncomingRingConfiguration").isSupportedClient()&&this.$5.addEventListener&&this.$5.addEventListener("message",function(a){b.handleWindowMessageFromChild(a)},!1)}var b=a.prototype;b.handleWindowMessageFromChild=function(a){var b=this;if(this.windowMessageValid(a)&&a.data.type===d("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY&&this.hasPort(a)){var c;c=(c=a.data.roomID)!=null?c:null;var e=a.data.serverInfoData;this.portToChild=a.ports[0];a=a.data.childNonce;this.$2=a;this.$5.clearTimeout(this.$1);this.$1=this.$5.setTimeout(function(){b.portToChild=null},k);this.verificationNonce=this.generateNonce();this.startCallInChildWindow(c,e);this.sendQPLToChildWindow();this.sendPCFToChildWindow();this.sendLogIdentifiersToChildWindow(this.localCallID)}};b.generateNonce=function(){return String(d("Random").random())};b.hasPort=function(a){return Boolean(a.ports!=null&&Array.isArray(a.ports)&&a.ports[0]!=null)};b.getRingRequestBySID=function(a){a=l((a=this.$4.get(a))!=null?a:null);return{mwThriftRingRequest:a}};b.startCallInChildWindow=function(a,b){var c=null;if(b!==void 0){if(b!=null){b=this.getRingRequestBySID(b);c=b.mwThriftRingRequest}}else if(a!=null){c=l((b=this.$3.get(a))!=null?b:null)}a={mwThriftRingRequest:c,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL};this.sendMessageToChild(a)};b.sendQPLToChildWindow=function(){var a=new Map();(h||(h=c("QuickPerformanceLogger"))).activeMarkers.forEach(function(b,c){(c===398997251||c===41156610)&&a.set(c,b)});if(a.size>0){var b={markers:a,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER,version:2};this.sendMessageToChild(b);a.forEach(function(a){for(a of a){var b=a[0],d=a[1];(h||(h=c("QuickPerformanceLogger"))).markerDrop(d.event,b)}})}};b.sendPCFToChildWindow=function(){var a=Math.trunc((i||(i=c("performanceNow")))()),b=c("ZenonProductConnectFunnel").getPreJoinTimings(),e=b.acceptedTs,f=b.ringingTs;b=b.triggeredTs;e={acceptedTs:e!=null?e-a:null,nonce:this.$2,ringingTs:f!=null?f-a:null,triggeredTs:b!=null?b-a:null,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_PCF_TIMINGS};this.sendMessageToChild(e);c("ZenonProductConnectFunnel").clearPreJoinTimings()};b.sendLogIdentifiersToChildWindow=function(a){a={localCallID:a,nonce:this.$2,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_LOG_IDENTIFIERS};this.sendMessageToChild(a)};b.windowMessageValid=function(a){return Boolean(a.origin===this.$5.location.origin||c("isFacebookishURI")(new(j||(j=c("URI")))(a.origin))&&c("isFacebookishURI")(new(j||(j=c("URI")))(this.$5.location.origin)))&&this.postMessageValid(a)};b.postMessageValid=function(a){return this.verificationNonce!==null&&(a==null?void 0:(a=a.data)==null?void 0:a.nonce)===this.verificationNonce};b.sendMessageToChild=function(a){this.portToChild!=null?this.portToChild.postMessage(a):c("recoverableViolation")("The child window port should be available","rtc_www")};b.enqueueRawMWThriftMessage=function(a,b){var c=a.messageBody,d=a.messageHeader;c=c.ringRequest;if(c){c=d.conferenceName;d=d.serverInfoData;c!=null&&this.$3.set(c,{parsedMessage:b,rawMessage:a});d!=null&&this.$4.set(d,{parsedMessage:b,rawMessage:a})}};b.testGetChildNonce=function(){return this.$2};return a}();function l(a){var b;if(a==null)return null;var e=a.parsedMessage;a=a.rawMessage;if(e==null)return null;e=n(e);if((e==null?void 0:e.eventName)!=="inviteRequest")return null;e=(e=(e=a.messageBody.ringRequest)==null?void 0:e.isLegacyCall)!=null?e:!1;b=((b=a.messageBody.ringRequest)==null?void 0:(b=b.e2eeEnforcement)==null?void 0:b.mode)===d("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED;c("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(b,(b=a.messageBody.ringRequest)==null?void 0:(b=b.e2eeEnforcement)==null?void 0:b.infraMandatedExpStatus);return o(e)?a:p(a)}function m(a){return d("ZenonBrowsers").isFirefox()||c("shouldUseSFUMediaPath")(a)||c("ZenonIGMediaUtil").shouldUseSFUOnly()}function n(a){a=a.getEvents().find(function(a){return a.eventName==="inviteRequest"});return a}function o(a){return a||!m(!1)}function p(a){var b;(b=a.messageBody.ringRequest)==null?void 0:delete b.offer;return a}g["default"]=a}),98);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","JSResourceForInteraction","LazyLoadInstance","OverlayConfigManagerWithServerLayer","Promise","RTWebIncomingRingConfiguration","ZenonActorHooks","ZenonBrowsers","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDeviceId","ZenonDismissReason","ZenonMessageSenderChain","ZenonMqttMWThriftMessageSender","ZenonParentClientPerfQPLLogProcessor","ZenonParentLSCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSDKRateLimiter","ZenonSignalingParentTransport","gkx","promiseDone","recoverableViolation","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("setE2eeIsMandatedForZenonLoggers").__setRef("ZenonParentCallsManager"),j=c("JSResourceForInteraction")("ZenonGraphQLMWThriftMessageSender").__setRef("ZenonParentCallsManager"),k=c("JSResourceForInteraction")("ZenonDGWMWThriftMessageSender").__setRef("ZenonParentCallsManager");a=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this)||this;f.$ZenonParentCallsManager$p_4=new Map();f.$ZenonParentCallsManager$p_5=new Set();f.$ZenonParentCallsManager$p_6=null;f.$ZenonParentCallsManager$p_8=[];f.onInviteReceived=function(a,b,e){var g,h=e.getSignalingModel().getSignalingID();e.setSignalingEventHandlers({onDismissReceived:f.onDismissReceived});var i=a.appMessages,j=a.inviterID,k=a.isE2eeMandated,l=a.otherParticipants,m=a.requestingVideo,n=a.roomInfo,o=a.serverInfoData;k===!0&&f.$ZenonParentCallsManager$p_10(h);var p=m&&d("ZenonBrowsers").supportsVideoCalls(),q="multiway_incoming",r=c("uuidv4")(),s=f.$ZenonParentCallsManager$p_11({callTrigger:q,isCaller:!1,isVideo:p,localCallID:r,peerID:j,protocol:b,signalingID:h},k!=null?k:!1);s==null?void 0:s.log({name:"inviteReceived",serverInfoData:o});m=d("RTWebIncomingRingConfiguration").isSupportedClient();var t=m?"OK":"NOT_SUPPORTED";c("promiseDone")(e.respondToInvite(t));s==null?void 0:s.log({name:"inviteResponded"});t={thread:{id:"0",type:2},type:"thread"};if(n.context!=null&&(((g=n.context)==null?void 0:g.groupThreadID)!=null||((g=n.context)==null?void 0:g.peerID)!=null)){g=(g=a.appMessages)==null?void 0:g.collision_context_payload;var u=null;if(g!=null)try{u=JSON.parse(g).calling_tags}catch(a){}g=k===!0&&u===2;if(n.context!=null){t={thread:(u=d("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(n.context,g))!=null?u:{id:"0",type:2},type:"thread"}}}else((g=n.room)==null?void 0:g.linkHash)!=null&&((u=n.room)==null?void 0:u.roomName)!=null&&(t={room:n.room,type:"room"});u=(g=a.actorID)!=null?g:d("ZenonActorHooks").ZenonActor.getID();g={mwThriftRingRequest:null};o!=null&&(g=f.$ZenonParentCallsManager$p_2.getRingRequestBySID(o));i={actorID:a.actorID,context:t,controllerParams:{appMessages:i,callContext:n.name,configuration:b,serverInfoData:(t=(o=n.context)==null?void 0:o.serverInfoData)!=null?t:null,signalingID:h},inviterID:j,isClientPermissableRing:m,isE2eeMandated:k!=null?k:!1,onAccept:function(a,d){d=d.isPopupBlocked;s==null?void 0:s.log({name:"callAccepted",trigger:q});c("promiseDone")(e.sendAnswerIntent());f.$ZenonParentCallsManager$p_12(a,{callTrigger:q,isE2eeMandated:k!=null?k:!1,isPopupBlocked:d,isVideo:p,peerID:j,protocol:b,signalingID:h},r)},onDecline:function(a,b){b===void 0&&(b=null),f.onDecline(h,s,a,b)},otherParticipants:l.includes(u)?l:[u].concat(l),receiverUserId:a.userID,requestingVideo:p,ringID:h,ringRequest:g};f.emit("incomingRing",i)};f.onDismissReceived=function(a,c){var e=d("ZenonDismissReason").dismissReasonToCancelReason(c);e={reason:e,ringID:a};f.emit("ringCancel",e);e=f.$ZenonParentCallsManager$p_4.get(a);e!=null&&(e.log({name:"dismissRecv"}),e.log({endCallReason:c,isRemoteEnded:!0,name:"callEnded"}));return(h||(h=b("Promise"))).resolve()};f.$ZenonParentCallsManager$p_7=new(c("OverlayConfigManagerWithServerLayer"))();f.$ZenonParentCallsManager$p_3=e;f.$ZenonParentCallsManager$p_2=new(c("ZenonSignalingParentTransport"))(window);var g=new(c("ZenonMessageSenderChain"))([]);c("gkx")("1774")?c("promiseDone")(k.load(),function(a){return g.addMessageSender(new a())}):(g.addMessageSender(new(c("ZenonMqttMWThriftMessageSender"))()),c("promiseDone")(j.load(),function(a){if(e.relayEnvironment){a=new a(e.relayEnvironment);g.addMessageSender(a)}}));f.$ZenonParentCallsManager$p_1=new(c("LazyLoadInstance"))(c("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(c("ZenonParentSignalingClient"),f.onInviteReceived,g)});f.$ZenonParentCallsManager$p_6=new(c("ZenonSDKRateLimiter"))();return f}var f=e.prototype;f.startOutgoingCallIntent=function(a,b){if(!this.$ZenonParentCallsManager$p_9("startOutgoingCallIntent"))return;var d=b.callTrigger,e=b.isE2eeMandated,f=b.isVideo,g=b.peerID,h=b.protocol,i=b.signalingID;e&&this.$ZenonParentCallsManager$p_10(i);var j=c("uuidv4")();this.$ZenonParentCallsManager$p_11({callTrigger:d,isCaller:!0,isVideo:f,localCallID:j,peerID:g,protocol:h,signalingID:i},e);this.$ZenonParentCallsManager$p_12(a,b,j)};f.$ZenonParentCallsManager$p_11=function(a,b){var d,e=a.callTrigger,f=a.isCaller,g=a.isVideo,h=a.localCallID,i=a.peerID,j=a.protocol;a=a.signalingID;d=(d=this.$ZenonParentCallsManager$p_4.get(a))!=null?d:null;if(e==="meetup_join")return d;if(d!=null){c("recoverableViolation")("Call logger key collision in parentCallsManager for signalingID: "+a,"rtc_www");return d}var k=new(c("ZenonCallLogger"))({config:this.$ZenonParentCallsManager$p_7,initLoggerInfo:{callTrigger:e,isCaller:f,isVideo:g,localCallID:h,peerID:i,protocol:j,signalingID:a},isE2eeMandated:b,processorConfigs:this.getLogProcessors()});this.$ZenonParentCallsManager$p_4.set(a,k);this.$ZenonParentCallsManager$p_8.forEach(function(a){a.setLoggingEventHandler(function(a){return k.log(a)})});return k};f.getLogProcessors=function(){var a=[d("ZenonParentLSCallSummaryLogProcessor").ZenonParentLSCallSummaryLogProcessorConfig,d("ZenonParentQPLLogProcessor").ZenonParentQPLLogProcessorConfig,d("ZenonParentClientPerfQPLLogProcessor").ZenonParentClientPerfQPLLogProcessorConfig];return a};f.$ZenonParentCallsManager$p_12=function(a,b,c){var e=b.isPopupBlocked;b=b.signalingID;this.$ZenonParentCallsManager$p_2.localCallID=c;this.$ZenonParentCallsManager$p_2.verificationNonce=a;this.$ZenonParentCallsManager$p_5.add(b);c=this.$ZenonParentCallsManager$p_4.get(b);c!=null&&c.log({isPopupBlocked:e,name:"popupOpened"});d("ZenonDeviceId").setZenonLocalStorageDeviceId(d("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback())};f.initListeners=function(a){var b=this;this.$ZenonParentCallsManager$p_8=a;for(a of a)a.subscribe(function(a){return b.onMessageReceived(a)},function(a,c){return b.$ZenonParentCallsManager$p_2.enqueueRawMWThriftMessage(a,c)})};f.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager$p_5.has(b))return;this.$ZenonParentCallsManager$p_1.get(function(b){b.receiveMessage(a)})};f.onDecline=function(a,b,e,f){f===void 0&&(f=null),this.$ZenonParentCallsManager$p_1.get(function(g){g=g.getSignalingClient(a);if(g){var h=d("ZenonDismissReason").endCallToDismissReason(e);e!=="VersionUnsupported"&&f!==d("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&c("promiseDone")(g.sendDismiss(h));b==null?void 0:b.log({endCallReason:h,endCallSubreason:f==null?null:f,isRemoteEnded:!1,name:"callEnded"})}else c("recoverableViolation")("signaling client should be defined","rtc_www")})};f.removeListeners=function(a){for(a of a)a.unsubscribe()};f.$ZenonParentCallsManager$p_9=function(a){if(this.$ZenonParentCallsManager$p_6&&!this.$ZenonParentCallsManager$p_6.take(a)){c("FBLogger")("rtc_www").warn("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",a);return!1}return!0};f.$ZenonParentCallsManager$p_10=function(a){c("promiseDone")(i.load(),function(b){return b(a)})};return e}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("delegateZenonCallInviteModel",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("ACSCipherSuiteModule",[],(function(a,b,c,d,e,f){"use strict";b={hash:"SHA-512",name:"HMAC"};c={curveName:"RISTRETTO",macAlgorithm:b,value:1};var g=new Map([[c.value,c]]);function a(a){return g.has(a)?g.get(a):null}f.VOPRF_RISTRETTO_HMACSHA512=c;f.getACSCipherSuiteByValue=a}),66);
__d("ACSTokenHmacUtil",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h(a,b).then(function(a){return j(a,c)})}function h(a,b){return d("XPlatReactCrypto").subtleImportKey("raw",b,a,!1,["sign"]).then(function(b){return{algo:a,key:b}})}function i(a){return typeof a.hash==="string"?a.hash:a.hash.name}function j(a,b){var c=a.algo;a=a.key;c={hash:i(c),name:"HMAC"};return d("XPlatReactCrypto").subtleSign(c,a,b).then(function(a){return new Uint8Array(a)})}g.hmac=a}),98);
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("LSCryptoUtils",["FBLogger","XPlatReactTextDecoder","XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new Uint8Array(a)}function h(a){var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a)}function i(a){var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}function b(a){return i(new Uint8Array(a))}function e(a){return h(a).buffer}function f(a,b){var d=a.byteLength,e=b.byteLength;if(d!==e)throw c("FBLogger")("messenger_web").mustfixThrow("[LS] Mismatched lengths for modAdd, %d != %d",d,e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(c,d,e){d=a[e];var g=b[e];d=d+g+c;g=d>255?[d-256,1]:[d,0];f[e]=g[0];return g[1]},0);return f}g.bufToUint8=a;g.strToUint8=h;g.uint8ToStr=i;g.bufToStr=b;g.strToBuf=e;g.modAddBytes=f}),98);
__d("LSMaxInt32",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_int32(2147483647);g["default"]=a}),98);
__d("WACryptoHkdfSync",["WABinary","WACryptoSha256HmacBuilder","err"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=new Uint8Array(h),j=255*h;function k(a,b){return new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(b!=null?b:i).update(a).finish()}function l(a,b,e){e===void 0&&(e=new Uint8Array(0));if(b<0||b>j)throw c("err")("HKDF::expand given bad length "+b);var f=Math.ceil(b/h),g=new Uint8Array(0),i=new(d("WABinary").Binary)();for(var k=1;k<=f;k++)g=new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(a).update(d("WABinary").Binary.build(g,e,k).readByteArrayView()).finish(),i.writeByteArray(g);return i.readByteArrayView(b)}function a(a,b,c,d){return l(k(a,b),d,c)}g.hkdf=a}),98);
__d("CreateDerivedKeys",["CryptoLogger","I64","LSCryptoUtils","LSMaxInt32","LSSynchronousPromise","LSVec","Promise","RetUtil","WACryptoHkdfSync","XPlatReactCrypto","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){var j=d("CryptoLogger").CryptoLogger("create_derived_keys");if(g.length<1||g.some(function(a){return(i||(i=d("I64"))).gt(a,c("LSMaxInt32"))})){j.mustfix("Invalid key lengths for derive keys");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(void 0))}var k=g.map((i||(i=d("I64"))).to_int32),l=g.map(i.to_int32).reduce(function(a,b){return a+b},0),m=function(a){var b=[],e=0;for(var f=0,g=k.length;f<g;++f){var h=e+k[f];b.push(a.slice(e,h).buffer);e=h}return d("RetUtil").getNullableRetResult(c("LSVec").ofArray(b))};if(c("gkx")("13860"))try{g=d("WACryptoHkdfSync").hkdf(d("LSCryptoUtils").bufToUint8(f),d("LSCryptoUtils").bufToUint8(e!=null?e:new Uint8Array(10).buffer),d("LSCryptoUtils").bufToUint8(a),l);return d("LSSynchronousPromise").maybeMakeSynchronousPromise(m(g))}catch(a){d("CryptoLogger").captureError(j,a).mustfix("hkdf failed at LSCreateDerivedKeys.nop");return d("LSSynchronousPromise").maybeMakeSynchronousPromise(d("RetUtil").getNullableRetResult())}return d("XPlatReactCrypto").subtleImportKey("raw",f,"HKDF",!1,["deriveBits"]).then(function(b){return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:a,name:"HKDF",salt:e!=null?e:new Uint8Array(10).buffer},b,l*8)}).then(function(a){a=new Uint8Array(a);return m(a)})["catch"](function(a){j.catching(a).mustfix("Failed to create derived keys");return d("RetUtil").getNullableRetResult()})}g.CreateDerivedKeys=a}),98);
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]);c=a;f["default"]=c}),66);
__d("EBEnableUnifiedAttachment",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEbEnableUnifiedAttachment=a;f.getEbEnableUnifiedAttachment=b}),66);
__d("EBEncryptMessageTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}function e(a){return a}function g(a){return a}function h(a){return a}function i(a){return a}function j(a){return a}function k(a){return a}function l(a){return a}function m(a){return a}function n(a){return a}f.unsafeCastToAAD=a;f.unsafeCastToSecretKey=b;f.unsafeCastToPlaintext=c;f.unsafeCastToCiphertext=d;f.unsafeCastToMsgData=e;f.unsafeCastToMacKey=g;f.unsafeCastToHmac=h;f.unsafeCastToEBCreateDerivedKeysIkm=i;f.unsafeCastToEBCreateDerivedKeysInfo=j;f.unsafeCastToEBCreateDerivedKeysSalt=k;f.unsafeCastToEBCreateDerivedKeyLength=l;f.unsafeCastToEBDerivedKey=m;f.castEBDerivedKeyToArrayBuffer=n}),66);
__d("EBLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=c("FBLogger")("labyrinth_web").tags(["labyrinth_web"]);g.EBLogger=a}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=b!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("EBReenrollmentTriggerHandler",["EBLogger","LSIntEnum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("EBLogger").EBLogger.tags(["DefaultEBReenrollmentTriggerHandler"]);a=function(){function a(){}var b=a.prototype;b.handle=function(a){i.debug("Running default reenrollment trigger handler for reason: "+(h||(h=d("LSIntEnum"))).toNumber(a.deviceReenrollmentReason));for(a of c("MWEncryptedBackupsLocalStorageEntryEnum").members())i.debug("Clearing local storage key: "+a),a!==c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE&&d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(a)};return a}();g.DefaultEBReenrollmentTriggerHandler=a}),98);
__d("MWEBODSCategory",[],(function(a,b,c,d,e,f){"use strict";a=7319;f["default"]=a}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EBSM_COUNTERS:"mw_ebsm_counters",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker",MW_EB_RETROACTIVE_BACKUP:"mw_eb_retroactive_backup"});c=a;f["default"]=c}),66);
__d("EBReenrollmentTriggerListener",["EBReenrollmentTriggerHandler","LSIntEnum","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){function a(a){this.$1=new Map(),this.$4=new(d("EBReenrollmentTriggerHandler").DefaultEBReenrollmentTriggerHandler)(),this.$2=a,this.$5()}var b=a.prototype;b.$5=function(){var a=this;this.$3==null&&(this.$3=d("ReQL").fromTableAscending(this.$2.tables.encrypted_backups_reenrollment_trigger).take(1).subscribe(function(b,e){if(e.operation==="add"||e.operation==="put"){(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_COUNTERS,"reenrollment_trigger");b=a.getDefaultHandler();if(e.value.deviceReenrollmentReason!=null){var g;b=(g=a.$1.get((i||(i=d("LSIntEnum"))).unwrapIntEnum(e.value.deviceReenrollmentReason)))!=null?g:b}b.handle(e.value);c("promiseDone")(a.$2.runInTransaction(function(a){return a.encrypted_backups_reenrollment_trigger["delete"](e.value.pk)},"readwrite",void 0,void 0,f.id+":77"))}}));return this.$3};b.attachHandler=function(a,b){this.$1.set(a,b)};b.getDefaultHandler=function(){return this.$4};return a}(),k;function l(a){if(k!=null)return k;k=new j(a);return k}function a(a){k==null&&l(a);return k}g.initEBReenrollmentTriggerListener=l;g.getEBReenrollmentTriggerListener_TESTING_ONLY=a}),98);
__d("EBUnifyLegacyMediaUpload",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEnableUnifyLegacyMediaUpload=a;f.getEnableUnifyLegacyMediaUpload=b}),66);
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3});c=b("$InternalEnum")({Armadillo:0,Instamadillo:1});f.EncryptedBackupsDYIState=a;f.EncryptedBackupsDYIConfig=c}),66);
__d("EncryptedBackupsSymmetricEncryptionUtils",[],(function(a,b,c,d,e,f){"use strict";a=16;b=28;c=16;d=128;f.hChaCha20SubKeyNonceLengthInBytes=a;f.totalNonceLengthInBytes=b;f.aesGcmTagLengthInBytes=c;f.aesGcmTagLength=d}),66);
__d("EncryptedBackupsUtils",["FBLogger","WAJids","WAStanzaUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";f=function(a){return Date.now()-a>d("WATimeUtils").DAY_MILLISECONDS*30};var h=function(a){return Date.now()-a>d("WATimeUtils").DAY_MILLISECONDS*30};function a(a,b,c,d,e){d={frankingTag:d==null?void 0:d.frankingTag,reportingTag:d==null?void 0:d.reportingTag};d={frankingMetadata:d,messageId:b,senderId:a,timestampMs:c};return{encryptedTransportMessage:e,metadata:d}}function b(a){return JSON.stringify([a.author,a.chat,a.externalId])}function e(a){a=JSON.parse(a);if(!Array.isArray(a))throw c("FBLogger")("labyrinth_web").mustfixThrow("Unable to parse msg id string as proper json");if(a.length!==3)throw c("FBLogger")("labyrinth_web").mustfixThrow("Parsed array should have 3 components");var b=d("WAJids").unsafeCoerceToUserJid(a[0]),e=d("WAJids").unsafeCoerceToChatJid(a[1]);a=d("WAStanzaUtils").toStanzaId(a[2]);return{author:b,chat:e,externalId:a}}g.entryOlderThan30Days=f;g.timestampOlderThan30Days=h;g.asBackupMessage=a;g.convertWAMsgIdToStringId=b;g.convertStringIdToWAMsgId=e}),98);
__d("MAWExtractMsFromExternalId",["I64","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert externalId to number: ",""]);i=function(){return a};return a}function j(a){return new Date(a).getTime()>0}var k=2199023255551;function a(a){try{a=(h||(h=d("I64"))).of_string_opt(a);if(a!=null){return(a=l(a))!=null?a:0}}catch(a){d("WALogger").ERROR(i(),a)}return 0}function l(a){a=Number((h||(h=d("I64"))).to_string(h.and_(h.lsr_(a,22),h.of_float(k))));if(j(a)){a=Math.floor(Number(a)%1e5/100);return a}}g.extractMsFromStanzaId=a;g.extractMsFromExternalId=l}),98);
__d("IGDWEBUploadMessageUtils",["I64","MAWExtractMsFromExternalId","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sortOrder] Could not extract ms from externalId: ",""]);i=function(){return a};return a}function a(a,b){var c=d("MAWExtractMsFromExternalId").extractMsFromExternalId((h||(h=d("I64"))).of_string(a));c==null&&d("WALogger").WARN(i(),a);return d("WATimeUtils").castToMillisTime(Number(b)*1e3+(c!=null?c:0))}g.generateProtobufServerTs=a}),98);
__d("WAArmadilloBackupCommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.name="Subprotocol";a.internalSpec={payload:[1,d("WAProtoConst").TYPES.BYTES],version:[2,d("WAProtoConst").TYPES.INT32]};g.SubprotocolSpec=a}),98);
__d("WAArmadilloBackupMessage.pb",["WAArmadilloBackupCommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.name="BackupMessage";a.internalSpec={metadata:[1,(e=d("WAProtoConst")).TYPES.MESSAGE,b],encryptedTransportMessage:[2,e.TYPES.BYTES],encryptedTransportEvent:[5,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],encryptedTransportLocallyTransformedMessage:[6,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],miTransportAdminMessage:[7,e.TYPES.MESSAGE,d("WAArmadilloBackupCommon.pb").SubprotocolSpec],__oneofs__:{payload:["encryptedTransportMessage","encryptedTransportEvent","encryptedTransportLocallyTransformedMessage","miTransportAdminMessage"]}};b.name="BackupMessage$Metadata";b.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32],threadTypeTag:[7,e.TYPES.INT32]};c.name="BackupMessage$Metadata$FrankingMetadata";c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]};g.BackupMessageSpec=a;g.BackupMessage$MetadataSpec=b;g.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);
__d("EncryptedBackupsUploadEntity",["$InternalEnum","EncryptedBackupsUtils","IGDWEBUploadMessageUtils","WAArmadilloBackupMessage.pb","WAByteArray","WAGlobals","WAJids","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a instanceof ArrayBuffer?new Uint8Array(a):a}var h=b("$InternalEnum").Mirrored(["NEEDS_BACKUP","COMPLETED","NEEDS_BACKUP_RETRY","PERMANENT_FAILURE","EXPIRED","THREAD_DELETED","DELETION_PURGED","MESSAGE_DELETED","UPLOADING"]);b=b("$InternalEnum")({INVALID:"-1",IMAGE:"0",PTT:"1",DOCUMENT:"3",VIDEO:"4",GIF:"5",STICKER:"6",XMA:"22",MESSENGER_PREVIEW:"25"});function c(a){return a}function i(a){var b=a.messageApplication,c=a.msgId,e=a.reportingMeta;a=a.sortOrderMs;var f=d("WAJids").authorToUserId(c.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()));return d("encodeProtobuf").encodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,d("EncryptedBackupsUtils").asBackupMessage(f,c.externalId,a,e!=null?e:{frankingKey:null,frankingTag:null,frankingVersion:null,reportingContent:null,reportingTag:null},b)).readByteArrayView()}function e(a){return d("WAByteArray").uint8ArrayToBuffer(a)}function f(a){var b=a.attachmentContext,c=a.backupDirective,e=a.dbMsgType,f=a.instanceKey,g=a.isOpenEB,j=a.isRetroactiveUpload,k=a.legacyAttachmentContext,l=a.messageApplication,m=a.msgId,n=a.originalMsgProtocolId,o=a.reportingMeta,p=a.retryCount,q=a.senderId,r=a.serverTs,s=a.sortOrderMs,t=a.tags;a=a.triggerSource;l=i({messageApplication:l,msgId:m,reportingMeta:o,sortOrderMs:c.actionType===4?d("IGDWEBUploadMessageUtils").generateProtobufServerTs(m.externalId,r):s});o={backupActionType:c.actionType,backupDirective:c,dbMsgType:e,failTsMs:d("WATimeUtils").castToMillisTime(0),instanceKey:f,isOpenEB:g,isRetroactiveUpload:j,msgId:m,msgIdKey:d("EncryptedBackupsUtils").convertWAMsgIdToStringId(m),msgType:"text",originalMsgProtocolId:n,protobuf:l,retryCount:p,senderId:q,serverTs:r,sortOrderMs:s,supplementalKey:c.supplementalKey,tags:t,triggerSource:a,uploadStatus:h.NEEDS_BACKUP,uploadTsSec:d("WATimeUtils").unixTime()};b!=null&&(o=babelHelpers["extends"]({},o,{attachmentContext:b,legacyAttachmentContext:k,msgType:"media"}));return o}g.toEbBackupMessageBytes=a;g.EbUploadStatus=h;g.AttachmentContextMediaType=b;g.castToEBQueueId=c;g.encodeBackupMessage=i;g.getEbBackupMessageBytesBuffer=e;g.asEBUploadEntity=f}),98);
__d("EphemeralMediaViewMode",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});f["default"]=a}),66);
__d("GetBlobFromInt64BE",["I64","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=new Uint8Array(8);e.reduceRight(function(a,b,c){b=(i||(i=d("I64"))).to_int32(i.mod_(a,i.of_string("256")));e[c]=b;return i.div(a,i.of_string("256"))},a);return(h||(h=b("Promise"))).resolve(c("LSResult")(e.buffer))}g.GetBlobFromInt64BE=a}),98);
__d("HChaCha20",["err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.fromHexString=function(a){var b=a.match(/[A-Fa-f0-9]{1,2}/g);if(a.length===0||a.length%2!==0||b==null)throw c("err")('The string "'+a+'" is not valid hex.');return new Uint8Array(b.map(function(a){return parseInt(a,16)}))};a.bufferToUint32Array=function(a){var b=new DataView(a),c=[];a=a.byteLength/4;for(var d=0;d<a;d++)c.push(new DataView(b.buffer.slice(d*4,d*4+4)).getInt32(0));return Uint32Array.from(c)};a.rotate=function(a,b){a=a&4294967295;b=b&31;return(a<<b|a>>>32-b)>>>0};a.quarterRound=function(b,c,d,e){b=b;c=c;d=d;e=e;b=b+c&4294967295;e=a.rotate(e^b,16);d=d+e&4294967295;c=a.rotate(c^d,12);b=b+c&4294967295;e=a.rotate(e^b,8);d=d+e&4294967295;c=a.rotate(c^d,7);return[b>>>0,c>>>0,d>>>0,e>>>0]};var b=a.prototype;b.createHCtx=function(b,d){var e=new Uint32Array(16),f=a.fromHexString("657870616e642033322d62797465206b");if(f.byteLength!==16)throw c("err")("Could not create context. Invalid constant buffer length of "+f.byteLength+". Expected a length of 16");else if(b.byteLength!==32)throw c("err")("Could not create context. Invalid key buffer length of "+b.byteLength+". Expected a length of 32");else if(d.byteLength!==16)throw c("err")("Could not create context. Invalid nonce buffer length of "+d.byteLength+". Expected a length of 16");f=a.bufferToUint32Array(f.buffer);b=a.bufferToUint32Array(b);d=a.bufferToUint32Array(d);e.set(f);e.set(b,f.length);e.set(d,f.length+b.length);return e.buffer};b.hChaCha20Bytes=function(b,c){c=new DataView(this.createHCtx(c,b));b=c.getInt32(0);var d=c.getInt32(1<<2),e=c.getInt32(2<<2),f=c.getInt32(3<<2),g=c.getInt32(4<<2),h=c.getInt32(5<<2),i=c.getInt32(6<<2),j=c.getInt32(7<<2),k=c.getInt32(8<<2),l=c.getInt32(9<<2),m=c.getInt32(10<<2),n=c.getInt32(11<<2),o=c.getInt32(12<<2),p=c.getInt32(13<<2),q=c.getInt32(14<<2);c=c.getInt32(15<<2);for(var r=0;r<10;r++){var s=a.quarterRound(b,g,k,o);b=s[0];g=s[1];k=s[2];o=s[3];s=a.quarterRound(d,h,l,p);d=s[0];h=s[1];l=s[2];p=s[3];s=a.quarterRound(e,i,m,q);e=s[0];i=s[1];m=s[2];q=s[3];s=a.quarterRound(f,j,n,c);f=s[0];j=s[1];n=s[2];c=s[3];s=a.quarterRound(b,h,m,c);b=s[0];h=s[1];m=s[2];c=s[3];s=a.quarterRound(d,i,n,o);d=s[0];i=s[1];n=s[2];o=s[3];s=a.quarterRound(e,j,k,p);e=s[0];j=s[1];k=s[2];p=s[3];s=a.quarterRound(f,g,l,q);f=s[0];g=s[1];l=s[2];q=s[3]}return Uint32Array.from([b,d,e,f,o,p,q,c]).buffer};return a}();g.HChaCha20=a}),98);
__d("PakeCpaceUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function b(a,b){var c=new a.VectorInt();b.forEach(function(a){c.push_back(a)});return c}f.typedArrayToBuffer=a;f.uint8ArrayToVectorInt=b}),66);
__d("Hmac_v2",["CryptoLogger","LSResult","PakeCpaceUtils","Promise","WACryptoSha256HmacBuilder","XPlatReactCrypto","err","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Subtle sign operation timeout; transaction blocked",j="Subtle import key operation timeout; transaction blocked",k=30*1e3;a=function(a,e){if(c("gkx")("12402"))try{var f=new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(new Uint8Array(a)).update(new Uint8Array(e)).finish();return(h||(h=b("Promise"))).resolve(c("LSResult")(d("PakeCpaceUtils").typedArrayToBuffer(f)))}catch(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("hmac_v2"),a).mustfix("Crypto signing failed: data length: %s, was_timeout: %s",e==null?void 0:e.byteLength,!1);throw a}f=d("XPlatReactCrypto").subtleImportKey("raw",a,{hash:"SHA-256",name:"HMAC"},!1,["sign"]);return(c("justknobx")._("4025")?(h||(h=b("Promise"))).race([f,new(h||(h=b("Promise")))(function(a,b){return window.setTimeout(function(){return b(c("err")(j))},k)})]):f).then(function(a){a=d("XPlatReactCrypto").subtleSign("HMAC",a,e);return c("justknobx")._("4025")?(h||(h=b("Promise"))).race([a,new(h||(h=b("Promise")))(function(a,b){return window.setTimeout(function(){return b(c("err")(i))},k)})]):a}).then(function(a){return(h||(h=b("Promise"))).resolve(c("LSResult")(a))})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("hmac_v2"),a).mustfix("Crypto signing failed: data length: %s, was_timeout: %s",e==null?void 0:e.byteLength,(a==null?void 0:a.message)===i||(a==null?void 0:a.message)===j);throw a})};g["default"]=a}),98);
__d("LSACSExperimentCapability",[],(function(a,b,c,d,e,f){a=Object.freeze({RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:0,BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:1,INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:2});f["default"]=a}),66);
__d("LSBeginHandlingFireForgetTasksForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return c[0]=b.createArray(),b.forEach(b.filter(b.db.table(5).fetch(),function(b){return b.queueName===a[0]}),function(a){a=a.item;return c[3]=new b.Map(),c[3].set("label",a.context),c[3].set("payload",a.taskValue),c[3].set("queue_name",a.queueName),c[3].set("task_id",a.taskId),c[3].set("failure_count",b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))?void 0:b.i64.cast([0,0])),c[4]=(c[0].push(c[3]),c[0])})},function(e){return c[1]=new b.Map(),c[1].set("tasks",c[0]),c[1].set("epoch_id",void 0),c[2]=new b.Map(),c[2].set("queue_name",a[0]),c[2].set("next_sync_ms",void 0),c[2].set("work_item_type",b.i64.cast([0,5])),c[2].set("network_payload",c[1]),c[2].set("http_url_override",void 0),c[2].set("skip_realtime_gateway",!1),d[0]=c[2]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingFireForgetTasksForQueueStoredProcedure";a.__tables__=["pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSBeginHandlingFireForgetTasksForQueueStoredProcedure",["LSBeginHandlingFireForgetTasksForQueue","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingFireForgetTasksForQueue"),e.queueName);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSForceTaskExecutionImmediately",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[1]=b.i64.of_float(Date.now()),b.i64.lt(c[1],e.minTimeToSyncTimestampMs)?b.forEach(b.db.table(2).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({minTimeToSyncTimestampMs:b.i64.cast([0,0]),failureCount:b.i64.add(a.failureCount,b.i64.cast([0,1]))})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceTaskExecutionImmediatelyStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRemoveUsedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(309).fetch(),function(a){return b.i64.le(a.redeemLimit,b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveUsedTokensStoredProcedure";a.__tables__=["secure_acs_tokens"];e.exports=a}),null);
__d("LSGetCurrentTokenPoolState",["LSArrayGetObjectAt","LSRemoveBlindedTokens","LSRemoveUsedTokens"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),d[1]=c.createArray(),c.count(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]})).then(function(a){return d[2]=a})},function(b){return c.forEach(c.filter(c.db.table(307).fetch(),function(b){return b.projectName===a[0]}),function(a){a=a.item;return d[7]=a.configId,c.i64.gt(d[0],a.expirationTimestampMs)?c.forEach(c.db.table(307).fetch([[[d[7]]]]),function(a){return a["delete"]()}):c.resolve(d[8]=(d[1].push(d[7]),d[1]))})},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_int32(d[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(a){return d[7]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.count(c.filter(c.db.table(309).fetch(),function(a){return a.configId===d[8]})).then(function(a){return d[10]=a})},function(a){return d[3]=c.i64.add(d[10],d[3]),c.storedProcedure(b("LSRemoveBlindedTokens"),d[8])}])}):c.resolve()},function(a){return c.i64.gt(d[2],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(d[1].length),d[5]=c.i64.ge(d[7],c.i64.cast([0,1]))):d[5]=void 0,d[5]!==void 0?(d[5]?(c.i64.gt(d[3],c.i64.cast([0,0]))?d[8]=c.i64.cast([0,3]):d[8]=c.i64.cast([0,2]),d[7]=d[8]):d[7]=c.i64.cast([0,1]),d[6]=d[7]):d[6]=c.i64.cast([0,0]),a=[d[6],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsGetCurrentTokenPoolStateStoredProcedure";a.__tables__=["secure_acs_configurations","secure_acs_tokens"];e.exports=a}),null);
__d("LSVoprfBlind.nop",["XPlatReactVoprf","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("XPlatReactVoprf").loadXPlatReactVoprf());b=a.voprfInstance;a=b.voprfInfo;var e=b.voprfWasm;try{e=e.blind(a,new Uint8Array(c));return[e.blindedElement.buffer,e.blindingFactor.buffer]}catch(a){throw a}finally{d("XPlatReactVoprf").freeVoprfInstance(b)}});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfBlind";g["default"]=a}),98);
__d("LSVoprfCreateNonce.nop",["LSSynchronousPromise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h=32;a=function(a,b){a=h;b=new Uint8Array(a);d("XPlatReactCrypto").getRandomValues(b);return d("LSSynchronousPromise").maybeMakeSynchronousPromise([b.buffer])};a.__nop_name__="LSVoprfCreateNonce";g["default"]=a}),98);
__d("LSTaskSerializerAcsIssueNextSync",["LSBase64Encode.nop","LSGetCurrentTokenPoolState","LSIssueNextSync","LSVoprfBlind.nop","LSVoprfCreateNonce.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.db.table(310).fetch([[[a[0]]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(function(a){c.logger(a).mustfix(a)}("Request context for the passed task_id was not found"),f=[void 0,void 0,void 0],d[0]=f[0],d[1]=f[1],d[2]=f[2],f):(e=a.item,c.sequence([function(a){return d[9]=e.projectName,d[10]=e.maxClientTokenPoolSize,c.storedProcedure(b("LSGetCurrentTokenPoolState"),d[9]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(a){return c.i64.eq(d[4],c.i64.cast([0,0]))||c.i64.eq(d[4],c.i64.cast([0,1]))?c.resolve((d[11]=new c.Map(),d[11].set("project_name",d[9]),d[12]=c.toJSON(d[11]),a=[d[12],c.i64.cast([0,351]),void 0],d[6]=a[0],d[7]=a[1],d[8]=a[2],a)):c.sequence([function(a){return d[11]=c.i64.of_float(Date.now()),c.islc(c.sortBy(c.filter(c.db.table(307).fetch(),function(a){return a.projectName===d[9]&&c.i64.gt(a.expirationTimestampMs,d[11])}),[["expirationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?(function(a){c.logger(a).mustfix(a)}("A config for the passed project name was not found"),d[16]=new c.Map(),d[16].set("project_name",d[9]),d[16].set("max_client_token_pool_size",d[10]),d[17]=c.toJSON(d[16]),a=[d[17],c.i64.cast([0,362]),void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],a):(f=e.item,c.sequence([function(a){return d[24]=f.configId,d[16]=f.maxEvals,d[26]=f.tokenPollFrequencyMs,d[25]=f.maxClientTokenPoolSize,d[17]=c.i64.sub(d[10],d[5]),d[23]=c.i64.lt(d[16],d[17])?d[16]:d[17],d[18]=c.createArray(),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeOperation(b("LSVoprfCreateNonce.nop")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.blobs.neq(d[28],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSVoprfBlind.nop"),d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return c.blobs.neq(d[29],void 0)?c.blobs.neq(d[30],void 0)?c.sequence([function(a){return d[31]=c.i64.cast([-1,4294967295]),c.db.table(308).peekNextAutoIncrementId().then(function(a){return d[31]=a})},function(a){return c.db.table(308).add({tokenId:void 0,blindedNonce:d[29],blindingFactor:d[30],nonce:d[28],configId:d[24]})},function(a){return c.db.table(308).fetch([[[d[31]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[32]=c.i64.cast([-1,4294967295]):(e=b.item,d[32]=e.tokenId)})},function(a){return c.i64.eq(d[32],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.islc(c.db.table(308).fetchDesc([[[{gt:c.i64.cast([0,0])}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[37]=c.i64.cast([-1,4294967295]):(e=b.item,d[37]=e.tokenId)})},function(a){return d[34]=d[37]}]):c.resolve(d[34]=d[32])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=new c.Map(),d[36].set("id",d[34]),d[36].set("data",d[35]==null?"":d[35]),d[37]=(d[18].push(d[36]),d[18])}]):c.resolve():c.resolve()}]):c.resolve()}])}):c.resolve()},function(a){return d[19]=c.i64.of_int32(d[18].length),c.i64.gt(d[19],c.i64.cast([0,0]))?c.resolve((d[27]=new c.Map(),d[27].set("project_name",d[9]),d[27].set("config_id",d[24]),d[27].set("blinded_nonces",d[18]),d[28]=c.toJSON(d[27]),a=[d[28],c.i64.cast([0,354]),void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],a)):c.sequence([function(a){return c.i64.neq(d[26],void 0)?c.sequence([function(a){return c.i64.neq(d[25],void 0)?c.sequence([function(a){return function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling next ACS token sync locally for project: ",d[9]].join("")),c.storedProcedure(b("LSIssueNextSync"),d[25],d[9],d[26],!1)},function(a){return a=[void 0,void 0,void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["token_poll_frequency is nonnull but max_client_token_pool_size is null. Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[33]=new c.Map(),d[33].set("project_name",d[9]),d[33].set("max_client_token_pool_size",d[10]),d[34]=c.toJSON(d[33]),a=[d[34],c.i64.cast([0,362]),void 0],d[30]=a[0],d[31]=a[1],d[32]=a[2],a))},function(a){return a=[d[30],d[31],d[32]],d[27]=a[0],d[28]=a[1],d[29]=a[2],a}]):c.resolve((function(a){c.logger(a).info(a)}(["Already have the max number of tokens. Scheduling the next ACS token sync for project: ",d[9]].join("")),d[30]=new c.Map(),d[30].set("project_name",d[9]),d[30].set("max_client_token_pool_size",d[10]),d[31]=c.toJSON(d[30]),a=[d[31],c.i64.cast([0,362]),void 0],d[27]=a[0],d[28]=a[1],d[29]=a[2],a))},function(a){return a=[d[27],d[28],d[29]],d[20]=a[0],d[21]=a[1],d[22]=a[2],a}])},function(a){return a=[d[20],d[21],d[22]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}])},function(a){return a=[d[6],d[7],d[8]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}]))})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerAcsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context","secure_acs_configurations","secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSTaskSerializerDeleteChatHistory",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerDeleteChatHistory: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerDeleteChatHistory: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d):(a.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,903]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerDeleteChatHistoryStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerE2eeMessageIntegrityCheckV2",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,705]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerE2eeMessageIntegrityCheckV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerE2eeMetadataThreadIntegrityCheck",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,700]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTaskSerializerE2eeMetadataThreadIntegrityCheckStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupAction",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,c.i64.cast([0,319]),void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[3]="LSEncryptedBackupsLoopingUploadPayloadsTable table not found",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] ","",d[3]].join("")),d[2]=c.createArray(),void 0!==void 0?d[10]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure",d[3],d[2],c.i64.cast([0,3]))},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=['{"request_id":"unknown","upload_type":"FBN","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSGetBlobFromString.nop",["CryptoLogger","LSResult","LSSynchronousPromise","XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){a=new(d("XPlatReactTextEncoder").TextEncoder)();try{b=a.encode(e).buffer;return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(b))}catch(b){a=d("CryptoLogger").CryptoLogger("get_blob_from_string");a.catching(b).mustfix(b.message?b.message:"Error in get blob from string.");throw b}};a.__nop_name__="LSGetBlobFromString";g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store).filter(function(a){var b=a.offlineThreadingId;a=a.threadId;return a===e&&f===b})));if(c.length===0)return(h||(h=b("Promise"))).resolve([void 0,void 0,!1]);a=c[0];return(h||(h=b("Promise"))).resolve([a.messagePayload,a.messageTimestampMs,!1])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();a.__nop_name__="LSQueryLocalPersistenceStoreForBackup";g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreSupplementalForBackup.nop",["Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_supplemental).filter(function(a){var b=a.supplementalKey,c=a.threadId;a=a.toplevelOfflineThreadingId;return c===e&&a===f&&b===g})));return c==null?(h||(h=b("Promise"))).resolve([void 0,void 0]):(h||(h=b("Promise"))).resolve([c.messagePayload,c.messageTimestampMs])});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();a.__nop_name__="LSQueryLocalPersistenceStoreSupplementalForBackup";g["default"]=a}),98);
__d("LSQueryLocalPersistenceStoreTagsForBackup.nop",["LSVec","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=":";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.local_message_persistence_store_tag_index.index("offlineThreadingId")).getKeyRange(g,f)));if(e==null)return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray([])]);a=e.tag;return(h||(h=b("Promise"))).resolve([c("LSVec").ofArray(a.split(i))])});function e(b,c,d,e){return a.apply(this,arguments)}return e}();a.__nop_name__="LSQueryLocalPersistenceStoreTagsForBackup";g["default"]=a}),98);
__d("LSLoadUnencryptedProtobufWithInputs",["LSBase64Encode.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufWithInputs] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],d[12]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.blobs.neq(d[10],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[10]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return d[16]!==void 0?(d[13]!==void 0?(d[21]=new c.Map(),d[21].set("message_tags",d[13]),d[22]=new c.Map(),d[26]="message_tags",d[23]=d[21].get(d[26]),d[23]?d[24]=!1:d[24]=!0,d[24]?0:d[22].set(d[26],d[23]),d[25]=c.toJSON(d[22]),d[19]=d[25]):d[19]=void 0,d[20]=new c.Map(),d[20].set("backup_action",a[0]),d[20].set("protobuf_encrypted",d[16]),d[20].set("supplemental_data_encrypted",void 0),d[20].set("timestamp_ms",a[4]),d[20].set("message_tags",d[19]),b=[d[20],void 0],d[17]=b[0],d[18]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,68])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),b=[void 0,d[19]],d[17]=b[0],d[18]=b[1],b),b=[d[17],d[18]],d[14]=b[0],d[15]=b[1],b}]):c.resolve((d[12]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,70])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[18]=new c.Map(),d[18].set("error_code",c.i64.cast([0,63])),d[18].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[18].set("error_message",""),e=[void 0,d[18]],d[16]=e[0],d[17]=e[1],e),e=[d[16],d[17]],d[14]=e[0],d[15]=e[1],e))},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[14],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(e){return c.blobs.neq(d[19],void 0)?c.sequence([function(a){return d[22]=new c.Map(),d[22].set("sk_ciphertext",d[19]),d[22].set("sk_hash",d[19]),c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[23]=a[0],a})},function(b){return d[23]!==void 0?(d[16]!==void 0?(d[28]=new c.Map(),d[28].set("message_tags",d[16]),d[29]=new c.Map(),d[33]="message_tags",d[30]=d[28].get(d[33]),d[30]?d[31]=!1:d[31]=!0,d[31]?0:d[29].set(d[33],d[30]),d[32]=c.toJSON(d[29]),d[26]=d[32]):d[26]=void 0,d[27]=new c.Map(),d[27].set("backup_action",a[0]),d[27].set("protobuf_encrypted",d[23]),d[27].set("supplemental_data_encrypted",d[22]),d[27].set("timestamp_ms",a[4]),d[27].set("message_tags",d[26]),b=[d[27],void 0],d[24]=b[0],d[25]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_FORMATTING_FAILED"),d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,68])),d[26].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[26].set("error_message",""),b=[void 0,d[26]],d[24]=b[0],d[25]=b[1],b),b=[d[24],d[25]],d[20]=b[0],d[21]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_FORMATTING_FAILED"),d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,69])),d[22].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[22].set("error_message",""),e=[void 0,d[22]],d[20]=e[0],d[21]=e[1],e))},function(a){return a=[d[20],d[21]],d[17]=a[0],d[18]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,64])),d[19].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[19].set("error_message",""),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1],e))},function(a){return a=[d[17],d[18]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,65])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1],e))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}]):c.resolve((c.i64.eq(a[0],c.i64.cast([0,3]))?(d[14]=new c.Map(),d[14].set("backup_action",a[0]),d[14].set("protobuf_encrypted",void 0),d[14].set("supplemental_data_encrypted",void 0),d[14].set("timestamp_ms",a[4]),d[14].set("message_tags",void 0),e=[d[14],void 0],d[12]=e[0],d[13]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure] Returning error INVALID_BACKUP_OPERATION"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([-1,4294967289])),d[14].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1],e),e=[d[12],d[13]],d[10]=e[0],d[11]=e[1],e))},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufWithInputs] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufWithInputs",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufWithInputsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadUnencryptedProtobufBackupSerializedPayloadData",["LSLoadUnencryptedProtobufWithInputs","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){var e;return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[18]=c.i64.mul(d[1],c.i64.cast([0,1e6])),c.sequence([function(b){return c.db.table(2).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(d[30]=c.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[30],c.i64.cast([0,1e6])),d[18]),void 0],d[22]=f[0],d[23]=f[1],d[24]=f[2],d[25]=f[3],d[26]=f[4],d[27]=f[5],d[28]=f[6],f):(e=b.item,d[30]=c.i64.of_float(Date.now()),f=[a[0],e.queueName,e.enqueueTimestampMs,e.priority,e.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[30],c.i64.cast([0,1e6])),d[18]),void 0],d[22]=f[0],d[23]=f[1],d[24]=f[2],d[25]=f[3],d[26]=f[4],d[27]=f[5],d[28]=f[6],f)})},function(a){return a=[d[22],d[23],d[24],d[25],d[26],d[27],d[28]],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],a}])},function(e){return d[9]=new c.Map(),d[9].set("task_id",d[2]),d[9].set("queue_name",d[3]),d[9].set("enqueue_timestamp_ms",d[4]),d[9].set("priority",d[5]),d[9].set("first_executed_timestamp_ms",d[6]),d[9].set("execution_time_ns",d[7]),d[9].set("echo_encoding_execution_time_ns",d[8]),d[10]=new c.Map(),d[10].set("task_metadata",d[9]),d[10].set("action_type",void 0),d[10].set("content_type",void 0),d[10].set("identifiers",void 0),d[10].set("identifiers_v2",void 0),d[10].set("task_creation_source",void 0),d[10].set("message_payload_source",c.i64.cast([0,2])),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,5])),d[22].set("stored_procedure","LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure"),d[22].set("error_message",""),g=[void 0,d[22],d[10]],d[11]=g[0],d[12]=g[1],d[13]=g[2],g):(f=e.item,c.sequence([function(b){var e;return d[39]=f.actThreadId,d[40]=f.toplevelOfflineThreadingId,d[23]=f.messageTimestampMs,d[22]=new c.Map(),d[22].set("backup_id","openEbUploadGenericBackupId"),d[22].set("act_thread_id",d[39]),d[22].set("server_thread_id",d[39]),d[22].set("timestamp",c.i64.to_string(d[23])),d[22].set("otid",d[40]),d[24]=new c.Map(),d[24].set("backup_id","openEbUploadGenericBackupId"),d[24].set("act_thread_id",d[39]),d[24].set("timestamp",c.i64.to_string(d[23])),d[24].set("otid",d[40]),c.sequence([function(b){return c.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var b=e.done;e=e.value;return b?(d[49]=c.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,c.i64.sub(c.i64.mul(d[49],c.i64.cast([0,1e6])),d[18]),void 0],d[41]=b[0],d[42]=b[1],d[43]=b[2],d[44]=b[3],d[45]=b[4],d[46]=b[5],d[47]=b[6],b):(f=e.item,d[49]=c.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,f.priority,f.firstExecutedTimestampMs,c.i64.sub(c.i64.mul(d[49],c.i64.cast([0,1e6])),d[18]),void 0],d[41]=b[0],d[42]=b[1],d[43]=b[2],d[44]=b[3],d[45]=b[4],d[46]=b[5],d[47]=b[6],b)})},function(a){return a=[d[41],d[42],d[43],d[44],d[45],d[46],d[47]],d[25]=a[0],d[26]=a[1],d[27]=a[2],d[28]=a[3],d[29]=a[4],d[30]=a[5],d[31]=a[6],a}])},function(a){return d[32]=new c.Map(),d[32].set("task_id",d[25]),d[32].set("queue_name",d[26]),d[32].set("enqueue_timestamp_ms",d[27]),d[32].set("priority",d[28]),d[32].set("first_executed_timestamp_ms",d[29]),d[32].set("execution_time_ns",d[30]),d[32].set("echo_encoding_execution_time_ns",d[31]),d[33]=new c.Map(),d[33].set("task_metadata",d[32]),d[33].set("action_type",void 0),d[33].set("content_type",void 0),d[33].set("identifiers",void 0),d[33].set("identifiers_v2",d[24]),d[33].set("task_creation_source",void 0),d[33].set("message_payload_source",c.i64.cast([0,2])),c.storedProcedure(b("LSLoadUnencryptedProtobufWithInputs"),f.backupAction,d[39],d[40],f.supplementalKey,d[23],d[22]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[34]!==void 0?(d[41]=new c.Map(),d[41].set("unencrypted_protobuf_backup_payload",d[34]),d[41].set("message_identifiers",d[22]),d[41].set("attachment_backup_payload",f.attachmentPayload),d[41].set("sender_id",f.senderId),d[41].set("extra_data_for_eb_upload",void 0),a=[d[41],void 0,d[33]],d[36]=a[0],d[37]=a[1],d[38]=a[2],a):(a=[void 0,d[35],d[33]],d[36]=a[0],d[37]=a[1],d[38]=a[2],a),a=[d[36],d[37],d[38]],d[11]=a[0],d[12]=a[1],d[13]=a[2],a}]))})},function(a){return d[15]=c.i64.of_float(Date.now()),d[16]=c.i64.random(),d[19]="Finishing execution. Execution time: ",d[20]=c.i64.to_string(c.i64.sub(d[15],d[0])),d[21]=" ms",d[17]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadUnencryptedProtobufBackupSerializedPayloadData] ",d[17],d[19],d[17],d[20],d[17],d[21]].join("")),c.i64.eq(c.i64.mod_(d[16],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[22]=",",d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadUnencryptedProtobufBackupSerializedPayloadData",[d[19],d[22],d[20],d[22],d[21]].join(""),d[23],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[11],d[12],d[13]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadUnencryptedProtobufBackupSerializedPayloadDataStoredProcedure";a.__tables__=["pending_tasks","pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsOpenUpload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSDeserializeFromJsonIntoDictionaryV2.nop","LSLoadUnencryptedProtobufBackupSerializedPayloadData","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSLoadUnencryptedProtobufBackupSerializedPayloadData"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],a})},function(a){return d[2]!==void 0?c.sequence([function(a){return d[15]=d[2].get("message_identifiers"),d[16]=d[2].get("unencrypted_protobuf_backup_payload"),d[17]=d[15].get("server_thread_id"),d[18]=d[15].get("timestamp"),d[19]=d[15].get("otid"),d[20]=d[15].get("act_thread_id"),d[21]=new c.Map(),d[21].set("server_thread_key",d[17]),d[21].set("timestamp",d[18]),d[21].set("otid",d[19]),d[21].set("wa_thread_id",c.i64.from_string(d[20])),d[22]=new c.Map(),d[22].set("message_identifiers",d[21]),d[23]=d[2].get("extra_data_for_eb_upload"),d[23]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[23]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=new c.Map(),d[39]="ttd",d[34]=d[32].get(d[39]),d[34]?d[35]=!1:d[35]=!0,d[35]?c.resolve():c.sequence([function(a){return d[34]?d[42]=!1:d[42]=!0,d[42]?c.resolve(d[43]=void 0):c.sequence([function(a){return d[44]=new c.Map(),d[47]="message_tags",d[45]=d[34].get(d[47]),d[45]?d[46]=!1:d[46]=!0,d[46]?c.resolve():c.sequence([function(a){return d[48]=c.createArray(),d[49]=c.i64.of_int32(d[45].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[50]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[50]).then(function(a){return a=a,d[51]=a[0],d[52]=a[1],a})},function(a){return d[53]=(d[48].push(d[51]),d[48])}])}):c.resolve()},function(a){return d[44].set(d[47],d[48])}])},function(a){return d[43]=d[44]}])},function(a){return d[33].set(d[39],d[43])}])},function(a){return d[40]="mt",d[36]=d[32].get(d[40]),d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[42]=!1:d[42]=!0,d[42]?c.resolve(d[43]=void 0):c.sequence([function(a){return d[44]=new c.Map(),d[47]="message_tags",d[45]=d[36].get(d[47]),d[45]?d[46]=!1:d[46]=!0,d[46]?c.resolve():c.sequence([function(a){return d[48]=c.createArray(),d[49]=c.i64.of_int32(d[45].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[50]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[50]).then(function(a){return a=a,d[51]=a[0],d[52]=a[1],a})},function(a){return d[53]=(d[48].push(d[51]),d[48])}])}):c.resolve()},function(a){return d[44].set(d[47],d[48])}])},function(a){return d[43]=d[44]}])},function(a){return d[33].set(d[40],d[43])}])},function(a){return d[41]="mooos",d[38]=d[32].get(d[41]),d[38]!==void 0?d[33].set(d[41],d[38]):0,d[24]=d[33]}]):c.resolve(d[24]=void 0)},function(a){return d[24]!==void 0?(d[32]=d[24].get("mt"),d[32]!==void 0?(d[34]=new c.Map(),d[38]="message_tags",d[35]=d[32].get(d[38]),d[35]?d[36]=!1:d[36]=!0,d[36]?0:d[34].set(d[38],d[35]),d[37]=c.toJSON(d[34]),d[33]=d[37]):d[33]=void 0,d[25]=d[33]):d[25]=void 0,d[26]=d[16].get("supplemental_data_encrypted"),d[26]!==void 0?c.sequence([function(a){return d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=d[26].get("sk_ciphertext"),c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=d[26].get("sk_hash"),c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[39].set("supplementary_data_key",void 0),d[39].set("encrypted_protobuf",d[32]),d[39].set("key_value_backup_action",d[33]),d[39].set("protobuf_ts_ms",d[34]),d[39].set("supplemental_key_ciphertext",d[36]),d[39].set("supplemental_key_hash",d[38]),d[39].set("message_tags",d[25]),d[27]=d[39]}]):c.resolve((d[32]=d[16].get("protobuf_encrypted"),d[33]=d[16].get("backup_action"),d[34]=d[16].get("timestamp_ms"),d[35]=new c.Map(),d[35].set("supplementary_data_key",void 0),d[35].set("encrypted_protobuf",d[32]),d[35].set("key_value_backup_action",d[33]),d[35].set("protobuf_ts_ms",d[34]),d[35].set("message_tags",d[25]),d[27]=d[35]))},function(a){return d[22].set("key_value_backup_unencrypted_payload",d[27]),d[28]=d[2].get("sender_id"),d[22].set("sender_id",d[28]),d[29]=d[2].get("attachment_backup_payload"),d[29]!==void 0?d[22].set("attachment_backup_payload",d[29]):0,d[24]!==void 0?(d[32]=d[24].get("ttd"),d[32]!==void 0?(d[34]=new c.Map(),d[38]="message_tags",d[35]=d[32].get(d[38]),d[35]?d[36]=!1:d[36]=!0,d[36]?0:d[34].set(d[38],d[35]),d[37]=c.toJSON(d[34]),d[33]=d[37]):d[33]=void 0,d[30]=d[33]):d[30]=void 0,d[30]!==void 0?d[22].set("tags_to_delete",d[30]):0,d[31]=c.toJSON(d[22]),a=[d[31],void 0,d[4]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a}]):c.resolve((d[3]?d[15]=!1:d[15]=!0,d[15]?(a=[void 0,void 0,d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a):(a=[void 0,d[3],d[4]],d[16]=a[0],d[17]=a[1],d[18]=a[2],a),a=[d[16],d[17],d[18]],d[5]=a[0],d[6]=a[1],d[7]=a[2],a))},function(a){return d[15]=new c.Map(),d[16]=d[15].set("success",d[5]),d[17]=d[15].set("failure",d[6]),d[18]=d[15].set("context",d[7]),d[19]=c.toJSON(d[15]),d[8]=d[19],d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsOpenUpload] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsOpenUpload",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[8],c.i64.cast([0,50048])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsOpenUploadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsRestoreWithSerializer",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSCreateDerivedKeys.nop",["CreateDerivedKeys","LSVec"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f,g,h){return d("CreateDerivedKeys").CreateDerivedKeys(e,f,g,c("LSVec").toArray(h))};a.__nop_name__="LSCreateDerivedKeys";g["default"]=a}),98);
__d("LSDeriveValueSecretRefV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][deriveValueSecretRefV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("encryption_version"),d[4]=d[2].get("epoch_anon_id"),d[5]=d[2].get("epoch_root_key"),d[6]=d[2].get("payload_key"),d[7]=c.createArray(),d[41]=(d[7].push(c.i64.cast([0,6])),d[7]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[8]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[8],void 0,d[4],d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!1:d[10]=!0,d[10]?c.resolve(d[11]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[11]=d[43]==null?"":d[43]}])},function(a){return d[12]=c.createArray(),d[41]=(d[12].push(c.i64.cast([0,6])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,d[5],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve(d[16]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[16]=d[43]==null?"":d[43]}])},function(a){return d[17]=c.createArray(),d[41]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[6],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[21]=d[43]==null?"":d[43]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[22]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[22]==null?"":d[22],a[0]].join("")).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[24]=c.createArray(),d[41]=(d[24].push(c.i64.cast([0,6])),d[24]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[25],void 0,d[23],d[24]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[28]=d[43]==null?"":d[43]}])},function(a){return d[29]=":",c.blobs.neq(d[5],void 0)?c.sequence([function(a){return d[41]=c.createArray(),d[47]=(d[41].push(c.i64.cast([0,18])),d[41]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]!==void 0?c.sequence([function(a){return d[47]=c.i64.of_int32(d[42].length),c.i64.ge(d[47],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[48]=d[49]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[50]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[50]].join("")),d[49]=c.createArray(),void 0!==void 0?d[51]=(d[49].push(void 0),d[49]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[50],d[49],c.i64.cast([0,3]))},function(a){return d[48]=void 0}])},function(a){return d[43]=d[48]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[48]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[48]].join("")),d[47]=c.createArray(),void 0!==void 0?d[49]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[48],d[47],c.i64.cast([0,3]))},function(a){return d[43]=void 0}])},function(a){return c.blobs.neq(d[43],void 0)?d[44]=!0:d[44]=!1,d[44]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[43]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]!==void 0?d[46]=d[45]:d[46]="encodingfailed",d[30]=d[46]}]):c.resolve(d[30]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[31]=a[0],a})},function(e){return d[32]=new c.Map(),d[32].set("encryption_version",d[3]),d[32].set("epoch_anon_id",d[31]==null?"":d[31]),d[32].set("message_encryption_values",[d[11],d[29],d[16],d[29],d[21],d[29],d[28]].join("")),d[32].set("root_key_fingerprint",d[30]),d[32].set("backup_id",a[1]),d[33]=c.toJSON(d[32]),d[34]=new c.Map(),d[34].set("value_secret_ref",d[33]),d[35]=c.i64.of_float(Date.now()),d[36]=c.i64.random(),d[38]="Finishing execution. Execution time: ",d[39]=c.i64.to_string(c.i64.sub(d[35],d[0])),d[40]=" ms",d[37]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deriveValueSecretRefV2] ",d[37],d[38],d[37],d[39],d[37],d[40]].join("")),c.i64.eq(c.i64.mod_(d[36],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[41]=",",d[42]=c.createArray(),void 0!==void 0?d[43]=(d[42].push(void 0),d[42]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deriveValueSecretRefV2",[d[38],d[41],d[39],d[41],d[40]].join(""),d[42],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[34],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeriveValueSecretRefV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSBinaryToHex.nop",["LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d,e){a=Array.from(new Uint8Array(e));d=a.map(function(a){return a.toString(16).padStart(2,"0")});e=d.join("").toUpperCase();return(h||(h=b("Promise"))).resolve(c("LSResult")(e))};a.__nop_name__="LSBinaryToHex";g["default"]=a}),98);
__d("LSGetBlobFromInt64BE.nop",["GetBlobFromInt64BE"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("GetBlobFromInt64BE").GetBlobFromInt64BE(c)};a.__nop_name__="LSGetBlobFromInt64BE";g["default"]=a}),98);
__d("LSHmac_v2.nop",["Hmac_v2"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e){return c("Hmac_v2")(d,e)};a.__nop_name__="LSHmac_v2";g["default"]=a}),98);
__d("OcmfClientMap",["CryptoLogger","LSCryptoUtils","Promise","XPlatReactCrypto","gkx","requireDeferred","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ristretto255").__setRef("OcmfClientMap");a=function(a,e){e=c("gkx")("13930")?d("tweetnacl").hash(d("LSCryptoUtils").bufToUint8(e)):d("XPlatReactCrypto").subtleDigest("SHA-512",e);return(h||(h=b("Promise"))).all([e,i.load()]).then(function(b){var c=b[0];b=b[1];c=b.fromHash(new Uint8Array(c));b=b.scalarMult(new Uint8Array(a),c);return b.buffer})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("ocmf_client_map"),a).mustfix("Failed OcmfClientMap.");throw a})};g["default"]=a}),98);
__d("LSOcmfClientMap.nop",["LSResult","OcmfClientMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e){return c("OcmfClientMap")(d,e).then(function(a){return c("LSResult")(a)})};a.__nop_name__="LSOcmfClientMap";g["default"]=a}),98);
__d("UInt8Array",["XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.length;if(!(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)))return;var c=[];for(var d=0,b=b/2|0;d<b;++d){var e=parseInt(a.substring(d<<1,(d<<1)+2|0),16);c.push(e)}return new Uint8Array(c)}function b(a){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(a)).buffer}function c(a){a=a.filter(function(a){return a.byteLength!==0});var b=a.reduce(function(a,b){return a+b.byteLength|0},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength|0},0);return c}g.fromHexString=a;g.getBufferWithRandomValuesFromLength=b;g.concatBytes=c}),98);
__d("OrderPreservingEncryption",["FBLogger","LSCryptoUtils","LSSynchronousPromise","Promise","UInt8Array","WACryptoHkdfSync","XPlatReactCrypto","gkx","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("XPlatReactCrypto").getRandomValues(new Uint8Array(32)).buffer}function j(a){var b=a.length;return b%2!==0?"0"+a:a}function k(a){a=BigInt(a);var b=j(a.toString(16));a=b.length;a=a/2;var c=[];for(var d=0;d<a;++d)c.push(d*2);return new Uint8Array(c.map(function(a){var c=a+2;return b.slice(a,c)}).map(function(a){return parseInt(a,16)}))}function l(a){a=a.map(function(a){return a._0});return{_0:d("UInt8Array").concatBytes(a)}}function m(a){return"OPE key has length "+String(a)+", expected  "+String(32)}function n(a,b,e){var f=new ArrayBuffer(0);if(c("gkx")("13860"))try{var g=d("WACryptoHkdfSync").hkdf(a,d("LSCryptoUtils").bufToUint8(f),d("LSCryptoUtils").bufToUint8(b.buffer),e);return d("LSSynchronousPromise").maybeMakeSynchronousPromise({_0:g})}catch(a){c("FBLogger")("labyrinth_web").mustfix("hkdf failed at OrderPreservingEncryption");throw a}return d("XPlatReactCrypto").subtleImportKey("raw",a.buffer,"HKDF",!1,["deriveKey","deriveBits"]).then(function(a){return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:b.buffer,name:"HKDF",salt:f},a,e*8)}).then(function(a){return{_0:d("LSCryptoUtils").bufToUint8(a)}})}function o(a,b){return{_0:d("LSCryptoUtils").modAddBytes(a._0,b)}}function p(a,e,f,g){var j=f.byteLength;if(j!==32)throw c("FBLogger")("labyrinth_web").mustfixThrow(m(j));var k=g.byteLength,p=function(a,b){var c=new Uint8Array(1+k),d=new Uint8Array(k-b).fill(0);c.set([b]);c.set(a.subarray(0,b),1);c.set(d,b+1);return c};if(k>=255)throw c("FBLogger")("labyrinth_web").mustfixThrow("Input is too large");j=Array.from(g).map(function(b,c){c=p(g,c);var e=new Uint8Array(a);e[a-1]=b;b=d("LSCryptoUtils").bufToUint8(f);return n(b,c,a).then(function(a){return o(a,e)})}).map(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise);j=(i||(i=c("isPromise")))(j[0])?(h||(h=b("Promise"))).all(j):d("LSSynchronousPromise").maybeMakeSynchronousPromise(j);return j.then(function(a){return d("UInt8Array").concatBytes([new Uint8Array([e]),l(a)._0])})}function e(a,b,c,d){d=k(d);return p(a,b,c,d)}g.keyGen=a;g.intStringToBEBytes=k;g.buildKeyLengthErrorMsg=m;g.encryptBigEndianBytes=p;g.encryptIntString=e}),98);
__d("OpeEncrypt",["CryptoLogger","I64","LSResult","OrderPreservingEncryption"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("CryptoLogger").CryptoLogger("ope_encrypt");return d("OrderPreservingEncryption").encryptBigEndianBytes((h||(h=d("I64"))).to_int32(e),1,a,new Uint8Array(b)).then(function(a){return c("LSResult")(a.buffer)},function(a){d("CryptoLogger").captureError(f,a).mustfix("OpeEncrypt_impl failed");throw a})}g.OpeEncrypt=a}),98);
__d("LSOpeEncrypt.nop",["OpeEncrypt"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("OpeEncrypt").OpeEncrypt(c,e,f)};a.__nop_name__="LSOpeEncrypt";g["default"]=a}),98);
__d("TruncateSortKey",["CryptoLogger","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("truncate_sort_key");function a(a){if(a.byteLength!==8)throw i.mustfixThrow("Bad length on sort key for truncation");var d=new Uint8Array(a);d=d.subarray(0,2);if(d.some(function(a){return a!==0}))throw i.mustfixThrow("Bad prefix on sort key for truncation");return(h||(h=b("Promise"))).resolve(c("LSResult")(a.slice(2)))}g.TruncateSortKey=a}),98);
__d("LSTruncateSortKey.nop",["TruncateSortKey"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("TruncateSortKey").TruncateSortKey(c)};a.__nop_name__="LSTruncateSortKey";g["default"]=a}),98);
__d("LSEncryptIdentifiersV2",["LSBase64Encode.nop","LSBinaryToHex.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptIdentifiersV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[2],d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))&&c.i64.eq(a[1],c.i64.cast([0,2]))?d[7]=a[5]:d[7]=a[3],d[8]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(e){return d[13]=a[6].get("ope_key"),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[4]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[14]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[13],d[15],c.i64.cast([0,16])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[16]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=a[6].get("ocmf_shared_key"),c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[18],d[20]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=new c.Map(),d[23].set("backup_id_ocmf_partial",d[6]==null?"":d[6]),d[23].set("act_thread_id_ocmf_partial",d[12]==null?"":d[12]),d[23].set("timestamp_encrypted",d[17]==null?"":d[17]),d[23].set("otid_ocmf_partial",d[22]==null?"":d[22]),d[24]=c.i64.of_float(Date.now()),d[25]=c.i64.random(),d[27]="Finishing execution. Execution time: ",d[28]=c.i64.to_string(c.i64.sub(d[24],d[0])),d[29]=" ms",d[26]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptIdentifiersV2] ",d[26],d[27],d[26],d[28],d[26],d[29]].join("")),c.i64.eq(c.i64.mod_(d[25],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[30]=",",d[31]=c.createArray(),void 0!==void 0?d[32]=(d[31].push(void 0),d[31]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptIdentifiersV2",[d[27],d[30],d[28],d[30],d[29]].join(""),d[31],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[23],void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptIdentifiersV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("SymmetricEncryptionPaddingUtils",["XPlatReactTextEncoder"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a<10)return 10-a;var b=Math.floor(Math.log2(a)),c=Math.floor(Math.log2(b))+1;b=b-c;c=(1<<b)-1;b=a+c&(c^-1);return b-a}function i(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=a.byteLength,d=h(c);d=b+c+d;d=new DataView(new ArrayBuffer(d));d.setUint32(0,c);c=new Uint8Array(d.buffer);c.set(new Uint8Array(a),b);return c.buffer}function a(a){var b=new(d("XPlatReactTextEncoder").TextEncoder)();b=b.encode(a).buffer;return i(b)}function b(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=new DataView(a);if(c.byteLength<b)return;var d=a.byteLength;c=c.getUint32(0);d=d-b;if(c>=0&&c<=d)return a.slice(b,b+c)}g.getPaddingLength=h;g.padData=i;g.pad=a;g.stripPadding=b}),98);
__d("SymmetricEncryptionCreateDecryptedData",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_decrypted_data");a=function(a,c,e){if(e.byteLength<d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes+d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLengthInBytes){i.mustfix("cipher text is invalid");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())}e=new Uint8Array(e);var f=e.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes),g=new(d("HChaCha20").HChaCha20)(),j=e.slice(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes).buffer;e=g.hChaCha20Bytes(f.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,a);return d("XPlatReactCrypto").subtleImportKey("raw",e,"AES-GCM",!1,["decrypt"]).then(function(a){return d("XPlatReactCrypto").subtleDecrypt({additionalData:c,iv:new Uint8Array(f.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,j)}).then(function(a){a=d("SymmetricEncryptionPaddingUtils").stripPadding(a);a==null&&i.mustfix("Failed to strip padding for symmetric decryption");return d("RetUtil").getNullableRetResult(a)})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric data decryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateDecryptedData.nop",["EBEncryptMessageTypes","SymmetricEncryptionCreateDecryptedData"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f,g){return c("SymmetricEncryptionCreateDecryptedData")(d("EBEncryptMessageTypes").unsafeCastToSecretKey(e),d("EBEncryptMessageTypes").unsafeCastToAAD(f),d("EBEncryptMessageTypes").unsafeCastToCiphertext(g))};a.__nop_name__="LSSymmetricEncryptionCreateDecryptedData";g["default"]=a}),98);
__d("SymmetricEncryptionCreateEncryptedData",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_data"),g=d("SymmetricEncryptionPaddingUtils").padData(e),i=d("XPlatReactCrypto").getRandomValues(new Uint8Array(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes));e=new(d("HChaCha20").HChaCha20)();e=e.hChaCha20Bytes(i.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,a);return d("XPlatReactCrypto").subtleImportKey("raw",e,"AES-GCM",!1,["encrypt"]).then(function(a){return d("XPlatReactCrypto").subtleEncrypt({additionalData:c,iv:new Uint8Array(i.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,g)}).then(function(a){var c=i.byteLength+a.byteLength;c=new Uint8Array(c);c.set(i);c.set(new Uint8Array(a),d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes);return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(c.buffer))})["catch"](function(a){d("CryptoLogger").captureError(f,a).mustfix("symmetric data encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedData.nop",["EBEncryptMessageTypes","LSSymmetricEncryptionCreateDecryptedData.nop","MWEBODSEntityName.enum","MWFBLogger","ODS","Promise","QPLUserFlow","Random","SymmetricEncryptionCreateEncryptedData","WAArrayBufferUtils","WAErrorMessage","WAGetSafeQPLError","WAResultOrError","asyncToGeneratorRuntime","cr:20303","getErrorSafe","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - Decrypted content is not equal"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - Either JS Decrypted or Rust Decrypted is null"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - ciphertextFromJS is null"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["MISMATCH - ciphertextFromWasm failed with error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["'EB symmetric encryption comparison failed with error: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["EB symmetric encryption in JS failed with error: ",""]);o=function(){return a};return a}var p=c("qpl")._(521471468,"2968"),q=d("MWFBLogger").MWLogger.tags(["LSEncryption"]);function r(a,b,e){var f=d("Random").uint32();c("QPLUserFlow").start(p,{annotations:{string:{implementation:"js",native_op_name:"LSSymmetricEncryptionCreateEncryptedData"}},instanceKey:f});return c("SymmetricEncryptionCreateEncryptedData")(a,b,e).then(function(a){c("QPLUserFlow").endSuccess(p,{instanceKey:f});return d("WAResultOrError").makeResult(a[0])})["catch"](function(a){var b=c("getErrorSafe")(a);c("QPLUserFlow").endFailure(p,"runtime-exception",{annotations:{string:{error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:f});return d("WAResultOrError").makeError({error:b,type:"runtime-exception"})})}function s(a,e,f){if(b("cr:20303")==null)return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeError("skipped"));var g=d("Random").uint32();c("QPLUserFlow").start(p,{annotations:{string:{implementation:"rust",native_op_name:"LSSymmetricEncryptionCreateEncryptedData"}},instanceKey:g});return b("cr:20303").encryptMessage(d("EBEncryptMessageTypes").unsafeCastToSecretKey(a),d("EBEncryptMessageTypes").unsafeCastToAAD(e),d("EBEncryptMessageTypes").unsafeCastToPlaintext(f)).then(function(a){a.success===!1?c("QPLUserFlow").endFailure(p,a.error,{instanceKey:g}):c("QPLUserFlow").endSuccess(p,{instanceKey:g});return a})["catch"](function(a){c("QPLUserFlow").endFailure(p,"runtime-exception",{annotations:{string:{error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:g});return d("WAResultOrError").makeError("runtime-exception")})}a=function(a,b,d,e,f){return r(d,e,f).then(function(g){if(g.success===!1){q.MUSTFIX(o(),String(g.error));return[void 0]}c("promiseDone")(t(d,e,f,g,a,b));return[g.value]})};function t(a,b,c,d,e,f){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){c=(yield s(a,b,c));try{yield v(f,g,a,b,e,c)}catch(a){q.MUSTFIX(n(),d("WAErrorMessage").maybeGetMessageFromError(a))}});return u.apply(this,arguments)}function v(a,b,c,d,e,f){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i){if(i.success===!1&&i.error==="skipped")return;if(i.success===!1){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(m(),i.error);return}g=g.value;i=i.value;if(g==null){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(l());return}g=(yield c("LSSymmetricEncryptionCreateDecryptedData.nop")(a,b,e,f,g));a=(yield c("LSSymmetricEncryptionCreateDecryptedData.nop")(a,b,e,f,i));b=g[0];e=a[0];if(b==null||e==null){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(k());return}if(d("WAArrayBufferUtils").arrayBuffersEqualUNSAFE(b,e)===!1){(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"mismatch");q.MUSTFIX(j());return}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST,"match")});return w.apply(this,arguments)}a.__nop_name__="LSSymmetricEncryptionCreateEncryptedData";g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["Base64Utils","CryptoLogger","LSCryptoUtils","LSSymmetricEncryptionCreateEncryptedData.nop","Promise","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f,g,i){var j=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_string");return c("LSSymmetricEncryptionCreateEncryptedData.nop")(a,e,f,g,d("LSCryptoUtils").strToBuf(i)).then(function(a){return a[0]}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a?d("Base64Utils").fromArrayBuffer(a):void 0))})["catch"](function(a){d("CryptoLogger").captureError(j,a).mustfix("symmetric string encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};a.__nop_name__="LSSymmetricEncryptionCreateEncryptedString";g["default"]=a}),98);
__d("LSEncryptMessagePayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][encryptMessagePayloadV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=a[2].get("message_payload_encryption_keys"),d[3]=d[2].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[3],c.blobs.of_string(["message_thread","_",a[1]].join("")),a[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[4]!==void 0?c.sequence([function(a){return d[13]=d[2].get("encryption_version"),d[14]=d[2].get("epoch_anon_id"),d[15]=d[2].get("epoch_root_key"),d[16]=d[2].get("payload_key"),d[17]=c.createArray(),d[45]=(d[17].push(c.i64.cast([0,6])),d[17]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_anon_id_debug").then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[18],void 0,d[14],d[17]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!1:d[20]=!0,d[20]?c.resolve(d[21]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[21]=d[47]==null?"":d[47]}])},function(a){return d[22]=c.createArray(),d[45]=(d[22].push(c.i64.cast([0,6])),d[22]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_debug").then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[23],void 0,d[15],d[22]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!1:d[25]=!0,d[25]?c.resolve(d[26]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[26]=d[47]==null?"":d[47]}])},function(a){return d[27]=c.createArray(),d[45]=(d[27].push(c.i64.cast([0,6])),d[27]),c.nativeOperation(b("LSGetBlobFromString.nop"),"message_key_debug").then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[28],void 0,d[16],d[27]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[30]=!1:d[30]=!0,d[30]?c.resolve(d[31]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[31]=d[47]==null?"":d[47]}])},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[15]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),[d[32]==null?"":d[32],a[1]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[45]=(d[34].push(c.i64.cast([0,6])),d[34]),c.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key_thread_id_debug").then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[35],void 0,d[33],d[34]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve(d[38]=""):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[36],c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[38]=d[47]==null?"":d[47]}])},function(a){return d[39]=":",c.blobs.neq(d[15],void 0)?c.sequence([function(a){return d[45]=c.createArray(),d[51]=(d[45].push(c.i64.cast([0,18])),d[45]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[15],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]!==void 0?c.sequence([function(a){return d[51]=c.i64.of_int32(d[46].length),c.i64.ge(d[51],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[54]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[54]].join("")),d[53]=c.createArray(),void 0!==void 0?d[55]=(d[53].push(void 0),d[53]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[54],d[53],c.i64.cast([0,3]))},function(a){return d[52]=void 0}])},function(a){return d[47]=d[52]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[52]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[52]].join("")),d[51]=c.createArray(),void 0!==void 0?d[53]=(d[51].push(void 0),d[51]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[52],d[51],c.i64.cast([0,3]))},function(a){return d[47]=void 0}])},function(a){return c.blobs.neq(d[47],void 0)?d[48]=!0:d[48]=!1,d[48]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSBase64Encode.nop"),d[47]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]!==void 0?d[50]=d[49]:d[50]="encodingfailed",d[40]=d[50]}]):c.resolve(d[40]="null")},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[14]).then(function(a){return a=a,d[41]=a[0],a})},function(b){return d[42]=new c.Map(),d[42].set("encryption_version",d[13]),d[42].set("epoch_anon_id",d[41]==null?"":d[41]),d[42].set("message_encryption_values",[d[21],d[39],d[26],d[39],d[31],d[39],d[38]].join("")),d[42].set("root_key_fingerprint",d[40]),d[42].set("backup_id",a[0]),d[43]=c.toJSON(d[42]),d[44]=new c.Map(),d[44].set("encrypted_message_payload",d[4]),d[44].set("value_secret_ref",d[43]),b=[d[44],void 0],d[5]=b[0],d[6]=b[1],b}]):c.resolve((d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,40])),d[13].set("stored_procedure","LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[5]=e[0],d[6]=e[1],e))},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][encryptMessagePayloadV2] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"encryptMessagePayloadV2",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsEncryptMessagePayloadV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSGetLatestEpochKeys",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][getLatestEpochKeys] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]="",d[3]=void 0,d[4]=void 0,d[5]=void 0,a[0]?c.resolve(0):(d[15]=void 0,c.i64.neq(d[15],void 0)?c.sequence([function(a){return c.count(c.db.table(169).fetch([[[d[15]]]])).then(function(a){return d[16]=a})},function(a){return c.i64.le(d[16],c.i64.cast([0,1]))?c.sequence([function(a){return c.db.table(169).fetch([[[d[15]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[26]=new c.Map(),d[26].set("error_msg","Expected a nonempty query result"),d[26].set("code",c.i64.cast([0,3])),d[26].set("src_line","MEBEpochClientUtils.php:313 MEBEpochClientUtils::requireEpochReturnShapeFromPersistentEpochsTableDirectly()"),d[27]=c.createArray(),d[28]=(d[27].push(d[26]),d[27]),e=[void 0,d[27]],d[22]=e[0],d[23]=e[1],e):(b=a.item,d[26]=new c.Map(),d[26].set("epoch_id",b.epochId),d[26].set("backup_id",b.backupId),d[26].set("epoch_anon_id_blob",b.epochAnonIdBlob),d[26].set("epoch_root_key_blob",b.epochRootKeyBlob),d[26].set("epoch_status",b.epochStatus),d[26].set("epoch_head",b.epochHead),d[26].set("authority_level",b.authorityLevel),e=[d[26],void 0],d[22]=e[0],d[23]=e[1],e)})},function(a){return d[25]=new c.Map(),d[25].set("value",d[22]),d[25].set("errors",d[23]),d[17]=d[25]}]):c.resolve((d[22]=new c.Map(),d[22].set("error_msg","Expected at most one result"),d[22].set("code",c.i64.cast([0,4])),d[22].set("src_line","MEBEpochClientUtils.php:313 MEBEpochClientUtils::requireEpochReturnShapeFromPersistentEpochsTableDirectly()"),d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),d[24]=new c.Map(),d[24].set("value",void 0),d[24].set("errors",d[23]),d[17]=d[24]))},function(a){return d[18]=d[17].get("value"),d[18]!==void 0?(d[22]=d[18].get("epoch_id"),d[23]=d[18].get("backup_id"),d[24]=d[18].get("epoch_anon_id_blob"),d[25]=d[18].get("epoch_root_key_blob"),d[26]=d[18].get("epoch_status"),d[27]=d[18].get("epoch_head"),d[28]=d[18].get("authority_level"),d[29]=d[17],d[19]=d[29]):(d[22]=d[17].get("errors"),d[23]=d[17].get("errors"),d[24]=new c.Map(),d[24].set("value",void 0),d[24].set("errors",d[22]),d[19]=d[24]),d[20]=d[19].get("value"),d[20]!==void 0?(d[22]=d[20].get("epoch_id"),d[23]=d[20].get("backup_id"),d[24]=d[20].get("epoch_anon_id_blob"),d[25]=d[20].get("epoch_root_key_blob"),d[26]=d[20].get("epoch_status"),d[27]=d[20].get("epoch_head"),d[28]=d[20].get("authority_level"),d[2]=c.blobs.to_string(d[24]),d[3]=d[22],d[4]=d[25],c.blobs.neq(d[27],void 0)?d[5]=d[27]:0,d[21]=!0):(d[22]=d[19].get("errors"),d[23]=d[19].get("errors"),d[21]=!1)}]):c.resolve())},function(b){return c.i64.neq(d[3],void 0)?c.resolve(0):c.sequence([function(b){return d[15]=void 0,d[16]="",d[17]=void 0,d[18]=void 0,c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[20]=c.blobs.to_string(a.epochAnonIdBlob),c.i64.eq([0,d[20].length],[0,d[16].length])?d[19]=d[20]>d[16]:d[19]=c.i64.gt([0,d[20].length],[0,d[16].length]),d[19]?(d[15]=a.epochId,d[16]=d[20],d[17]=a.epochRootKeyBlob,d[18]=a.epochHead):0})},function(a){return c.i64.neq(d[15],void 0)?(d[2]=d[16],d[3]=d[15],d[4]=d[17],c.blobs.neq(d[18],void 0)?d[5]=d[18]:0,d[19]=c.i64.of_float(Date.now()),0):0}])},function(a){return d[11]=c.blobs.of_string(d[2]),c.i64.neq(d[3],void 0)?(c.blobs.neq(d[11],void 0)?(c.blobs.neq(d[4],void 0)?(d[19]=new c.Map(),d[19].set("epoch_id",d[3]),d[19].set("epoch_root_key",d[4]),d[19].set("epoch_anon_id",d[11]),d[19].set("epoch_head",d[5]),d[20]=new c.Map(),d[20].set("epoch_keys",d[19]),a=[d[20],void 0],d[17]=a[0],d[18]=a[1],a):(d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,402])),d[19].set("error_message","failed to query latest epoch"),d[19].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[19]],d[17]=a[0],d[18]=a[1],a),a=[d[17],d[18]],d[15]=a[0],d[16]=a[1],a):(d[17]=new c.Map(),d[17].set("error_code",c.i64.cast([0,403])),d[17].set("error_message","failed to query latest epoch"),d[17].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[17]],d[15]=a[0],d[16]=a[1],a),a=[d[15],d[16]],d[6]=a[0],d[7]=a[1],a):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,400])),d[15].set("error_message","failed to query latest epoch"),d[15].set("stored_procedure","LSEncryptedBackupsGetLatestEpochKeysStoredProcedure"),a=[void 0,d[15]],d[6]=a[0],d[7]=a[1],a),d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[14]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][getLatestEpochKeys] ",d[10],d[12],d[10],d[13],d[10],d[14]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"getLatestEpochKeys",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[6],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGetLatestEpochKeysStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSLoadAndEncryptProtobufWithInputsV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSLogMebClientEvent.nop","LSQueryLocalPersistenceStoreForBackup.nop","LSQueryLocalPersistenceStoreSupplementalForBackup.nop","LSQueryLocalPersistenceStoreTagsForBackup.nop","LSSymmetricEncryptionCreateEncryptedData.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.i64.eq(a[0],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],d[12]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[13]=a[0],a})},function(e){return d[14]=new c.Map(),d[14].set("message_tags",d[13]),d[15]=new c.Map(),d[15].set("mt",d[14]),c.blobs.neq(d[10],void 0)?c.sequence([function(e){return d[18]=a[5].get("message_payload_encryption_keys"),d[19]=d[18].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[19],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[10]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.blobs.neq(d[20],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[20]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[21]=d[24]}]):c.resolve(d[21]=void 0)},function(b){return d[21]!==void 0?(d[15]!==void 0?(d[27]=d[15].get("mt"),d[27]!==void 0?(d[29]=new c.Map(),d[33]="message_tags",d[30]=d[27].get(d[33]),d[30]?d[31]=!1:d[31]=!0,d[31]?0:d[29].set(d[33],d[30]),d[32]=c.toJSON(d[29]),d[28]=d[32]):d[28]=void 0,d[24]=d[28]):d[24]=void 0,d[15]!==void 0?(d[27]=d[15].get("mooos"),d[25]=d[27]):d[25]=void 0,d[26]=new c.Map(),d[26].set("backup_action",a[0]),d[26].set("protobuf_encrypted",d[21]),d[26].set("supplemental_data_encrypted",void 0),d[26].set("timestamp_ms",a[4]),d[26].set("message_tags",d[24]),d[26].set("serialized_attachment_backup_payload",void 0),d[26].set("maybe_ooo_supplemental_upload",d[25]),b=[d[26],void 0],d[22]=b[0],d[23]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,62])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),b=[void 0,d[24]],d[22]=b[0],d[23]=b[1],b),b=[d[22],d[23]],d[16]=b[0],d[17]=b[1],b}]):c.resolve((d[12]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,70])),d[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,63])),d[20].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[18]=e[0],d[19]=e[1],e),e=[d[18],d[19]],d[16]=e[0],d[17]=e[1],e))},function(a){return a=[d[16],d[17]],d[2]=a[0],d[3]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,2]))?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreSupplementalForBackup.nop"),a[1],a[2],a[3]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[17]=new c.Map(),d[17].set("message_tags",d[16]),d[18]=new c.Map(),d[18].set("mt",d[17]),c.blobs.neq(d[14],void 0)?c.sequence([function(e){return a[3]!==void 0?c.sequence([function(e){return d[23]=a[5].get("mailbox_root_key_v2"),c.blobs.neq(d[23],void 0)?c.sequence([function(e){return d[26]=a[5].get("message_payload_encryption_keys"),d[27]=d[26].get("epoch_root_key"),d[28]=c.createArray(),d[41]=(d[28].push(c.i64.cast([0,32])),d[28]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfcHJmX2tleQ=="),void 0,d[23],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]!==void 0?c.sequence([function(a){return d[41]=c.i64.of_int32(d[29].length),c.i64.ge(d[41],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[44]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[44]].join("")),d[43]=c.createArray(),void 0!==void 0?d[45]=(d[43].push(void 0),d[43]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[44],d[43],c.i64.cast([0,3]))},function(a){return d[42]=void 0}])},function(a){return d[30]=d[42]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[42]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[42]].join("")),d[41]=c.createArray(),void 0!==void 0?d[43]=(d[41].push(void 0),d[41]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[42],d[41],c.i64.cast([0,3]))},function(a){return d[30]=void 0}])},function(a){return c.blobs.neq(d[30],void 0)?d[31]=!0:d[31]=!1,d[31]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d[32]=c.createArray(),d[41]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5zdXBwbGVtZW50YWxfZW5jX2tleQ=="),void 0,d[27],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]!==void 0?c.sequence([function(a){return d[41]=c.i64.of_int32(d[33].length),c.i64.ge(d[41],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[44]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[44]].join("")),d[43]=c.createArray(),void 0!==void 0?d[45]=(d[43].push(void 0),d[43]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[44],d[43],c.i64.cast([0,3]))},function(a){return d[42]=void 0}])},function(a){return d[34]=d[42]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[42]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[42]].join("")),d[41]=c.createArray(),void 0!==void 0?d[43]=(d[41].push(void 0),d[41]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[42],d[41],c.i64.cast([0,3]))},function(a){return d[34]=void 0}])},function(e){return c.blobs.neq(d[34],void 0)?d[35]=!0:d[35]=!1,d[35]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),d[30],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[34],c.blob("c3VwcGxlbWVudGFsX2VuY19hYWQ="),d[36]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.blobs.neq(d[38],void 0)?c.sequence([function(e){return d[41]=new c.Map(),d[41].set("sk_ciphertext",d[38]),d[41].set("sk_hash",d[37]),d[42]=a[5].get("message_payload_encryption_keys"),d[43]=d[42].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[43],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[14]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.blobs.neq(d[44],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[44]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[45]=d[48]}]):c.resolve(d[45]=void 0)},function(b){return d[45]!==void 0?(d[18]!==void 0?(d[51]=d[18].get("mt"),d[51]!==void 0?(d[53]=new c.Map(),d[57]="message_tags",d[54]=d[51].get(d[57]),d[54]?d[55]=!1:d[55]=!0,d[55]?0:d[53].set(d[57],d[54]),d[56]=c.toJSON(d[53]),d[52]=d[56]):d[52]=void 0,d[48]=d[52]):d[48]=void 0,d[18]!==void 0?(d[51]=d[18].get("mooos"),d[49]=d[51]):d[49]=void 0,d[50]=new c.Map(),d[50].set("backup_action",a[0]),d[50].set("protobuf_encrypted",d[45]),d[50].set("supplemental_data_encrypted",d[41]),d[50].set("timestamp_ms",a[4]),d[50].set("message_tags",d[48]),d[50].set("serialized_attachment_backup_payload",void 0),d[50].set("maybe_ooo_supplemental_upload",d[49]),b=[d[50],void 0],d[46]=b[0],d[47]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[48]=new c.Map(),d[48].set("error_code",c.i64.cast([0,62])),d[48].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[48].set("error_message",""),b=[void 0,d[48]],d[46]=b[0],d[47]=b[1],b),b=[d[46],d[47]],d[39]=b[0],d[40]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_ENCRYPTION_FAILED"),d[41]=new c.Map(),d[41].set("error_code",c.i64.cast([0,66])),d[41].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[41].set("error_message",""),e=[void 0,d[41]],d[39]=e[0],d[40]=e[1],e))},function(a){return a=[d[39],d[40]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error NULL_MAILBOX_ROOT_KEY_V2"),d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,27])),d[26].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[26].set("error_message",""),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1],e))},function(a){return a=[d[24],d[25]],d[21]=a[0],d[22]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[23]=new c.Map(),d[23].set("error_code",c.i64.cast([0,65])),d[23].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[23].set("error_message",""),e=[void 0,d[23]],d[21]=e[0],d[22]=e[1],e))},function(a){return a=[d[21],d[22]],d[19]=a[0],d[20]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_SUPPLEMENTAL_TABLE"),d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,64])),d[21].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[21].set("error_message",""),e=[void 0,d[21]],d[19]=e[0],d[20]=e[1],e))},function(a){return a=[d[19],d[20]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error SUPPLEMENTAL_KEY_NOT_SET_IN_CONTEXT_TABLE"),d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,65])),d[14].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[14].set("error_message",""),e=[void 0,d[14]],d[12]=e[0],d[13]=e[1],e))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([0,4]))?c.sequence([function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],d[16]=a[2],a})},function(e){return c.nativeOperation(b("LSQueryLocalPersistenceStoreTagsForBackup.nop"),a[1],a[2]).then(function(a){return a=a,d[17]=a[0],a})},function(e){return d[18]=new c.Map(),d[18].set("message_tags",d[17]),d[19]=new c.Map(),d[19].set("mt",d[18]),c.blobs.neq(d[14],void 0)?c.sequence([function(e){return d[22]=a[5].get("message_payload_encryption_keys"),d[23]=d[22].get("payload_key"),c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedData.nop"),d[23],c.blobs.of_string(["message_thread","_",a[1]].join("")),d[14]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.blobs.neq(d[24],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[24]).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[25]=d[28]}]):c.resolve(d[25]=void 0)},function(b){return d[25]!==void 0?(d[19]!==void 0?(d[31]=d[19].get("mt"),d[31]!==void 0?(d[33]=new c.Map(),d[37]="message_tags",d[34]=d[31].get(d[37]),d[34]?d[35]=!1:d[35]=!0,d[35]?0:d[33].set(d[37],d[34]),d[36]=c.toJSON(d[33]),d[32]=d[36]):d[32]=void 0,d[28]=d[32]):d[28]=void 0,d[19]!==void 0?(d[31]=d[19].get("mooos"),d[29]=d[31]):d[29]=void 0,d[30]=new c.Map(),d[30].set("backup_action",a[0]),d[30].set("protobuf_encrypted",d[25]),d[30].set("supplemental_data_encrypted",void 0),d[30].set("timestamp_ms",a[4]),d[30].set("message_tags",d[28]),d[30].set("serialized_attachment_backup_payload",void 0),d[30].set("maybe_ooo_supplemental_upload",d[29]),b=[d[30],void 0],d[26]=b[0],d[27]=b[1],b):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ENCRYPTION_FAILED"),d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,62])),d[28].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[28].set("error_message",""),b=[void 0,d[28]],d[26]=b[0],d[27]=b[1],b),b=[d[26],d[27]],d[20]=b[0],d[21]=b[1],b}]):c.resolve((d[16]?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_ALREADY_DELETED"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,70])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error PROTOBUF_NOT_FOUND_IN_TOPLEVEL_TABLE"),d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,63])),d[24].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[24].set("error_message",""),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1],e),e=[d[22],d[23]],d[20]=e[0],d[21]=e[1],e))},function(a){return a=[d[20],d[21]],d[12]=a[0],d[13]=a[1],a}]):c.resolve((c.i64.eq(a[0],c.i64.cast([0,3]))?(void 0!==void 0?(d[19]=(void 0).get("mt"),d[19]!==void 0?(d[21]=new c.Map(),d[25]="message_tags",d[22]=d[19].get(d[25]),d[22]?d[23]=!1:d[23]=!0,d[23]?0:d[21].set(d[25],d[22]),d[24]=c.toJSON(d[21]),d[20]=d[24]):d[20]=void 0,d[16]=d[20]):d[16]=void 0,void 0!==void 0?(d[19]=(void 0).get("mooos"),d[17]=d[19]):d[17]=void 0,d[18]=new c.Map(),d[18].set("backup_action",a[0]),d[18].set("protobuf_encrypted",void 0),d[18].set("supplemental_data_encrypted",void 0),d[18].set("timestamp_ms",a[4]),d[18].set("message_tags",d[16]),d[18].set("serialized_attachment_backup_payload",void 0),d[18].set("maybe_ooo_supplemental_upload",d[17]),e=[d[18],void 0],d[14]=e[0],d[15]=e[1],e):(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure] Returning error UNKNOWN_PROTOBUF_TYPE"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,60])),d[16].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure"),d[16].set("error_message",""),e=[void 0,d[16]],d[14]=e[0],d[15]=e[1],e),e=[d[14],d[15]],d[12]=e[0],d[13]=e[1],e))},function(a){return a=[d[12],d[13]],d[10]=a[0],d[11]=a[1],a}])},function(a){return a=[d[10],d[11]],d[2]=a[0],d[3]=a[1],a}])},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufWithInputsV2] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufWithInputsV2",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufWithInputsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLoadAndEncryptProtobufV2",["LSLoadAndEncryptProtobufWithInputsV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadAndEncryptProtobufV2] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(305).fetch(),function(b){return c.i64.eq(b.pendingBackupTaskId,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure] Returning error PROTOBUF_CONTEXT_ROW_NOT_FOUND"),d[11]=new c.Map(),d[11].set("error_code",c.i64.cast([0,67])),d[11].set("stored_procedure","LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure"),d[11].set("error_message",""),g=[void 0,d[11]],d[2]=g[0],d[3]=g[1],g):(f=e.item,c.sequence([function(e){return c.storedProcedure(b("LSLoadAndEncryptProtobufWithInputsV2"),f.backupAction,a[2],f.toplevelOfflineThreadingId,f.supplementalKey,f.messageTimestampMs,a[1]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return a=[d[11],d[12]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadAndEncryptProtobufV2] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadAndEncryptProtobufV2",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadAndEncryptProtobufV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSLogWebQpl.nop",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LogWebQplNOP").__setRef("LSLogWebQpl.nop");a=function(a,b,c,d,e,f,g,i){return h.load().then(function(a){return a.call(c,d,e,f,g,i)})};a.__nop_name__="LSLogWebQpl";g["default"]=a}),98);
__d("LSSerializeBackupPayloadV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSDeriveValueSecretRefV2","LSEncryptIdentifiersV2","LSEncryptMessagePayloadV2","LSGetBlobFromString.nop","LSGetLatestEpochKeys","LSIsEncryptionVersionSecure","LSLoadAndEncryptProtobufV2","LSLogMebClientEvent.nop","LSLogWebQpl.nop","LSQplAnnotateBool.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(b){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][serializeBackupPayloadV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),e[19]=d.i64.mul(e[1],d.i64.cast([0,1e6])),e[2]=d.i64.random(),e[6]=d.i64.to_string(e[2]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[3]=void 0:(b=a.item,e[3]=b.dataTraceId)})},function(a){return e[3]!==void 0?e[5]=e[3]:e[5]=void 0,e[6]!==void 0?d.nativeOperation(b("LSQplStartTrace.nop"),d.i64.cast([0,637746317]),e[6],!0,e[5]):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkPoint.nop"),d.i64.cast([0,637746317]),e[6],"LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure_start"):d.resolve()},function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(e[23]=new d.Map(),e[23].set("error_msg","Expected a nonempty query result"),e[23].set("code",d.i64.cast([0,3])),e[23].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),e[24]=d.createArray(),e[25]=(e[24].push(e[23]),e[24]),c=[void 0,e[24]],e[7]=c[0],e[8]=c[1],c):(b=a.item,e[23]=new d.Map(),e[23].set("backup_id",b.backupId),e[23].set("device_public_key_blob",b.devicePublicKeyBlob),e[23].set("device_private_key_blob",b.devicePrivateKeyBlob),e[23].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),e[23].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),e[23].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),e[23].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),e[23].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),e[23].set("ocmf_client_state_blob",b.ocmfClientStateBlob),e[23].set("orf_client_state_v2_blob",void 0),e[23].set("orf_v2_authority_level",void 0),e[23].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),e[23].set("device_id",b.deviceId),e[23].set("backup_tenancy",b.backupTenancy),e[23].set("encryption_version",b.encryptionVersion),e[23].set("revision_version",b.revisionVersion),e[23].set("initialize_restore_result",void 0),e[23].set("device_creation_timestamp_sec",void 0),e[23].set("authority_level",b.authorityLevel),c=[e[23],void 0],e[7]=c[0],e[8]=c[1],c)})},function(f){return e[10]=new d.Map(),e[10].set("value",e[7]),e[10].set("errors",e[8]),e[11]=e[10].get("value"),e[11]!==void 0?d.sequence([function(f){return e[23]=e[11].get("backup_id"),e[24]=e[11].get("device_public_key_blob"),e[25]=e[11].get("device_private_key_blob"),e[26]=e[11].get("epoch_storage_public_key_blob"),e[27]=e[11].get("epoch_storage_private_key_blob"),e[28]=e[11].get("epoch_auth_public_key_blob"),e[29]=e[11].get("epoch_auth_private_key_blob"),e[30]=e[11].get("mailbox_root_key_blob"),e[31]=e[11].get("ocmf_client_state_blob"),e[32]=e[11].get("orf_client_state_v2_blob"),e[33]=e[11].get("orf_v2_authority_level"),e[34]=e[11].get("oblivious_validation_token_blob"),e[35]=e[11].get("device_id"),e[36]=e[11].get("backup_tenancy"),e[37]=e[11].get("encryption_version"),e[38]=e[11].get("revision_version"),e[39]=e[11].get("initialize_restore_result"),e[40]=e[11].get("device_creation_timestamp_sec"),e[41]=e[11].get("authority_level"),d.i64.neq(e[35],void 0)?d.sequence([function(a){return e[46]=void 0,d.i64.neq(e[46],void 0)?d.resolve(e[47]=e[46]):d.sequence([function(a){return e[55]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[56]=a[0],a})},function(a){return e[56]?e[65]=(e[55].push(d.i64.cast([0,0])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[57]=a[0],a})},function(a){return e[57]?e[65]=(e[55].push(d.i64.cast([0,2])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[58]=a[0],a})},function(a){return e[58]?e[65]=(e[55].push(d.i64.cast([0,3])),e[55]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[59]=a[0],a})},function(a){return e[59]?e[65]=(e[55].push(d.i64.cast([0,4])),e[55]):0,e[60]=d.createArray(),e[61]=d.i64.of_int32(e[55].length),d.i64.gt(e[61],d.i64.cast([0,0]))?d.loopAsync(e[61],function(a){return e[65]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[55],e[65]).then(function(a){return a=a,e[66]=a[0],e[67]=a[1],a})},function(a){return e[68]=(e[60].push(e[66]),e[60])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[65]=d.createArray(),e[66]=d.i64.of_int32(e[60].length),d.i64.gt(e[66],d.i64.cast([0,0]))?d.loopAsync(e[66],function(a){return e[68]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[60],e[68]).then(function(a){return a=a,e[69]=a[0],e[70]=a[1],a})},function(a){return e[71]=(e[65].push(d.i64.to_string(e[69])),e[65])}])}):d.resolve()},function(a){return e[67]=e[65].join(","),e[62]=e[67]}])},function(a){return e[60].some(function(a){return d.i64.eq(e[37],a)})?e[63]=e[37]:e[63]=void 0,d.i64.neq(e[63],void 0)?e[64]=e[63]:e[64]=void 0,e[47]=e[64]}])},function(f){return d.i64.neq(e[47],void 0)?e[48]=e[47]:e[48]=d.i64.cast([0,0]),d.i64.neq(e[36],void 0)?e[49]=e[36]:e[49]=d.i64.cast([0,1]),d.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[67]=d.i64.of_float(Date.now()),b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[19]),void 0],e[55]=b[0],e[56]=b[1],e[57]=b[2],e[58]=b[3],e[59]=b[4],e[60]=b[5],e[61]=b[6],b):(f=c.item,e[67]=d.i64.of_float(Date.now()),b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[67],d.i64.cast([0,1e6])),e[19]),void 0],e[55]=b[0],e[56]=b[1],e[57]=b[2],e[58]=b[3],e[59]=b[4],e[60]=b[5],e[61]=b[6],b)})},function(a){return e[63]=new d.Map(),e[63].set("task_id",e[55]),e[63].set("queue_name",e[56]),e[63].set("enqueue_timestamp_ms",e[57]),e[63].set("priority",e[58]),e[63].set("first_executed_timestamp_ms",e[59]),e[63].set("execution_time_ns",e[60]),e[63].set("echo_encoding_execution_time_ns",e[61]),e[64]=new d.Map(),e[64].set("task_metadata",e[63]),e[64].set("action_type",void 0),e[64].set("content_type",void 0),e[64].set("identifiers",void 0),e[64].set("identifiers_v2",void 0),e[64].set("task_creation_source",void 0),e[64].set("message_payload_source",d.i64.cast([0,2])),e[65]=new d.Map(),e[65].set("error_code",d.i64.cast([0,5])),e[65].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[65].set("error_message","Pending backup context row not found"),e[65]!==void 0?(e[67]=e[65].get("stored_procedure"),e[68]=e[65].get("error_code"),e[69]=e[65].get("error_message"),e[70]=".",e[71]=[e[67],e[70],d.i64.to_string(e[68]),e[70],e[69]].join(""),e[6]!==void 0?e[71]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[71]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[67]=(void 0).get("stored_procedure"),e[68]=(void 0).get("error_code"),e[69]=(void 0).get("error_message"),e[70]=".",e[71]=[e[67],e[70],d.i64.to_string(e[68]),e[70],e[69]].join(""),e[6]!==void 0?e[71]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[71]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[66]=d.createArray(),a=[void 0,e[65],e[64],e[66]],e[50]=a[0],e[51]=a[1],e[52]=a[2],e[53]=a[3],a}]):(g=f.item,d.sequence([function(f){return e[60]=g.actionType,e[61]=g.contentType,e[65]=g.echoContent,e[66]=g.lsTraceId,e[64]=g.echoEncodingLatencyNs,e[63]=g.attachmentPayload,e[67]=g.tamThreadSubtype,e[68]=g.isInstamadillo,e[55]=new d.Map(),e[55].set("backup_id",d.i64.to_string(e[23])),e[55].set("act_thread_id",g.listKey),e[55].set("timestamp",g.sortKey),e[55].set("otid",g.uniqueKey),e[69]=d.i64.eq(void 0,e[40]),e[62]=g.error==null?d.i64.cast([0,0]):g.error,[d.i64.cast([0,0]),d.i64.cast([0,32])].some(function(a){return d.i64.eq(e[62],a)})?d.sequence([function(a){return e[70]=e[55].get("act_thread_id"),e[71]=e[55].get("otid"),d.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,e[72]=a[0],e[73]=a[1],a})},function(a){return e[72]!==void 0?d.sequence([function(a){return d.i64.eq(e[61],d.i64.cast([0,1]))?d.sequence([function(a){return e[83]=d.createArray(),e[88]=(e[83].push(d.i64.cast([0,32])),e[83]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[70]].join("")).then(function(a){return a=a,e[84]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[84],void 0,e[30],e[83]).then(function(a){return a=a,e[85]=a[0],a})},function(a){return e[85]?e[86]=!1:e[86]=!0,e[86]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[89]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[89]].join("")),e[88]=d.createArray(),void 0!==void 0?e[90]=(e[88].push(void 0),e[88]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[89],e[88],d.i64.cast([0,3]))},function(a){return e[87]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[85],d.i64.cast([0,0])).then(function(a){return a=a,e[88]=a[0],e[89]=a[1],a})},function(a){return e[87]=e[88]}])},function(a){return e[80]=e[87]}]):d.sequence([function(a){return d.i64.eq(e[60],d.i64.cast([0,2]))?d.sequence([function(a){return e[84]=d.createArray(),e[89]=(e[84].push(d.i64.cast([0,32])),e[84]),d.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",e[71]].join("")).then(function(a){return a=a,e[85]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[85],void 0,e[30],e[84]).then(function(a){return a=a,e[86]=a[0],a})},function(a){return e[86]?e[87]=!1:e[87]=!0,e[87]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),e[90]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[90]].join("")),e[89]=d.createArray(),void 0!==void 0?e[91]=(e[89].push(void 0),e[89]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[90],e[89],d.i64.cast([0,3]))},function(a){return e[88]=void 0}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[86],d.i64.cast([0,0])).then(function(a){return a=a,e[89]=a[0],e[90]=a[1],a})},function(a){return e[88]=e[89]}])},function(a){return e[83]=e[88]}]):d.resolve(e[83]=void 0)},function(a){return e[80]=e[83]}])},function(a){return d.blobs.neq(e[80],void 0)?d.sequence([function(a){return e[83]=e[72].get("epoch_keys"),e[84]=e[83].get("epoch_anon_id"),e[85]=e[83].get("epoch_root_key"),e[86]=d.createArray(),e[101]=(e[86].push(d.i64.cast([0,32])),e[86]),d.i64.ge(e[48],d.i64.cast([0,3]))?d.resolve(e[87]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),e[70]).then(function(a){return a=a,e[101]=a[0],a})},function(a){return e[87]=e[101]}])},function(a){return d.i64.ge(e[48],d.i64.cast([0,4]))?(e[101]="_",e[88]=["message_key_in_epoch",e[101],d.blobs.to_string(e[84]),e[101],"cipher_version",e[101],d.i64.to_string(e[48]),e[101],"thread",e[101],e[70]==null?"":e[70]].join("")):(d.i64.ge(e[48],d.i64.cast([0,3]))?(e[102]="_",e[101]=["message_key_in_epoch",e[102],d.blobs.to_string(e[84]),e[102],"cipher_version",e[102],d.i64.to_string(e[48]),e[102],"thread",e[102],e[70]==null?"":e[70]].join("")):(d.i64.ge(e[48],d.i64.cast([0,2]))?(e[103]="_",e[102]=["message_key_in_epoch",e[103],d.blobs.to_string(e[84]),e[103],"cipher_version",e[103],d.i64.to_string(e[48])].join("")):e[102]=["message_key_in_epoch","_",d.blobs.to_string(e[84])].join(""),e[101]=e[102]),e[88]=e[101]),d.nativeOperation(b("LSGetBlobFromString.nop"),e[88]).then(function(a){return a=a,e[89]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[89],e[87],e[85],e[86]).then(function(a){return a=a,e[90]=a[0],a})},function(a){return e[90]?e[91]=!1:e[91]=!0,e[91]?d.resolve(e[92]=void 0):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[90],d.i64.cast([0,0])).then(function(a){return a=a,e[101]=a[0],e[102]=a[1],a})},function(a){return e[92]=e[101]}])},function(a){return d.filter(d.db.table(169).fetch(),function(a){return d.blobs.eq(a.epochAnonIdBlob,d.blob("MA=="))}).next().then(function(b,c){var a=b.done;b=b.value;return a?(e[101]=new d.Map(),e[101].set("error_msg","Expected a nonempty query result"),e[101].set("code",d.i64.cast([0,3])),e[101].set("src_line","MEBEpochClientUtils.php:556 MEBEpochClientUtils::maybeEpochWithAnonIDFromPersistentEpochsTableDirectly()"),e[102]=d.createArray(),e[103]=(e[102].push(e[101]),e[102]),a=[void 0,e[102]],e[93]=a[0],e[94]=a[1],a):(c=b.item,e[101]=new d.Map(),e[101].set("epoch_id",c.epochId),e[101].set("backup_id",c.backupId),e[101].set("epoch_anon_id_blob",c.epochAnonIdBlob),e[101].set("epoch_root_key_blob",c.epochRootKeyBlob),e[101].set("epoch_status",c.epochStatus),e[101].set("epoch_head",c.epochHead),e[101].set("authority_level",c.authorityLevel),a=[e[101],void 0],e[93]=a[0],e[94]=a[1],a)})},function(a){return e[96]=new d.Map(),e[96].set("value",e[93]),e[96].set("errors",e[94]),e[97]=e[96].get("value"),e[97]!==void 0?d.sequence([function(a){return e[101]=e[97].get("epoch_id"),e[102]=e[97].get("backup_id"),e[103]=e[97].get("epoch_anon_id_blob"),e[104]=e[97].get("epoch_root_key_blob"),e[105]=e[97].get("epoch_status"),e[106]=e[97].get("epoch_head"),e[107]=e[97].get("authority_level"),e[108]=d.createArray(),e[116]=(e[108].push(d.i64.cast([0,32])),e[108]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5zYWx0X21haWxib3hfcm9vdF9rZXlfdjI="),void 0,e[30],e[108]).then(function(a){return a=a,e[109]=a[0],a})},function(a){return e[109]!==void 0?d.sequence([function(a){return e[116]=d.i64.of_int32(e[109].length),d.i64.ge(e[116],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[109],d.i64.cast([0,0])).then(function(a){return a=a,e[118]=a[0],e[119]=a[1],a})},function(a){return e[117]=e[118]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[119]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[119],e[118],d.i64.cast([0,3]))},function(a){return e[117]=void 0}])},function(a){return e[110]=e[117]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[117]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[117],e[116],d.i64.cast([0,3]))},function(a){return e[110]=void 0}])},function(a){return d.blobs.neq(e[110],void 0)?e[111]=!0:e[111]=!1,e[111]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[112]=d.createArray(),e[116]=(e[112].push(d.i64.cast([0,32])),e[112]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleT5tYWlsYm94X3Jvb3Rfa2V5X3Yy"),e[110],e[104],e[112]).then(function(a){return a=a,e[113]=a[0],a})},function(a){return e[113]!==void 0?d.sequence([function(a){return e[116]=d.i64.of_int32(e[113].length),d.i64.ge(e[116],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[113],d.i64.cast([0,0])).then(function(a){return a=a,e[118]=a[0],e[119]=a[1],a})},function(a){return e[117]=e[118]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[119]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[119],e[118],d.i64.cast([0,3]))},function(a){return e[117]=void 0}])},function(a){return e[114]=e[117]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[117]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[117],e[116],d.i64.cast([0,3]))},function(a){return e[114]=void 0}])},function(a){return d.blobs.neq(e[114],void 0)?e[115]=!0:e[115]=!1,e[115]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[98]=e[114]}]):d.sequence([function(a){return e[101]=e[96].get("errors"),e[102]=e[96].get("errors"),function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochClientUtils] Failed to get mailbox_root_key_v2: epoch 0 is not available."),e[104]="Failed to get mailbox_root_key_v2: epoch 0 is not available.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochClientUtils] ","",e[104]].join("")),e[103]=d.createArray(),void 0!==void 0?e[105]=(e[103].push(void 0),e[103]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochClientUtils",e[104],e[103],d.i64.cast([0,3]))},function(a){return e[98]=void 0}])},function(a){return d.blobs.neq(e[92],void 0)?d.sequence([function(a){return d.blobs.neq(e[98],void 0)?d.sequence([function(a){return e[107]=d.createArray(),e[111]=(e[107].push(d.i64.cast([0,32])),e[107]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("a2RmX2luZm86bWFpbGJveF9yb290X2tleV92Mj5mYWxsYmFja19rZXk="),void 0,e[98],e[107]).then(function(a){return a=a,e[108]=a[0],a})},function(a){return e[108]!==void 0?d.sequence([function(a){return e[111]=d.i64.of_int32(e[108].length),d.i64.ge(e[111],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[108],d.i64.cast([0,0])).then(function(a){return a=a,e[113]=a[0],e[114]=a[1],a})},function(a){return e[112]=e[113]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[114]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[114]].join("")),e[113]=d.createArray(),void 0!==void 0?e[115]=(e[113].push(void 0),e[113]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[114],e[113],d.i64.cast([0,3]))},function(a){return e[112]=void 0}])},function(a){return e[109]=e[112]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[112]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",e[112]].join("")),e[111]=d.createArray(),void 0!==void 0?e[113]=(e[111].push(void 0),e[111]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",e[112],e[111],d.i64.cast([0,3]))},function(a){return e[109]=void 0}])},function(a){return d.blobs.neq(e[109],void 0)?e[110]=!0:e[110]=!1,e[110]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),e[101]=e[109]}]):d.resolve(e[101]=void 0)},function(a){return e[102]=e[83].get("epoch_root_key"),e[103]=e[83].get("epoch_anon_id"),e[104]=e[83].get("epoch_id"),e[105]=new d.Map(),e[105].set("payload_key",e[92]),e[105].set("payload_fallback_key",e[101]),e[105].set("encryption_version",e[48]),e[105].set("epoch_root_key",e[102]),e[105].set("epoch_anon_id",e[103]),e[105].set("epoch_id",e[104]),e[106]=new d.Map(),e[106].set("ope_key",e[80]),e[106].set("message_payload_encryption_keys",e[105]),e[106].set("ocmf_shared_key",e[31]),e[106].set("mailbox_base_salt",e[30]),e[106].set("mailbox_root_key_v2",e[98]),a=[e[106],void 0],e[99]=a[0],e[100]=a[1],a}]):d.resolve((e[101]=new d.Map(),e[101].set("error_code",d.i64.cast([0,26])),e[101].set("stored_procedure","MEBKeyDeriver"),e[101].set("error_message",""),a=[void 0,e[101]],e[99]=a[0],e[100]=a[1],a))},function(a){return a=[e[99],e[100]],e[81]=a[0],e[82]=a[1],a}]):d.resolve((e[83]=new d.Map(),e[83].set("error_code",d.i64.cast([0,25])),e[83].set("stored_procedure","MEBKeyDeriver"),e[83].set("error_message",""),a=[void 0,e[83]],e[81]=a[0],e[82]=a[1],a))},function(a){return a=[e[81],e[82]],e[74]=a[0],e[75]=a[1],a}]):d.resolve((a=[void 0,e[73]],e[74]=a[0],e[75]=a[1],a))},function(f){return e[74]!==void 0?d.sequence([function(a){return e[80]=e[55].get("backup_id"),e[81]=e[55].get("act_thread_id"),e[82]=e[55].get("timestamp"),e[83]=e[55].get("otid"),d.storedProcedure(b("LSEncryptIdentifiersV2"),e[60],e[61],e[80],e[81],d.i64.from_string(e[82]),e[83],e[74]).then(function(a){return a=a,e[84]=a[0],e[85]=a[1],a})},function(f){return e[84]!==void 0?d.sequence([function(c){return e[90]=e[55].get("act_thread_id"),d.storedProcedure(b("LSLoadAndEncryptProtobufV2"),a[0],e[74],e[90]).then(function(a){return a=a,e[91]=a[0],e[92]=a[1],a})},function(f){return e[97]=d.i64.eq(e[62],d.i64.cast([0,32]))||!1||c("gkx")("12541")||!1,e[98]=e[91]!==void 0,e[97]&&e[98]?d.sequence([function(a){return e[99]=e[55].get("act_thread_id"),e[100]=e[55].get("backup_id"),d.storedProcedure(b("LSDeriveValueSecretRefV2"),e[99],e[100],e[74]).then(function(a){return a=a,e[101]=a[0],e[102]=a[1],a})},function(c){return e[91]!==void 0?d.sequence([function(c){return e[101]!==void 0?d.sequence([function(a){return e[111]=e[101].get("value_secret_ref"),e[112]=e[84].get("act_thread_id_ocmf_partial"),e[113]=e[84].get("otid_ocmf_partial"),e[114]=e[84].get("timestamp_encrypted"),e[115]=new d.Map(),e[115].set("list_key",e[112]),e[115].set("unique_key",e[113]),e[115].set("sort_key",e[114]),void 0!==void 0?(e[148]=(void 0).get("encrypted_message_payload"),e[149]=(void 0).get("value_secret_ref"),e[150]=new d.Map(),e[150].set("value",e[148]),e[150].set("value_secret_ref",e[149]),e[116]=e[150]):e[116]=void 0,e[117]=new d.Map(),e[117].set("list_item_id",e[115]),e[117].set("list_item",e[116]),e[117].set("action_type",e[60]),e[118]=e[55].get("timestamp"),e[119]=e[55].get("otid"),e[120]=e[55].get("act_thread_id"),e[121]=e[55].get("supplemental_otid"),e[122]=new d.Map(),e[122].set("timestamp",e[118]),e[122].set("otid",e[119]),e[122].set("wa_thread_id",d.i64.from_string(e[120])),e[122].set("supplemental_otid",e[121]),e[123]=e[74].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[123]).then(function(a){return a=a,e[124]=a[0],a})},function(a){return e[125]=e[74].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[125]).then(function(a){return a=a,e[126]=a[0],a})},function(a){return e[127]=new d.Map(),e[127].set("mailbox_root_key",e[124]==null?"":e[124]),e[127].set("ocmf_client_state_blob",e[126]==null?"":e[126]),e[128]=e[84].get("backup_id_ocmf_partial"),e[129]=e[74].get("message_payload_encryption_keys"),e[130]=e[129].get("epoch_id"),e[131]=e[74].get("message_payload_encryption_keys"),e[132]=e[131].get("encryption_version"),e[147]=e[66]==null?"":e[66],e[133]=new d.Map(),e[133].set("mailbox_partial_id",e[128]),e[133].set("action",e[117]),e[133].set("device_id",e[35]),e[133].set("echo_version",d.i64.cast([0,0])),e[133].set("epoch_id",e[130]),e[133].set("trace_id",void 0),e[133].set("encryption_version",e[132]),e[133].set("is_thread",d.i64.eq(e[61],d.i64.cast([0,2]))),e[133].set("raw_identifiers",e[122]),e[133].set("raw_tokens",e[127]),e[133].set("request_id",e[147]),e[133].set("tam_thread_subtype",e[67]==null?d.i64.cast([0,0]):e[67]),e[133].set("is_instamadillo",e[68]==null?!1:e[68]),e[133].set("should_run_device_creation_timestamp_sync",e[69]),e[133].set("empty_echo_payload_reason",d.i64.cast([0,1])),e[133].set("value_secret_ref",e[111]),e[91]!==void 0?d.sequence([function(a){return e[148]=e[91].get("supplemental_data_encrypted"),e[148]!==void 0?d.sequence([function(a){return e[150]=e[91].get("protobuf_encrypted"),e[151]=e[91].get("backup_action"),e[152]=e[91].get("timestamp_ms"),e[153]=e[148].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[153]).then(function(a){return a=a,e[154]=a[0],a})},function(a){return e[155]=e[148].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[155]).then(function(a){return a=a,e[156]=a[0],a})},function(a){return e[157]=e[91].get("message_tags"),e[158]=e[91].get("maybe_ooo_supplemental_upload"),e[159]=new d.Map(),e[159].set("supplementary_data_key",void 0),e[159].set("encrypted_protobuf",e[150]),e[159].set("key_value_backup_action",e[151]),e[159].set("protobuf_ts_ms",e[152]),e[159].set("supplemental_key_ciphertext",e[154]),e[159].set("supplemental_key_hash",e[156]),e[159].set("message_tags",e[157]),e[159].set("maybe_ooo_supplemental_upload",e[158]),e[149]=e[159]}]):d.resolve((e[150]=e[91].get("protobuf_encrypted"),e[151]=e[91].get("backup_action"),e[152]=e[91].get("timestamp_ms"),e[153]=e[91].get("message_tags"),e[154]=new d.Map(),e[154].set("supplementary_data_key",void 0),e[154].set("encrypted_protobuf",e[150]),e[154].set("key_value_backup_action",e[151]),e[154].set("protobuf_ts_ms",e[152]),e[154].set("message_tags",e[153]),e[149]=e[154]))},function(a){return e[133].set("key_value_backup_payload",e[149])}]):d.resolve()},function(a){return e[63]!==void 0?d.resolve(e[133].set("attachment_backup_payload",e[63])):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[148]="payload_null",e[6]!==void 0?e[148]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"attachment_info",e[148]):d.resolve():d.resolve())},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplAnnotateBool.nop"),d.i64.cast([0,637746317]),e[6],"process_attachments_via_message_upload",!0):d.resolve()},function(a){return e[147]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[147],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(b){return e[134]=d.toJSON(e[133]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[148]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[149]=void 0:e[149]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[148],d.i64.cast([0,1e6])),e[19]),e[149]],e[135]=b[0],e[136]=b[1],e[137]=b[2],e[138]=b[3],e[139]=b[4],e[140]=b[5],e[141]=b[6],b):(f=c.item,e[148]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[149]=void 0:e[149]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[148],d.i64.cast([0,1e6])),e[19]),e[149]],e[135]=b[0],e[136]=b[1],e[137]=b[2],e[138]=b[3],e[139]=b[4],e[140]=b[5],e[141]=b[6],b)})},function(a){return e[143]=new d.Map(),e[143].set("task_id",e[135]),e[143].set("queue_name",e[136]),e[143].set("enqueue_timestamp_ms",e[137]),e[143].set("priority",e[138]),e[143].set("first_executed_timestamp_ms",e[139]),e[143].set("execution_time_ns",e[140]),e[143].set("echo_encoding_execution_time_ns",e[141]),e[144]=new d.Map(),e[144].set("task_metadata",e[143]),e[144].set("action_type",e[60]),e[144].set("content_type",e[61]),e[144].set("identifiers",void 0),e[144].set("identifiers_v2",e[55]),e[144].set("task_creation_source",void 0),e[144].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[148]=(void 0).get("stored_procedure"),e[149]=(void 0).get("error_code"),e[150]=(void 0).get("error_message"),e[151]=".",e[152]=[e[148],e[151],d.i64.to_string(e[149]),e[151],e[150]].join(""),e[6]!==void 0?e[152]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[152]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[148]=(void 0).get("stored_procedure"),e[149]=(void 0).get("error_code"),e[150]=(void 0).get("error_message"),e[151]=".",e[152]=[e[148],e[151],d.i64.to_string(e[149]),e[151],e[150]].join(""),e[6]!==void 0?e[152]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[152]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!0):d.resolve()},function(a){return e[145]=new d.Map(),e[145].set("payload",e[134]),e[146]=d.createArray(),e[148]=(e[146].push(void 0),e[146]),a=[e[145],void 0,e[144],e[146]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[123]=void 0:e[123]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[19]),e[123]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6],b):(f=c.item,e[122]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[123]=void 0:e[123]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[122],d.i64.cast([0,1e6])),e[19]),e[123]],e[111]=b[0],e[112]=b[1],e[113]=b[2],e[114]=b[3],e[115]=b[4],e[116]=b[5],e[117]=b[6],b)})},function(a){return e[119]=new d.Map(),e[119].set("task_id",e[111]),e[119].set("queue_name",e[112]),e[119].set("enqueue_timestamp_ms",e[113]),e[119].set("priority",e[114]),e[119].set("first_executed_timestamp_ms",e[115]),e[119].set("execution_time_ns",e[116]),e[119].set("echo_encoding_execution_time_ns",e[117]),e[120]=new d.Map(),e[120].set("task_metadata",e[119]),e[120].set("action_type",e[60]),e[120].set("content_type",e[61]),e[120].set("identifiers",void 0),e[120].set("identifiers_v2",e[55]),e[120].set("task_creation_source",void 0),e[120].set("message_payload_source",d.i64.cast([0,2])),e[102]!==void 0?(e[122]=e[102].get("stored_procedure"),e[123]=e[102].get("error_code"),e[124]=e[102].get("error_message"),e[125]=".",e[126]=[e[122],e[125],d.i64.to_string(e[123]),e[125],e[124]].join(""),e[6]!==void 0?e[126]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[126]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[122]=(void 0).get("stored_procedure"),e[123]=(void 0).get("error_code"),e[124]=(void 0).get("error_message"),e[125]=".",e[126]=[e[122],e[125],d.i64.to_string(e[123]),e[125],e[124]].join(""),e[6]!==void 0?e[126]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[126]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[121]=d.createArray(),e[122]=(e[121].push(void 0),e[121]),a=[void 0,e[102],e[120],e[121]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],a}])},function(a){return a=[e[107],e[108],e[109],e[110]],e[103]=a[0],e[104]=a[1],e[105]=a[2],e[106]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[118]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[119]=void 0:e[119]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[118],d.i64.cast([0,1e6])),e[19]),e[119]],e[107]=b[0],e[108]=b[1],e[109]=b[2],e[110]=b[3],e[111]=b[4],e[112]=b[5],e[113]=b[6],b):(f=c.item,e[118]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[119]=void 0:e[119]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[118],d.i64.cast([0,1e6])),e[19]),e[119]],e[107]=b[0],e[108]=b[1],e[109]=b[2],e[110]=b[3],e[111]=b[4],e[112]=b[5],e[113]=b[6],b)})},function(a){return e[115]=new d.Map(),e[115].set("task_id",e[107]),e[115].set("queue_name",e[108]),e[115].set("enqueue_timestamp_ms",e[109]),e[115].set("priority",e[110]),e[115].set("first_executed_timestamp_ms",e[111]),e[115].set("execution_time_ns",e[112]),e[115].set("echo_encoding_execution_time_ns",e[113]),e[116]=new d.Map(),e[116].set("task_metadata",e[115]),e[116].set("action_type",e[60]),e[116].set("content_type",e[61]),e[116].set("identifiers",void 0),e[116].set("identifiers_v2",e[55]),e[116].set("task_creation_source",void 0),e[116].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[118]=(void 0).get("stored_procedure"),e[119]=(void 0).get("error_code"),e[120]=(void 0).get("error_message"),e[121]=".",e[122]=[e[118],e[121],d.i64.to_string(e[119]),e[121],e[120]].join(""),e[6]!==void 0?e[122]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[122]):d.resolve():d.resolve()):d.resolve()},function(a){return e[92]!==void 0?(e[118]=e[92].get("stored_procedure"),e[119]=e[92].get("error_code"),e[120]=e[92].get("error_message"),e[121]=".",e[122]=[e[118],e[121],d.i64.to_string(e[119]),e[121],e[120]].join(""),e[6]!==void 0?e[122]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[122]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[117]=d.createArray(),e[118]=(e[117].push(e[92]),e[117]),a=[void 0,void 0,e[116],e[117]],e[103]=a[0],e[104]=a[1],e[105]=a[2],e[106]=a[3],a}])},function(a){return a=[e[103],e[104],e[105],e[106]],e[93]=a[0],e[94]=a[1],e[95]=a[2],e[96]=a[3],a}]):d.sequence([function(c){return e[97]===!0&&e[98]===!1?d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[114]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[115]=void 0:e[115]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[114],d.i64.cast([0,1e6])),e[19]),e[115]],e[103]=b[0],e[104]=b[1],e[105]=b[2],e[106]=b[3],e[107]=b[4],e[108]=b[5],e[109]=b[6],b):(f=c.item,e[114]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[115]=void 0:e[115]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[114],d.i64.cast([0,1e6])),e[19]),e[115]],e[103]=b[0],e[104]=b[1],e[105]=b[2],e[106]=b[3],e[107]=b[4],e[108]=b[5],e[109]=b[6],b)})},function(a){return e[111]=new d.Map(),e[111].set("task_id",e[103]),e[111].set("queue_name",e[104]),e[111].set("enqueue_timestamp_ms",e[105]),e[111].set("priority",e[106]),e[111].set("first_executed_timestamp_ms",e[107]),e[111].set("execution_time_ns",e[108]),e[111].set("echo_encoding_execution_time_ns",e[109]),e[112]=new d.Map(),e[112].set("task_metadata",e[111]),e[112].set("action_type",e[60]),e[112].set("content_type",e[61]),e[112].set("identifiers",void 0),e[112].set("identifiers_v2",e[55]),e[112].set("task_creation_source",void 0),e[112].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[114]=(void 0).get("stored_procedure"),e[115]=(void 0).get("error_code"),e[116]=(void 0).get("error_message"),e[117]=".",e[118]=[e[114],e[117],d.i64.to_string(e[115]),e[117],e[116]].join(""),e[6]!==void 0?e[118]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[118]):d.resolve():d.resolve()):d.resolve()},function(a){return e[92]!==void 0?(e[114]=e[92].get("stored_procedure"),e[115]=e[92].get("error_code"),e[116]=e[92].get("error_message"),e[117]=".",e[118]=[e[114],e[117],d.i64.to_string(e[115]),e[117],e[116]].join(""),e[6]!==void 0?e[118]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[118]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[113]=d.createArray(),e[114]=(e[113].push(e[92]),e[113]),a=[void 0,void 0,e[112],e[113]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],a}]):d.sequence([function(c){return d.i64.eq(e[60],d.i64.cast([0,1]))?(e[111]=e[65]===""?void 0:e[65],e[111]!==void 0?(c=[e[111],void 0],e[109]=c[0],e[110]=c[1],c):(e[112]=new d.Map(),e[112].set("error_code",d.i64.cast([0,30])),e[112].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[112].set("error_message",""),c=[void 0,e[112]],e[109]=c[0],e[110]=c[1],c),c=[e[109],e[110]],e[103]=c[0],e[104]=c[1],c):(c=["",void 0],e[103]=c[0],e[104]=c[1],c),e[103]!==void 0?d.sequence([function(a){return d.i64.eq(e[60],d.i64.cast([0,1]))?d.sequence([function(a){return e[115]=e[55].get("backup_id"),e[116]=e[55].get("act_thread_id"),d.storedProcedure(b("LSEncryptMessagePayloadV2"),e[115],e[116],e[74],e[103]).then(function(a){return a=a,e[117]=a[0],e[118]=a[1],a})},function(a){return a=[e[117],e[118]],e[109]=a[0],e[110]=a[1],a}]):d.resolve((e[115]=new d.Map(),e[115].set("encrypted_message_payload",""),e[115].set("value_secret_ref",""),a=[e[115],void 0],e[109]=a[0],e[110]=a[1],a))},function(c){return e[109]!==void 0?d.sequence([function(a){return e[115]=e[84].get("act_thread_id_ocmf_partial"),e[116]=e[84].get("otid_ocmf_partial"),e[117]=e[84].get("timestamp_encrypted"),e[118]=new d.Map(),e[118].set("list_key",e[115]),e[118].set("unique_key",e[116]),e[118].set("sort_key",e[117]),e[109]!==void 0?(e[151]=e[109].get("encrypted_message_payload"),e[152]=e[109].get("value_secret_ref"),e[153]=new d.Map(),e[153].set("value",e[151]),e[153].set("value_secret_ref",e[152]),e[119]=e[153]):e[119]=void 0,e[120]=new d.Map(),e[120].set("list_item_id",e[118]),e[120].set("list_item",e[119]),e[120].set("action_type",e[60]),e[121]=e[55].get("timestamp"),e[122]=e[55].get("otid"),e[123]=e[55].get("act_thread_id"),e[124]=e[55].get("supplemental_otid"),e[125]=new d.Map(),e[125].set("timestamp",e[121]),e[125].set("otid",e[122]),e[125].set("wa_thread_id",d.i64.from_string(e[123])),e[125].set("supplemental_otid",e[124]),e[126]=e[74].get("mailbox_base_salt"),d.nativeOperation(b("LSBase64Encode.nop"),e[126]).then(function(a){return a=a,e[127]=a[0],a})},function(a){return e[128]=e[74].get("ocmf_shared_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[128]).then(function(a){return a=a,e[129]=a[0],a})},function(a){return e[130]=new d.Map(),e[130].set("mailbox_root_key",e[127]==null?"":e[127]),e[130].set("ocmf_client_state_blob",e[129]==null?"":e[129]),e[131]=e[84].get("backup_id_ocmf_partial"),e[132]=e[74].get("message_payload_encryption_keys"),e[133]=e[132].get("epoch_id"),e[134]=e[74].get("message_payload_encryption_keys"),e[135]=e[134].get("encryption_version"),e[150]=e[66]==null?"":e[66],e[136]=new d.Map(),e[136].set("mailbox_partial_id",e[131]),e[136].set("action",e[120]),e[136].set("device_id",e[35]),e[136].set("echo_version",d.i64.cast([0,0])),e[136].set("epoch_id",e[133]),e[136].set("trace_id",void 0),e[136].set("encryption_version",e[135]),e[136].set("is_thread",d.i64.eq(e[61],d.i64.cast([0,2]))),e[136].set("raw_identifiers",e[125]),e[136].set("raw_tokens",e[130]),e[136].set("request_id",e[150]),e[136].set("tam_thread_subtype",e[67]==null?d.i64.cast([0,0]):e[67]),e[136].set("is_instamadillo",e[68]==null?!1:e[68]),e[136].set("should_run_device_creation_timestamp_sync",e[69]),e[91]!==void 0?d.sequence([function(a){return e[151]=e[91].get("supplemental_data_encrypted"),e[151]!==void 0?d.sequence([function(a){return e[153]=e[91].get("protobuf_encrypted"),e[154]=e[91].get("backup_action"),e[155]=e[91].get("timestamp_ms"),e[156]=e[151].get("sk_ciphertext"),d.nativeOperation(b("LSBase64Encode.nop"),e[156]).then(function(a){return a=a,e[157]=a[0],a})},function(a){return e[158]=e[151].get("sk_hash"),d.nativeOperation(b("LSBase64Encode.nop"),e[158]).then(function(a){return a=a,e[159]=a[0],a})},function(a){return e[160]=e[91].get("message_tags"),e[161]=e[91].get("maybe_ooo_supplemental_upload"),e[162]=new d.Map(),e[162].set("supplementary_data_key",void 0),e[162].set("encrypted_protobuf",e[153]),e[162].set("key_value_backup_action",e[154]),e[162].set("protobuf_ts_ms",e[155]),e[162].set("supplemental_key_ciphertext",e[157]),e[162].set("supplemental_key_hash",e[159]),e[162].set("message_tags",e[160]),e[162].set("maybe_ooo_supplemental_upload",e[161]),e[152]=e[162]}]):d.resolve((e[153]=e[91].get("protobuf_encrypted"),e[154]=e[91].get("backup_action"),e[155]=e[91].get("timestamp_ms"),e[156]=e[91].get("message_tags"),e[157]=new d.Map(),e[157].set("supplementary_data_key",void 0),e[157].set("encrypted_protobuf",e[153]),e[157].set("key_value_backup_action",e[154]),e[157].set("protobuf_ts_ms",e[155]),e[157].set("message_tags",e[156]),e[152]=e[157]))},function(a){return e[136].set("key_value_backup_payload",e[152])}]):d.resolve()},function(a){return e[63]!==void 0?d.resolve(e[136].set("attachment_backup_payload",e[63])):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure] attachment_payload is null."),e[151]="payload_null",e[6]!==void 0?e[151]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"attachment_info",e[151]):d.resolve():d.resolve())},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplAnnotateBool.nop"),d.i64.cast([0,637746317]),e[6],"process_attachments_via_message_upload",!0):d.resolve()},function(a){return e[150]!==void 0?d.nativeOperation(b("LSLogWebQpl.nop"),e[150],d.i64.cast([0,521481602]),"upload_start",d.i64.cast([0,0]),void 0,void 0):d.resolve()},function(b){return e[137]=d.toJSON(e[136]),d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[151]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[152]=void 0:e[152]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[151],d.i64.cast([0,1e6])),e[19]),e[152]],e[138]=b[0],e[139]=b[1],e[140]=b[2],e[141]=b[3],e[142]=b[4],e[143]=b[5],e[144]=b[6],b):(f=c.item,e[151]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[152]=void 0:e[152]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[151],d.i64.cast([0,1e6])),e[19]),e[152]],e[138]=b[0],e[139]=b[1],e[140]=b[2],e[141]=b[3],e[142]=b[4],e[143]=b[5],e[144]=b[6],b)})},function(a){return e[146]=new d.Map(),e[146].set("task_id",e[138]),e[146].set("queue_name",e[139]),e[146].set("enqueue_timestamp_ms",e[140]),e[146].set("priority",e[141]),e[146].set("first_executed_timestamp_ms",e[142]),e[146].set("execution_time_ns",e[143]),e[146].set("echo_encoding_execution_time_ns",e[144]),e[147]=new d.Map(),e[147].set("task_metadata",e[146]),e[147].set("action_type",e[60]),e[147].set("content_type",e[61]),e[147].set("identifiers",void 0),e[147].set("identifiers_v2",e[55]),e[147].set("task_creation_source",void 0),e[147].set("message_payload_source",d.i64.cast([0,2])),void 0!==void 0?(e[151]=(void 0).get("stored_procedure"),e[152]=(void 0).get("error_code"),e[153]=(void 0).get("error_message"),e[154]=".",e[155]=[e[151],e[154],d.i64.to_string(e[152]),e[154],e[153]].join(""),e[6]!==void 0?e[155]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[155]):d.resolve():d.resolve()):d.resolve()},function(a){return e[92]!==void 0?(e[151]=e[92].get("stored_procedure"),e[152]=e[92].get("error_code"),e[153]=e[92].get("error_message"),e[154]=".",e[155]=[e[151],e[154],d.i64.to_string(e[152]),e[154],e[153]].join(""),e[6]!==void 0?e[155]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[155]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!0):d.resolve()},function(a){return e[148]=new d.Map(),e[148].set("payload",e[137]),e[149]=d.createArray(),e[151]=(e[149].push(e[92]),e[149]),a=[e[148],void 0,e[147],e[149]],e[111]=a[0],e[112]=a[1],e[113]=a[2],e[114]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[126]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[127]=void 0:e[127]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[126],d.i64.cast([0,1e6])),e[19]),e[127]],e[115]=b[0],e[116]=b[1],e[117]=b[2],e[118]=b[3],e[119]=b[4],e[120]=b[5],e[121]=b[6],b):(f=c.item,e[126]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[127]=void 0:e[127]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[126],d.i64.cast([0,1e6])),e[19]),e[127]],e[115]=b[0],e[116]=b[1],e[117]=b[2],e[118]=b[3],e[119]=b[4],e[120]=b[5],e[121]=b[6],b)})},function(a){return e[123]=new d.Map(),e[123].set("task_id",e[115]),e[123].set("queue_name",e[116]),e[123].set("enqueue_timestamp_ms",e[117]),e[123].set("priority",e[118]),e[123].set("first_executed_timestamp_ms",e[119]),e[123].set("execution_time_ns",e[120]),e[123].set("echo_encoding_execution_time_ns",e[121]),e[124]=new d.Map(),e[124].set("task_metadata",e[123]),e[124].set("action_type",e[60]),e[124].set("content_type",e[61]),e[124].set("identifiers",void 0),e[124].set("identifiers_v2",e[55]),e[124].set("task_creation_source",void 0),e[124].set("message_payload_source",d.i64.cast([0,2])),e[110]!==void 0?(e[126]=e[110].get("stored_procedure"),e[127]=e[110].get("error_code"),e[128]=e[110].get("error_message"),e[129]=".",e[130]=[e[126],e[129],d.i64.to_string(e[127]),e[129],e[128]].join(""),e[6]!==void 0?e[130]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[130]):d.resolve():d.resolve()):d.resolve()},function(a){return e[92]!==void 0?(e[126]=e[92].get("stored_procedure"),e[127]=e[92].get("error_code"),e[128]=e[92].get("error_message"),e[129]=".",e[130]=[e[126],e[129],d.i64.to_string(e[127]),e[129],e[128]].join(""),e[6]!==void 0?e[130]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[130]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[125]=d.createArray(),e[126]=(e[125].push(e[92]),e[125]),a=[void 0,e[110],e[124],e[125]],e[111]=a[0],e[112]=a[1],e[113]=a[2],e[114]=a[3],a}])},function(a){return a=[e[111],e[112],e[113],e[114]],e[105]=a[0],e[106]=a[1],e[107]=a[2],e[108]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[120]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[121]=void 0:e[121]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[120],d.i64.cast([0,1e6])),e[19]),e[121]],e[109]=b[0],e[110]=b[1],e[111]=b[2],e[112]=b[3],e[113]=b[4],e[114]=b[5],e[115]=b[6],b):(f=c.item,e[120]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[121]=void 0:e[121]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[120],d.i64.cast([0,1e6])),e[19]),e[121]],e[109]=b[0],e[110]=b[1],e[111]=b[2],e[112]=b[3],e[113]=b[4],e[114]=b[5],e[115]=b[6],b)})},function(a){return e[117]=new d.Map(),e[117].set("task_id",e[109]),e[117].set("queue_name",e[110]),e[117].set("enqueue_timestamp_ms",e[111]),e[117].set("priority",e[112]),e[117].set("first_executed_timestamp_ms",e[113]),e[117].set("execution_time_ns",e[114]),e[117].set("echo_encoding_execution_time_ns",e[115]),e[118]=new d.Map(),e[118].set("task_metadata",e[117]),e[118].set("action_type",e[60]),e[118].set("content_type",e[61]),e[118].set("identifiers",void 0),e[118].set("identifiers_v2",e[55]),e[118].set("task_creation_source",void 0),e[118].set("message_payload_source",d.i64.cast([0,2])),e[104]!==void 0?(e[120]=e[104].get("stored_procedure"),e[121]=e[104].get("error_code"),e[122]=e[104].get("error_message"),e[123]=".",e[124]=[e[120],e[123],d.i64.to_string(e[121]),e[123],e[122]].join(""),e[6]!==void 0?e[124]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[124]):d.resolve():d.resolve()):d.resolve()},function(a){return e[92]!==void 0?(e[120]=e[92].get("stored_procedure"),e[121]=e[92].get("error_code"),e[122]=e[92].get("error_message"),e[123]=".",e[124]=[e[120],e[123],d.i64.to_string(e[121]),e[123],e[122]].join(""),e[6]!==void 0?e[124]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[124]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[119]=d.createArray(),e[120]=(e[119].push(e[92]),e[119]),a=[void 0,e[104],e[118],e[119]],e[105]=a[0],e[106]=a[1],e[107]=a[2],e[108]=a[3],a}])},function(a){return a=[e[105],e[106],e[107],e[108]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],a}])},function(a){return a=[e[99],e[100],e[101],e[102]],e[93]=a[0],e[94]=a[1],e[95]=a[2],e[96]=a[3],a}])},function(a){return a=[e[93],e[94],e[95],e[96]],e[86]=a[0],e[87]=a[1],e[88]=a[2],e[89]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[101]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[102]=void 0:e[102]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[101],d.i64.cast([0,1e6])),e[19]),e[102]],e[90]=b[0],e[91]=b[1],e[92]=b[2],e[93]=b[3],e[94]=b[4],e[95]=b[5],e[96]=b[6],b):(f=c.item,e[101]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[102]=void 0:e[102]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[101],d.i64.cast([0,1e6])),e[19]),e[102]],e[90]=b[0],e[91]=b[1],e[92]=b[2],e[93]=b[3],e[94]=b[4],e[95]=b[5],e[96]=b[6],b)})},function(a){return e[98]=new d.Map(),e[98].set("task_id",e[90]),e[98].set("queue_name",e[91]),e[98].set("enqueue_timestamp_ms",e[92]),e[98].set("priority",e[93]),e[98].set("first_executed_timestamp_ms",e[94]),e[98].set("execution_time_ns",e[95]),e[98].set("echo_encoding_execution_time_ns",e[96]),e[99]=new d.Map(),e[99].set("task_metadata",e[98]),e[99].set("action_type",e[60]),e[99].set("content_type",e[61]),e[99].set("identifiers",void 0),e[99].set("identifiers_v2",e[55]),e[99].set("task_creation_source",void 0),e[99].set("message_payload_source",d.i64.cast([0,2])),e[85]!==void 0?(e[101]=e[85].get("stored_procedure"),e[102]=e[85].get("error_code"),e[103]=e[85].get("error_message"),e[104]=".",e[105]=[e[101],e[104],d.i64.to_string(e[102]),e[104],e[103]].join(""),e[6]!==void 0?e[105]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[105]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[101]=(void 0).get("stored_procedure"),e[102]=(void 0).get("error_code"),e[103]=(void 0).get("error_message"),e[104]=".",e[105]=[e[101],e[104],d.i64.to_string(e[102]),e[104],e[103]].join(""),e[6]!==void 0?e[105]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[105]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[100]=d.createArray(),e[101]=(e[100].push(void 0),e[100]),a=[void 0,e[85],e[99],e[100]],e[86]=a[0],e[87]=a[1],e[88]=a[2],e[89]=a[3],a}])},function(a){return a=[e[86],e[87],e[88],e[89]],e[76]=a[0],e[77]=a[1],e[78]=a[2],e[79]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[91]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[92]=void 0:e[92]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[91],d.i64.cast([0,1e6])),e[19]),e[92]],e[80]=b[0],e[81]=b[1],e[82]=b[2],e[83]=b[3],e[84]=b[4],e[85]=b[5],e[86]=b[6],b):(f=c.item,e[91]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[92]=void 0:e[92]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[91],d.i64.cast([0,1e6])),e[19]),e[92]],e[80]=b[0],e[81]=b[1],e[82]=b[2],e[83]=b[3],e[84]=b[4],e[85]=b[5],e[86]=b[6],b)})},function(a){return e[88]=new d.Map(),e[88].set("task_id",e[80]),e[88].set("queue_name",e[81]),e[88].set("enqueue_timestamp_ms",e[82]),e[88].set("priority",e[83]),e[88].set("first_executed_timestamp_ms",e[84]),e[88].set("execution_time_ns",e[85]),e[88].set("echo_encoding_execution_time_ns",e[86]),e[89]=new d.Map(),e[89].set("task_metadata",e[88]),e[89].set("action_type",e[60]),e[89].set("content_type",e[61]),e[89].set("identifiers",void 0),e[89].set("identifiers_v2",e[55]),e[89].set("task_creation_source",void 0),e[89].set("message_payload_source",d.i64.cast([0,2])),e[75]!==void 0?(e[91]=e[75].get("stored_procedure"),e[92]=e[75].get("error_code"),e[93]=e[75].get("error_message"),e[94]=".",e[95]=[e[91],e[94],d.i64.to_string(e[92]),e[94],e[93]].join(""),e[6]!==void 0?e[95]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[95]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[91]=(void 0).get("stored_procedure"),e[92]=(void 0).get("error_code"),e[93]=(void 0).get("error_message"),e[94]=".",e[95]=[e[91],e[94],d.i64.to_string(e[92]),e[94],e[93]].join(""),e[6]!==void 0?e[95]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[95]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[90]=d.createArray(),e[91]=(e[90].push(void 0),e[90]),a=[void 0,e[75],e[89],e[90]],e[76]=a[0],e[77]=a[1],e[78]=a[2],e[79]=a[3],a}])},function(a){return a=[e[76],e[77],e[78],e[79]],e[56]=a[0],e[57]=a[1],e[58]=a[2],e[59]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(c,f){var b=c.done;c=c.value;return b?(e[82]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[83]=void 0:e[83]=e[64],b=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[82],d.i64.cast([0,1e6])),e[19]),e[83]],e[70]=b[0],e[71]=b[1],e[72]=b[2],e[73]=b[3],e[74]=b[4],e[75]=b[5],e[76]=b[6],b):(f=c.item,e[82]=d.i64.of_float(Date.now()),d.i64.eq(e[64],d.i64.cast([0,0]))||d.i64.eq(e[64],void 0)?e[83]=void 0:e[83]=e[64],b=[a[0],f.queueName,f.enqueueTimestampMs,void 0,f.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[82],d.i64.cast([0,1e6])),e[19]),e[83]],e[70]=b[0],e[71]=b[1],e[72]=b[2],e[73]=b[3],e[74]=b[4],e[75]=b[5],e[76]=b[6],b)})},function(a){return e[78]=new d.Map(),e[78].set("task_id",e[70]),e[78].set("queue_name",e[71]),e[78].set("enqueue_timestamp_ms",e[72]),e[78].set("priority",e[73]),e[78].set("first_executed_timestamp_ms",e[74]),e[78].set("execution_time_ns",e[75]),e[78].set("echo_encoding_execution_time_ns",e[76]),e[79]=new d.Map(),e[79].set("task_metadata",e[78]),e[79].set("action_type",e[60]),e[79].set("content_type",e[61]),e[79].set("identifiers",void 0),e[79].set("identifiers_v2",e[55]),e[79].set("task_creation_source",void 0),e[79].set("message_payload_source",d.i64.cast([0,2])),e[80]=new d.Map(),e[80].set("error_code",e[62]),e[80].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[80].set("error_message",""),e[80]!==void 0?(e[82]=e[80].get("stored_procedure"),e[83]=e[80].get("error_code"),e[84]=e[80].get("error_message"),e[85]=".",e[86]=[e[82],e[85],d.i64.to_string(e[83]),e[85],e[84]].join(""),e[6]!==void 0?e[86]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[86]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[82]=(void 0).get("stored_procedure"),e[83]=(void 0).get("error_code"),e[84]=(void 0).get("error_message"),e[85]=".",e[86]=[e[82],e[85],d.i64.to_string(e[83]),e[85],e[84]].join(""),e[6]!==void 0?e[86]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[86]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[81]=d.createArray(),a=[void 0,e[80],e[79],e[81]],e[56]=a[0],e[57]=a[1],e[58]=a[2],e[59]=a[3],a}])},function(a){return a=[e[56],e[57],e[58],e[59]],e[50]=a[0],e[51]=a[1],e[52]=a[2],e[53]=a[3],a}]))})},function(a){return a=[e[50],e[51],e[52],e[53]],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3],a}]):d.sequence([function(b){return d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[58]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[58],d.i64.cast([0,1e6])),e[19]),void 0],e[46]=f[0],e[47]=f[1],e[48]=f[2],e[49]=f[3],e[50]=f[4],e[51]=f[5],e[52]=f[6],f):(c=b.item,e[58]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[58],d.i64.cast([0,1e6])),e[19]),void 0],e[46]=f[0],e[47]=f[1],e[48]=f[2],e[49]=f[3],e[50]=f[4],e[51]=f[5],e[52]=f[6],f)})},function(a){return e[54]=new d.Map(),e[54].set("task_id",e[46]),e[54].set("queue_name",e[47]),e[54].set("enqueue_timestamp_ms",e[48]),e[54].set("priority",e[49]),e[54].set("first_executed_timestamp_ms",e[50]),e[54].set("execution_time_ns",e[51]),e[54].set("echo_encoding_execution_time_ns",e[52]),e[55]=new d.Map(),e[55].set("task_metadata",e[54]),e[55].set("action_type",void 0),e[55].set("content_type",void 0),e[55].set("identifiers",void 0),e[55].set("identifiers_v2",void 0),e[55].set("task_creation_source",void 0),e[55].set("message_payload_source",d.i64.cast([0,2])),e[56]=new d.Map(),e[56].set("error_code",d.i64.cast([0,24])),e[56].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[56].set("error_message",""),e[56]!==void 0?(e[58]=e[56].get("stored_procedure"),e[59]=e[56].get("error_code"),e[60]=e[56].get("error_message"),e[61]=".",e[62]=[e[58],e[61],d.i64.to_string(e[59]),e[61],e[60]].join(""),e[6]!==void 0?e[62]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[62]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[58]=(void 0).get("stored_procedure"),e[59]=(void 0).get("error_code"),e[60]=(void 0).get("error_message"),e[61]=".",e[62]=[e[58],e[61],d.i64.to_string(e[59]),e[61],e[60]].join(""),e[6]!==void 0?e[62]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[62]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[57]=d.createArray(),a=[void 0,e[56],e[55],e[57]],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3],a}])},function(a){return a=[e[42],e[43],e[44],e[45]],e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=a[3],a}]):d.sequence([function(b){return e[23]=e[10].get("errors"),e[24]=e[10].get("errors"),d.db.table(2).fetch([[[a[0]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(e[37]=d.i64.of_float(Date.now()),f=[a[0],void 0,void 0,void 0,void 0,d.i64.sub(d.i64.mul(e[37],d.i64.cast([0,1e6])),e[19]),void 0],e[25]=f[0],e[26]=f[1],e[27]=f[2],e[28]=f[3],e[29]=f[4],e[30]=f[5],e[31]=f[6],f):(c=b.item,e[37]=d.i64.of_float(Date.now()),f=[a[0],c.queueName,c.enqueueTimestampMs,void 0,c.firstExecutedTimestampMs,d.i64.sub(d.i64.mul(e[37],d.i64.cast([0,1e6])),e[19]),void 0],e[25]=f[0],e[26]=f[1],e[27]=f[2],e[28]=f[3],e[29]=f[4],e[30]=f[5],e[31]=f[6],f)})},function(a){return e[33]=new d.Map(),e[33].set("task_id",e[25]),e[33].set("queue_name",e[26]),e[33].set("enqueue_timestamp_ms",e[27]),e[33].set("priority",e[28]),e[33].set("first_executed_timestamp_ms",e[29]),e[33].set("execution_time_ns",e[30]),e[33].set("echo_encoding_execution_time_ns",e[31]),e[34]=new d.Map(),e[34].set("task_metadata",e[33]),e[34].set("action_type",void 0),e[34].set("content_type",void 0),e[34].set("identifiers",void 0),e[34].set("identifiers_v2",void 0),e[34].set("task_creation_source",void 0),e[34].set("message_payload_source",d.i64.cast([0,2])),e[35]=new d.Map(),e[35].set("error_code",d.i64.cast([0,1])),e[35].set("stored_procedure","LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure"),e[35].set("error_message",""),e[35]!==void 0?(e[37]=e[35].get("stored_procedure"),e[38]=e[35].get("error_code"),e[39]=e[35].get("error_message"),e[40]=".",e[41]=[e[37],e[40],d.i64.to_string(e[38]),e[40],e[39]].join(""),e[6]!==void 0?e[41]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[41]):d.resolve():d.resolve()):d.resolve()},function(a){return void 0!==void 0?(e[37]=(void 0).get("stored_procedure"),e[38]=(void 0).get("error_code"),e[39]=(void 0).get("error_message"),e[40]=".",e[41]=[e[37],e[40],d.i64.to_string(e[38]),e[40],e[39]].join(""),e[6]!==void 0?e[41]!==void 0?d.nativeOperation(b("LSQplAnnotateString.nop"),d.i64.cast([0,637746317]),e[6],"exception_error",e[41]):d.resolve():d.resolve()):d.resolve()},function(a){return e[6]!==void 0?d.nativeOperation(b("LSQplMarkEnd.nop"),d.i64.cast([0,637746317]),e[6],!1):d.resolve()},function(a){return e[36]=d.createArray(),a=[void 0,e[35],e[34],e[36]],e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=a[3],a}])},function(a){return e[16]=d.i64.of_float(Date.now()),e[17]=d.i64.random(),e[20]="Finishing execution. Execution time: ",e[21]=d.i64.to_string(d.i64.sub(e[16],e[0])),e[22]=" ms",e[18]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][serializeBackupPayloadV2] ",e[18],e[20],e[18],e[21],e[18],e[22]].join("")),d.i64.eq(d.i64.mod_(e[17],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[23]=",",e[24]=d.createArray(),void 0!==void 0?e[25]=(e[24].push(void 0),e[24]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeBackupPayloadV2",[e[20],e[23],e[21],e[23],e[22]].join(""),e[24],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[12],e[13],e[14],e[15]],f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsSerializeBackupPayloadV2StoredProcedure";a.__tables__=["pending_tasks","secure_encrypted_backups_client_state","pending_backups_context_v2","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSTaskSerializerEncryptedBackupsUpload",["LSArrayGetObjectAt","LSLogMebClientEvent.nop","LSSerializeBackupPayloadV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.forEach(c.db.table(177).fetch([[[a[0]]],"fk_pending_tasks"]),function(a){var b=a.update;a.item;return b({backupStatus:c.i64.cast([0,2])})})},function(e){return c.storedProcedure(b("LSSerializeBackupPayloadV2"),a[0]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],a})},function(a){return d[6]=c.createArray(),d[7]=c.i64.of_int32(d[5].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(a){return d[23]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],d[23]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],a})},function(a){return d[24]!==void 0?d[26]=(d[6].push(d[24]),d[6]):0}])}):c.resolve()},function(a){return d[8]=c.i64.of_int32(d[6].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[23]=a[0],d[24]=a[1],a})},function(a){return d[9]=d[23]}]):c.resolve(d[9]=void 0)},function(a){return d[2]?d[10]=!1:d[10]=!0,d[10]?(d[3]?d[23]=!1:d[23]=!0,d[23]?(a=[void 0,void 0,d[9],d[6],d[4]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],d[28]=a[4],a):(a=[void 0,d[3],d[9],d[6],d[4]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],d[28]=a[4],a),a=[d[24],d[25],d[26],d[27],d[28]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a):(d[23]=d[2].get("payload"),a=[d[23],d[3],d[9],d[6],d[4]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a),d[23]=new c.Map(),d[24]=d[23].set("success",d[11]),d[25]=d[23].set("failure",d[12]),d[26]=d[23].set("protobuf_failure",d[13]),d[27]=d[23].set("protobuf_failures",d[14]),d[28]=d[23].set("context",d[15]),d[29]=c.toJSON(d[23]),d[16]=d[29],d[17]=c.i64.of_float(Date.now()),d[18]=c.i64.random(),d[20]="Finishing execution. Execution time: ",d[21]=c.i64.to_string(c.i64.sub(d[17],d[0])),d[22]=" ms",d[19]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUpload] ",d[19],d[20],d[19],d[21],d[19],d[22]].join("")),c.i64.eq(c.i64.mod_(d[18],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[23]=",",d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUpload",[d[20],d[23],d[21],d[23],d[22]].join(""),d[24],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[16],c.i64.cast([0,50026])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadStoredProcedure";a.__tables__=["pending_backups_context_v2"];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadProtobufOnly",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[],e=[];return d[0]=new c.Map(),d[0].set("error_code",c.i64.cast([0,802])),d[0].set("stored_procedure","LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadProtobufOnlyStoredProcedure"),d[0].set("error_message",""),d[2]=new c.Map(),d[3]=d[2].set("success",void 0),d[4]=d[2].set("failure",d[0]),d[5]=d[2].set("context",void 0),d[6]=c.toJSON(d[2]),d[1]=d[6],a=[d[1],c.i64.cast([0,50042]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a,c.resolve(e)}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadProtobufOnlyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerEncryptedBackupsUploadSenderBackup",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsUploadSenderBackup] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure] LSEncryptedBackupsMinosEncrypt native op not supported"),d[3]="LSEncryptedBackupsMinosEncrypt native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure] ","",d[3]].join("")),d[2]=c.createArray(),void 0!==void 0?d[12]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure",d[3],d[2],c.i64.cast([0,3]))},function(a){return d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,3])),d[4].set("stored_procedure","taskSerializerEncryptedBackupsUploadSenderBackup"),d[4].set("error_message",""),d[12]=new c.Map(),d[13]=d[12].set("success",void 0),d[14]=d[12].set("failure",d[4]),d[15]=d[12].set("context",void 0),d[16]=c.toJSON(d[12]),d[5]=d[16],d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsUploadSenderBackup] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsUploadSenderBackup",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],c.i64.cast([0,50057]),void 0],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsTaskSerializerEncryptedBackupsUploadSenderBackupStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerMuteThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("TaskSerializerMuteThreadV2: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("mailbox_type",b.i64.cast([0,0])),c[11].set("mute_expire_time_ms",e.muteExpireTimeMs),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,144]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerMuteThreadV2StoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,c[7]=e.removeType,b.i64.neq(c[7],void 0)?(c[8]=new b.Map(),c[8].set("thread_key",e.threadKey),c[8].set("remove_type",c[7]),c[8].set("sync_group",e.syncGroup==null?b.i64.cast([0,1]):e.syncGroup),c[9]=b.toJSON(c[8]),f=[c[9],b.i64.cast([0,146]),void 0],c[4]=f[0],c[5]=f[1],c[6]=f[2],f):(d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d),e=[c[4],c[5],c[6]],c[0]=e[0],c[1]=e[1],c[2]=e[2],e)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerRemoveThreadStoredProcedure";a.__tables__=["threads_optimistic_context"];e.exports=a}),null);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(d){return c[11]=e.offlineThreadingId,c[12]=e.messageId,c[21]=e.threadAttributionSource,c[9]=e.platformRef,c[10]=e.platformToken,c[8]=e.replySourceId,c[13]=e.replySourceType,c[20]=e.sendType,c[22]=e.markThreadRead,c[14]=e.initiatingSource,c[15]=e.skipUrlPreviewGen,c[17]=e.textHasLinks,c[18]=e.dataclassParams,c[19]=e.multitabEnv,c[16]=e.richTextFormatType,b.db.table(12).fetch([[[c[11]]],"optimistic"]).next().then(function(e,f){var d=e.done;e=e.value;return d?(c[23]=b.createArray(),c[24]=(c[23].push("OTID not found"),c[23]),c[25]=(c[23].push(c[11]),c[23]),c[26]=b.toJSON(c[23]),function(a){b.logger(a).mustfix(a)}(c[26]),d=[void 0,void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],d):(f=e.item,b.sequence([function(d){return c[31]=f.text,c[27]=f.threadKey,c[32]=f.messageId,c[40]=f.senderId,c[29]=f.stickerId,c[34]=f.mentionOffsets,c[35]=f.mentionLengths,c[28]=f.mentionIds,c[36]=f.mentionTypes,c[39]=f.replyType,c[37]=f.isForwarded,c[33]=f.forwardScore,c[38]=f.hotEmojiSize,c[30]=f.metadataDataclass,b.db.table(9).fetch([[[c[27]]]]).next().then(function(e,g){var d=e.done;e=e.value;return d?(c[41]=b.createArray(),c[42]=(c[41].push("thread not found"),c[41]),c[43]=(c[41].push(c[27]),c[41]),c[44]=b.toJSON(c[41]),function(a){b.logger(a).mustfix(a)}(c[44]),d=[void 0,void 0,void 0],c[23]=d[0],c[24]=d[1],c[25]=d[2],d):(g=e.item,b.sequence([function(d){return c[48]=g.threadName,c[47]=g.threadKey,c[49]=g.mailboxType,c[41]=g.threadType,c[50]=g.capabilities,c[51]=g.capabilities2,c[52]=g.capabilities3,c[53]=g.capabilities4,c[54]=g.capabilities5,b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?c[42]=!1:(f=e.item,b.sequence([function(d){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(e,f){var d=e.done;e=e.value;return d?c[55]=!1:(f=e.item,c[55]=b.i64.eq(f.taskId,a[0]))})},function(a){return c[42]=c[55]}]))})},function(a){return b.i64.eq(g.authorityLevel,b.i64.cast([0,20]))&&(b.i64.eq(c[41],b.i64.cast([0,2]))||b.i64.eq(c[41],b.i64.cast([0,5]))||b.i64.eq(c[41],b.i64.cast([0,26])))&&c[42]?b.sequence([function(a){return c[58]=c[20]==null?b.i64.cast([0,1]):c[20],b.db.table(9).fetch([[[c[27]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[55]=b.i64.cast([0,1]):(e=d.item,c[73]=e.syncGroup,b.i64.neq(c[73],void 0)?c[72]=c[73]:c[72]=b.i64.cast([0,1]),c[55]=c[72])})},function(a){return c[57]=new b.Map(),c[57].set("thread_id",c[27]),c[57].set("otid",c[11]),c[57].set("source",c[21]==null?b.i64.cast([0,0]):c[21]),c[57].set("send_type",b.i64.cast([0,1])),c[57].set("sync_group",c[55]),c[57].set("mark_thread_read",c[22]),b.i64.eq(c[58],b.i64.cast([0,1]))?b.resolve(c[57].set("text",c[31])):b.i64.eq(c[58],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[29],void 0)?(c[57].set("sticker_id",c[29]),c[57].set("send_type",c[58])):0):b.i64.eq(c[58],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[72]=a[0],c[73]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[72]=a[0],c[73]=a[1],a)})},function(a){return c[72]!==void 0?b.i64.neq(c[73],void 0)?(c[57].set("url",c[72]),c[57].set("attribution_app_id",c[73]),c[57].set("send_type",c[58]),c[30]!==void 0?c[57].set("metadata_dataclass",c[30]):0):0:0}]):b.i64.eq(c[58],b.i64.cast([0,3]))?b.sequence([function(a){return c[57].set("text",c[31]),c[72]=b.createArray(),c[73]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[27],c[32]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[74]=a.offlineAttachmentId,c[75]=(c[72].push(b.i64.from_string(a.attachmentFbid)),c[72]),c[74]!==void 0?c[75]=(c[73].push(c[74]),c[73]):0})},function(a){return c[57].set("attachment_fbids",c[72]),b.i64.eq(c[58],b.i64.cast([0,9]))?c[57].set("offline_attachment_ids",c[73]):0,c[57].set("send_type",c[58])}]):b.i64.eq(c[58],b.i64.cast([0,9]))?b.sequence([function(a){return c[57].set("text",c[31]),c[72]=b.createArray(),c[73]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[27],c[32]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[74]=a.offlineAttachmentId,c[75]=(c[72].push(b.i64.from_string(a.attachmentFbid)),c[72]),c[74]!==void 0?c[75]=(c[73].push(c[74]),c[73]):0})},function(a){return c[57].set("attachment_fbids",c[72]),b.i64.eq(c[58],b.i64.cast([0,9]))?c[57].set("offline_attachment_ids",c[73]):0,c[57].set("send_type",c[58])}]):b.i64.eq(c[58],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[72]=void 0:(d=b.item,c[72]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[74]=void 0:(d=b.item,c[74]=d.actionUrl)})},function(a){return c[72]!==void 0?(c[57].set("text",c[31]),c[74]!==void 0?c[57].set("url",c[74]):0,c[57].set("forwarded_share_id",c[72]),c[57].set("send_type",c[58])):0}]):b.i64.eq(c[58],b.i64.cast([0,5]))?b.resolve(c[12]!==void 0?(c[57].set("forwarded_msg_id",c[12]),c[57].set("send_type",c[58]),b.i64.neq(c[33],void 0)?c[57].set("forward_score",c[33]):0,c[57].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[58],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[72]=a[0],c[73]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[72]=a[0],c[73]=a[1],a)})},function(a){return c[72]!==void 0?(c[57].set("url",c[72]),c[57].set("text",c[31]),c[57].set("send_type",c[58])):0}]):b.i64.eq(c[58],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[72]=a[0],c[73]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[72]=a[0],c[73]=a[1],a)})},function(a){return c[72]!==void 0?(c[57].set("url",c[72]),c[57].set("text",c[31]),c[57].set("send_type",c[58])):0}]):b.resolve(0)},function(a){return c[68]=c[8]===""?void 0:c[8],c[68]!==void 0?b.i64.neq(c[13],void 0)?(c[72]=new b.Map(),c[72].set("reply_source_id",c[68]),c[72].set("reply_source_type",c[13]),c[72].set("reply_type",c[39]==null?b.i64.cast([0,0]):c[39]),c[72].set("reply_source_attachment_id",void 0),c[57].set("reply_metadata",c[72])):0:0,c[69]=c[28]===""?void 0:c[28],c[69]!==void 0?(c[72]=c[34]===""?void 0:c[34],c[72]!==void 0?(c[73]=c[35]===""?void 0:c[35],c[73]!==void 0?(c[74]=new b.Map(),c[74].set("mention_ids",c[69]),c[74].set("mention_offsets",c[72]),c[74].set("mention_lengths",c[73]),c[74].set("mention_types",c[36]===""?void 0:c[36]),c[57].set("mention_data",c[74])):0):0):0,c[37]!==void 0?c[57].set("is_forwarded",c[37]):0,c[70]=c[9]===""?void 0:c[9],c[70]!==void 0?c[57].set("platform_ref",c[70]):0,c[71]=c[10]===""?void 0:c[10],c[71]!==void 0?c[57].set("platform_token",c[71]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[58],a)})?b.i64.neq(c[38],void 0)?c[57].set("hot_emoji_size",c[38]):0:0,b.i64.neq(c[14],void 0)?c[57].set("initiating_source",c[14]):0,c[15]!==void 0?c[57].set("skip_url_preview_gen",c[15]):0,b.i64.neq(c[16],void 0)?c[57].set("rich_text_format_type",c[16]):0,b.resolve()},function(a){return c[17]!==void 0?c[57].set("text_has_links",c[17]):0,c[18]!==void 0?c[57].set("dataclass_params",c[18]):0,c[19]!==void 0?c[57].set("multitab_env",c[19]):0,b.filter(b.db.table(14).fetch([[[c[47],c[40]]]]),function(a){return b.i64.eq(a.threadKey,c[47])&&b.i64.eq(b.i64.cast([0,0]),c[49])&&b.i64.eq(a.contactId,c[40])}).next().then(function(d,e){var a=d.done;d=d.value;return a?c[59]=!1:(e=d.item,b.i64.eq(c[41],b.i64.cast([0,152]))?(c[73]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?c[74]=!1:c[74]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),c[73]),b.i64.cast([0,0])),c[75]=c[50],c[76]=c[51],c[77]=c[52],c[78]=c[53],c[79]=c[54],c[81]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),c[82]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(c[81],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,281]))?c[80]=!1:(b.i64.eq(c[81],b.i64.cast([0,0]))?c[83]=!b.i64.eq(b.i64.and_(c[82],c[75]),b.i64.cast([0,0])):(b.i64.eq(c[81],b.i64.cast([0,1]))?c[84]=!b.i64.eq(b.i64.and_(c[82],c[76]),b.i64.cast([0,0])):(b.i64.eq(c[81],b.i64.cast([0,2]))?c[85]=!b.i64.eq(b.i64.and_(c[82],c[77]),b.i64.cast([0,0])):(b.i64.eq(c[81],b.i64.cast([0,3]))?c[86]=!b.i64.eq(b.i64.and_(c[82],c[78]),b.i64.cast([0,0])):(b.i64.eq(c[81],b.i64.cast([0,4]))?c[87]=!b.i64.eq(b.i64.and_(c[82],c[79]),b.i64.cast([0,0])):c[87]=!1,c[86]=c[87]),c[85]=c[86]),c[84]=c[85]),c[83]=c[84]),c[80]=c[83]),c[74]===c[80]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),c[72]=c[74]):c[72]=!1,c[59]=c[72])})},function(a){return c[59]?c[57].set("perform_action_as_page",!0):0,c[61]=b.createArray(),b.forEach(b.db.table(14).fetch([[[c[27]]]]),function(a){a=a.item;return c[72]=(c[61].push(a.contactId),c[61])})},function(a){return c[62]=new b.Map(),c[62].set("participants",c[61]),c[62].set("send_payload",c[57]),c[48]!==void 0?c[62].set("thread_name",c[48]):0,b.db.table(312).fetch([[[c[27]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[63]=void 0:(d=b.item,c[63]=d.metadata)})},function(a){return c[62].set("thread_metadata",c[63]),b.forEach(b.db.table(9).fetch([[[c[47]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:f.offlineThreadingId})})},function(a){return c[63]===void 0||!1?(b.i64.eq(c[41],b.i64.cast([0,5]))||b.i64.eq(c[41],b.i64.cast([0,26]))?(function(a){b.logger(a).mustfix(a)}("For Marketplace & community chat subthreads, thread metadata cannot be null"),a=[void 0,void 0,void 0],c[72]=a[0],c[73]=a[1],c[74]=a[2],a):(c[75]=b.toJSON(c[62]),a=[c[75],b.i64.cast([0,130]),void 0],c[72]=a[0],c[73]=a[1],c[74]=a[2],a),a=[c[72],c[73],c[74]],c[65]=a[0],c[66]=a[1],c[67]=a[2],a):(b.i64.eq(c[41],b.i64.cast([0,5]))?(c[75]=b.toJSON(c[62]),a=[c[75],b.i64.cast([0,645]),void 0],c[72]=a[0],c[73]=a[1],c[74]=a[2],a):(b.i64.eq(c[41],b.i64.cast([0,2]))?(c[78]=b.toJSON(c[62]),a=[c[78],b.i64.cast([0,787]),void 0],c[75]=a[0],c[76]=a[1],c[77]=a[2],a):(c[78]=b.toJSON(c[62]),a=[c[78],b.i64.cast([0,645]),void 0],c[75]=a[0],c[76]=a[1],c[77]=a[2],a),a=[c[75],c[76],c[77]],c[72]=a[0],c[73]=a[1],c[74]=a[2],a),a=[c[72],c[73],c[74]],c[65]=a[0],c[66]=a[1],c[67]=a[2],a),a=[c[65],c[66],c[67]],c[44]=a[0],c[45]=a[1],c[46]=a[2],a}]):b.sequence([function(a){return c[58]=c[20]==null?b.i64.cast([0,1]):c[20],b.db.table(9).fetch([[[c[27]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[55]=b.i64.cast([0,1]):(e=d.item,c[67]=e.syncGroup,b.i64.neq(c[67],void 0)?c[66]=c[67]:c[66]=b.i64.cast([0,1]),c[55]=c[66])})},function(a){return c[57]=new b.Map(),c[57].set("thread_id",c[27]),c[57].set("otid",c[11]),c[57].set("source",c[21]==null?b.i64.cast([0,0]):c[21]),c[57].set("send_type",b.i64.cast([0,1])),c[57].set("sync_group",c[55]),c[57].set("mark_thread_read",c[22]),b.i64.eq(c[58],b.i64.cast([0,1]))?b.resolve(c[57].set("text",c[31])):b.i64.eq(c[58],b.i64.cast([0,2]))?b.resolve(b.i64.neq(c[29],void 0)?(c[57].set("sticker_id",c[29]),c[57].set("send_type",c[58])):0):b.i64.eq(c[58],b.i64.cast([0,7]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[66]=a[0],c[67]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[66]=a[0],c[67]=a[1],a)})},function(a){return c[66]!==void 0?b.i64.neq(c[67],void 0)?(c[57].set("url",c[66]),c[57].set("attribution_app_id",c[67]),c[57].set("send_type",c[58]),c[30]!==void 0?c[57].set("metadata_dataclass",c[30]):0):0:0}]):b.i64.eq(c[58],b.i64.cast([0,3]))?b.sequence([function(a){return c[57].set("text",c[31]),c[66]=b.createArray(),c[67]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[27],c[32]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[68]=a.offlineAttachmentId,c[69]=(c[66].push(b.i64.from_string(a.attachmentFbid)),c[66]),c[68]!==void 0?c[69]=(c[67].push(c[68]),c[67]):0})},function(a){return c[57].set("attachment_fbids",c[66]),b.i64.eq(c[58],b.i64.cast([0,9]))?c[57].set("offline_attachment_ids",c[67]):0,c[57].set("send_type",c[58])}]):b.i64.eq(c[58],b.i64.cast([0,9]))?b.sequence([function(a){return c[57].set("text",c[31]),c[66]=b.createArray(),c[67]=b.createArray(),b.forEach(b.sortBy(b.db.table(16).fetch([[[c[27],c[32]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[68]=a.offlineAttachmentId,c[69]=(c[66].push(b.i64.from_string(a.attachmentFbid)),c[66]),c[68]!==void 0?c[69]=(c[67].push(c[68]),c[67]):0})},function(a){return c[57].set("attachment_fbids",c[66]),b.i64.eq(c[58],b.i64.cast([0,9]))?c[57].set("offline_attachment_ids",c[67]):0,c[57].set("send_type",c[58])}]):b.i64.eq(c[58],b.i64.cast([0,4]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[66]=void 0:(d=b.item,c[66]=d.attachmentFbid)})},function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[68]=void 0:(d=b.item,c[68]=d.actionUrl)})},function(a){return c[66]!==void 0?(c[57].set("text",c[31]),c[68]!==void 0?c[57].set("url",c[68]):0,c[57].set("forwarded_share_id",c[66]),c[57].set("send_type",c[58])):0}]):b.i64.eq(c[58],b.i64.cast([0,5]))?b.resolve(c[12]!==void 0?(c[57].set("forwarded_msg_id",c[12]),c[57].set("send_type",c[58]),b.i64.neq(c[33],void 0)?c[57].set("forward_score",c[33]):0,c[57].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[58],b.i64.cast([0,6]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[66]=a[0],c[67]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[66]=a[0],c[67]=a[1],a)})},function(a){return c[66]!==void 0?(c[57].set("url",c[66]),c[57].set("text",c[31]),c[57].set("send_type",c[58])):0}]):b.i64.eq(c[58],b.i64.cast([0,11]))?b.sequence([function(a){return b.db.table(16).fetch([[[c[27],c[32]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[66]=a[0],c[67]=a[1],a):(d=b.item,a=[d.actionUrl,d.attributionAppId],c[66]=a[0],c[67]=a[1],a)})},function(a){return c[66]!==void 0?(c[57].set("url",c[66]),c[57].set("text",c[31]),c[57].set("send_type",c[58])):0}]):b.resolve(0)},function(a){return c[62]=c[8]===""?void 0:c[8],c[62]!==void 0?b.i64.neq(c[13],void 0)?(c[66]=new b.Map(),c[66].set("reply_source_id",c[62]),c[66].set("reply_source_type",c[13]),c[66].set("reply_type",c[39]==null?b.i64.cast([0,0]):c[39]),c[66].set("reply_source_attachment_id",void 0),c[57].set("reply_metadata",c[66])):0:0,c[63]=c[28]===""?void 0:c[28],c[63]!==void 0?(c[66]=c[34]===""?void 0:c[34],c[66]!==void 0?(c[67]=c[35]===""?void 0:c[35],c[67]!==void 0?(c[68]=new b.Map(),c[68].set("mention_ids",c[63]),c[68].set("mention_offsets",c[66]),c[68].set("mention_lengths",c[67]),c[68].set("mention_types",c[36]===""?void 0:c[36]),c[57].set("mention_data",c[68])):0):0):0,c[37]!==void 0?c[57].set("is_forwarded",c[37]):0,c[64]=c[9]===""?void 0:c[9],c[64]!==void 0?c[57].set("platform_ref",c[64]):0,c[65]=c[10]===""?void 0:c[10],c[65]!==void 0?c[57].set("platform_token",c[65]):0,[b.i64.cast([0,1]),b.i64.cast([0,2])].some(function(a){return b.i64.eq(c[58],a)})?b.i64.neq(c[38],void 0)?c[57].set("hot_emoji_size",c[38]):0:0,b.i64.neq(c[14],void 0)?c[57].set("initiating_source",c[14]):0,c[15]!==void 0?c[57].set("skip_url_preview_gen",c[15]):0,b.i64.neq(c[16],void 0)?c[57].set("rich_text_format_type",c[16]):0,b.resolve()},function(a){return c[17]!==void 0?c[57].set("text_has_links",c[17]):0,c[18]!==void 0?c[57].set("dataclass_params",c[18]):0,c[19]!==void 0?c[57].set("multitab_env",c[19]):0,b.filter(b.db.table(14).fetch([[[c[47],c[40]]]]),function(a){return b.i64.eq(a.threadKey,c[47])&&b.i64.eq(b.i64.cast([0,0]),c[49])&&b.i64.eq(a.contactId,c[40])}).next().then(function(d,e){var a=d.done;d=d.value;return a?c[59]=!1:(e=d.item,b.i64.eq(c[41],b.i64.cast([0,152]))?(c[67]=e.threadRoles,b.i64.lt(b.i64.cast([0,7]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,7]),b.i64.cast([0,7]))?c[68]=!1:c[68]=!b.i64.eq(b.i64.and_(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.cast([0,7]))),c[67]),b.i64.cast([0,0])),c[69]=c[50],c[70]=c[51],c[71]=c[52],c[72]=c[53],c[73]=c[54],c[75]=b.i64.div(b.i64.cast([0,223]),b.i64.cast([0,64])),c[76]=b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.sub(b.i64.cast([0,223]),b.i64.mul(c[75],b.i64.cast([0,64]))))),b.i64.lt(b.i64.cast([0,223]),b.i64.cast([0,0]))||b.i64.gt(b.i64.cast([0,223]),b.i64.cast([0,281]))?c[74]=!1:(b.i64.eq(c[75],b.i64.cast([0,0]))?c[77]=!b.i64.eq(b.i64.and_(c[76],c[69]),b.i64.cast([0,0])):(b.i64.eq(c[75],b.i64.cast([0,1]))?c[78]=!b.i64.eq(b.i64.and_(c[76],c[70]),b.i64.cast([0,0])):(b.i64.eq(c[75],b.i64.cast([0,2]))?c[79]=!b.i64.eq(b.i64.and_(c[76],c[71]),b.i64.cast([0,0])):(b.i64.eq(c[75],b.i64.cast([0,3]))?c[80]=!b.i64.eq(b.i64.and_(c[76],c[72]),b.i64.cast([0,0])):(b.i64.eq(c[75],b.i64.cast([0,4]))?c[81]=!b.i64.eq(b.i64.and_(c[76],c[73]),b.i64.cast([0,0])):c[81]=!1,c[80]=c[81]),c[79]=c[80]),c[78]=c[79]),c[77]=c[78]),c[74]=c[77]),c[68]===c[74]?0:(function(a){b.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),b["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),c[66]=c[68]):c[66]=!1,c[59]=c[66])})},function(a){return c[59]?c[57].set("perform_action_as_page",!0):0,c[61]=b.toJSON(c[57]),a=[c[61],b.i64.cast([0,46]),void 0],c[44]=a[0],c[45]=a[1],c[46]=a[2],a}])},function(a){return a=[c[44],c[45],c[46]],c[23]=a[0],c[24]=a[1],c[25]=a[2],a}]))})},function(a){return a=[c[23],c[24],c[25]],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerSendMessageV2StoredProcedure";a.__tables__=["messages_optimistic_context","messages","threads","pending_tasks","attachments","participants","threads_optimistic_metadata"];e.exports=a}),null);
__d("LSTaskSerializerSyncThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a,b=arguments,c=b[b.length-1],d=[];return a=[void 0,void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],a,c.resolve(d)}a.__sproc_name__="LSMailboxTaskSerializerSyncThreadCapabilitiesStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIsExperimentCapabilityEnabled.nop",["LSACSExperimentCapability","LSIntEnum","MetaConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("MetaConfig")._("87"),k=c("MetaConfig")._("156");a=function(a,e,f,g){switch((i||(i=d("LSIntEnum"))).toNumber(f)){case c("LSACSExperimentCapability").BUMP_TOKEN_SYNC_TASK_AT_TASK_SERIALIZATION:return(h||(h=b("Promise"))).resolve([k]);case c("LSACSExperimentCapability").INSERT_PENDING_TASK_PARENT_ROW_WHEN_NO_ACS_TOKENS_AT_TASK_INSERTION:return(h||(h=b("Promise"))).resolve([!1]);case c("LSACSExperimentCapability").RETRY_AFTER_TASK_SERIALIZATION_FAILURE_EXPONENTIAL_BACKOFF:return(h||(h=b("Promise"))).resolve([j])}return(h||(h=b("Promise"))).resolve([!1])};a.__nop_name__="LSIsExperimentCapabilityEnabled";g["default"]=a}),98);
__d("LSVoprfHmac.nop",["ACSCipherSuiteModule","ACSTokenHmacUtil","Promise","XPlatReactTextEncoder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){a=d("ACSCipherSuiteModule").getACSCipherSuiteByValue(d("ACSCipherSuiteModule").VOPRF_RISTRETTO_HMACSHA512.value);if(!a)return(h||(h=b("Promise"))).resolve([void 0]);c=(yield d("ACSTokenHmacUtil").hmac(a.macAlgorithm,new Uint8Array(f).slice(),new(d("XPlatReactTextEncoder").TextEncoder)().encode(e)));return(h||(h=b("Promise"))).resolve([c.buffer])});function c(b,c,d,e){return a.apply(this,arguments)}return c}();a.__nop_name__="LSVoprfHmac";g["default"]=a}),98);
__d("LSTaskSerializerUnauthenticatedTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsExperimentCapabilityEnabled.nop","LSMailboxTaskCompletionApiOnTaskCompletion","LSRemoveUsedTokens","LSVoprfHmac.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.projectName)})},function(e){return d[0]!==void 0?c.sequence([function(e){return a[1]!==void 0?c.sequence([function(a){return d[9]=c.createArray(),d[10]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[10])}),function(a){a=a.item;return d[16]=(d[9].push(a.configId),d[9])})},function(a){return c.sequence([function(a){return d[16]=c.createArray(),d[17]=c.i64.of_int32(d[9].length),c.i64.gt(d[17],c.i64.cast([0,0]))?c.loopAsync(d[17],function(a){return d[19]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return d[22]=(d[16].push(d[20]),d[16])}])}):c.resolve()},function(a){return d[18]=d[16].join(","),d[11]=d[18]}])},function(e){return c.filter(c.db.table(309).fetch(),function(a){return d[9].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,0]),d[0]).then(function(a){return a=a,d[16]=a[0],a})},function(e){return d[16]?c.sequence([function(b){return c.db.table(311).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[20]=c.i64.cast([0,0]):(e=b.item,d[20]=e.failureCount)})},function(b){return c.forEach(c.db.table(311).fetch([[[a[0]]]]),function(a){a=a.item;return c.forEach(c.db.table(311).fetch([[[a.taskId]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.add(d[20],c.i64.cast([0,1]))})})})},function(a){return a=[void 0,void 0,c.i64.mul(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.mod_(d[20],c.i64.cast([0,7])))),c.i64.cast([0,500]))],d[17]=a[0],d[18]=a[1],d[19]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[20]=c.createArray(),d[21]=(d[20].push("Unauthenticated Task Serializer: no valid tokens"),d[20]),d[22]=(d[20].push(a[0]),d[20]),d[23]=(d[20].push(d[0]),d[20]),d[24]=c.toJSON(d[20]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]):(f=e.item,c.sequence([function(e){return d[20]=f.tokenId,c.nativeOperation(b("LSVoprfHmac.nop"),a[2]==null?"":a[2],f.sharedSecret).then(function(a){return a=a,d[16]=a[0],a})},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){var b=a.update;a=a.item;return b({redeemLimit:c.i64.sub(a.redeemLimit,c.i64.cast([0,1]))})})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[16]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.nonce).then(function(a){return a=a,d[22]=a[0],a})},function(b){return d[23]=new c.Map(),d[23].set("config_id",f.configId),d[23].set("tag",d[21]==null?"":d[21]),d[23].set("aux",d[22]==null?"":d[22]),d[23].set("project_name",d[0]),d[24]=c.toJSON(d[23]),d[25]=new c.Map(),d[25].set("payload",a[2]==null?"":a[2]),d[25].set("token",d[24]),d[26]=c.toJSON(d[25]),b=[d[26],c.i64.from_string(a[1]),void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}]):c.sequence([function(a){return c.forEach(c.db.table(309).fetch([[[d[20]]]]),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[21]=c.createArray(),d[22]=(d[21].push("Unauthenticated Task Serializer: hmac failed"),d[21]),d[23]=(d[21].push(a[0]),d[21]),d[24]=c.toJSON(d[21]),function(a){c.logger(a).mustfix(a)}(d[24]),b=[void 0,void 0,void 0],d[17]=b[0],d[18]=b[1],d[19]=b[2],b}])},function(a){return a=[d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],a}]))})},function(a){return a=[d[12],d[13],d[14]],d[6]=a[0],d[7]=a[1],d[8]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[9]=c.createArray(),d[10]=(d[9].push("Unauthenticated Task Serializer: task has no write label"),d[9]),d[11]=(d[9].push(a[0]),d[9]),d[12]=c.toJSON(d[9]),function(a){c.logger(a).mustfix(a)}(d[12]),b=[void 0,void 0,void 0],d[6]=b[0],d[7]=b[1],d[8]=b[2],b}])},function(a){return a=[d[6],d[7],d[8]],d[2]=a[0],d[3]=a[1],d[4]=a[2],a}]):c.sequence([function(d){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskCompletion"),a[0],!1)},function(b){return d[6]=c.createArray(),d[7]=(d[6].push("Unauthenticated Task Serializer: anonymous_task_context row not found"),d[6]),d[8]=(d[6].push(a[0]),d[6]),d[9]=c.toJSON(d[6]),function(a){c.logger(a).mustfix(a)}(d[9]),b=[void 0,void 0,void 0],d[2]=b[0],d[3]=b[1],d[4]=b[2],b}])},function(a){return c.storedProcedure(b("LSRemoveUsedTokens"))},function(a){return d[0]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSIsExperimentCapabilityEnabled.nop"),c.i64.cast([0,1]),d[0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[6]?c.sequence([function(a){return c.i64.neq(d[4],void 0)?c.resolve(d[8]=!0):c.sequence([function(a){return d[10]=c.createArray(),d[11]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(307).fetch(),function(a){return d[0]===a.projectName&&c.i64.gt(a.expirationTimestampMs,d[11])}),function(a){a=a.item;return d[15]=(d[10].push(a.configId),d[10])})},function(a){return c.sequence([function(a){return d[15]=c.createArray(),d[16]=c.i64.of_int32(d[10].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[18]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[10],d[18]).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[21]=(d[15].push(d[19]),d[15])}])}):c.resolve()},function(a){return d[17]=d[15].join(","),d[12]=d[17]}])},function(a){return c.filter(c.db.table(309).fetch(),function(a){return d[10].includes(a.configId)&&c.i64.gt(a.redeemLimit,c.i64.cast([0,0]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[13]=!0:(a.item,d[13]=!1)})},function(a){return d[8]=d[13]}])},function(a){return d[8]?c.sequence([function(a){return c.filter(c.db.table(310).fetch(),function(a){return a.projectName===d[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[10]=void 0:(b=a.item,d[10]=b.taskId)})},function(a){return d[9]=d[10]}]):c.resolve(d[9]=void 0)},function(a){return d[7]=d[9]}]):c.resolve(d[7]=void 0)},function(a){return d[5]=d[7]}]):c.resolve(d[5]=void 0)},function(a){return a=[d[2],d[3],d[4],d[5]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsTaskSerializerUnauthenticatedTaskStoredProcedure";a.__tables__=["anonymous_task_context","secure_acs_configurations","secure_acs_tokens","acs_request_context"];e.exports=a}),null);
__d("LSTaskSerializerUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[4]=b.createArray(),c[5]=(c[4].push("taskSerializerUpdateThreadName: Task ID not found"),c[4]),c[6]=(c[4].push(a[0]),c[4]),c[7]=b.toJSON(c[4]),function(a){b.logger(a).mustfix(a)}(c[7]),f=[void 0,void 0,void 0],c[0]=f[0],c[1]=f[1],c[2]=f[2],f):(e=d.item,b.sequence([function(a){return c[8]=e.threadKey,b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[9]=b.createArray(),c[10]=(c[9].push("taskSerializerUpdateThreadName: Thread not found"),c[9]),c[11]=(c[9].push(c[8]),c[9]),c[12]=b.toJSON(c[9]),function(a){b.logger(a).mustfix(a)}(c[12]),a=[void 0,void 0,void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a):(e=d.item,b.sequence([function(a){return b.db.table(9).fetch([[[c[8]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?c[9]=b.i64.cast([0,1]):(e=d.item,c[14]=e.syncGroup,b.i64.neq(c[14],void 0)?c[13]=c[14]:c[13]=b.i64.cast([0,1]),c[9]=c[13])})},function(a){return c[11]=new b.Map(),c[11].set("thread_key",c[8]),c[11].set("thread_name",e.threadName==null?"":e.threadName),c[11].set("sync_group",c[9]),c[12]=b.toJSON(c[11]),a=[c[12],b.i64.cast([0,32]),void 0],c[4]=a[0],c[5]=a[1],c[6]=a[2],a}]))})},function(a){return a=[c[4],c[5],c[6]],c[0]=a[0],c[1]=a[1],c[2]=a[2],a}]))})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxTaskSerializerUpdateThreadNameStoredProcedure";a.__tables__=["threads_optimistic_context","threads"];e.exports=a}),null);
__d("LSSerializeTask",["LSForceTaskExecutionImmediately","LSLogMebClientEvent.nop","LSTaskSerializerAcsIssueNextSync","LSTaskSerializerDeleteChatHistory","LSTaskSerializerE2eeMessageIntegrityCheckV2","LSTaskSerializerE2eeMetadataThreadIntegrityCheck","LSTaskSerializerEncryptedBackupAction","LSTaskSerializerEncryptedBackupsLoopingUpload","LSTaskSerializerEncryptedBackupsOpenUpload","LSTaskSerializerEncryptedBackupsRestoreWithSerializer","LSTaskSerializerEncryptedBackupsUpload","LSTaskSerializerEncryptedBackupsUploadProtobufOnly","LSTaskSerializerEncryptedBackupsUploadSenderBackup","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","LSTaskSerializerSyncThreadCapabilities","LSTaskSerializerUnauthenticatedTask","LSTaskSerializerUpdateThreadName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[1]==="46"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSendMessageV2"),a[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,void 0],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.sequence([function(e){return a[1]==="144"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerMuteThreadV2"),a[0]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return a=[d[12],c.i64.to_string(d[13]),void 0,void 0],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}]):c.sequence([function(e){return a[1]==="146"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerRemoveThread"),a[0]).then(function(a){return a=a,d[16]=a[0],d[17]=a[1],a})},function(a){return a=[d[16],c.i64.to_string(d[17]),void 0,void 0],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}]):c.sequence([function(e){return a[1]==="32"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUpdateThreadName"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],d[22]=a[2],a})},function(a){return a=[d[20],c.i64.to_string(d[21]),void 0,d[22]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}]):c.sequence([function(e){return a[1]==="362"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerAcsIssueNextSync"),a[0]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],d[26]=a[2],a})},function(a){return a=[d[24],c.i64.to_string(d[25]),void 0,d[26]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}]):c.sequence([function(e){return a[1]==="50015"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsRestoreWithSerializer"),a[0]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],d[30]=a[2],a})},function(a){return a=[d[28],c.i64.to_string(d[29]),void 0,d[30]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}]):c.sequence([function(e){return a[1]==="319"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupAction"),a[0]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],d[34]=a[2],a})},function(a){return a=[d[32],c.i64.to_string(d[33]),void 0,d[34]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}]):c.sequence([function(e){return a[1]==="50026"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUpload"),a[0]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(a){return a=[d[36],c.i64.to_string(d[37]),void 0,void 0],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}]):c.sequence([function(e){return a[1]==="50042"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadProtobufOnly"),a[0]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],d[42]=a[2],a})},function(a){return a=[d[40],c.i64.to_string(d[41]),void 0,d[42]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}]):c.sequence([function(e){return a[1]==="700"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMetadataThreadIntegrityCheck"),a[0]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],d[46]=a[2],a})},function(a){return a=[d[44],c.i64.to_string(d[45]),void 0,d[46]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}]):c.sequence([function(e){return a[1]==="705"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerE2eeMessageIntegrityCheckV2"),a[0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],d[50]=a[2],a})},function(a){return a=[d[48],c.i64.to_string(d[49]),void 0,d[50]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}]):c.sequence([function(e){return a[1]==="50043"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsLoopingUpload"),a[0]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],d[54]=a[2],a})},function(a){return a=[d[52],c.i64.to_string(d[53]),void 0,d[54]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}]):c.sequence([function(e){return a[1]==="50048"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsOpenUpload"),a[0]).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return a=[d[56],c.i64.to_string(d[57]),void 0,void 0],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}]):c.sequence([function(e){return a[1]==="160013"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerSyncThreadCapabilities"),a[0]).then(function(a){return a=a,d[60]=a[0],d[61]=a[1],d[62]=a[2],a})},function(a){return a=[d[60],c.i64.to_string(d[61]),void 0,d[62]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}]):c.sequence([function(e){return a[1]==="903"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerDeleteChatHistory"),a[0]).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],d[66]=a[2],a})},function(a){return a=[d[64],c.i64.to_string(d[65]),void 0,d[66]],d[60]=a[0],d[61]=a[1],d[62]=a[2],d[63]=a[3],a}]):c.sequence([function(e){return a[1]==="50057"?c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerEncryptedBackupsUploadSenderBackup"),a[0]).then(function(a){return a=a,d[68]=a[0],d[69]=a[1],d[70]=a[2],a})},function(a){return a=[d[68],c.i64.to_string(d[69]),void 0,d[70]],d[64]=a[0],d[65]=a[1],d[66]=a[2],d[67]=a[3],a}]):c.resolve((e=[a[2],a[1],void 0,void 0],d[64]=e[0],d[65]=e[1],d[66]=e[2],d[67]=e[3],e))},function(a){return a=[d[64],d[65],d[66],d[67]],d[60]=a[0],d[61]=a[1],d[62]=a[2],d[63]=a[3],a}])},function(a){return a=[d[60],d[61],d[62],d[63]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],a}])},function(a){return a=[d[56],d[57],d[58],d[59]],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],a}])},function(a){return a=[d[52],d[53],d[54],d[55]],d[48]=a[0],d[49]=a[1],d[50]=a[2],d[51]=a[3],a}])},function(a){return a=[d[48],d[49],d[50],d[51]],d[44]=a[0],d[45]=a[1],d[46]=a[2],d[47]=a[3],a}])},function(a){return a=[d[44],d[45],d[46],d[47]],d[40]=a[0],d[41]=a[1],d[42]=a[2],d[43]=a[3],a}])},function(a){return a=[d[40],d[41],d[42],d[43]],d[36]=a[0],d[37]=a[1],d[38]=a[2],d[39]=a[3],a}])},function(a){return a=[d[36],d[37],d[38],d[39]],d[32]=a[0],d[33]=a[1],d[34]=a[2],d[35]=a[3],a}])},function(a){return a=[d[32],d[33],d[34],d[35]],d[28]=a[0],d[29]=a[1],d[30]=a[2],d[31]=a[3],a}])},function(a){return a=[d[28],d[29],d[30],d[31]],d[24]=a[0],d[25]=a[1],d[26]=a[2],d[27]=a[3],a}])},function(a){return a=[d[24],d[25],d[26],d[27]],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],a}])},function(a){return a=[d[20],d[21],d[22],d[23]],d[16]=a[0],d[17]=a[1],d[18]=a[2],d[19]=a[3],a}])},function(a){return a=[d[16],d[17],d[18],d[19]],d[12]=a[0],d[13]=a[1],d[14]=a[2],d[15]=a[3],a}])},function(a){return a=[d[12],d[13],d[14],d[15]],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a}])},function(a){return a=[d[8],d[9],d[10],d[11]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}])},function(e){return a[3]?c.sequence([function(a){return d[9]="60009"===d[1]||"60006"===d[1]||"60008"===d[1]||"60011"===d[1]||"765"===d[1]||"1006"===d[1]||"160009"===d[1]||"761"===d[1]||"1018"===d[1]||"632"===d[1]||"384"===d[1]||"384"===d[1],d[9]?d[1]!==void 0?(d[15]=["Deidentified task is being executed through the 'identified' path. Canceling task with label: ",d[1]].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSCoreSerializeTaskStoredProcedure] ","",d[15]].join("")),d[14]=c.createArray(),void 0!==void 0?d[16]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSCoreSerializeTaskStoredProcedure",d[15],d[14],c.i64.cast([0,3]))):c.resolve():c.resolve()},function(a){return c.resolve(d[8]=!1)},function(a){return d[9]||d[8]?(a=[void 0,void 0,void 0,void 0],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],a):(a=[d[0],d[1],d[2],d[3]],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],a),a=[d[10],d[11],d[12],d[13]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],a}]):c.sequence([function(e){return c.storedProcedure(b("LSTaskSerializerUnauthenticatedTask"),a[0],d[1],d[0]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],a})},function(a){return c.i64.neq(d[11],void 0)?c.storedProcedure(b("LSForceTaskExecutionImmediately"),d[11]):c.resolve()},function(a){return a=[d[8],c.i64.to_string(d[9]),void 0,d[10]],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],a}])},function(a){return a=[d[4],d[5],d[6],d[7]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreSerializeTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSerializeTaskStoredProcedure",["LSSerializeTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSerializeTask"),e.taskId,e.taskLabel,e.taskValue,e.requiresAuthentication);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingPendingTasksForQueue2",["I64","LSFactory","LSIntEnum","LSPendingTasksPluginType","LSSerializeTaskStoredProcedure","LSShape","LSVec","Promise","ReQL","XPlatReactCrypto","asyncToGeneratorRuntime","gkx","isNativeTask","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500,l=3e4,m=5,n=(e=c("qex")._("4835"))!=null?e:50,o=7;function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.lightspeed_task_context.get(b));return a==null||a.requiresAuthentication});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));return a==null?{context:void 0,failureCount:(i||(i=d("I64"))).neg_one,httpUrlOverride:void 0,minTimeToSyncTimestampMs:i.neg_one,pluginType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").LS_BROKER),queueName:""}:a});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b)));return a==null?0:(i||(i=d("I64"))).to_float(a.lastSyncRequestTimestampMs)});return u.apply(this,arguments)}function v(a,b,c){b=(i||(i=d("I64"))).equal(a.failureCount,(i||(i=d("I64"))).zero)||b;if(b)return 0;b=(i||(i=d("I64"))).to_float(a.failureCount)>o?(i||(i=d("I64"))).to_float(a.failureCount)-o:(i||(i=d("I64"))).to_float(a.failureCount);a=Math.min((1<<Math.min(b-1,o))*k,l);b=c+a;return Math.max(b-Date.now(),0)}function w(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(i||(i=d("I64"))).add(i.lsl_(i.of_float(a[0]),32),i.of_float(a[1]))}function x(){var a=(i||(i=d("I64"))).of_float(Date.now());return i.and_(i.or_(i.lsl_(a,22),i.and_(w(),i.castExn([0,4194303]))),i.castExn([2147483647,4294967295]))}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=x(),e=(yield a.network_requests.get(b,(i||(i=d("I64"))).neg_one));e==null?yield a.network_requests.add({epochId:c,failureCount:(i||(i=d("I64"))).zero,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.of_float(Date.now()),syncDatabaseId:i.neg_one,taskQueueName:b}):yield a.network_requests.put(babelHelpers["extends"]({},e,{epochId:c,lastSyncRequestTimestampMs:(i||(i=d("I64"))).of_float(Date.now())}));return c});return z.apply(this,arguments)}function A(a,b){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(b).filter(function(a){return a.epochId!=null})))!=null});return B.apply(this,arguments)}function C(a,b,c){var e=(i||(i=d("I64"))).to_float(a.minTimeToSyncTimestampMs),f=Date.now();e=e-f;f=e<=0;return f?v(a,b,c):e}function D(a){return a.httpUrlOverride!=null||(i||(i=d("I64"))).to_float(a.failureCount)>o}function E(a){return a.timeoutTimestampMs!=null?(i||(i=d("I64"))).to_float(a.timeoutTimestampMs)<=Date.now():!1}function F(a){return a===90..toString()||a===130..toString()||a===153..toString()}function G(a,b,c,d,e){e=e===0?void 0:e;return{failureCount:e,label:a,payload:b,queueName:c,taskId:d}}function H(a,b,c){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield c("LSSerializeTaskStoredProcedure")(c("LSFactory")(a),{requiresAuthentication:e,taskId:b.taskId,taskLabel:b.context,taskValue:b.taskValue}));e=a[0];var f=a[1];a[2];a=a[3];if(e==null){if(a!=null)return{minRetryDelayMs:a};return}return G(f,e,b.queueName,b.taskId,(i||(i=d("I64"))).to_float(b.failureCount))});return I.apply(this,arguments)}function J(a,b,c){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(b.context==null){yield a.pending_tasks["delete"](b.taskId);return}var d=E(b);if(d){yield a.pending_tasks["delete"](b.taskId);return}return H(a,b,c)});return K.apply(this,arguments)}function L(a,b){b=b>=(c("gkx")("26373")&&a===String(207)?n:m)||F(a);return!b}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.pending_tasks.get(b.taskId));c!=null&&(i||(i=d("I64"))).equal(b.firstExecutedTimestampMs,(i||(i=d("I64"))).zero)&&(yield a.pending_tasks.put(babelHelpers["extends"]({},c,{firstExecutedTimestampMs:(i||(i=d("I64"))).of_float(Date.now())})))});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(c.length===0)return{epochId:void 0,tasks:[]};var e=[],f=c[0].httpUrlOverride,g=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b.taskId)}))).some(Boolean);for(c of c){var j=c.httpUrlOverride===f,k=(yield p(a,c.taskId))===g;yield M(a,c);if(!j||!k)break;j=(yield J(a,c,g));if(j!=null&&j.payload!=null)e.push(j);else if((j==null?void 0:j.minRetryDelayMs)!=null){k=(yield a.pending_tasks.get(c.taskId));if(k!=null){yield a.pending_tasks.put(babelHelpers["extends"]({},k,{failureCount:(i||(i=d("I64"))).add((k=k.failureCount)!=null?k:(i||(i=d("I64"))).zero,i.one),minTimeToSyncTimestampMs:i.add(j.minRetryDelayMs,i.of_float(Date.now()))}))}}else yield a.pending_tasks["delete"](c.taskId);if(!L(c.context,e.length))break}return{epochId:void 0,tasks:e}});return P.apply(this,arguments)}function Q(a,b,c,d,e){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){e===void 0&&(e=!0);b=(yield O(a,b));var f=b.tasks;if(f.length===0)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:!1,workItemType:4};if(e===!0){f=(yield y(a,c));b.epochId=f}e=(yield r(a,c));return{httpUrlOverride:e.httpUrlOverride,networkPayload:b,nextSyncMs:void 0,queueName:c,skipRealtimeGateway:D(e),workItemType:d}});return R.apply(this,arguments)}function S(a,b,c){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield r(a,b)),g=(yield t(a,b));f=C(f,e,g);e=f!==0;if(e)return[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:f,queueName:b,skipRealtimeGateway:!1,workItemType:3}];g=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));f=e.filter(c("isNativeTask"));if(f.length>0){f=(yield Q(a,f,b,2,c("gkx")("4778")===!0));g.push(f)}f=e.filter(function(a){return!c("isNativeTask")(a)});if(f.length>0){e=(yield Q(a,f,b,1));g.push(e)}return g});return T.apply(this,arguments)}function U(a,b,c){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=!(yield A(a,b));return d?S(a,b,c):[{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b,skipRealtimeGateway:!1,workItemType:4}]});return V.apply(this,arguments)}function a(a,b){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.ignoreSoftDelay;b=b.queueName;a=(yield U(a,b,e));return a.map(function(a){var b;return d("LSShape").ofRecord({network_payload:d("LSShape").ofRecord({epoch_id:(b=a.networkPayload)==null?void 0:b.epochId,tasks:c("LSVec").ofArray(((b=(b=a.networkPayload)==null?void 0:b.tasks)!=null?b:[]).map(function(a){var b;return d("LSShape").ofRecord({failure_count:a.failureCount!=null?(i||(i=d("I64"))).of_float(a.failureCount):void 0,label:(b=a.label)!=null?b:void 0,payload:a.payload,queue_name:a.queueName,task_id:a.taskId})}))}),next_sync_ms:a.nextSyncMs!=null?(i||(i=d("I64"))).of_float(a.nextSyncMs):void 0,queue_name:a.queueName,skip_realtime_gateway:a.skipRealtimeGateway,work_item_type:(j||(j=d("LSIntEnum"))).ofNumber(a.workItemType)})})});return W.apply(this,arguments)}a._updateTaskIfNeeded=M;a._getHeadOfNormalQueue=r;a._lastSyncRequestTimestampForQueue=t;a._exponentialBackoffForNormalQueue=v;a._generateNewEpoch=x;a._openNewEpochForQueue=y;a._isEpochOpenForQueue=A;a._calculateDelayForNormalQueue=C;a._queueShouldSkipRealtimeGateway=D;a._isNativeTask=c("isNativeTask");a._taskIsTimedOut=E;a._taskShouldStopBatching=F;a._buildTaskPayloadExpressionForNormalTaskWithParameters=G;a._buildTaskPayloadExpressionForValidatedNormalTask=H;a._buildTaskPayloadExpressionForUnvalidatedNormalTask=J;a._workForNormalQueueWithoutDelay=Q;a._workForNormalQueueWithClosedEpoch=S;a._buildWorkForNormalQueue=U;a._buildNetworkPayloadShapeForTasks=O;a._canContinueBatchingForQueue=L;g["default"]=a}),98);
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),l=d("MessengerLogHistory").getInstance("client_init"),m=c("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",n={c:{},d:c("MqttWebDeviceID").clientID,s:k.NOT_SYNCING,u:c("pageID")};function o(a){function b(a){d("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(a),window.location.hostname)}var e=c("Cookie").get(m);if(e==null){var f;b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f));return}f=JSON.parse(e);if(f.u==null){b(babelHelpers["extends"]({},f,(e={},e[d("CurrentMessengerUser").getIDorEIMU()]=a,e)))}else{b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f))}}function a(){c("Cookie").clear(m)}function p(a){if(typeof a!=="object")return null;if(a==null)return null;var b=a.c,c=a.d,d=a.s;a=a.u;d=typeof d==="string"?k.cast(d):null;b=typeof b==="object"&&b!=null?Object.entries(b).reduce(function(a,b){var c=b[0];b=b[1];if(a==null||typeof b!=="string")return null;a[c]=b;return a},{}):null;if(typeof c!=="string")return null;if(d==null)return null;if(b==null)return null;return typeof a!=="string"?null:{c:b,d:c,s:d,u:a}}function q(){var a=c("Cookie").get(m);if(c("isStringNullOrEmpty")(a))return n;a=JSON.parse(a);var b=d("CurrentMessengerUser").getIDorEIMU(),e=p(a);a=typeof a==="object"&&a!=null?p(a[b]):null;return(b=a!=null?a:e)!=null?b:n}function r(a){var b=q();if(b.u!==c("pageID"))return;var e={};a.forEach(function(a){a[0];a=a[1];var b=a.currentCursor;a=a.groupId;b!=null&&(e[(i||(i=d("I64"))).to_string(a)]=b)});l.debug("Updated sync cookie to set syncing=false, saving latest cursors");o(babelHelpers["extends"]({},b,{c:e,s:k.NOT_SYNCING}))}var s=[1,2,d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function e(a){var b=d("SortedAsyncIterable").toArray(d("ReQL").union.apply(void 0,s.map(function(b){return b==null?d("ReQL").empty():d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b))})));if((h||(h=c("isPromise")))(b)){c("promiseDone")(b.then(function(a){r(a)}));return}r(b)}function f(){try{var a=q();l.debug("Updated sync cookie to set syncing=true");o(babelHelpers["extends"]({},a,{s:k.SYNCING,u:c("pageID")}))}catch(a){c("FBLogger")("messenger_web").catching(a).warn("[LS] Failed to sync cookie")}}g.Status=k;g.DEFAULT_COOKIE=n;g.clear=a;g.get=q;g.syncBeforeUnload=e;g.setSyncing=f}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function a(a){if(!c("MetaConfig")._("62"))return(h||(h=b("Promise"))).resolve(function(){});else return i.load().then(function(b){return b.flushExpiredDataTraces(a)})}g.watchForExpiredTraces=a}),98);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:21308","cr:582"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:21308"))!=null?a:b("cr:582");d=c;g["default"]=d}),98);
__d("LSDecryptProtobuf",["LSArrayGetObjectAt","LSBase64Decode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateDecryptedData.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][decryptProtobuf] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[8]=a[1]==null?c.i64.cast([0,0]):a[1],d[2]=c.i64.of_int32(a[3].length),c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(e){return d[14]=d[12].get("epoch_anon_id"),d[15]=d[12].get("epoch_root_key"),d[16]=c.createArray(),d[26]=(d[16].push(c.i64.cast([0,32])),d[16]),c.i64.ge(d[8],c.i64.cast([0,3]))?c.resolve(d[17]=void 0):c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[17]=d[26]}])},function(e){return c.i64.ge(d[8],c.i64.cast([0,4]))?(d[26]="_",d[18]=["message_key_in_epoch",d[26],c.blobs.to_string(d[14]),d[26],"cipher_version",d[26],c.i64.to_string(d[8]),d[26],"thread",d[26],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,3]))?(d[27]="_",d[26]=["message_key_in_epoch",d[27],c.blobs.to_string(d[14]),d[27],"cipher_version",d[27],c.i64.to_string(d[8]),d[27],"thread",d[27],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,2]))?(d[28]="_",d[27]=["message_key_in_epoch",d[28],c.blobs.to_string(d[14]),d[28],"cipher_version",d[28],c.i64.to_string(d[8])].join("")):d[27]=["message_key_in_epoch","_",c.blobs.to_string(d[14])].join(""),d[26]=d[27]),d[18]=d[26]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[19],d[17],d[15],d[16]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!1:d[21]=!0,d[21]?c.resolve(d[22]=void 0):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],a})},function(a){return d[22]=d[26]}])},function(e){return c.blobs.neq(d[22],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[0]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.blobs.neq(d[26],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedData.nop"),d[22],c.blobs.of_string(["message_thread","_",a[2]].join("")),d[26]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[27]=d[29]}]):c.resolve(d[27]=void 0)},function(a){return c.blobs.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[29]=["Failed to decrypt message. Epoch Anon ID: ",c.blobs.to_string(d[14]),", Encryption Version: ",c.i64.to_string(d[8])].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] ","",d[29]].join("")),d[30]=c.createArray(),void 0!==void 0?d[31]=(d[30].push(void 0),d[30]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure",[d[29]].join(""),d[30],c.i64.cast([0,3]))},function(a){return d[28]=void 0}])},function(a){return d[23]=d[28]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] Decryption message key is null"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure","Decryption message key is null",d[26],c.i64.cast([0,3]))},function(a){return d[23]=void 0}])},function(a){return c.blobs.neq(d[23],void 0)?(a=[d[23],void 0],d[24]=a[0],d[25]=a[1],a):(d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,101])),d[26].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[26].set("error_message",""),a=[void 0,d[26]],d[24]=a[0],d[25]=a[1],a),a=[d[24],d[25]],d[3]=a[0],d[4]=a[1],a}]):c.resolve((d[12]=c.i64.of_int32(a[3].length),c.i64.eq(d[12],c.i64.cast([0,0]))?(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,102])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1],e):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,103])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1],e),e=[d[13],d[14]],d[3]=e[0],d[4]=e[1],e))},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[11]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][decryptProtobuf] ",d[7],d[9],d[7],d[10],d[7],d[11]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"decryptProtobuf",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDecryptProtobufStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateTableAndSetShowError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(a){return b.forEach(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(115).add({statusId:b.i64.cast([0,0]),timestampMs:c[0],errorShouldBeShown:a[0]})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSConnectivityTruncateTableAndSetShowErrorStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.forEach(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return d[0]=c.i64.of_float(Date.now()),c.db.table(114).add({statusId:void 0,timestampMs:d[0],internetConnectionState:a[0]})},function(d){return c.storedProcedure(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],c.i64.cast([0,1])))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure";a.__tables__=["connectivity_status"];e.exports=a}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteAllAndInsertConnectivityStatus"),e.internetConnectionState);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSyncStoredProcedureUtils",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=c!=null?(h||(h=d("I64"))).of_float(Date.now()+c):b.minTimeToSyncTimestampMs;yield a.pending_tasks.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b.failureCount,h.one),minTimeToSyncTimestampMs:c}))});return j.apply(this,arguments)}function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.pending_tasks.index("queueNameTaskId")).getKeyRange(b)));if(b==null)return;return i(a,b,c)});return k.apply(this,arguments)}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{failureCount:(h||(h=d("I64"))).add(b==null?void 0:b.failureCount,h.one)}))});return l.apply(this,arguments)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.network_requests.get(b,c));if(b==null)return;yield a.network_requests.put(babelHelpers["extends"]({},b,{epochId:void 0,networkTaskIdentifier:void 0}))});return m.apply(this,arguments)}g.incrementPendingTaskFailureCount=i;g.incrementPendingTasksTaskFailureCount=a;g.incrementNetworkRequestsTaskFailureCount=c;g.closeEpoch=e}),98);
__d("LSHandleTaskSendFailureForQueue2",["I64","LSSyncStoredProcedureUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("LSSyncStoredProcedureUtils").incrementPendingTasksTaskFailureCount(a,b,c),yield d("LSSyncStoredProcedureUtils").incrementNetworkRequestsTaskFailureCount(a,b,(h||(h=d("I64"))).neg_one),yield d("LSSyncStoredProcedureUtils").closeEpoch(a,b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSHandleTaskSendSuccessForQueue2",["I64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.network_requests.get(b,(h||(h=d("I64"))).neg_one));if(c==null||c.epochId==null)return;yield a.network_requests["delete"](b,h.neg_one)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("LSInternetConnectionState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});f["default"]=a}),66);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,NEW_MEMBER_EXPORT:59,THREAD_POINT_QUERY:76,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,EB_POINT_QUERY_BUMP_MESSAGES:60,EB_POINT_QUERY_IN_ACT_FOR_INCOMING_RETRY_RECEIPT:61,EB_POINT_QUERY_IN_ACT_FOR_REPORTING:62,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_STATUS_UPDATE:63,EB_POINT_QUERY_IN_ACT_FOR_REPL_TEST:64,EB_POINT_QUERY_IN_ACT_FOR_FACEBOOK_APP_NSE_NOTIFICATION_RENDERING:65,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_EXPORT_HANDLING:66,EB_POINT_QUERY_IN_ACT_FOR_TAM_ACT_PROXY:67,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_MESSAGE:68,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_AI_BOT_MESSAGE:69,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_PERSISTENCE:70,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_INDEXING:71,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_NEW_MEMBER_HYDRATION:72,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_ECHO_TO_PROTO_CONVERSION:73,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_HISTORICAL_FUTURE_PROOF:74,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_REALTIME_BLOCKED:75,EB_POINT_QUERY_TO_FETCH_SENDER_DEVICE_KEYS:77,RESONANCE_UTILS:80,MPS_RESTORE_REVERB_RESTORE:81,REPORTING:82,CLIENT_MESSAGE_TRUNCATION:83,CALLING_XMA:84,EB_ACT_ATTACHMENT_RESTORE:85,EB_MEB_ATTACHMENT_ACCESS_CONTROL_RESTORE:86});f["default"]=a}),66);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("emptyFunction")}function d(){return(h||(h=b("Promise"))).resolve()}e={cleanup:c("emptyFunction"),logEvent:function(a){},onConnectionStatusChange:a,onReconnect:a,publish:d,subscribe:a};g["default"]=e}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(c("gkx")("21118"))return c("MqttWebDeviceID").clientID;else return c("ChannelClientID").getID()}b=h();function a(a){a==null&&c("FBLogger")("messenger_web").info("Missed provider type for deviceId");return a==="persisted"?d("LSCookie").get().d:h()}g.deviceId=b;g.getDeviceIdForProviderType=a}),98);
__d("MessengerPWAVersionForUserAgent",["isMessengerPWA","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("3005"))return void 0;var a=c("isMessengerPWA")();if(!a)return void 0;a=(a=new URL(window.location.href).searchParams.get("__pwa"))!=null?a:"1.0.0";return a}g["default"]=a}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","MessengerPWAVersionForUserAgent","Promise","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e="LSPlatformRealtimeTransport.NotConnected";var k="LSPlatformRealtimeTransport.Timeout";function l(a){var b=new Map();return{getAll:function(){return Array.from(b.values())},getOrStart:function(c){var d=c.toString(),e=b.get(d);e==null&&(e=a(c),b.set(d,e));return e}}}function m(){}function a(a,e,f){var g=new Map(),n={contents:m},o=new Set(),p=new Map(),q=[],r=l(function(b){b=a(b,f);q.push(b.subscribe(function(a){var b=JSON.parse(a),e=d("LSDynamicDependencies").downloadBootloaderDependencies(b.sp,b.nop,b.ntop);a=b.request_id;var f;if(a!=null){var h=g.get(a);h==null?f=!1:(c("clearTimeout")(h.timeoutId),h.resolve({downloadTask:e,payload:b,type:"taskresponse"}),g["delete"](a),f=!0)}else f=!1;if(!f){Array.from(p.entries()).forEach(function(a){return a[1](e,b)});return}}));q.push(b.onReconnect(function(){return n.contents()}));q.push(b.onConnectionStatusChange(function(a){o.forEach(function(b){return b(a)})}));return b});r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(d("LSMailboxInitialSyncCursor").syncChannel));return{cleanup:function(){q.forEach(function(a){return a()}),r.getAll().forEach(function(a){return a.cleanup()})},logEvent:function(a){r.getAll().forEach(function(b){return b.logEvent(a)})},onConnectionStatusChange:function(a){o.add(a);return function(){o["delete"](a)}},onReconnect:function(a){n.contents=a;return function(){n.contents=m}},publish:function(a){var f=a.databaseType,l=a.payload,m=a.queueName,n=a.requestId,o=a.syncChannel,p=a.type_;return new(h||(h=b("Promise")))(function(a,b){var h=r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(o));if((i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(3))){var q=c("setTimeout")(function(){h.logEvent("Timeout");var a=g.get(n);a!=null&&(g["delete"](n),a.reject({RE_EXN_ID:k}));return b({RE_EXN_ID:k})},3e4);g.set(n,{queueName:m,reject:b,resolve:a,timeoutId:q,timestamp:Date.now()})}q=c("MessengerPWAVersionForUserAgent")();c("promiseDone")(h.publish(d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({app_id:e,payload:l},q!=null?{pwa_version:q}:{},{request_id:n,type:p}))),p,f),function(){if(!(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(3)))return a({type:"noresponseexpected"})},function(a){b(a)})})},subscribeToNonTaskResponses:function(a){var b={};p.set(b,a);return function(){p["delete"](b)}}}}g.NotConnected=e;g.Timeout=k;g.LSPlatformRealtimeTransport=a}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM&&!(h||(h=c("ExecutionEnvironment"))).isInWorker}g["default"]=a}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function l(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(j||(j=b("Promise")))(function(a,b){f.contents=a})},k={onMQTTStateChanged:function(a){a==="Connected"?f.contents():a==="Disconnected"&&e.contents==="Connected"&&(g.contents=new(j||(j=b("Promise")))(function(a,b){f.contents=a})),e.contents=a}};e.contents==="Connected"&&f.contents();a.subscribeChannelEvents(k);return[function(){a.unsubscribeChannelEvents(k)},function(e,f,k){return g.contents.then(function(){return new(j||(j=b("Promise")))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}},qos:(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").Timeout});else return g(a)})})})}]}var m={contents:void 0};function a(a,b,d){if(c("shouldStubUnderlyingTransport")())return c("LSPlatformDefaultUnderlyingApi");var e=d.getInstance(b),f={getPublishMessages:function(){return k(a)}};e.registerExtraConnectPayloadProvider(f);var g={onMQTTStateChanged:function(a){var b=m.contents;if(b!=null)return b(a)}};e.subscribeChannelEvents(g);var h=e.subscribe("/ls_foreground_state",function(){});b=l(e);var i=b[0];b=b[1];return{cleanup:function(){e.unregisterExtraConnectPayloadProvider(f),d.shutdownAndClear(),e.unsubscribeChannelEvents(g),h(),i()},logEvent:function(a){},onConnectionStatusChange:function(a){m.contents=a;return function(){m.contents=void 0}},onReconnect:function(a){var b={contents:e.getConnectionState()},c={contents:b.contents==="Connected"},d={onMQTTStateChanged:function(d){d==="Connected"&&(c.contents&&b.contents!=="Connected"&&a(),c.contents=!0),b.contents=d}};e.subscribeChannelEvents(d);return function(){e.unsubscribeChannelEvents(d)}},publish:b,subscribe:function(a){return e.subscribe("/ls_resp",function(b){return a(b)})}}}g["default"]=a}),98);
__d("LSPlatformRequestId",[],(function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","justknobx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.pow(2,31)-1;a=function(){function a(){this.requests=new Map()}var b=a.prototype;b.schedule=function(a,b,d){var e=this.requests.get(b);e!=null&&c("clearTimeout")(e);e=c("justknobx")._("4435")?Math.min(d,h):d;this.requests.set(b,c("setTimeout")(a,e))};b.cleanup=function(){this.requests.forEach(function(a){return c("clearTimeout")(a)})};return a}();g["default"]=a}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","Promise","asyncToGeneratorRuntime","clearTimeout","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i="executeFirstBlockForSyncTransaction";a=function(){function a(a){this.eval=a,this.currentlyRunning=new Map()}var d=a.prototype;d.evalWhenReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d;try{yield a,d=c("setTimeout")(function(){c("FBLogger")("messenger_web").mustfix("waited longer than 30 seconds to eval sync script")},3e4),yield this.eval(b)}finally{c("clearTimeout")(d)}});function d(b,c){return a.apply(this,arguments)}return d}();d.$1=function(a){var c=this.currentlyRunning.get(a);c==null&&(c=(h||(h=b("Promise"))).resolve(),this.currentlyRunning.set(a,c));return c};a.getSyncScriptType=function(a){var b;if(!((b=a.sp)==null?void 0:b.includes(i)))return{status:"non-transactional"};b=function(){try{var b;return(b=JSON.parse(a.syncScript))==null?void 0:b.step}catch(a){return null}}();if(!Array.isArray(b)){c("FBLogger")("messenger_web").warn("Sync payload appears invalid.");return{status:"non-transactional"}}b=[b];while(b.length){var d=c("nullthrows")(b.shift());for(d of d)if(Array.isArray(d)){if(d[0]===5&&d[1]===i&&Array.isArray(d[2]))return{status:"transactional",syncGroup:parseInt(d[2][1],10)};b.push(d)}}return{status:"err"}};d.maybeEvalInOrderReceived=function(b,d){var e,f=this,g=a.getSyncScriptType(d),h=0;switch(g.status){case"err":c("FBLogger")("messenger_web").warn("Sync script sync group parsing failed: employed sprocs were %s",JSON.stringify((e=d.sp)!=null?e:void 0));break;case"non-transactional":return this.evalWhenReady(b,d);case"transactional":h=g.syncGroup;break}e=this.$1(h);g=e.then(function(){return f.evalWhenReady(b,babelHelpers["extends"]({},d,{priority:"sync_script"}))})["catch"](function(a){f.currentlyRunning["delete"](h);throw a});this.currentlyRunning.set(h,g);return g};return a}();g["default"]=a}),98);
__d("LSPlatformTaskSyncGroupId",[],(function(a,b,c,d,e,f){"use strict";a=-1;b=a;f["default"]=b}),66);
__d("MWPBeginHandlingPendingTasksForQueue",["LSBeginHandlingFireForgetTasksForQueueStoredProcedure","LSBeginHandlingPendingTasksForQueue2","LSFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=d.fireAndForgetTask,g=d.ignoreSoftDelay,h=d.queueName;d=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(e===!0){var b=(yield c("LSBeginHandlingFireForgetTasksForQueueStoredProcedure")(c("LSFactory")(a),{queueName:h}));b=b[0];return[b]}return c("LSBeginHandlingPendingTasksForQueue2")(a,{ignoreSoftDelay:g,queueName:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":37"));return d});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MWPlatformTaskUtils",["FBLogger","I64","JSScheduler","MetaConfig","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){function f(){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield a(e)}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to calculate work for task queue %s",e.queueName)}});return g.apply(this,arguments)}if((j||(j=d("I64"))).gt(e.priority,(j||(j=d("I64"))).zero)&&c("MetaConfig")._("78")){var h=function(){f()};(i||(i=c("JSScheduler"))).scheduleLoggingPriCallback(h)}else c("promiseDone")(f())}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{yield a(b)}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to calculate work for fire forget queue %s",b.queueName)}});return m.apply(this,arguments)}function a(a,c){var e=new Set(),f=[],g=[];g.push(a.tables.pending_tasks.index("queueNameTaskId").subscribe(function(a,b){var c;if(b.operation==="delete"){e.add(a[0]);return}a=b.operation==="put"&&b.prevValue==null||b.operation==="add";c=b.operation==="put"&&(j||(j=d("I64"))).compare(b.value.failureCount,(c=(c=b.prevValue)==null?void 0:c.failureCount)!=null?c:(j||(j=d("I64"))).zero)>0;(a||c)&&e.add(b.value.queueName);(b.operation==="add"&&b.value.dataTraceId==null||b.value.dataTraceId==="")&&f.push(b.value)}));g.push(a.tables.network_requests.subscribe(function(a,b){a=a[0];if(a==="")return;b.operation==="delete"?e.add(a):b.value.epochId==null&&e.add(a)}));g.push(a.subscribeToCommit(function(){var g=Array.from(e);e.clear();f=[];g.forEach(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).bounds({gte:[b]})));b!=null&&k(c,b)});return function(a){return e.apply(this,arguments)}}())}));return g}function e(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks))),c=new Set();for(b of b){if(c.has(b.queueName))continue;c.add(b.queueName);k(e,b)}})())}function n(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.pending_fire_and_forget_tasks)));yield (h||(h=b("Promise"))).all(g.map(function(a){return l(e,a)}));c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all(g.map(function(b){return a.pending_fire_and_forget_tasks["delete"](b.taskId)}))},"readwrite","background",void 0,f.id+":196"))})())}function o(a,b){var c=!1,d=[];d.push(a.tables.pending_fire_and_forget_tasks.subscribe(function(a,b){if(b.operation==="delete")return;a=b.operation==="put"&&b.prevValue==null||b.operation==="add";a&&(c=!0)}));d.push(a.subscribeToCommit(function(){c&&n(a,b),c=!1}));return d}g.checkQueuesWhenPendingTaskTableUpdates=a;g.checkAllPendingTasksForWork=e;g.checkAllFireForgetTasksForWork=n;g.checkQueuesWhenPendingFireForgetTaskTableUpdates=o}),98);
__d("LSPlatformTaskSystemTransport",["CurrentMessengerUser","FBLogger","I64","JSResourceForInteraction","JSScheduler","LSDatabaseProviderType","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSPlatformTaskSyncGroupId","LSShape","LSVec","MWPBeginHandlingPendingTasksForQueue","MWPBumpEntityKey","MWPlatformTaskUtils","Promise","ReQL","asyncToGeneratorRuntime","cr:4031","cr:6668","gkx","isInstamadillo","justknobx","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500,m=c("JSResourceForInteraction")("publishLSPlatformDeidentifiedPayload").__setRef("LSPlatformTaskSystemTransport"),n=new Set([632,765,60011,1006,1018].map(function(a){return a.toString()}));a=function(){function a(a,e,f,g){var h=this;this.key="ls";this.$8=!1;this.$18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("MWPBeginHandlingPendingTasksForQueue")(h.$1,{ignoreSoftDelay:b,queueName:a}));for(a of b)yield h.$17(d("LSShape").toRecord(a))});return function(b,c){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;this.$4=g;this.$8=d("LSDatabaseProviderType").isProviderPersisted(a);this.$5=new(c("LSPlatformRequestScheduler"))();this.$6=new(c("LSPlatformServerResponseHandler"))(f);this.$7=this.$9();this.$10()}var e=a.prototype;e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!(c("justknobx")._("3637")||c("isInstamadillo")())){var d=(yield this.$2.publish(b));return d}d=a.filter(function(a){return a.label!=null&&n.has(a.label)});if(d.length<a.length){d.length>0&&c("FBLogger")("maw_ohai").mustfix("Deidentifed tasks label %s sent together with normal tasks",d[0].label);a=(yield this.$2.publish(b));return a}a=d[0];d=(yield m.load());d=(yield d(babelHelpers["extends"]({},b,{taskLabel:a.label})));return d});function d(b,c){return a.apply(this,arguments)}return d}();e.$12=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendFailureForQueue2")(b,a)},"readwrite",void 0,void 0,f.id+":157")});function d(b){return a.apply(this,arguments)}return d}();e.$13=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield this.$1.runInTransaction(function(b){return c("LSHandleTaskSendSuccessForQueue2")(b,a)},"readwrite","background",void 0,f.id+":166")});function d(b){return a.apply(this,arguments)}return d}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSVec").toArray(a.tasks).slice(0).map(function(a){return d("LSShape").toRecord(a)});a=a[0];if(a==null)return;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(this.$1.tables.pending_tasks).getKeyRange(a.task_id)));return a==null?void 0:a.dataTraceId});function e(b){return a.apply(this,arguments)}return e}();e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;if(a.network_payload==null)return;var g=d("LSShape").toRecord(a.network_payload);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return g&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(g.tasks))});var i=this.$4;try{yield (j||(j=b("Promise"))).all(c("LSVec").toArray(g.tasks).map(function(a){return d("LSShape").toRecord(a)}).map(function(b){var g=c("LSPlatformRequestId").generate();return f.$11([b],{databaseType:c("LSPlatformTaskSyncGroupId"),payload:d("LSJson").stringify(d("LSShape").ofRecord({label:b.label,payload:b.payload,version:i})),queueName:a.queue_name,requestId:g,syncChannel:d("LSMailboxInitialSyncCursor").taskChannel,type_:(h||(h=d("I64"))).of_int32(e)})}))}catch(a){}});function e(b,c){return a.apply(this,arguments)}return e}();e.$16=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.network_payload==null)return;var f=d("LSShape").toRecord(a.network_payload),g=c("LSVec").toArray(f.tasks).map(function(a){return d("LSShape").toRecord(a)}),j=(yield this.$14(f));(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSending(f.tasks))});var l=c("LSPlatformRequestId").generate(),m,n=c("qex")._("789");if(n!=null&&n!=="default"){var o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").taskChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o)}try{m=(yield this.$11(g,{databaseType:c("LSPlatformTaskSyncGroupId"),payload:d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({},f,{version_id:this.$4},j==null?{}:{data_trace_id:j}))),queueName:a.queue_name,requestId:l,syncChannel:d("LSMailboxInitialSyncCursor").taskChannel,type_:(h||(h=d("I64"))).of_int32(e)}))}catch(b){if(n!=null&&n!=="default"){o=n+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").taskChannel)+"."+e.toString();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception");b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",o+".exception.notconnected")}b.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout"):b.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected?(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_notconnected"),c("FBLogger")("messenger_web").warn("Publishing a task to the server not connected")):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic"),c("FBLogger")("messenger_web").warn("Error while publishing a task for request: %s, error %s",e,JSON.stringify(b)));yield this.$12(a.queue_name)}if(m!=null&&m.type==="taskresponse")try{j=m.downloadTask;var p=m.payload;l={experiments:p.ex,sp:p.sp,syncScript:p.payload,target:p.target,taskNames:g.map(function(a){return a.label}).filter(Boolean)};this.$8||c("gkx")("10470")?yield this.$6.evalWhenReady(j,l):yield this.$3(l);yield this.$13(a.queue_name);(k||(k=c("JSScheduler"))).scheduleLoggingPriCallback(function(){return f&&(b("cr:6668")==null?void 0:b("cr:6668").recordTaskSent(f.tasks,p.payload))})}catch(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure"),c("FBLogger")("messenger_web").catching(b).mustfix("Encountered an error while processing a task response via realtime transport"),yield this.$12(a.queue_name)}});function e(b,c){return a.apply(this,arguments)}return e}();e.decideWhatToDoWithTask=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var h=this,i=(yield c("MWPBeginHandlingPendingTasksForQueue")(a,{fireAndForgetTask:g,ignoreSoftDelay:!1,queueName:e,transportKey:f}));c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a of i)yield h.$17(d("LSShape").toRecord(a))})())});function e(b,c,d,e){return a.apply(this,arguments)}return e}();e.$17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this.$5,f=this.$18;function g(a,b){e.schedule(function(){c("promiseDone")(f(a,!1))},a,b!=null?(h||(h=d("I64"))).to_float(b):l)}var i=(h||(h=d("I64"))).to_int32(a.work_item_type);switch(i){case 1:yield this.$16(a,3);break;case 5:yield this.$15(a,4);break;case 3:g(a.queue_name,a.next_sync_ms);break;case 2:yield b("cr:4031").handleLSWork(this.$1,a,d("CurrentMessengerUser").getAccountID());break;case 4:break;default:c("FBLogger")("messenger_web").warn("Unknown Task type of %s",i)}});function e(b){return a.apply(this,arguments)}return e}();e.$9=function(){var a=this,e=this.$1;return this.$2.onReconnect(function(){c("promiseDone")(e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).bounds({gte:d("ReQL").key("")})));yield (j||(j=b("Promise"))).all(e.map(function(b){b=b.taskQueueName;return c("LSHandleTaskSendFailureForQueue2")(a,b)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":473")),a.$10()})};e.$10=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.decideWhatToDoWithTask(a.$1,b)})};e.cleanup=function(){this.$7()};return a}();g["default"]=a}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DASM:1,JS:2,JSON:3});c=a;f["default"]=c}),66);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="24292451943674760"}),null);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(5);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("MAWAdminMsgType",[],(function(a,b,c,d,e,f){"use strict";a="currentUserAddedDevice";b="participantAddedDevice";c="currentUserRemovedDevice";d="participantRemovedDevice";e="currentUserUpdatedDevice";var g="participantUpdatedDevice",h="participantAddedYou",i="participantAddedYouAndOneUser",j="participantAddedYouAndMoreThanOneUsers",k="unknowUserAddedYou",l="unknowUserAddedYouAndOneUser",m="unknowUserAddedYouAndMoreThanOneUser",n="unknownUserAddedOneUser",o="unknownUserAddedTwoUser",p="unknownUserAddedMoreThanTwoUser",q="participantAddedOneUser",aa="participantAddedTwoUser",ba="participantAddedMoreThanTwoUser",ca="currentUserRemovedOneParticipant",da="currentUserRemovedTwoParticipant",ea="currentUserRemovedMoreThanTwoParticipant",fa="currentUserAddedOneParticipant",ga="currentUserAddedTwoParticipant",r="currentUserAddedMoreThanTwoParticipant",ha="participantRemovedYou",ia="participantRemovedYouAndOneUser",ja="participantRemovedYouAndMoreThanOneUsers",ka="unknowUserRemovedYou",la="unknowUserRemovedYouAndOneUser",ma="unknowUserRemovedYouAndMoreThanOneUser",na="unknownUserRemovedOneUser",oa="unknownUserRemovedTwoUser",pa="unknownUserRemovedMoreThanTwoUser",qa="participantRemovedOneUser",ra="participantRemovedTwoUser",sa="participantRemovedMoreThanTwoUser",ta="participantLeftGroup",ua="currentUserLeftGroup",va="participantCustomizeParticipantNickname",wa="participantClearParticipantNickname",xa="participantCustomizeCurrentUserNickname",ya="currentUserSetOwnNickname",za="currentUserClearOwnNickname",Aa="currentUserClearParticipantNickname",Ba="participantSetOwnNickname",Ca="participantClearOwnNickname",Da="participantClearCurrentUserNickname",Ea="currentUserCustomizeNickname",Fa="currentUserNamedGroup",Ga="unkonwnUserNamedGroup",Ha="participantNamedGroup",Ia="currentUserCustomizeHotlike",Ja="participantCustomizeHotlike",Ka="currentUserCustomizeTheme",La="currentUserCustomizeAITheme",Ma="currentUserCustomizePhoto",Na="participantCustomizeTheme",Oa="participantCustomizeAITheme",Pa="participantCustomizePhoto",Qa="currentUserSetAddModeAdminOnly",Ra="currentUserSetAddModeAllMembers",Sa="participantSetAddModeAdminOnly",Ta="participantSetAddModeAllMembers",Ua="serverSetAddModeAdminOnly",Va="serverSetAddModeAllMembers",s="currentUserPinnedMessage",t="currentUserUnpinnedMessage",u="participantPinnedMessage",v="participantUnpinnedMessage",w="currentUserLimitSharingDisabled",x="currentUserLimitSharingEnabled",y="participantLimitSharingDisabled",z="participantLimitSharingEnabled",A="cutoverThreadAdminMessage",B="cutoverIGDThreadAdminMessage",C="cutoverRollbackAdminMessage",D="dualThreadCutoverAdminMessage",E="e2eeThreadDescription",F="e2eeThreadUKOSAAdminMessage",Wa="debugMsg",Xa="reachabilityError",Ya="twoUsersConnected",Za="twoUsersConnectedOneMSplit",G="CurrentUserCreatedPoll",H="ParticipantCreatedPoll",I="CurrentUserAddedPollOption",J="ParticipantAddedPollOption",K="CurrentUserAddedMultiplePollOptions",L="ParticipantAddedMultiplePollOptions",M="CurrentUserAddedPollVote",N="ParticipantAddedPollVote",O="CurrentUserAddedMultiplePollVotes",P="ParticipantAddedMultiplePollVotes",Q="CurrentUserRemovedPollVote",R="ParticipantRemovedPollVote",S="CurrentUserRemovedMultiplePollVotes",T="ParticipantRemovedMultiplePollVotes",U="CurrentUserMixedPollUpdate",V="ParticipantMixedPollUpdate",W="CurrentUserChangedPollVote",X="ParticipantChangedPollVote",Y="CurrentUserChangedMultiplePollVotes",Z="ParticipantChangedMultiplePollVotes",$="PollUnsentUpdate";r={CURRENT_USER_ADDED_DEVICE:a,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:r,CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:K,CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:O,CURRENT_USER_ADDED_ONE_PARTICIPANT:fa,CURRENT_USER_ADDED_POLL_OPTION:I,CURRENT_USER_ADDED_POLL_VOTE:M,CURRENT_USER_ADDED_TWO_PARTICIPANTS:ga,CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:Y,CURRENT_USER_CHANGED_POLL_VOTE:W,CURRENT_USER_CLEAR_OWN_NICKNAME:za,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:Aa,CURRENT_USER_CREATED_POLL:G,CURRENT_USER_CUSTOMIZE_AI_THEME:La,CURRENT_USER_CUSTOMIZE_HOTLIKE:Ia,CURRENT_USER_CUSTOMIZE_NICKNAME:Ea,CURRENT_USER_CUSTOMIZE_PHOTO:Ma,CURRENT_USER_CUSTOMIZE_THEME:Ka,CURRENT_USER_LEFT_GROUP:ua,CURRENT_USER_LIMIT_SHARING_DISABLED:w,CURRENT_USER_LIMIT_SHARING_ENABLED:x,CURRENT_USER_MIXED_POLL_UPDATE:U,CURRENT_USER_NAMED_GROUP:Fa,CURRENT_USER_PINNED_MESSAGE:s,CURRENT_USER_REMOVED_DEVICE:c,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:ea,CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:S,CURRENT_USER_REMOVED_ONE_PARTICIPANT:ca,CURRENT_USER_REMOVED_POLL_VOTE:Q,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:da,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:Qa,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:Ra,CURRENT_USER_SET_OWN_NICKNAME:ya,CURRENT_USER_UNPINNED_MESSAGE:t,CURRENT_USER_UPDATED_DEVICE:e,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:B,CUTOVER_ROLLBACK_ADMIN_MESSAGE:C,CUTOVER_THREAD_ADMIN_MESSAGE:A,DEBUG_MSG:Wa,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:D,E2EE_THREAD_DESCRIPTION:E,E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:F,PARTICIPANT_ADDED_DEVICE:b,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:ba,PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:L,PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:P,PARTICIPANT_ADDED_ONE_USER:q,PARTICIPANT_ADDED_POLL_OPTION:J,PARTICIPANT_ADDED_POLL_VOTE:N,PARTICIPANT_ADDED_TWO_USER:aa,PARTICIPANT_ADDED_YOU:h,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:j,PARTICIPANT_ADDED_YOU_AND_ONE_USER:i,PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:Z,PARTICIPANT_CHANGED_POLL_VOTE:X,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:Da,PARTICIPANT_CLEAR_OWN_NICKNAME:Ca,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:wa,PARTICIPANT_CREATED_POLL:H,PARTICIPANT_CUSTOMIZE_AI_THEME:Oa,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:xa,PARTICIPANT_CUSTOMIZE_HOTLIKE:Ja,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:va,PARTICIPANT_CUSTOMIZE_PHOTO:Pa,PARTICIPANT_CUSTOMIZE_THEME:Na,PARTICIPANT_LEFT_GROUP:ta,PARTICIPANT_LIMIT_SHARING_DISABLED:y,PARTICIPANT_LIMIT_SHARING_ENABLED:z,PARTICIPANT_MIXED_POLL_UPDATE:V,PARTICIPANT_NAMED_GROUP:Ha,PARTICIPANT_PINNED_MESSAGE:u,PARTICIPANT_REMOVED_DEVICE:d,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:sa,PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:T,PARTICIPANT_REMOVED_ONE_USER:qa,PARTICIPANT_REMOVED_POLL_VOTE:R,PARTICIPANT_REMOVED_TWO_USER:ra,PARTICIPANT_REMOVED_YOU:ha,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:ja,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:ia,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:Sa,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:Ta,PARTICIPANT_SET_OWN_NICKNAME:Ba,PARTICIPANT_UNPINNED_MESSAGE:v,PARTICIPANT_UPDATED_DEVICE:g,POLL_UNSENT_UPDATE:$,REACHABILITY_ERROR:Xa,SERVER_SET_ADD_MODE_ADMIN_ONLY:Ua,SERVER_SET_ADD_MODE_ALL_MEMBERS:Va,TWO_USERS_CONNECTED:Ya,TWO_USERS_CONNECTED_ONE_MSPLIT:Za,UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:p,UNKNOWN_USER_ADDED_ONE_USER:n,UNKNOWN_USER_ADDED_TWO_USER:o,UNKNOWN_USER_ADDED_YOU:k,UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:m,UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:l,UNKNOWN_USER_NAMED_GROUP:Ga,UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER:pa,UNKNOWN_USER_REMOVED_ONE_USER:na,UNKNOWN_USER_REMOVED_TWO_USER:oa,UNKNOWN_USER_REMOVED_YOU:ka,UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:ma,UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER:la};f.CURRENT_USER_ADDED_DEVICE=a;f.CURRENT_USER_PINNED_MESSAGE=s;f.CURRENT_USER_UNPINNED_MESSAGE=t;f.PARTICIPANT_PINNED_MESSAGE=u;f.PARTICIPANT_UNPINNED_MESSAGE=v;f.CURRENT_USER_LIMIT_SHARING_DISABLED=w;f.CURRENT_USER_LIMIT_SHARING_ENABLED=x;f.PARTICIPANT_LIMIT_SHARING_DISABLED=y;f.PARTICIPANT_LIMIT_SHARING_ENABLED=z;f.CUTOVER_THREAD_ADMIN_MESSAGE=A;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=B;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=C;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=D;f.E2EE_THREAD_DESCRIPTION=E;f.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE=F;f.CURRENT_USER_CREATED_POLL=G;f.PARTICIPANT_CREATED_POLL=H;f.CURRENT_USER_ADDED_POLL_OPTION=I;f.PARTICIPANT_ADDED_POLL_OPTION=J;f.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS=K;f.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS=L;f.CURRENT_USER_ADDED_POLL_VOTE=M;f.PARTICIPANT_ADDED_POLL_VOTE=N;f.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES=O;f.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES=P;f.CURRENT_USER_REMOVED_POLL_VOTE=Q;f.PARTICIPANT_REMOVED_POLL_VOTE=R;f.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES=S;f.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES=T;f.CURRENT_USER_MIXED_POLL_UPDATE=U;f.PARTICIPANT_MIXED_POLL_UPDATE=V;f.CURRENT_USER_CHANGED_POLL_VOTE=W;f.PARTICIPANT_CHANGED_POLL_VOTE=X;f.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES=Y;f.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES=Z;f.POLL_UNSENT_UPDATE=$;f.ADMIN_MSG_TYPE=r}),66);
__d("MAWLocalizationType",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";e="unknownUserCreatedGroup";f="currentUserGotPromoted";var h="currentUserGotDemoted",i="participantGotPromoted",j="participantGotDemoted",k="participantPromotedYou",l="participantDemotedYou",m="currentUserPromotedParticipant",n="currentUserDemotedParticipant",o="participantDemotedParticipant",p="participantPromotedParticipant",q="participantSelfDemoted",r="currentUserSelfDemoted",s="currentUserSendText",t="currentUserSendImage",u="currentUserSendVideo",v="currentUserSendAudio",w="currentUserSendGif",x="currentUserSendSticker",y="participantSendText",z="participantSendTextInGroup",A="participantSendImage",B="participantSendVideo",C="participantSendAudio",D="participantSendGif",E="participantSendSticker",F="unavailableSnippet",G="unknownUserEphemeralSettingTurnedOnSeconds",H="unknownUserEphemeralSettingTurnedOnMinutes",I="unknownUserEphemeralSettingTurnedOnHours",J="unknownUserEphemeralSettingTurnedOnDays",K="youEphemeralSettingTurnedOnSeconds",L="youEphemeralSettingTurnedOnMinutes",M="youEphemeralSettingTurnedOnHours",N="youEphemeralSettingTurnedOnDays",O="participantEphemeralSettingTurnedOnSeconds",P="participantEphemeralSettingTurnedOnMinutes",Q="participantEphemeralSettingTurnedOnHours",R="participantEphemeralSettingTurnedOnDays",S="unknownUserEphemeralSettingChangeSeconds",T="unknownUserEphemeralSettingChangeMinutes",U="unknownUserEphemeralSettingChangeHours",V="unknownUserEphemeralSettingChangeDays",W="youEphemeralSettingChangeSeconds",X="youEphemeralSettingChangeMinutes",Y="youEphemeralSettingChangeHours",aa="youEphemeralSettingChangeDays",ba="participantEphemeralSettingChangeSeconds",ca="participantEphemeralSettingChangeMinutes",da="participantEphemeralSettingChangeHours",ea="participantEphemeralSettingChangeDays",fa="unknownUserEphemeralSettingTurnedOff",ga="youEphemeralSettingTurnedOff",ha="participantEphemeralSettingTurnedOff",ia="ephemeralSettingsAutoReset",ja="currentUserUnsentMessage",ka="participantUnsentMessage",la="participantReactMessage",ma="participantReactMessageInGroup",Z="unknownUserEphemeralTakeScreenshot",na="unknownUserEphemeralRecordScreen",oa="youEphemeralTakeScreenshot",pa="youEphemeralRecordScreen",qa="participantEphemeralTakeScreenshot",ra="participantEphemeralRecordScreen",sa="icdcAlertAdminMessage",ta="yourDeviceICDCAlertAdminMessage",$="currentUserSendAttachment",ua="participantSendAttachment",va="currentUserSentPost",wa="currentUserSentReel",xa="currentUserSentStory",ya="currentUserSentEvent",za="currentUserMentionedStoryIG",Aa="currentUserReceivedStoryMentionIG",Ba="participantSentPost",Ca="participantSentReel",Da="participantSentStory",Ea="participantSentEvent",Fa="currentUserSentStoryHighlight",Ga="participantSentStoryHighlight",Ha="currentUserMissedAudioCall",Ia="participantMissedAudioCall",Ja="currentUserMissedVideoCall",Ka="participantMissedVideoCall",La="currentUserAudioCalled",Ma="participantAudioCalled",Na="currentUserVideoCalled",Oa="participantVideoCalled",Pa="currentUserStartedGroupAudioCall",Qa="participantStartedGroupAudioCall",Ra="currentUserStartedGroupVideoCall",Sa="participantStartedGroupVideoCall",Ta="currentUserBumpedOwnMessage",Ua="currentUserBumpedMessage",Va="participantBumpedOwnMessage",Wa="participantBumpedParticipantMessage",Xa="participantBumpedCurrentUserMessage",Ya="userSendUnavailableMessage",Za="userSendEncryptedMessage",$a="currentUserSendUnrenderableMessage",ab="participantSendUnrenderableMessage",bb="currentUserSendLocationFallback",cb="participantSendLocation",db="currentUserSendLiveLocationFallback",eb="participantSendLiveLocation",fb="currentUserSendLocation",gb="participantSendLocation",hb="currentUserSendPollCreationFallback",ib="participantSendPollCreation",jb="currentUserSendContactShareFallback",kb="participantSendContactShareFallback",lb="currentUserSendContactShare",mb="participantSendContactShare",nb="currentUserSendAIContactShare",ob="participantSendAIContactShare",pb="currentUserSendStoryMentionFallback",qb="currentUserSendStoryMention",rb="participantSendStoryMention",sb="participantSendStoryMentionFallback",tb="currentUserSendPostMentionFallback",ub="participantSendPostMentionFallback",vb="currentUserSendMemoriesShare",wb="participantSendMemoriesShare",xb="currentUserSendPostMention",yb="participantSendPostMention",zb="currentUserSendNoteMentionFallback",Ab="participantSendNoteMentionFallback",Bb="messengerMemoryEncryptedMessageFallback",Cb="rtcXMAMessageFallback",Db="metaAISendMessageFallback",Eb="currentUserSendBumpMessageFallback",Fb="participantSendBumpMessageFallback",Gb="participantSendBumpMessageOriginalUnavailable",Hb="currentUserSendStickerReceiverFetchMessageFallback",Ib="participantSendStickerReceiverFetchMessageFallback",Jb="viewOncePhotoMessageFallback",Kb="viewOnceVideoMessageFallback",Lb="unavailableStory",Mb="currentUserLimitSharingDisabled",Nb="currentUserLimitSharingEnabled",Ob="participantLimitSharingDisabled",Pb="participantLimitSharingEnabled";d=babelHelpers["extends"]({},d("MAWAdminMsgType").ADMIN_MSG_TYPE,{CURRENT_USER_AUDIO_CALLED:La,CURRENT_USER_BUMPED_MESSAGE:Ua,CURRENT_USER_BUMPED_OWN_MESSAGE:Ta,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_DEMOTED_PARTICIPANT:n,CURRENT_USER_GOT_DEMOTED:h,CURRENT_USER_GOT_PROMOTED:f,CURRENT_USER_LIMIT_SHARING_DISABLED:Mb,CURRENT_USER_LIMIT_SHARING_ENABLED:Nb,CURRENT_USER_MENTIONED_STORY_IG:za,CURRENT_USER_MISSED_AUDIO_CALL:Ha,CURRENT_USER_MISSED_VIDEO_CALL:Ja,CURRENT_USER_PROMOTED_PARTICIPANT:m,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Aa,CURRENT_USER_SELF_DEMOTED:r,CURRENT_USER_SEND_AI_CONTACT_SHARE:nb,CURRENT_USER_SEND_ATTACHMENT:$,CURRENT_USER_SEND_AUDIO:v,CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:Eb,CURRENT_USER_SEND_CONTACT_SHARE:lb,CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:jb,CURRENT_USER_SEND_GIF:w,CURRENT_USER_SEND_IMAGE:t,CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:db,CURRENT_USER_SEND_LOCATION:fb,CURRENT_USER_SEND_LOCATION_FALLBACK:bb,CURRENT_USER_SEND_MEMORIES_SHARE:vb,CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:zb,CURRENT_USER_SEND_POLL_CREATION_FALLBACK:hb,CURRENT_USER_SEND_POST_MENTION:xb,CURRENT_USER_SEND_POST_MENTION_FALLBACK:tb,CURRENT_USER_SEND_STICKER:x,CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Hb,CURRENT_USER_SEND_STORY_MENTION:qb,CURRENT_USER_SEND_STORY_MENTION_FALLBACK:pb,CURRENT_USER_SEND_TEXT:s,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:$a,CURRENT_USER_SEND_VIDEO:u,CURRENT_USER_SENT_EVENT:ya,CURRENT_USER_SENT_POST:va,CURRENT_USER_SENT_REEL:wa,CURRENT_USER_SENT_STORY:xa,CURRENT_USER_SENT_STORY_HIGHLIGHT:Fa,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:Pa,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:Ra,CURRENT_USER_UNSENT_MESSAGE:ja,CURRENT_USER_VIDEO_CALLED:Na,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:ia,ICDC_ALERT_ADMIN_MESSAGE:sa,MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:Bb,META_AI_SEND_MESSAGE_FALLBACK:Db,PARTICIPANT_AUDIO_CALLED:Ma,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:Xa,PARTICIPANT_BUMPED_OWN_MESSAGE:Va,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Wa,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_DEMOTED_PARTICIPANT:o,PARTICIPANT_DEMOTED_YOU:l,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:ra,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:ea,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:da,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:ca,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ba,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:ha,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:R,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Q,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:P,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:O,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:qa,PARTICIPANT_GOT_DEMOTED:j,PARTICIPANT_GOT_PROMOTED:i,PARTICIPANT_LIMIT_SHARING_DISABLED:Ob,PARTICIPANT_LIMIT_SHARING_ENABLED:Pb,PARTICIPANT_MISSED_AUDIO_CALL:Ia,PARTICIPANT_MISSED_VIDEO_CALL:Ka,PARTICIPANT_PROMOTED_PARTICIPANT:p,PARTICIPANT_PROMOTED_YOU:k,PARTICIPANT_REACT_MESSAGE:la,PARTICIPANT_REACT_MESSAGE_IN_GROUP:ma,PARTICIPANT_SELF_DEMOTED:q,PARTICIPANT_SEND_AI_CONTACT_SHARE:ob,PARTICIPANT_SEND_ATTACHMENT:ua,PARTICIPANT_SEND_AUDIO:C,PARTICIPANT_SEND_BUMP_MESSAGE:Fb,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK:Gb,PARTICIPANT_SEND_CONTACT_SHARE:mb,PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:kb,PARTICIPANT_SEND_GIF:D,PARTICIPANT_SEND_IMAGE:A,PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:eb,PARTICIPANT_SEND_LOCATION:gb,PARTICIPANT_SEND_LOCATION_FALLBACK:cb,PARTICIPANT_SEND_MEMORIES_SHARE:wb,PARTICIPANT_SEND_NOTE_MENTION_FALLBACK:Ab,PARTICIPANT_SEND_POLL_CREATION_FALLBACK:ib,PARTICIPANT_SEND_POST_MENTION:yb,PARTICIPANT_SEND_POST_MENTION_FALLBACK:ub,PARTICIPANT_SEND_STICKER:E,PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Ib,PARTICIPANT_SEND_STORY_MENTION:rb,PARTICIPANT_SEND_STORY_MENTION_FALLBACK:sb,PARTICIPANT_SEND_TEXT:y,PARTICIPANT_SEND_TEXT_IN_GROUP:z,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:ab,PARTICIPANT_SEND_VIDEO:B,PARTICIPANT_SENT_EVENT:Ea,PARTICIPANT_SENT_POST:Ba,PARTICIPANT_SENT_REEL:Ca,PARTICIPANT_SENT_STORY:Da,PARTICIPANT_SENT_STORY_HIGHLIGHT:Ga,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:Qa,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:Sa,PARTICIPANT_UNSENT_MESSAGE:ka,PARTICIPANT_VIDEO_CALLED:Oa,RTC_XMA_FALLBACK:Cb,UNAVAILABLE_SNIPPET:F,UNAVAILABLE_STORY:Lb,UNKNOWN_USER_CREATED_GROUP:e,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:na,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:V,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:U,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:T,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:S,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:fa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:J,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:I,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:H,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:G,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:Z,USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:Za,USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:Ya,VIEW_ONCE_PHOTO_MESSAGE:Jb,VIEW_ONCE_VIDEO_MESSAGE:Kb,YOU_EPHEMERAL_RECORD_SCREEN:pa,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:aa,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:Y,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:X,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:W,YOU_EPHEMERAL_SETTING_TURNED_OFF:ga,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:N,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:M,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:L,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:K,YOU_EPHEMERAL_TAKE_SCREENSHOT:oa,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:ta});g.CURRENT_USER_CREATED_GROUP=b;g.CURRENT_USER_SEND_TEXT=s;g.CURRENT_USER_SEND_IMAGE=t;g.CURRENT_USER_SEND_VIDEO=u;g.CURRENT_USER_SEND_AUDIO=v;g.CURRENT_USER_SEND_GIF=w;g.CURRENT_USER_SEND_STICKER=x;g.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=G;g.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=Z;g.CURRENT_USER_SEND_ATTACHMENT=$;g.LOCALIZATION_TYPE=d}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:a=b[0];c=b[1];b[2];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=b[0];a=b[1];c=b[2];b[3];return{contactIds:[e],contents:[a,c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWMediaGalleryEBTaggingUtils",["LSThreadMediaGalleryGroup","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("13725")}function b(a){return a===c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS}g.isMediaGalleryEBTaggingRestoreEnabled=a;g.isMediaGalleryGroupSupportedForTaggedRestore=b}),98);
__d("MAWMediaGalleryM2Utils",["MAWMediaGalleryEBTaggingUtils","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("4219")}function a(){return c("justknobx")._("3060")&&(h()||d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryEBTaggingRestoreEnabled())}function b(){return c("gkx")("4219")}g.isMediaGalleryM2Enabled=h;g.shouldSkipSyncToLSDB=a;g.isFilesEBRestoreEnabled=b}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.author,e=a.msgId;c=d("WAJids").authorToUserId(c,b);b=(b=a.quote)==null?void 0:(b=b.content.msgContent)==null?void 0:b.content;a=(a=a.quote)==null?void 0:a.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:a!=null?a*1e3:void 0,replyMessageText:b,replySourceId:e,replyToUserId:c}}g["default"]=a}),98);
__d("MAWBridgeMsg",["FBLogger","LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMediaGalleryM2Utils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","WATimeUtils","getReplyContentForNoteReply","gkx","justknobx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"]);i=function(){return a};return a}function j(a,b){if(!c("gkx")("15418"))return;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType))return;a=(a=a.quote)==null?void 0:a.content;if(a==null||(a==null?void 0:a.msgId)==null&&(a==null?void 0:a.sourceId)==null)return;var e=a.author,f=a.msgId,g=a.plaintextHash,h=a.sourceId,i=a.ts,j=a.type;a=a.xmaMessageType;if(j===d("WAMsgType").NOTE_REPLY)return;e=d("WAJids").authorToUserId(e,b);if(j===d("MAWMsgType").MSG_TYPE.XMA&&d("MAWXMAUtils").isXMAStoryReply(a))return{replyType:"STORY",storyMediaPlaintextHash:g,storyOwnerId:e,storyUrl:c("nullthrows")(h),timestampMs:i!=null?d("WATimeUtils").castUnixTimeToMillisTime(i):null};if(f!=null)return{replyToMsgId:f,replyType:"MESSAGE"}}function k(a,b,e){var f,g;f=((f=a.quote)==null?void 0:f.content.type)===d("WAMsgType").NOTE_REPLY;if(f)return c("getReplyContentForNoteReply")(a,e);f=(f=a.quote)==null?void 0:f.content;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d("WAJids").authorToUserId(h,e);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d("WAJids").interpretAsUserJid(l));m!=null&&(k=d("WAJids").userIdFromJid(m))}i!=null&&a.plaintextHash==null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content");return{isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:i,replyPlaintextHash:(l=a.plaintextHash)!=null?l:void 0,replySenderIsMe:h===d("WAJids").AUTHOR_ME||k===e,replySourceId:j,replySourceTimestampMs:a.sortOrderMs,replyStatusType:i!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:k,storyShareAuthor:b==null?void 0:b.storyShareAuthor}}if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null)return;l=f||{};h=l.author;j=l.mediaId;a=l.msgId;i=l.plaintextHash;k=l.sourceId;var n=l.specialTextSize,o=l.ts,p=l.type;l=l.xmaMessageType;o=o!=null?o*1e3:void 0;g=f.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(l)?(g=f.msgContent)==null?void 0:g.content:void 0;var q=d("WAJids").authorToUserId(h,e),r=f.type===d("MAWMsgType").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;h=h===d("WAJids").AUTHOR_ME||q===e;e=b||{};b=e.replyMediaId;var s=e.replyMediaPreviewHeight,t=e.replyMediaPreviewWidth,u=e.replyMediaUrlFallback,v=e.replyPlaintextHash;e=e.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(l)){return{isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(l),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(l),isStoryReply:!0,replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:j,replyPlaintextHash:(f=v!=null?d("WAHashUtils").stringToPlaintextHash(v):i)!=null?f:void 0,replySenderIsMe:h,replySourceId:k,replySourceTimestampMs:o,replyStatusType:j!=null?d("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:q}}i=d("MAWImageUtils").boundHeightWidth(s,t,96*.8);f=i.height;k=i.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(l),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(l),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:p===d("MAWMsgType").MSG_TYPE.STICKER?f:s,replyMediaPreviewWidth:p===d("MAWMsgType").MSG_TYPE.STICKER?k:t,replyMediaUrlFallback:u,replyMentionedJids:r,replyMessageText:g,replyPlaintextHash:v!=null?d("WAHashUtils").stringToPlaintextHash(v):void 0,replySenderIsMe:h,replySourceId:a,replySourceTimestampMs:o,replyStatusType:n===1||n===2||n===3?d("MAWMsgType").MSG_TYPE.STICKER:p,replyToUserId:q,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL);case 2:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)}}function b(a,b,e,f,g){var h,l,m=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());h=((h=a.isForwarded)!=null?h:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;l=(l=a.forwardingScore)!=null?l:0;var n=d("MAWDbMsg").getCanonicalTsFromMsg(a),o=k(a,e,m),p=j(a,m),q=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),r=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),s=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),t=d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),u=d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),v=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),w=d("MAWXMAUtils").isXMAPostPrivateReply(a.xmaMessageType),x=d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),y=a.messageExpirationTs!=null&&a.messageExpirationTs<=d("WATimeUtils").unixTime(),z=d("MAWDbMsg").getSortOrderWithFallback(a),A=a.externalId;f=c("justknobx")._("3424")&&d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()&&a.source==="media_restore"?"EncryptedBackupsMedia":f;(e==null?void 0:e.replyPlaintextHash)!==(o==null?void 0:o.replyPlaintextHash)&&c("FBLogger")("messenger_web").warn("replayPlaintextHash mismatch. From replyMeta is null: %s, from replyContent is null: %s. Message type: %s",(e==null?void 0:e.replyPlaintextHash)==null,(o==null?void 0:o.replyPlaintextHash)==null,a.type);e=(e==null?void 0:e.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(e==null?void 0:e.replyPlaintextHash):(e=o==null?void 0:o.replyPlaintextHash)!=null?e:void 0;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:var B=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},o,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:a.msgContent.commands,content:B,editCount:a.editCount,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:A,forwardingScore:l,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,replyContent:p,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,specialTextSize:a.specialTextSize,transportKey:f,ts:n,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers["extends"]({},o,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,ephemeralDurationInSec:(B=a.ephemeralSetting)==null?void 0:B.ephemeralExpirationInSec,externalId:A,forwardingScore:l,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyContent:p,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},o,{ack:a.ack,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyContent:p,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type,unsupportedType:a.msgContent.subtype});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{ack:a.ack,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},o,{ack:a.ack,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyContent:p,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return{ack:a.ack,adminContent:(B=a.msgContent)==null?void 0:(B=B.adminMsgContent)==null?void 0:B.map(function(a){return a==="Facebook User"?"0":a}),adminType:(B=a.msgContent)==null?void 0:B.adminType,adminVersion:(B=a.msgContent)==null?void 0:B.version,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{ack:a.ack,chatJid:a.threadJid,externalId:A,forwardingScore:l,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredMsg:y,isForwarded:h,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var C;B=(B=a.msgContent)==null?void 0:B.content;C=B!=null?d("MAWVault").isVaulted(B)?(C=a.msgContent)==null?void 0:C.content:d("MAWVault").vault(B):void 0;s&&C==null&&d("WALogger").WARN(i());B=c("justknobx")._("1191")||r||s?C:void 0;return babelHelpers["extends"]({},o,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,commands:(s=a.msgContent)==null?void 0:s.commands,content:B,ephemeralDurationInSec:(C=a.ephemeralSetting)==null?void 0:C.ephemeralExpirationInSec,externalId:A,forwardingScore:l,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isCollapsed:a.isCollapsed,isExpiredMsg:y,isExpiredXmaMsg:a.isExpiredXmaMsg,isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:u,isForwarded:h,isIGStoryMention:t,isMsgHighlightsTabFriendUpdatesReply:x,isPostPrivateReply:w,isStoryHighlightShare:v,isStoryReaction:r,isStoryShare:q,mentionedJids:(o=a.msgContent)==null?void 0:o.mentionedJids,msgId:a.msgId,offlineMsg:b,replyContent:p,replyPlaintextHash:e,sender:d("WAJids").authorToUserId(a.author,m),sortOrderMs:z,transportKey:f,ts:n,type_:a.type,xmaMessageType:a.xmaMessageType});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);
__d("MAWBridgeSafeActionsWorkerAndUI",["ExecutionEnvironment","FBLogger","MAWBridge","Promise","ifRequireable"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().sendAndReceive("backend",a,e,f==null?void 0:f.isLoggingDisabled):new(h||(h=b("Promise")))(function(b,d){return c("ifRequireable")("MAWBridgeSendAndReceive",function(c){c=c.sendAndReceive;return b(c("backend",a,e,f))},function(){return d("MAWBridgeSendAndReceive not available in UI ifRequired")})})}function e(a,b,e){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().fireAndForget("backend",a,b,e):c("ifRequireable")("MAWBridgeFireAndForget",function(c){c=c.fireAndForget;return c("backend",a,b,e)},function(){throw c("FBLogger")("messenger_web").mustfixThrow("MAWBridgeFireAndForget not available in UI ifRequired")})}g.sendAndReceiveBackendWorkerAndUIShared=a;g.fireAndForgetBackendWorkerAndUIShared=e}),98);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("messenger_web").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return c("LSXmaContentType").FB_FEED_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return c("LSXmaContentType").FB_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return c("LSXmaContentType").FB_STORY_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("LSXmaContentType").FB_STORY_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return c("LSXmaContentType").FB_FEED_VIDEO_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return c("LSXmaContentType").FB_EVENT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return c("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return c("LSXmaContentType").FB_SHORT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("LSXmaContentType").MSG_LOCATION_SHARING;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return c("LSXmaContentType").MSG_LOCATION_SHARING_V2;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("LSXmaContentType").FB_POST_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return c("LSXmaContentType").MSG_CONTACT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return c("LSXmaContentType").MSG_AI_CONTACT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return c("LSXmaContentType").MSG_MEMORIES_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:return c("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:return c("LSXmaContentType").RTC_AUDIO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return c("LSXmaContentType").RTC_VIDEO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:return c("LSXmaContentType").RTC_MISSED_AUDIO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:return c("LSXmaContentType").RTC_MISSED_VIDEO_CALL;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return c("LSXmaContentType").FB_PROFILE_DIRECTORY_ITEM;default:return null}}g.convertExtendedContentTypeToLSXmaContentType=a}),98);
__d("MAWBridgeXMAUtils",["I64","LSIntEnum","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWXMAUtils","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBumpEntityKey","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","WAJids","asyncToGeneratorRuntime","cr:3468","gkx","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i,k){c("vulture")("O9HqUR9Ln66booY-YJ_H00qQYSk=");var l=e.ctas,o=e.defaultCTA,s=m(e.targetId,e.targetType),t=(j||(j=d("I64"))).of_int32(d("Random").uint32());if(o!=null){var u=p(o,t,g,f,i,s,e.targetType);yield r(a,u,t,k.defaultCta)}u=d("MAWXMAUtils").isFBXMAPostMention(e.targetType)&&e.author===d("WAJids").AUTHOR_ME;e=[];l!=null&&!u&&(e=(yield (h||(h=b("Promise"))).all(l.map(function(b,c){var d=n(t,c);b=q(b,d,g,f,i,s);c=c===0?k.attachmentCta1:c===1?k.attachmentCta2:c===2?k.attachmentCta3:void 0;return r(a,b,d,c)}))));return{attachmentCta1Id:e.length>0?e[0]:void 0,attachmentCta2Id:e.length>1?e[1]:void 0,attachmentCta3Id:e.length>2?e[2]:void 0,defaultCtaId:o==null?void 0:t}});return k.apply(this,arguments)}function l(a){var b="xma_web_url";switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:b="igd_web_post_share";break}return b}function m(a,b){c("vulture")("RtrQPFyKbSxp3zQ6y7mRAyIpKg0=");return d("MAWXMAUtils").isFBXMAPostMention(b)?void 0:a!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(a):void 0}function n(a,b){c("vulture")("JeoHtr-cANPUXRFURoTT-O9wNGw=");return(j||(j=d("I64"))).add(a,j.of_int32(b+1))}function o(a,b,e,f,g,h,i){i===void 0&&(i="xma_web_url");c("vulture")("TPVjzD3W2FhHtDFXV7frriVWOF4=");var k=a.actionUrl,l=a.nativeUrl;return{actionContentBlob:void 0,actionUrl:k!=null?k:l,attachmentFbid:g,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:b,enableExtensions:!1,extensionHeightType:void 0,messageId:e,nativeUrl:l!=null?l:k,platformToken:void 0,targetId:h!=null?h:void 0,threadKey:f,title:(g=a.title)!=null?g:"Tap to view status update",type_:(b=i)!=null?b:"xma_web_url",urlWebviewType:void 0}}function p(a,b,d,e,f,g,h){c("vulture")("paKBJ90wVybJw9AE17Uahus-Tcw=");h=l(h);return o(a,b,d,e,f,g,h)}function q(a,b,c,d,e,f){var g;switch(a.ctaType){case"contact_sharing_profile":g="contact_sharing_profile";break;case"contact_sharing_message":g="contact_sharing_message";break}return o(a,b,c,d,e,f,g)}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e){c("vulture")("DTetya-IU_PFmX8oHIx4vTaUgK8=");e!=null?yield a.attachment_ctas.upsert([e.ctaId],b):yield a.attachment_ctas.add(b);return d});return s.apply(this,arguments)}function e(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=null,f={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c)));e!=null&&(f.defaultCta=(yield u(a,e.defaultCtaId)),f.attachmentCta1=(yield u(a,e.attachmentCta1Id)),f.attachmentCta2=(yield u(a,e.attachmentCta2Id)),f.attachmentCta3=(yield u(a,e.attachmentCta3Id)));return[e,f]});return t.apply(this,arguments)}function u(a,e){c("vulture")("_xth6X03My6Q_hMNqb4d6th4mqc=");return e==null?(h||(h=b("Promise"))).resolve(void 0):(a=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachment_ctas).getKeyRange(e)))!=null?a:void 0}function f(a,e,f,g,h,k,l,m,n){var o,p=b("cr:3468")!=null?(j||(j=d("I64"))).of_int32(b("cr:3468").getInChatMsgIdFromMsgId(g)):(j||(j=d("I64"))).zero,q=v(a),r=d("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(a.targetType);r=r?(j||(j=d("I64"))).of_int32(r):void 0;o=(o=a==null?void 0:(o=a.defaultCTA)==null?void 0:o.actionUrl)!=null?o:a==null?void 0:(o=a.defaultCTA)==null?void 0:o.nativeUrl;a.defaultPreviewMediaId!=null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_xma_handler","xma_preview_media_has_plaintext_hash."+n+"."+a.targetType+"."+(a.defaultPreviewMediaPlaintextHash!=null?"true":"false"));n=c("gkx")("11351");return{accessibilitySummaryText:void 0,actionUrl:o!=null?o:void 0,attachmentCta1Id:h,attachmentCta2Id:k,attachmentCta3Id:l,attachmentFbid:f,attachmentIndex:(j||(j=d("I64"))).zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:x(a.ctas,1),cta1Type:w(a.ctas,1),cta2Title:x(a.ctas,2),cta2Type:w(a.ctas,2),cta3Title:x(a.ctas,3),cta3Type:w(a.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:m,defaultCtaTitle:(o=a.defaultCTA)==null?void 0:o.title,defaultCtaType:q.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:a.filesize!=null?(j||(j=d("I64"))).of_int32(a.filesize):void 0,gatingTitle:a.overlayTitle,gatingType:a.overlayIconGlyph!=null?String(a.overlayIconGlyph):void 0,hasMedia:a.hasMedia!=null?a.hasMedia:!1,hasXma:!0,hasXmaFavicon:n?a.faviconPlaintextHash!=null:a.faviconMediaId!=null,hasXmaHeaderImage:n?a.headerMediaPlaintextHash!=null:a.headerMediaId!=null,hasXmaPreview:n?a.defaultPreviewMediaPlaintextHash!=null:a.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:a.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:a.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxTitleNumOfLines):void 0,messageId:g,miniPreview:void 0,offlineAttachmentId:(h=a.offlineAttachmentId)!=null?h:f,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:q.height,previewHeightLarge:a.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(a.previewHeightLarge):void 0,previewImageDecorationType:z(a.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:q.width,previewWidthLarge:a.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(a.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:a.subtitleText,targetId:void 0,threadKey:e,timestampMs:p,titleText:a.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:r,xmaDataclass:a.xmaDataclass,xmaFaviconFbid:n?a.faviconPlaintextHash:c("gkx")("8162")?(k=a.faviconPlaintextHash)!=null?k:(l=a.faviconMediaId)==null?void 0:l.toString():(m=a.faviconMediaId)==null?void 0:m.toString(),xmaHeaderImageFbid:n?a.headerMediaPlaintextHash:c("gkx")("8162")?(o=a.headerMediaPlaintextHash)!=null?o:(g=a.headerMediaId)==null?void 0:g.toString():(h=a.headerMediaId)==null?void 0:h.toString(),xmaLayoutType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0,xmaPreviewFbid:n?a.defaultPreviewMediaPlaintextHash:c("gkx")("8162")?(f=a.defaultPreviewMediaPlaintextHash)!=null?f:(q=a.defaultPreviewMediaId)==null?void 0:q.toString():(e=a.defaultPreviewMediaId)==null?void 0:e.toString(),xmasTemplateType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0}}function v(a){c("vulture")("jDkoucRq29lspjqv5EoQ6AgFAd0=");var b;switch(a.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:b={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:b={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:b={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_group_video"};break;default:b={height:a.previewHeight!=null?(j||(j=d("I64"))).of_int32(a.previewHeight):void 0,width:a.previewWidth!=null?(j||(j=d("I64"))).of_int32(a.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return b}function w(a,b){c("vulture")("TheQVa9Nd4XKW6zs8pdW_r3R5dg=");if(a==null)return;a=a[b-1];if(a==null)return;b=a.buttonType;a=a.ctaType;switch(a){case"contact_sharing_profile":return"contact_sharing_profile";case"contact_sharing_message":return"contact_sharing_message";default:return b===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}}function x(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function y(a){c("vulture")("3qCMJv9X6w87pBTl2ps2SOMJ2wI=");return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function z(a){c("vulture")("al4CANl8TA9Z0WUMhchfaDG4SLk=");switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}g.addAttachmentCtas=a;g.maybeBridgeToLSTargetId=m;g.getCtaIdFromDefaultCtaId=n;g.composeDefaultAttachmentCta=p;g.composeAttachmentCta=q;g.getExistingAttachmentAndAttachmentCtas=e;g.composeAttachmentXMA=f}),98);
__d("MAWCastToMsgrServerMediaType",["EncryptedBackupsUploadEntity","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid attachment mediaType: "," for castMediaAttachmentTypeToServerMediaType method"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid client mediaType: "," for castClientMediaTypeToServerMediaType method"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid mediaType: "," for castToMsgrServerMediaType method"]);j=function(){return a};return a}function a(a,b){b===void 0&&(b=!1);if(b&&a==="image")return"xma";switch(a){case"image":case"video":case"gif":case"sticker":return a;case"document":return"file";case"ptt":return"audio";case"xma-image":return"xma";case"preview":return"preview";default:d("WALogger").ERROR(j(),a);return null}}function b(a,b){b===void 0&&(b=!1);if(b&&a===d("MAWDbMedia").MEDIA_TYPE.IMAGE)return"xma";switch(a){case"Image":return"image";case"Video":return"video";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"file";case"Ptt":return"audio";default:d("WALogger").ERROR(i(),a);return null}}function c(a){switch(a){case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.IMAGE:return"image";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.VIDEO:return"video";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.GIF:return"gif";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.STICKER:return"sticker";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.DOCUMENT:return"file";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.PTT:return"audio";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA:return"xma";case d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW:return"preview";default:d("WALogger").ERROR(h(),a);return null}}g.castToMsgrServerMediaType=a;g.castClientMediaTypeToServerMediaType=b;g.castMediaAttachmentTypeToServerMediaType=c}),98);
__d("MAWDbEditMsgHistory",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return(h||(h=d("I64"))).of_float(a)}function c(a){return(h||(h=d("I64"))).to_float(a)}g.unsafeCoerceToEditMsgHistoryId=a;g.convertToEditMsgHistoryId64=b;g.convertToEditMsgHistoryId=c}),98);
__d("MAWDbPoll",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a,b){a=(a+b).split("");return Math.abs(a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0))}f.convertStringToOptionHash=a;f.convertOptionHashToString=b;f.generateStableIdFromOptionHash=c}),66);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","LSMEBTaskCreationSource","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={dyi:c("justknobx")._("467"),frontloaded:20,initial:20,paginated:c("justknobx")._("3177"),point:1,search:c("justknobx")._("2477")};function a(a,b,e,f){b!=null&&p({querySource:e,runningInWorker:f!=null?f:!1,taskSource:a,traceId:b,triggerType:"paginated"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function b(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource;a=a.traceId;a!=null&&p({querySource:b,runningInWorker:e!=null?e:!1,taskSource:f,traceId:a,triggerType:"initial"});(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function e(a,b,e){b!=null&&p({querySource:"LS",runningInWorker:e!=null?e:!1,taskSource:a,traceId:b,triggerType:"dyi"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function f(a,b,e){b!=null&&p({querySource:"LS",runningInWorker:e!=null?e:!1,taskSource:a,traceId:b,triggerType:"frontloaded"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function k(a,b,e,f){b!=null&&p({querySource:e,runningInWorker:f!=null?f:!1,taskSource:a,traceId:b,triggerType:"point"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function l(a){var b=a.querySource,e=a.runningInWorker;a=a.traceId;a!=null&&p({querySource:b,runningInWorker:e!=null?e:!1,taskSource:c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,traceId:a,triggerType:"search"});(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.search")}function m(a,b){a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLSuccessThroughBridge(c("qpl")._(521476165,"2432"),void 0,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endSuccess(c("qpl")._(521476165,"2432"),{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function n(a,b,e,f){e===void 0&&(e="restore_failure"),a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLFailThroughBridge(c("qpl")._(521476165,"2432"),e,f,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endFailure(c("qpl")._(521476165,"2432"),e,{annotations:f,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function o(a){u("protobuf",a)}function p(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource,g=a.traceId;a=a.triggerType;if(e!=null&&e){var h;d("MAWQplProxy").startQplUserFlow(c("qpl")._(521476165,"2432"),{bool:{runningInWorker:e!=null?e:!1},"int":{requestedMessagesCount:(h=j[a])!=null?h:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},{providedInstanceKey:d("WAHashStringToNumber").hashStringToNumber(g),providedTimeoutInMs:c("justknobx")._("2950")})}else{c("QPLUserFlow").start(c("qpl")._(521476165,"2432"),{annotations:{bool:{runningInWorker:e!=null?e:!1},"int":{requestedMessagesCount:(h=j[a])!=null?h:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},instanceKey:d("WAHashStringToNumber").hashStringToNumber(g),timeoutInMs:c("justknobx")._("2950")})}}function q(a){var b=a.pointName;a=a.traceId;c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function r(a){var b=a.annotations,e=a.pointName;a=a.traceId;c("QPLUserFlow").addAnnotations(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)});c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),e,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function s(a){var b=a.annotations,e=a.pointName;a=a.traceId;a!=null&&d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),e,{annotations:b,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function t(a){var b=a.pointName;a=a.traceId;d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function u(a,b){b=b?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b):null;(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+a+"."+v(b))}function v(a){return(a=a==null?void 0:a.toString())!=null?a:"unknown"}g.markEBRestorePaginated=a;g.markEBRestoreInitial=b;g.markEBRestoreDYI=e;g.markEBRestoreFrontloaded=f;g.markEBRestorePoint=k;g.markEBRestoreSearch=l;g.markEBRestoreSuccess=m;g.markEBRestoreFail=n;g.markEBRestoreProtobuf=o;g.addQPLRestorePoint=q;g.addQPLRestorePointWithAnnotations=r;g.addQPLRestorePointWithAnnotationsWorker=s;g.addQPLRestorePointWorker=t}),98);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code",TIMEOUT:"timeout",CANCEL:"cancel"});c=a;f["default"]=c}),66);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("CurrentMessengerUser").getAppID();f=f!=null?f.toString():"unknown";f=a+"."+f;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),f,b,e!=null?e:1);h.bumpEntityKey(c("MWEBODSCategory"),a,b,e!=null?e:1)}g.markODSForEB=a}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.externalId+"_"+a.author+"_"+a.chat}f.getHashFromProtocolMsgId=a}),66);
__d("WAWaitForComms",["WACommsConnectionState","WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAResolvable").Resolvable)();function a(){return h.promise}function b(){d("WACommsConnectionState").WACommsConnectionState.set(!1),h.isSettled&&(h=new(d("WAResolvable").Resolvable)())}function c(){d("WACommsConnectionState").WACommsConnectionState.set(!0),h.resolve()}function e(){return!h.resolveWasCalled()}function f(a){return h.reject(a)}g.waitForComms=a;g.commsConnectionLost=b;g.unblockComms=c;g.isStillWaitingForComms=e;g.failComms=f}),98);
__d("WANetworkConnectionUtils",["ExecutionEnvironment","Promise","WATagsLogger","WAWaitForComms"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["waitForNetworkConnection is only supported in the shared worker. Returning a hard-coded resolved promise."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["hasNetworkConnection is only supported in the shared worker. Returning hard-coded true. SharedWorker: ",", Worker: ",", MainThread: ",", Reason: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["WANetworkConnectionUtils"]);function a(a){if((i||(i=c("ExecutionEnvironment"))).isInSharedWorker!==!0){l.ERROR(k(),(i||(i=c("ExecutionEnvironment"))).isInSharedWorker,i.isInWorker,i.isInMainThread,a);return!0}return!d("WAWaitForComms").isStillWaitingForComms()}function e(){if((i||(i=c("ExecutionEnvironment"))).isInSharedWorker!==!0){l.ERROR(j());return(h||(h=b("Promise"))).resolve()}return d("WAWaitForComms").waitForComms()}g.hasNetworkConnection=a;g.waitForNetworkConnection=e}),98);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBODSUtils","ODS","QPLUserFlow","QuickPerformanceLogger","WAExceededStorageQuota","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","WANetworkConnectionUtils","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={ERROR_FETCHING_DB_MESSAGE:"error_fetching_db_message",FAILED_TO_ACK_MESSAGE:"failed_to_ack_message",FAILED_TO_CONSTRUCT_ECHO_MESSAGE:"failed_to_construct_echo_message",MESSAGE_UPLOAD_TIMEOUT:"message_upload_timeout",RUNTIME_ERROR:"runtime_error"};function a(a,b,e,f,g,h,j,k,m){g===void 0&&(g=!1);h===void 0&&(h=!1);k===void 0&&(k="unknown");m===void 0&&(m=0);if(!c("MAWEBSwitch").isEnabled())return;c("QPLUserFlow").start(c("qpl")._(521481602,"829"),{annotations:{bool:{eb_switch:c("MAWEBSwitch").isEnabled(),eb_upload_queue:!0,fromUploadQueue:g,is_retroactive_upload:h,middleware_init:!1},"int":{attachmentsSize:j!=null?j:0,instanceKey:f,retryCount:m},string:{comms_status:d("WANetworkConnectionUtils").hasNetworkConnection("startUploadTracking")===!0?"connected":"disconnected",externalId:a,msgType:b,payloadType:k,triggerType:e}},instanceKey:f,timeoutInMs:c("justknobx")._("1405")});l(f,"upload_tracking_started");(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").START);d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+(b!=null?b:"unknown"));g=d("MAWMsgType").isMAWSupportedMediaType(b!=null?b:"Text")?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+g)}function k(a){return a==null?{string:{comms_status_on_failure:d("WANetworkConnectionUtils").hasNetworkConnection("withCommsStatusAnnotation")===!0?"connected":"disconnected"}}:babelHelpers["extends"]({},a,{string:babelHelpers["extends"]({},a.string,{comms_status_on_failure:d("WANetworkConnectionUtils").hasNetworkConnection("withCommsStatusAnnotation")===!0?"connected":"disconnected"})})}function b(a,b,c,d){switch(a){case"success":n(b,c,d);break;case"fail":m(b,c,d);break;case"point":l(b,c,d);break}}function l(a,b,d){d&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),d,{instanceKey:a}),c("QPLUserFlow").addPoint(c("qpl")._(521481602,"829"),b,{instanceKey:a})}function e(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),k(b),{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:b==null?void 0:(b=b.string)==null?void 0:b.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").CANCEL)}function m(a,b,e){c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),k(e),{instanceKey:a});c("QPLUserFlow").endFailure(c("qpl")._(521481602,"829"),b,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null?void 0:(b=e.string)==null?void 0:b.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function n(a,b,c){l(a,b),o(a,c)}function o(a,b){b&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),b,{instanceKey:a}),c("QPLUserFlow").endSuccess(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},instanceKey:a}),(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function f(a,b,e){l(a,b);e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a});c("QPLUserFlow").endTimeout(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null?void 0:(b=e.string)==null?void 0:b.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").TIMEOUT)}function p(a,b,d){var e=c("qpl")._(521481602,"829");l(a,b);d&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(e,d,{instanceKey:a});(h||(h=c("QuickPerformanceLogger"))).markerEnd(e,52,a,h.currentTimestamp())}function q(){return d("WAHashStringToNumber").hashStringToNumber(d("MAWExternalId").generateExternalId())}function r(a,b){b===void 0&&(b=0);return d("WAHashStringToNumber").hashStringToNumber(d("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(a)+"_"+d("WAGlobals").getMyDeviceJid()+"_"+b)}function s(a){return c("MAWEBSwitch").isEnabled()&&d("MAWMsgType").isEBSupportedMsgType(a.type)&&a.ack>=d("MAWAckLevel").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}function t(a){return{addAnnotations:function(b){u(a,b)},addPoint:function(b,c){l(a,b,c)},endFail:function(b,c){m(a,b,c)},endSuccess:function(b){o(a,b)},getQPLAttrs:function(){return{event:c("qpl")._(521481602,"829"),instanceKey:a}},isActive:function(){return!0}}}function u(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),b,{instanceKey:a})}function v(a,b){return a.get(b)}function w(a,b,c,d,e){b=v(b,c);if(b!=null)switch(a){case"success":n(b,d,e);break;case"fail":m(b,d,e);break;case"point":l(b,d,e);break}}g.EBUploadTrackingWorkerFailurePoints=j;g.startUploadTracking=a;g.handleBridgeEbUploadTrackingQPL=b;g.addPointWorkerOnly=l;g.endCancelWorkerOnly=e;g.endFailWorkerOnly=m;g.endSuccessWorkerOnly=n;g.endTimeoutWorkerOnly=f;g.endRetryWorkerOnly=p;g.genInstanceKeyOnly=q;g.genInstanceKeyForUploadQueue=r;g.isUploadSupported=s;g.makeEBWorkerQplFlowFromInstanceKey=t;g.addAnnotationsForEBWorkerQplFlow=u;g.getUploadTrackingInstanceKey=v;g.addUploadTrackingByType=w}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);return}}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){return indexedDB==null||a==null?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("maw_db").warn("%s db was deleted",d),b()};f.onblocked=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db: blocked. Make sure DB is closed.",d)};f.onerror=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db",d),e(f.error)}})}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("CurrentMessengerUser").getID();yield (h||(h=b("Promise"))).all([i(d("MAWIndexedDbMetadata").dbName(a),"maw_v1"),i(d("MAWIndexedDbMetadata").restoreDbName2(a),"maw_v3"),i(d("MAWIndexedDbMetadata").jobsDbName(a),"signal"),i(d("MAWIndexedDbMetadata").logDbName(a),"logDb")])});return j.apply(this,arguments)}g.deleteDB=i;g.deleteMAWPersistence=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MWEARKeychainV3",["$InternalEnum","Deferred","ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MAWQplProxy","MAWReliabilityMonitor","MWEARKeychainV3Errors","MWTabCommunication","Promise","QPLUserFlow","Random","ReStoreTabNotifier","WAArrayBufferUtils","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","getErrorSafe","gkx","memoizeOneWithArgs","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){return{accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION}},k={global_ear:j(),maw_ear:j()},l=null,m=function(){var a=Object.keys(k).reduce(function(a,b){a[b]="none";return a},{});return{get:function(b){return a[b]},is:function(b,c){return a[b]===c},set:function(b,c){a[b]=c;(b=l)==null?void 0:b.updateState()}}}();function a(a){k[a]=j(),m.set(a,"none")}function e(a,b){m.set(a,b)}function n(a){var b=d("Random").uint32();while(a.some(function(a){return a.randomisedVersion===b}))b=d("Random").uint32();return b}var o={global_ear:function(){return null},maw_ear:function(){return null}},p=function(a){return o[a]()},q=function(a,b){o[a]=function(){return b}},r=function(a,b){q(a,b),x(a).dbReady.resolve()},s={global_ear:"browserEncryptionMetaV2",maw_ear:"encryptionMetaV3"},t=c("memoizeOneWithArgs")(function(a,b){return new(d("MWTabCommunication").MWTabCommunication)("ear_keys_"+b+"_"+a)});function f(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;e===void 0&&(e=N);c("gkx")("9396")&&c("FBLogger")("messenger_web").info("Initialise EAR keychain: %s",a);l=K(a);if(m.is(a,"success")&&x(a).databaseEncryptionKeys.size!==0)return d("WAResultOrError").makeResult(w(a));var g=d("MAWCurrentUser").getID(),h=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+g);h.onEventReceive("notifyEarKeychainV2",G);var j=(i||(i=c("ExecutionEnvironment"))).isInWorker?"Worker":"UI";e(a+"_ear_init_start",{string:(f={},f["initFlow_"+a+"_"+j]=b,f)});try{b=(yield L(h,a,void 0,e));e(a+"_ear_import_end");for(f of b)x(a).databaseEncryptionKeys.set(f.result.version,{dbEntry:f.entry,keys:f.result.keys});F(a);t(a,g).listenToRequest(function(){return JSON.stringify(Array.from(x(a).databaseEncryptionKeys.entries()).map(function(a){var b=a[0];a=a[1];var c=a.dbEntry;a=a.keys;return[b,{dbEntry:c,keys:a.map(function(a){return d("WAArrayBufferUtils").arrayBufferToString(a)})}]}))});e(a+"_ear_init_end",{string_array:(h={},h[a+"_randomisedVersionKeys"+j]=v(a).map(function(a){a[0];a=a[1].dbEntry;return String(a.randomisedVersion)}),h)});m.set(a,"success");return d("WAResultOrError").makeResult(w(a))}catch(b){m.set(a,"failure");e(a+"_ear_init_error");c("gkx")("9396")&&c("FBLogger")("messenger_web").catching(c("getErrorSafe")(b)).mustfix("Failed to setup EAR Keychain V3. Namespace: %s",a);return d("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",b)}});return u.apply(this,arguments)}function v(a){return Array.from(x(a).databaseEncryptionKeys.entries())}function w(a){return x(a).latestVersion}function x(a){return k[a]}function y(a,b){var e=b!=null?b:w(a);b=x(a).databaseEncryptionKeys.get(e);if(b==null){c("promiseDone")(C(a).then(function(a){var b=a.map(function(a){return a.version}).includes(e);c("FBLogger")("messenger_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",b,e,a.length)}));var f=w(a),g=Array.from(x(a).databaseEncryptionKeys.keys());c("FBLogger")("messenger_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",e,f,x(a).databaseEncryptionKeys.get(f)==null,x(a).databaseEncryptionKeys.size,Math.max.apply(Math,g),m.get(a),(i||(i=c("ExecutionEnvironment"))).isInWorker);throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+e+" was null.")}return{dbEntry:b.dbEntry,keys:b.keys,randomisedVersion:b.dbEntry.randomisedVersion,version:e}}function z(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}var A=b("$InternalEnum")({UNKNOWN:-1,NO_KEY:0,EBSM_EARV2_UPGRADE:1,RANDOMISED_VERSION_UPGRADE:2,EXPIRED_KEY:3,FORCE_KEY_ROTATION:4});function B(a){if(a.length===0)return{reason:A.NO_KEY,result:!0};a=a[a.length-1];return!d("WATimeUtils").isInFuture(a.expiration)?{reason:A.EXPIRED_KEY,result:!0}:{result:!1}}function C(a){var c=E(a,"readonly");return new(h||(h=b("Promise")))(function(b,d){c.onabort=function(){return d(c.error)};c.onerror=function(){return d(c.error)};var e=c.objectStore(s[a]).getAll();e.onsuccess=function(){return b(e.result)};e.onerror=function(){return d(e.error)}}).then(D)}function D(a){var b=a.find(function(a){return a.version==null});b!=null&&c("FBLogger")("messenger_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",b.id==null,b.key==null,b.seed==null,b.formatVersion==null,b.accountKeyString==null,b.userKeyBaseString==null);b=a.filter(function(a){return a.version!=null});return b.sort(function(a,b){return a.version-b.version})}function E(a,b){var d=p(a);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("Encryption IndexDB should've been initialized. Namespace: %s",a);return d.transaction(s[a],b,{durability:"strict"})}var F=function(a){var b=Array.from(x(a).databaseEncryptionKeys.keys());b.length>0?x(a).latestVersion=Math.max.apply(Math,b):c("FBLogger")("messenger_web").mustfix("EAR latest version does not exist")},G=function(a){var d=a.namespace,e=a.version;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{c("FBLogger")("messenger_web").info("Received key rotation notification. Namespace: %s",d);yield x(d).dbReady.getPromise();var a=(yield C(d)).find(function(a){return a.version===e});if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("Notified new Ear Key but missing in DB");var b=(yield z(a));x(d).databaseEncryptionKeys.set(b.version,{dbEntry:a,keys:b.keys});F(d);c("FBLogger")("messenger_web").info("Rotated key successfully. Namespace: %s",d)}catch(a){return c("FBLogger")("messenger_web").catching(a).mustfix("Failed to handleNewVersion. In worker %s. Namespace: %s.",(i||(i=c("ExecutionEnvironment"))).isInWorker,d)}})())};function H(a){return m.get(a)!=="none"}function I(a){return m.get(a)}function J(a){if(m.is(a,"success")){x(a).databaseEncryptionKeys.size===0&&c("FBLogger")("messenger_web").mustfix("Keychain initialised but no keys present");return!0}return!1}function K(a){return d("MAWReliabilityMonitor").MAWReliabilityMonitorSingleton.startMonitoring("EARv3",function(){return{extra:{isKeychainInitialised:J(a).toString(),latestVersion:w(a).toString()},reason:m.get(a),state:function(){switch(m.get(a)){case"none":return d("MAWReliabilityMonitor").HealthReportState.PENDING;case"success":return d("MAWReliabilityMonitor").HealthReportState.OK;case"failure":return d("MAWReliabilityMonitor").HealthReportState.ERROR;default:return d("MAWReliabilityMonitor").HealthReportState.UNKNOWN}}()}})}function L(a,b,c,d){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield c("MAWEARGenNewKeychainCryptoKey")());f(d+"_ear_raw_key_generated");var j=(yield new(h||(h=b("Promise")))(function(b,h){var j=E(d,"readwrite");j.onerror=function(){return h(j.error)};j.onabort=function(){return h(j.error)};var k=j.objectStore(s[d]).getAll();k.onerror=function(){return h(k.error)};k.onsuccess=function(){var l;f(d+"_ear_keys_fetched");var m=D(k.result),o=B(m),p=o.reason;o=o.result;if((e==null?void 0:e.forceKeyRotation)!==!0&&!o)return b(m);o=(e==null?void 0:e.forceKeyRotation)===!0?A.FORCE_KEY_ROTATION:p!=null?p:A.UNKNOWN;p=m.map(function(a){return a.version});l=(l=p[p.length-1])!=null?l:0;c("FBLogger")("messenger_web").info("Key rotation. EAR versions: %s. Latest version: %s. Namespace: %s, Worker: %s",p.toString(),l,d,(i||(i=c("ExecutionEnvironment"))).isInWorker);var q=babelHelpers["extends"]({},g,{randomisedVersion:n(m),source:o,version:l+1});f(d+"_ear_adding_new_key");j.oncomplete=function(){m.push(babelHelpers["extends"]({},q,{id:q.version})),a.postMessage("notifyEarKeychainV2",{namespace:d,version:q.version}),f(d+"_ear_gen_key_end"),b(m)};var r=j.objectStore(s[d]).add(q);r.onerror=function(){return h(c("FBLogger")("messenger_web").catching(r.error).mustfixThrow("Failed to rotate EAR key"))}}}));f(d+"_ear_import_start");j=(yield h.allSettled(j.map(function(a){return z(a).then(function(b){return{entry:a,result:b}})})));var k=j[j.length-1];if(k.status==="rejected"){var l;l=(l=e==null?void 0:e.corruptedEARRetryCount)!=null?l:0;if(l>=1)throw k.reason;return L(a,d,{corruptedEARRetryCount:l+1,forceKeyRotation:!0},f)}return j.map(function(a){if(a.status==="fulfilled")return a.value}).filter(Boolean)});return M.apply(this,arguments)}var N=function(a,b){d("LSPlatformLsInitLog").addPoint(a,b),O(a,b)},O=function(a,b){var e=c("qpl")._(25310776,"6155");(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(e,"backend_"+a,{annotations:b}):(c("QPLUserFlow").addPoint(e,"ui_"+a),b!=null&&c("QPLUserFlow").addAnnotations(e,b))},P=function(a,b){return t(a,b).request(function(b){b=JSON.parse(b);b.forEach(function(b){var c=b[0];b=b[1];var e=b.keys.map(d("WAArrayBufferUtils").stringToArrayBuffer);x(a).databaseEncryptionKeys.set(c,{dbEntry:b.dbEntry,keys:e})});F(a);m.set(a,"success");return!0},function(){return!1})};g.InitStatus=m;g.resetKeychain__TEST_ONLY_DO_NOT_USE=a;g.setInitStatus__TEST_ONLY_DO_NOT_USE=e;g.generateNewRandomisedVersionNumber=n;g.setNamespaceSourceDbWithoutMarkingDbReady=q;g.setNamespaceSourceDbAndMarkAsReady=r;g.getEncryptionKeysTabCommunication=t;g.init=f;g.getLatestVersion=w;g.getKeychain=x;g.getDbEncryptionKey=y;g.isKeychainSettled=H;g.getKeychainInitStatus=I;g.isKeychainInitialised=J;g.logMawInitPoint=O;g.importKeysFromOtherTab=P}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=6e4,o=null,p=null,q=null;function a(){return o}function e(){return o!=null}var r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function s(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID();if(e>m){v(a,"ear_idb_retry_failed_max_reached");return(i||(i=b("Promise"))).reject(new r())}if(o!=null){v(a,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){v(a,"ear_idb_unavailable");return(i||(i=b("Promise"))).reject(c("err")("IndexedDB API not available"))}v(a,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,g){var i=function(c){s(a,e+1).then(b)["catch"](function(a){if(a instanceof r)return g(c);g(a)})};try{q=d("MAWIndexedDbMetadata").encryptionDbName(f);var j=indexedDB.open(q),m=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",j.readyState))},n);j.onupgradeneeded=function(b){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);v(a,"ear_db_upgrade_start");b=b.target.result;if(!b.objectStoreNames.contains(k)){b=b.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});b.createIndex(l,l,{unique:!0})}v(a,"ear_db_upgrade_end")};j.onblocked=function(){v(a,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("EAR Open timed out while blocked"))},2e3)};j.onsuccess=function(e){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var f=e.target.result;if(!f.objectStoreNames.contains(k)){e=j.result.objectStoreNames.contains(k);c("FBLogger")("messenger_web").warn("Missing encryption meta table. Is store present: %s",e);d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);return t(f,"missing_encryption_meta_table").then(function(){i(c("err")("Malformed encryption DB"))})["catch"](function(b){v(a,"ear_idb_retry_failed_delete_failed");return g(c("err")("Failed to delete malformed encryption DB: "+b.message))})}f.onversionchange=function(){f.close(),c("FBLogger")("messenger_web").info("EAR onversionchange triggered"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),p==null?void 0:p()};v(a,"ear_db_open_end");o=f;d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",o);b()};j.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);if(j.error.name==="UnknownError"){v(a,"ear_db_open_error_unknown_error");return i(j.error)}v(a,"ear_db_open_error");g(j.error)}}catch(b){v(a,"ear_db_error"),g(b)}})}function f(a){p=p==null?a:p}function t(a,b){a===void 0&&(a=o);c("FBLogger")("messenger_web").warn("EAR DB deletion triggered: %s",b);a!=null&&a.close();return d("MAWIndexedDBDeletion").deleteDB(q,"ear")}function u(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127");case c("EARInitType").MAW_IN_UI_INIT:return null}}function v(a,b,e){a=u(a);if(a==null)return;(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=a;g.isEncryptionDBInited=e;g.makeEncryptionDB=s;g.maybeSetEncryptionDbOnVersionChange=f;g.deleteEncryptionDB_UNSAFE=t}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWMainTraceUtils",["I64","LSRequestId","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("LSRequestId").generate()}function e(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,i){yield a.data_trace_meta.add({contextOne:f,contextThree:i,contextTwo:g,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:b,predefinedId:void 0,shouldFlush:!1,traceId:c,traceType:e})});return i.apply(this,arguments)}g.createTraceId=a;g.startTraceWithTxn=e}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE","RETRYING","AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"]);c=a;f["default"]=c}),66);
__d("MAWMsg",["$InternalEnum","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,e,f,g){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return k(f);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(i||(i=d("LSIntEnum"))).ofNumber(536870912):(i||(i=d("LSIntEnum"))).ofNumber(1024);else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(33554432);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH)return(i||(i=d("LSIntEnum"))).ofNumber(134217728);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function k(a){switch(a){case"liveLocationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(i||(i=d("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(i||(i=d("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(i||(i=d("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(i||(i=d("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(i||(i=d("LSIntEnum"))).ofNumber(8589934592);case"rtcMessage":return(i||(i=d("LSIntEnum"))).ofNumber(17179869184);default:return(i||(i=d("LSIntEnum"))).ofNumber(131072)}}function e(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function f(a,b){var e=a.replyAttachmentType;if(e==null)return!1;b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);return b&&a.replyAttachmentId==null?!1:(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))}function l(a){return(j||(j=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function m(a){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes)}function n(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function o(a){return(j||(j=d("I64"))).lt(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))}function p(a){a=a.displayedContentTypes;return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(1024),a)||d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(536870912),a)}function q(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4294967296))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2147483648))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1073741824))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8589934592))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var r=(b=b("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),s=b({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),t=b({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});b=b({IMAGE:0,VIDEO:1});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.bumpExistingMessage=h.MSG_TYPE.BUMP_EXISTING_MESSAGE;g.getDisplayedContentTypes=a;g.isMediaMsg=e;g.isMediaReplyAttachmentType=f;g.isReceiverFetchMsg=l;g.isReceiverFetchXMAMsg=m;g.isAdminMsg=n;g.isOptimistic=o;g.isXMAMsg=p;g.isPlaceholder=q;g.MAWRavenActionNotifType=r;g.MAWRavenMsgEphemeralMediaState=s;g.MAWRavenMsgEphemeralType=t;g.MAWRavenMsgMediaType=b}),98);
__d("MAWSharedProtocolQueueConst",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.OfflineConsumerStatus=a}),66);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("labyrinth_web").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("WAArmadilloApplication.pb",["WAArmadilloXMA.pb","WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h,i;a={ES_OPEN:1,ES_CLOSE:2};b={PAYMENT_UNKNOWN:-1,REQUEST_INITED:4,REQUEST_DECLINED:5,REQUEST_TRANSFER_INITED:6,REQUEST_TRANSFER_COMPLETED:7,REQUEST_TRANSFER_FAILED:8,REQUEST_CANCELED:9,REQUEST_EXPIRED:10,TRANSFER_INITED:11,TRANSFER_PENDING:12,TRANSFER_PENDING_RECIPIENT_VERIFICATION:13,TRANSFER_CANCELED:14,TRANSFER_COMPLETED:15,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_CANCELED:16,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_OTHER:17,TRANSFER_REFUNDED:18,TRANSFER_PARTIAL_REFUND:19,TRANSFER_CHARGED_BACK:20,TRANSFER_EXPIRED:21,TRANSFER_DECLINED:22,TRANSFER_UNAVAILABLE:23};c={SCREENSHOT_IMAGE:1,SCREEN_RECORDING:2};e={PLAYED:0,SCREENSHOT:1,FORCE_DISABLE:2};f={VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2};var j={SMALL_LIKE:1,MEDIUM_LIKE:2,LARGE_LIKE:3},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={};k.name="Armadillo";k.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,m],metadata:[2,h.TYPES.MESSAGE,l]};l.name="Armadillo$Metadata";l.internalSpec={};m.name="Armadillo$Payload";m.internalSpec={content:[1,h.TYPES.MESSAGE,E],applicationData:[2,h.TYPES.MESSAGE,r],signal:[3,h.TYPES.MESSAGE,o],subProtocol:[4,h.TYPES.MESSAGE,n],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}};n.name="Armadillo$SubProtocolPayload";n.internalSpec={futureProof:[1,h.TYPES.ENUM,(i=d("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]};o.name="Armadillo$Signal";o.internalSpec={encryptedBackupsSecrets:[1,h.TYPES.MESSAGE,p],__oneofs__:{signal:["encryptedBackupsSecrets"]}};p.name="Armadillo$Signal$EncryptedBackupsSecrets";p.internalSpec={backupId:[1,h.TYPES.UINT64],serverDataId:[2,h.TYPES.UINT64],epoch:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,q],tempOcmfClientState:[4,h.TYPES.BYTES],mailboxRootKey:[5,h.TYPES.BYTES],obliviousValidationToken:[6,h.TYPES.BYTES]};q.name="Armadillo$Signal$EncryptedBackupsSecrets$Epoch";q.internalSpec={id:[1,h.TYPES.UINT64],anonId:[2,h.TYPES.BYTES],rootKey:[3,h.TYPES.BYTES],status:[4,h.TYPES.ENUM,a]};r.name="Armadillo$ApplicationData";r.internalSpec={metadataSync:[1,h.TYPES.MESSAGE,D],aiBotResponse:[2,h.TYPES.MESSAGE,t],messageHistoryDocumentMessage:[3,h.TYPES.MESSAGE,s],__oneofs__:{applicationData:["metadataSync","aiBotResponse","messageHistoryDocumentMessage"]}};s.name="Armadillo$ApplicationData$MessageHistoryDocumentMessage";s.internalSpec={document:[1,h.TYPES.MESSAGE,i.SubProtocolSpec]};t.name="Armadillo$ApplicationData$AIBotResponseMessage";t.internalSpec={summonToken:[1,h.TYPES.STRING],messageText:[2,h.TYPES.STRING],serializedExtras:[3,h.TYPES.STRING]};u.name="Armadillo$ApplicationData$MetadataSyncAction";u.internalSpec={actionTimestamp:[1,h.TYPES.INT64],chatAction:[101,h.TYPES.MESSAGE,x],messageAction:[102,h.TYPES.MESSAGE,v],__oneofs__:{actionType:["chatAction","messageAction"]}};v.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction";v.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],messageDelete:[101,h.TYPES.MESSAGE,w],__oneofs__:{action:["messageDelete"]}};w.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDelete";w.internalSpec={};x.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction";x.internalSpec={chatId:[1,h.TYPES.STRING],chatArchive:[101,h.TYPES.MESSAGE,A],chatDelete:[102,h.TYPES.MESSAGE,z],chatRead:[103,h.TYPES.MESSAGE,y],__oneofs__:{action:["chatArchive","chatDelete","chatRead"]}};y.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatRead";y.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C],read:[2,h.TYPES.BOOL]};z.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDelete";z.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C]};A.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchive";A.internalSpec={messageRange:[1,h.TYPES.MESSAGE,C],archived:[2,h.TYPES.BOOL]};B.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessage";B.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],timestamp:[2,h.TYPES.INT64]};C.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRange";C.internalSpec={lastMessageTimestamp:[1,h.TYPES.INT64],lastSystemMessageTimestamp:[2,h.TYPES.INT64],messages:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,B]};D.name="Armadillo$ApplicationData$MetadataSyncNotification";D.internalSpec={actions:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,u]};E.name="Armadillo$Content";E.internalSpec={commonSticker:[1,h.TYPES.MESSAGE,O],screenshotAction:[3,h.TYPES.MESSAGE,K],extendedContentMessage:[4,h.TYPES.MESSAGE,d("WAArmadilloXMA.pb").ExtendedContentMessageSpec],ravenMessage:[5,h.TYPES.MESSAGE,N],ravenActionNotifMessage:[6,h.TYPES.MESSAGE,M],extendedMessageContentWithSear:[7,h.TYPES.MESSAGE,L],imageGalleryMessage:[8,h.TYPES.MESSAGE,J],paymentsTransactionMessage:[10,h.TYPES.MESSAGE,F],bumpExistingMessage:[11,h.TYPES.MESSAGE,I],noteReplyMessage:[13,h.TYPES.MESSAGE,H],ravenMessageMsgr:[14,h.TYPES.MESSAGE,N],networkVerificationMessage:[15,h.TYPES.MESSAGE,G],__oneofs__:{content:["commonSticker","screenshotAction","extendedContentMessage","ravenMessage","ravenActionNotifMessage","extendedMessageContentWithSear","imageGalleryMessage","paymentsTransactionMessage","bumpExistingMessage","noteReplyMessage","ravenMessageMsgr","networkVerificationMessage"]}};F.name="Armadillo$Content$PaymentsTransactionMessage";F.internalSpec={transactionId:[1,h.TYPES.UINT64],amount:[2,h.TYPES.STRING],currency:[3,h.TYPES.STRING],paymentStatus:[4,h.TYPES.ENUM,b],extendedContentMessage:[5,h.TYPES.MESSAGE,d("WAArmadilloXMA.pb").ExtendedContentMessageSpec]};G.name="Armadillo$Content$NetworkVerificationMessage";G.internalSpec={codeText:[1,h.TYPES.STRING]};H.name="Armadillo$Content$NoteReplyMessage";H.internalSpec={noteId:[1,h.TYPES.STRING],noteText:[2,h.TYPES.MESSAGE,i.MessageTextSpec],noteTimestampMs:[3,h.TYPES.INT64],textContent:[4,h.TYPES.MESSAGE,i.MessageTextSpec],stickerContent:[5,h.TYPES.MESSAGE,i.SubProtocolSpec],videoContent:[6,h.TYPES.MESSAGE,i.SubProtocolSpec],__oneofs__:{noteReplyContent:["textContent","stickerContent","videoContent"]}};I.name="Armadillo$Content$BumpExistingMessage";I.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec]};J.name="Armadillo$Content$ImageGalleryMessage";J.internalSpec={images:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i.SubProtocolSpec]};K.name="Armadillo$Content$ScreenshotAction";K.internalSpec={screenshotType:[1,h.TYPES.ENUM,c]};L.name="Armadillo$Content$ExtendedContentMessageWithSear";L.internalSpec={searId:[1,h.TYPES.STRING],payload:[2,h.TYPES.BYTES],nativeUrl:[3,h.TYPES.STRING],searAssociatedMessage:[4,h.TYPES.MESSAGE,i.SubProtocolSpec],searSentWithMessageId:[5,h.TYPES.STRING]};M.name="Armadillo$Content$RavenActionNotifMessage";M.internalSpec={key:[1,h.TYPES.MESSAGE,i.MessageKeySpec],actionTimestamp:[2,h.TYPES.INT64],actionType:[3,h.TYPES.ENUM,e]};N.name="Armadillo$Content$RavenMessage";N.internalSpec={ephemeralType:[1,h.TYPES.ENUM,f],imageMessage:[2,h.TYPES.MESSAGE,i.SubProtocolSpec],videoMessage:[3,h.TYPES.MESSAGE,i.SubProtocolSpec],__oneofs__:{mediaContent:["imageMessage","videoMessage"]}};O.name="Armadillo$Content$CommonSticker";O.internalSpec={stickerType:[1,h.TYPES.ENUM,j]};g.ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS=a;g.ARMADILLO_CONTENT_PAYMENTS_TRANSACTION_MESSAGE_PAYMENT_STATUS=b;g.ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE=c;g.ARMADILLO_CONTENT_RAVEN_ACTION_NOTIF_MESSAGE_ACTION_TYPE=e;g.ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE=f;g.ARMADILLO_CONTENT_COMMON_STICKER_STICKER_TYPE=j;g.ArmadilloSpec=k;g.Armadillo$MetadataSpec=l;g.Armadillo$PayloadSpec=m;g.Armadillo$SubProtocolPayloadSpec=n;g.Armadillo$SignalSpec=o;g.Armadillo$Signal$EncryptedBackupsSecretsSpec=p;g.Armadillo$Signal$EncryptedBackupsSecrets$EpochSpec=q;g.Armadillo$ApplicationDataSpec=r;g.Armadillo$ApplicationData$MessageHistoryDocumentMessageSpec=s;g.Armadillo$ApplicationData$AIBotResponseMessageSpec=t;g.Armadillo$ApplicationData$MetadataSyncActionSpec=u;g.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageActionSpec=v;g.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDeleteSpec=w;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatActionSpec=x;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatReadSpec=y;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDeleteSpec=z;g.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchiveSpec=A;g.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageSpec=B;g.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRangeSpec=C;g.Armadillo$ApplicationData$MetadataSyncNotificationSpec=D;g.Armadillo$ContentSpec=E;g.Armadillo$Content$PaymentsTransactionMessageSpec=F;g.Armadillo$Content$NetworkVerificationMessageSpec=G;g.Armadillo$Content$NoteReplyMessageSpec=H;g.Armadillo$Content$BumpExistingMessageSpec=I;g.Armadillo$Content$ImageGalleryMessageSpec=J;g.Armadillo$Content$ScreenshotActionSpec=K;g.Armadillo$Content$ExtendedContentMessageWithSearSpec=L;g.Armadillo$Content$RavenActionNotifMessageSpec=M;g.Armadillo$Content$RavenMessageSpec=N;g.Armadillo$Content$CommonStickerSpec=O}),98);
__d("WAArmadilloLocallyTransformedMessage.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.name="LocallyTransformedMessage";a.internalSpec={pollUpdateMessage:[1,d("WAProtoConst").TYPES.MESSAGE,b],__oneofs__:{content:["pollUpdateMessage"]}};b.name="LocallyTransformedMessage$PollUpdateAdminMessage";b.internalSpec={pollCreationMessageId:[1,d("WAProtoConst").TYPES.STRING],pollUpdateMessageId:[2,d("WAProtoConst").TYPES.STRING]};g.LocallyTransformedMessageSpec=a;g.LocallyTransformedMessage$PollUpdateAdminMessageSpec=b}),98);
__d("WAArmadilloMiTransportAdminMessage.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){c=(a=b("$InternalEnum"))({UNSET:0,DISABLED:1,ENABLED:2});e=a({UNSET:0,CHANGED:1,REMOVED:2});f=a({UNSET:0,PINNED:1,UNPINNED:2});b=a({UNSET:0,ALL_MEMBERS:1,ADMINS_ONLY:2});var h=a({UNSET:0,ADDED:1,REMOVED:2});a=a({UNSET:0,ADDED:1,REMOVED:2});var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={};i.name="MiTransportAdminMessage";i.internalSpec={chatThemeChanged:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,w],nicknameChanged:[2,d.TYPES.MESSAGE,v],groupParticipantChanged:[3,d.TYPES.MESSAGE,u],groupAdminChanged:[4,d.TYPES.MESSAGE,t],groupNameChanged:[5,d.TYPES.MESSAGE,s],groupMembershipAddModeChanged:[6,d.TYPES.MESSAGE,r],messagePinned:[7,d.TYPES.MESSAGE,q],groupImageChanged:[8,d.TYPES.MESSAGE,p],quickReactionChanged:[9,d.TYPES.MESSAGE,o],linkCta:[10,d.TYPES.MESSAGE,m],iconChanged:[11,d.TYPES.MESSAGE,l],disappearingSettingChanged:[12,d.TYPES.MESSAGE,k],limitSharingChanged:[13,d.TYPES.MESSAGE,j],__oneofs__:{content:["chatThemeChanged","nicknameChanged","groupParticipantChanged","groupAdminChanged","groupNameChanged","groupMembershipAddModeChanged","messagePinned","groupImageChanged","quickReactionChanged","linkCta","iconChanged","disappearingSettingChanged","limitSharingChanged"]}};j.name="MiTransportAdminMessage$LimitSharingChanged";j.internalSpec={sharingType:[1,d.TYPES.ENUM,c]};k.name="MiTransportAdminMessage$DisappearingSettingChanged";k.internalSpec={disappearingSettingDurationSeconds:[1,d.TYPES.INT32],oldDisappearingSettingDurationSeconds:[2,d.TYPES.INT32]};l.name="MiTransportAdminMessage$IconChanged";l.internalSpec={threadIcon:[1,d.TYPES.STRING]};m.name="MiTransportAdminMessage$LinkCta";m.internalSpec={ukOsaAdminText:[1,d.TYPES.MESSAGE,n],__oneofs__:{content:["ukOsaAdminText"]}};n.name="MiTransportAdminMessage$LinkCta$UkOsaAdminText";n.internalSpec={initiatorUserId:[2,d.TYPES.STRING]};o.name="MiTransportAdminMessage$QuickReactionChanged";o.internalSpec={emojiName:[1,d.TYPES.STRING]};p.name="MiTransportAdminMessage$GroupImageChanged";p.internalSpec={action:[1,d.TYPES.ENUM,e]};q.name="MiTransportAdminMessage$MessagePinned";q.internalSpec={action:[1,d.TYPES.ENUM,f]};r.name="MiTransportAdminMessage$GroupMembershipAddModeChanged";r.internalSpec={mode:[1,d.TYPES.ENUM,b]};s.name="MiTransportAdminMessage$GroupNameChanged";s.internalSpec={groupName:[1,d.TYPES.STRING]};t.name="MiTransportAdminMessage$GroupAdminChanged";t.internalSpec={targetUserId:[1,d.FLAGS.REPEATED|d.TYPES.STRING],action:[2,d.TYPES.ENUM,h]};u.name="MiTransportAdminMessage$GroupParticipantChanged";u.internalSpec={targetUserId:[1,d.FLAGS.REPEATED|d.TYPES.STRING],action:[2,d.TYPES.ENUM,a]};v.name="MiTransportAdminMessage$NicknameChanged";v.internalSpec={targetUserId:[1,d.TYPES.STRING],nickname:[2,d.TYPES.STRING]};w.name="MiTransportAdminMessage$ChatThemeChanged";w.internalSpec={themeName:[1,d.TYPES.STRING],themeEmoji:[2,d.TYPES.STRING],themeType:[3,d.TYPES.INT32]};g.MiTransportAdminMessage$LimitSharingChanged$SharingType=c;g.MiTransportAdminMessage$GroupImageChanged$Action=e;g.MiTransportAdminMessage$MessagePinned$Action=f;g.MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode=b;g.MiTransportAdminMessage$GroupAdminChanged$Action=h;g.MiTransportAdminMessage$GroupParticipantChanged$Action=a;g.MiTransportAdminMessageSpec=i;g.MiTransportAdminMessage$LimitSharingChangedSpec=j;g.MiTransportAdminMessage$DisappearingSettingChangedSpec=k;g.MiTransportAdminMessage$IconChangedSpec=l;g.MiTransportAdminMessage$LinkCtaSpec=m;g.MiTransportAdminMessage$LinkCta$UkOsaAdminTextSpec=n;g.MiTransportAdminMessage$QuickReactionChangedSpec=o;g.MiTransportAdminMessage$GroupImageChangedSpec=p;g.MiTransportAdminMessage$MessagePinnedSpec=q;g.MiTransportAdminMessage$GroupMembershipAddModeChangedSpec=r;g.MiTransportAdminMessage$GroupNameChangedSpec=s;g.MiTransportAdminMessage$GroupAdminChangedSpec=t;g.MiTransportAdminMessage$GroupParticipantChangedSpec=u;g.MiTransportAdminMessage$NicknameChangedSpec=v;g.MiTransportAdminMessage$ChatThemeChangedSpec=w}),98);
__d("WAArmadilloTransportEvent.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({NONE:0,DETECTED:1,CLEARED:2});c=b("$InternalEnum")({NONE:0,ADDED:1,REMOVED:2,REPLACED:3});e=b("$InternalEnum")({DECRYPTION_FAILURE:1,UNAVAILABLE_MESSAGE:2});f={};b={};var h={},i={},j={};f.name="TransportEvent";f.internalSpec={placeholder:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,j],event:[2,d.TYPES.MESSAGE,b],__oneofs__:{content:["placeholder","event"]}};b.name="TransportEvent$Event";b.internalSpec={deviceChange:[1,d.TYPES.MESSAGE,i],icdcAlert:[2,d.TYPES.MESSAGE,h],__oneofs__:{event:["deviceChange","icdcAlert"]}};h.name="TransportEvent$Event$IcdcAlert";h.internalSpec={type:[1,d.TYPES.ENUM,a]};i.name="TransportEvent$Event$DeviceChange";i.internalSpec={type:[1,d.TYPES.ENUM,c],deviceName:[2,d.TYPES.STRING],devicePlatform:[3,d.TYPES.STRING],deviceModel:[4,d.TYPES.STRING]};j.name="TransportEvent$Placeholder";j.internalSpec={type:[1,d.TYPES.ENUM,e]};g.TransportEvent$Event$IcdcAlert$Type=a;g.TransportEvent$Event$DeviceChange$Type=c;g.TransportEvent$Placeholder$Type=e;g.TransportEventSpec=f;g.TransportEvent$EventSpec=b;g.TransportEvent$Event$IcdcAlertSpec=h;g.TransportEvent$Event$DeviceChangeSpec=i;g.TransportEvent$PlaceholderSpec=j}),98);
__d("WAConsumerApplication.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={SMALL:1,MEDIUM:2,LARGE:3};b={SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5};c={NONE:0,VIDEO:1};e={};f={};var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={};e.name="ConsumerApplication";e.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,f],metadata:[2,h.TYPES.MESSAGE,j]};f.name="ConsumerApplication$Payload";f.internalSpec={content:[1,h.TYPES.MESSAGE,m],applicationData:[2,h.TYPES.MESSAGE,l],signal:[3,h.TYPES.MESSAGE,k],subProtocol:[4,h.TYPES.MESSAGE,i],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}};i.name="ConsumerApplication$SubProtocolPayload";i.internalSpec={futureProof:[1,h.TYPES.ENUM,(d=d("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]};j.name="ConsumerApplication$Metadata";j.internalSpec={specialTextSize:[1,h.TYPES.ENUM,a]};k.name="ConsumerApplication$Signal";k.internalSpec={};l.name="ConsumerApplication$ApplicationData";l.internalSpec={revoke:[1,h.TYPES.MESSAGE,v],__oneofs__:{applicationContent:["revoke"]}};m.name="ConsumerApplication$Content";m.internalSpec={messageText:[1,h.TYPES.MESSAGE,d.MessageTextSpec],imageMessage:[2,h.TYPES.MESSAGE,I],contactMessage:[3,h.TYPES.MESSAGE,A],locationMessage:[4,h.TYPES.MESSAGE,D],extendedTextMessage:[5,h.TYPES.MESSAGE,C],statusTextMessage:[6,h.TYPES.MESSAGE,B],documentMessage:[7,h.TYPES.MESSAGE,F],audioMessage:[8,h.TYPES.MESSAGE,H],videoMessage:[9,h.TYPES.MESSAGE,G],contactsArrayMessage:[10,h.TYPES.MESSAGE,z],liveLocationMessage:[11,h.TYPES.MESSAGE,y],stickerMessage:[12,h.TYPES.MESSAGE,E],groupInviteMessage:[13,h.TYPES.MESSAGE,x],viewOnceMessage:[14,h.TYPES.MESSAGE,w],reactionMessage:[16,h.TYPES.MESSAGE,u],pollCreationMessage:[17,h.TYPES.MESSAGE,s],pollUpdateMessage:[18,h.TYPES.MESSAGE,r],editMessage:[19,h.TYPES.MESSAGE,n],__oneofs__:{content:["messageText","imageMessage","contactMessage","locationMessage","extendedTextMessage","statusTextMessage","documentMessage","audioMessage","videoMessage","contactsArrayMessage","liveLocationMessage","stickerMessage","groupInviteMessage","viewOnceMessage","reactionMessage","pollCreationMessage","pollUpdateMessage","editMessage"]}};n.name="ConsumerApplication$EditMessage";n.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec],message:[2,h.TYPES.MESSAGE,d.MessageTextSpec],timestampMs:[3,h.TYPES.INT64]};o.name="ConsumerApplication$PollAddOptionMessage";o.internalSpec={pollOption:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,t]};p.name="ConsumerApplication$PollVoteMessage";p.internalSpec={selectedOptions:[1,h.FLAGS.REPEATED|h.TYPES.BYTES],senderTimestampMs:[2,h.TYPES.INT64]};q.name="ConsumerApplication$PollEncValue";q.internalSpec={encPayload:[1,h.TYPES.BYTES],encIv:[2,h.TYPES.BYTES]};r.name="ConsumerApplication$PollUpdateMessage";r.internalSpec={pollCreationMessageKey:[1,h.TYPES.MESSAGE,d.MessageKeySpec],vote:[2,h.TYPES.MESSAGE,q],addOption:[3,h.TYPES.MESSAGE,q]};s.name="ConsumerApplication$PollCreationMessage";s.internalSpec={encKey:[1,h.TYPES.BYTES],name:[2,h.TYPES.STRING],options:[3,h.FLAGS.REPEATED|h.TYPES.MESSAGE,t],selectableOptionsCount:[4,h.TYPES.UINT32]};t.name="ConsumerApplication$Option";t.internalSpec={optionName:[1,h.TYPES.STRING]};u.name="ConsumerApplication$ReactionMessage";u.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec],text:[2,h.TYPES.STRING],groupingKey:[3,h.TYPES.STRING],senderTimestampMs:[4,h.TYPES.INT64],reactionMetadataDataclassData:[5,h.TYPES.STRING],style:[6,h.TYPES.INT32]};v.name="ConsumerApplication$RevokeMessage";v.internalSpec={key:[1,h.TYPES.MESSAGE,d.MessageKeySpec]};w.name="ConsumerApplication$ViewOnceMessage";w.internalSpec={imageMessage:[1,h.TYPES.MESSAGE,I],videoMessage:[2,h.TYPES.MESSAGE,G],__oneofs__:{viewOnceContent:["imageMessage","videoMessage"]}};x.name="ConsumerApplication$GroupInviteMessage";x.internalSpec={groupJid:[1,h.TYPES.STRING],inviteCode:[2,h.TYPES.STRING],inviteExpiration:[3,h.TYPES.INT64],groupName:[4,h.TYPES.STRING],jpegThumbnail:[5,h.TYPES.BYTES],caption:[6,h.TYPES.MESSAGE,d.MessageTextSpec]};y.name="ConsumerApplication$LiveLocationMessage";y.internalSpec={location:[1,h.TYPES.MESSAGE,L],accuracyInMeters:[2,h.TYPES.UINT32],speedInMps:[3,h.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[4,h.TYPES.UINT32],caption:[5,h.TYPES.MESSAGE,d.MessageTextSpec],sequenceNumber:[6,h.TYPES.INT64],timeOffset:[7,h.TYPES.UINT32]};z.name="ConsumerApplication$ContactsArrayMessage";z.internalSpec={displayName:[1,h.TYPES.STRING],contacts:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,A]};A.name="ConsumerApplication$ContactMessage";A.internalSpec={contact:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};B.name="ConsumerApplication$StatusTextMesage";B.internalSpec={text:[1,h.TYPES.MESSAGE,C],textArgb:[6,h.TYPES.FIXED32],backgroundArgb:[7,h.TYPES.FIXED32],font:[8,h.TYPES.ENUM,b]};C.name="ConsumerApplication$ExtendedTextMessage";C.internalSpec={text:[1,h.TYPES.MESSAGE,d.MessageTextSpec],matchedText:[2,h.TYPES.STRING],canonicalUrl:[3,h.TYPES.STRING],description:[4,h.TYPES.STRING],title:[5,h.TYPES.STRING],thumbnail:[6,h.TYPES.MESSAGE,d.SubProtocolSpec],previewType:[7,h.TYPES.ENUM,c]};D.name="ConsumerApplication$LocationMessage";D.internalSpec={location:[1,h.TYPES.MESSAGE,L],address:[2,h.TYPES.STRING]};E.name="ConsumerApplication$StickerMessage";E.internalSpec={sticker:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};F.name="ConsumerApplication$DocumentMessage";F.internalSpec={document:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],fileName:[2,h.TYPES.STRING]};G.name="ConsumerApplication$VideoMessage";G.internalSpec={video:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],caption:[2,h.TYPES.MESSAGE,d.MessageTextSpec]};H.name="ConsumerApplication$AudioMessage";H.internalSpec={audio:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],ptt:[2,h.TYPES.BOOL]};I.name="ConsumerApplication$ImageMessage";I.internalSpec={image:[1,h.TYPES.MESSAGE,d.SubProtocolSpec],caption:[2,h.TYPES.MESSAGE,d.MessageTextSpec]};J.name="ConsumerApplication$InteractiveAnnotation";J.internalSpec={polygonVertices:[1,h.FLAGS.REPEATED|h.TYPES.MESSAGE,K],location:[2,h.TYPES.MESSAGE,L],__oneofs__:{action:["location"]}};K.name="ConsumerApplication$Point";K.internalSpec={x:[1,h.TYPES.DOUBLE],y:[2,h.TYPES.DOUBLE]};L.name="ConsumerApplication$Location";L.internalSpec={degreesLatitude:[1,h.TYPES.DOUBLE],degreesLongitude:[2,h.TYPES.DOUBLE],name:[3,h.TYPES.STRING]};M.name="ConsumerApplication$MediaPayload";M.internalSpec={protocol:[1,h.TYPES.MESSAGE,d.SubProtocolSpec]};g.CONSUMER_APPLICATION_METADATA_SPECIAL_TEXT_SIZE=a;g.CONSUMER_APPLICATION_STATUS_TEXT_MESAGE_FONT_TYPE=b;g.CONSUMER_APPLICATION_EXTENDED_TEXT_MESSAGE_PREVIEW_TYPE=c;g.ConsumerApplicationSpec=e;g.ConsumerApplication$PayloadSpec=f;g.ConsumerApplication$SubProtocolPayloadSpec=i;g.ConsumerApplication$MetadataSpec=j;g.ConsumerApplication$SignalSpec=k;g.ConsumerApplication$ApplicationDataSpec=l;g.ConsumerApplication$ContentSpec=m;g.ConsumerApplication$EditMessageSpec=n;g.ConsumerApplication$PollAddOptionMessageSpec=o;g.ConsumerApplication$PollVoteMessageSpec=p;g.ConsumerApplication$PollEncValueSpec=q;g.ConsumerApplication$PollUpdateMessageSpec=r;g.ConsumerApplication$PollCreationMessageSpec=s;g.ConsumerApplication$OptionSpec=t;g.ConsumerApplication$ReactionMessageSpec=u;g.ConsumerApplication$RevokeMessageSpec=v;g.ConsumerApplication$ViewOnceMessageSpec=w;g.ConsumerApplication$GroupInviteMessageSpec=x;g.ConsumerApplication$LiveLocationMessageSpec=y;g.ConsumerApplication$ContactsArrayMessageSpec=z;g.ConsumerApplication$ContactMessageSpec=A;g.ConsumerApplication$StatusTextMesageSpec=B;g.ConsumerApplication$ExtendedTextMessageSpec=C;g.ConsumerApplication$LocationMessageSpec=D;g.ConsumerApplication$StickerMessageSpec=E;g.ConsumerApplication$DocumentMessageSpec=F;g.ConsumerApplication$VideoMessageSpec=G;g.ConsumerApplication$AudioMessageSpec=H;g.ConsumerApplication$ImageMessageSpec=I;g.ConsumerApplication$InteractiveAnnotationSpec=J;g.ConsumerApplication$PointSpec=K;g.ConsumerApplication$LocationSpec=L;g.ConsumerApplication$MediaPayloadSpec=M}),98);
__d("WAMediaTransport.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={NONE:0,LQ_4K:1,HQ_4K:2};b={NONE:0,GIPHY:1,TENOR:2};c={TALKING_A:0,IDLE_A:1,TALKING_B:2,IDLE_B:3,BACKGROUND:4};e={UNKNOWN:0,OPUS:1};f={};var i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={};f.name="WAMediaTransport";f.internalSpec={integral:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,l],ancillary:[2,h.TYPES.MESSAGE,i]};i.name="WAMediaTransport$Ancillary";i.internalSpec={fileLength:[1,h.TYPES.UINT64],mimetype:[2,h.TYPES.STRING],thumbnail:[3,h.TYPES.MESSAGE,j],objectId:[4,h.TYPES.STRING]};j.name="WAMediaTransport$Ancillary$Thumbnail";j.internalSpec={jpegThumbnail:[1,h.TYPES.BYTES],downloadableThumbnail:[2,h.TYPES.MESSAGE,k],thumbnailWidth:[3,h.TYPES.UINT32],thumbnailHeight:[4,h.TYPES.UINT32]};k.name="WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnail";k.internalSpec={fileSha256:[1,h.TYPES.BYTES],fileEncSha256:[2,h.TYPES.BYTES],directPath:[3,h.TYPES.STRING],mediaKey:[4,h.TYPES.BYTES],mediaKeyTimestamp:[5,h.TYPES.INT64],objectId:[6,h.TYPES.STRING],thumbnailScansSidecar:[7,h.TYPES.BYTES],thumbnailScanLengths:[8,h.FLAGS.REPEATED|h.TYPES.UINT32]};l.name="WAMediaTransport$Integral";l.internalSpec={fileSha256:[1,h.TYPES.BYTES],mediaKey:[2,h.TYPES.BYTES],fileEncSha256:[3,h.TYPES.BYTES],directPath:[4,h.TYPES.STRING],mediaKeyTimestamp:[5,h.TYPES.INT64]};m.name="ImageTransport";m.internalSpec={integral:[1,h.TYPES.MESSAGE,o],ancillary:[2,h.TYPES.MESSAGE,n]};n.name="ImageTransport$Ancillary";n.internalSpec={height:[1,h.TYPES.UINT32],width:[2,h.TYPES.UINT32],scansSidecar:[3,h.TYPES.BYTES],scanLengths:[4,h.FLAGS.REPEATED|h.TYPES.UINT32],midQualityFileSha256:[5,h.TYPES.BYTES],hdType:[6,h.TYPES.ENUM,a],memoriesConceptScores:[7,h.FLAGS.REPEATED|h.FLAGS.PACKED|h.TYPES.FLOAT],memoriesConceptIds:[8,h.FLAGS.REPEATED|h.FLAGS.PACKED|h.TYPES.UINT32]};o.name="ImageTransport$Integral";o.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};p.name="VideoTransport";p.internalSpec={integral:[1,h.TYPES.MESSAGE,r],ancillary:[2,h.TYPES.MESSAGE,q]};q.name="VideoTransport$Ancillary";q.internalSpec={seconds:[1,h.TYPES.UINT32],caption:[2,h.TYPES.MESSAGE,d("WACommon.pb").MessageTextSpec],gifPlayback:[3,h.TYPES.BOOL],height:[4,h.TYPES.UINT32],width:[5,h.TYPES.UINT32],sidecar:[6,h.TYPES.BYTES],gifAttribution:[7,h.TYPES.ENUM,b],accessibilityLabel:[8,h.TYPES.STRING],isHd:[9,h.TYPES.BOOL]};r.name="VideoTransport$Integral";r.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};s.name="AudioTransport";s.internalSpec={integral:[1,h.TYPES.MESSAGE,w],ancillary:[2,h.TYPES.MESSAGE,t]};t.name="AudioTransport$Ancillary";t.internalSpec={seconds:[1,h.TYPES.UINT32],avatarAudio:[2,h.TYPES.MESSAGE,u]};u.name="AudioTransport$Ancillary$AvatarAudio";u.internalSpec={poseId:[1,h.TYPES.UINT32],avatarAnimations:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,v]};v.name="AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimations";v.internalSpec={fileSha256:[1,h.TYPES.BYTES],fileEncSha256:[2,h.TYPES.BYTES],directPath:[3,h.TYPES.STRING],mediaKey:[4,h.TYPES.BYTES],mediaKeyTimestamp:[5,h.TYPES.INT64],objectId:[6,h.TYPES.STRING],animationsType:[7,h.TYPES.ENUM,c]};w.name="AudioTransport$Integral";w.internalSpec={transport:[1,h.TYPES.MESSAGE,f],audioFormat:[2,h.TYPES.ENUM,e]};x.name="DocumentTransport";x.internalSpec={integral:[1,h.TYPES.MESSAGE,z],ancillary:[2,h.TYPES.MESSAGE,y]};y.name="DocumentTransport$Ancillary";y.internalSpec={pageCount:[1,h.TYPES.UINT32]};z.name="DocumentTransport$Integral";z.internalSpec={transport:[1,h.TYPES.MESSAGE,f]};A.name="StickerTransport";A.internalSpec={integral:[1,h.TYPES.MESSAGE,C],ancillary:[2,h.TYPES.MESSAGE,B]};B.name="StickerTransport$Ancillary";B.internalSpec={pageCount:[1,h.TYPES.UINT32],height:[2,h.TYPES.UINT32],width:[3,h.TYPES.UINT32],firstFrameLength:[4,h.TYPES.UINT32],firstFrameSidecar:[5,h.TYPES.BYTES],mustacheText:[6,h.TYPES.STRING],isThirdParty:[7,h.TYPES.BOOL],receiverFetchId:[8,h.TYPES.STRING],accessibilityLabel:[9,h.TYPES.STRING]};C.name="StickerTransport$Integral";C.internalSpec={transport:[1,h.TYPES.MESSAGE,f],isAnimated:[2,h.TYPES.BOOL],receiverFetchId:[3,h.TYPES.STRING]};D.name="ContactTransport";D.internalSpec={integral:[1,h.TYPES.MESSAGE,F],ancillary:[2,h.TYPES.MESSAGE,E]};E.name="ContactTransport$Ancillary";E.internalSpec={displayName:[1,h.TYPES.STRING]};F.name="ContactTransport$Integral";F.internalSpec={vcard:[1,h.TYPES.STRING],downloadableVcard:[2,h.TYPES.MESSAGE,f],__oneofs__:{contact:["vcard","downloadableVcard"]}};g.IMAGE_TRANSPORT_ANCILLARY_HD_TYPE=a;g.VIDEO_TRANSPORT_ANCILLARY_ATTRIBUTION=b;g.AUDIO_TRANSPORT_ANCILLARY_AVATAR_AUDIO_ANIMATIONS_TYPE=c;g.AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT=e;g.WAMediaTransportSpec=f;g.WAMediaTransport$AncillarySpec=i;g.WAMediaTransport$Ancillary$ThumbnailSpec=j;g.WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnailSpec=k;g.WAMediaTransport$IntegralSpec=l;g.ImageTransportSpec=m;g.ImageTransport$AncillarySpec=n;g.ImageTransport$IntegralSpec=o;g.VideoTransportSpec=p;g.VideoTransport$AncillarySpec=q;g.VideoTransport$IntegralSpec=r;g.AudioTransportSpec=s;g.AudioTransport$AncillarySpec=t;g.AudioTransport$Ancillary$AvatarAudioSpec=u;g.AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimationsSpec=v;g.AudioTransport$IntegralSpec=w;g.DocumentTransportSpec=x;g.DocumentTransport$AncillarySpec=y;g.DocumentTransport$IntegralSpec=z;g.StickerTransportSpec=A;g.StickerTransport$AncillarySpec=B;g.StickerTransport$IntegralSpec=C;g.ContactTransportSpec=D;g.ContactTransport$AncillarySpec=E;g.ContactTransport$IntegralSpec=F}),98);
__d("WAMsgApplication.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={DEFAULT:0,VANISH_MODE:1,DISAPPEARING_MESSAGES:2};b={UNKNOWN:0,SEEN_ONCE:1,SEEN_BASED_WITH_TIMER:2,SEND_BASED_WITH_TIMER:3};c={};e={};f={};var i={},j={},k={},l={},m={},n={},o={};c.name="MessageApplication";c.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,j],metadata:[2,h.TYPES.MESSAGE,e]};e.name="MessageApplication$Metadata";e.internalSpec={forwardingScore:[5,h.TYPES.UINT32],isForwarded:[6,h.TYPES.BOOL],businessMetadata:[7,h.TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],frankingKey:[8,h.TYPES.BYTES],frankingVersion:[9,h.TYPES.INT32],quotedMessage:[10,h.TYPES.MESSAGE,f],threadType:[11,h.TYPES.ENUM,a],readonlyMetadataDataclass:[12,h.TYPES.STRING],groupId:[13,h.TYPES.STRING],groupSize:[14,h.TYPES.UINT32],groupIndex:[15,h.TYPES.UINT32],botResponseId:[16,h.TYPES.STRING],collapsibleId:[17,h.TYPES.STRING],secondaryOtid:[18,h.TYPES.STRING],chatEphemeralSetting:[1,h.TYPES.MESSAGE,o],ephemeralSettingList:[2,h.TYPES.MESSAGE,i],ephemeralSharedSecret:[3,h.TYPES.BYTES],__oneofs__:{ephemeral:["chatEphemeralSetting","ephemeralSettingList","ephemeralSharedSecret"]}};f.name="MessageApplication$Metadata$QuotedMessage";f.internalSpec={stanzaId:[1,h.TYPES.STRING],remoteJid:[2,h.TYPES.STRING],participant:[3,h.TYPES.STRING],payload:[4,h.TYPES.MESSAGE,j]};i.name="MessageApplication$Metadata$EphemeralSettingMap";i.internalSpec={chatJid:[1,h.TYPES.STRING],ephemeralSetting:[2,h.TYPES.MESSAGE,o]};j.name="MessageApplication$Payload";j.internalSpec={coreContent:[1,h.TYPES.MESSAGE,n],signal:[2,h.TYPES.MESSAGE,m],applicationData:[3,h.TYPES.MESSAGE,l],subProtocol:[4,h.TYPES.MESSAGE,k],__oneofs__:{content:["coreContent","signal","applicationData","subProtocol"]}};k.name="MessageApplication$SubProtocolPayload";k.internalSpec={futureProof:[1,h.TYPES.ENUM,d.FUTURE_PROOF_BEHAVIOR],consumerMessage:[2,h.TYPES.MESSAGE,d.SubProtocolSpec],businessMessage:[3,h.TYPES.MESSAGE,d.SubProtocolSpec],paymentMessage:[4,h.TYPES.MESSAGE,d.SubProtocolSpec],multiDevice:[5,h.TYPES.MESSAGE,d.SubProtocolSpec],voip:[6,h.TYPES.MESSAGE,d.SubProtocolSpec],armadillo:[7,h.TYPES.MESSAGE,d.SubProtocolSpec],__oneofs__:{subProtocol:["consumerMessage","businessMessage","paymentMessage","multiDevice","voip","armadillo"]}};l.name="MessageApplication$ApplicationData";l.internalSpec={};m.name="MessageApplication$Signal";m.internalSpec={};n.name="MessageApplication$Content";n.internalSpec={};o.name="MessageApplication$EphemeralSetting";o.internalSpec={ephemeralExpiration:[2,h.TYPES.UINT32],ephemeralSettingTimestamp:[3,h.TYPES.INT64],ephemeralityType:[5,h.TYPES.ENUM,b],isEphemeralSettingReset:[4,h.TYPES.BOOL]};g.MESSAGE_APPLICATION_METADATA_THREAD_TYPE=a;g.MESSAGE_APPLICATION_EPHEMERAL_SETTING_EPHEMERALITY_TYPE=b;g.MessageApplicationSpec=c;g.MessageApplication$MetadataSpec=e;g.MessageApplication$Metadata$QuotedMessageSpec=f;g.MessageApplication$Metadata$EphemeralSettingMapSpec=i;g.MessageApplication$PayloadSpec=j;g.MessageApplication$SubProtocolPayloadSpec=k;g.MessageApplication$ApplicationDataSpec=l;g.MessageApplication$SignalSpec=m;g.MessageApplication$ContentSpec=n;g.MessageApplication$EphemeralSettingSpec=o}),98);
__d("WAParseMessageApplication",["decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.payload;if(e==null)return{version:"v3",type:"error",error:"The messageApplication has no payload"};if(d("decodeProtobuf").getUnknownFields(a.payload)!=null)return{version:"v3",type:"error",error:"There are unknown fields in the message application payload"};e=e.subProtocol;if(e==null)return{version:"v3",type:"error",error:"The messageApplication payload has no subProtocol"};if(d("decodeProtobuf").getUnknownFields(e)!=null)return{version:"v3",type:"error",error:"messageApplication subProtocol has unknown fields",futureProof:e.futureProof};e=[];b=(b=a.payload)==null?void 0:(b=b.subProtocol)==null?void 0:b.consumerMessage;c=(c=a.payload)==null?void 0:(c=c.subProtocol)==null?void 0:c.armadillo;a=(a=a.payload)==null?void 0:(a=a.subProtocol)==null?void 0:a.multiDevice;if(b!=null){if(b.payload==null)return{version:"v3",type:"error",error:"subprotocol of type consumerMessage has no payload"};e.push({payload:new Uint8Array(b.payload),type:"success",subprotocolType:"consumerMessage"})}if(c!=null){if(c.payload==null)return{version:"v3",type:"error",error:"subprotocol of type armadillo has no payload"};e.push({payload:new Uint8Array(c.payload),type:"success",subprotocolType:"armadillo"})}if(a!=null){if(a.payload==null)return{version:"v3",type:"error",error:"subprotocol of type multiDevice has no payload"};e.push({payload:new Uint8Array(a.payload),type:"success",subprotocolType:"multiDevice"})}return e.length!==1?{version:"v3",type:"error",error:"Wrong number of subprotocols: "+e.length}:e[0]}g.parseMessageApplication=a}),98);
__d("lastx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=null;if(Array.isArray(a))a.length&&(b={value:a[a.length-1]});else for(a of a)b=b||{},b.value=a;if(b)return b.value;h(0,1145)}g["default"]=a}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var b=a.prototype;b.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||h(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};b.get=function(a){this.$4(a);var b=this.$6(a);b=b&&b.get(c("lastx")(a));return b==null||b.type!=="value"?void 0:b.value};b["delete"]=function(a){this.$4(a);var b=this.$6(a);return b?b["delete"](c("lastx")(a)):!1};b.$5=function(a,b){return j(b)?a.cache:a.weakCache};b.$6=function(a){var b=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=b)==null?void 0:e.type)==="map")b=this.$5(b,f).get(f);else return void 0}e=c("lastx")(a);f=b&&this.$5(b,e);return f};b.$2=function(){return{type:"map",cache:new Map(),weakCache:i?new WeakMap():new Map()}};b.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function j(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}g["default"]=a}),98);
__d("memoizeWithArgsWeak",["MultiKeyMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0;var d=new(c("MultiKeyMap"))();return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=d.get(c);if(f!==void 0)return f;var g=a.apply(void 0,c);d.set(c,g);return g}}g["default"]=a}),98);
__d("MAWProtobufDeserializers",["FBLogger","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WAArmadilloLocallyTransformedMessage.pb","WAArmadilloMiTransportAdminMessage.pb","WAArmadilloTransportEvent.pb","WAByteArray","WAConsumerApplication.pb","WAMediaTransport.pb","WAMsgApplication.pb","WAParseMessageApplication","decodeProtobuf","memoize","memoizeWithArgsWeak","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a instanceof ArrayBuffer)return a;else return d("WAByteArray").uint8ArrayToBuffer(a)}var i=function(a){var b;this.kind="imageTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(b=a.image)==null?void 0:b.payload);this.caption=a.caption},j=function(a){var b;this.kind="audioTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").AudioTransportSpec,(b=a.audio)==null?void 0:b.payload);this.ptt=a.ptt},k=function(a){var b;this.kind="videoTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,(b=a.video)==null?void 0:b.payload);this.caption=a.caption},l=function(a){var b;this.kind="documentTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").DocumentTransportSpec,(b=a.document)==null?void 0:b.payload);this.fileName=a.fileName},m=function(a){this.kind="stickerTransport";this.payload=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,(a=a.sticker)==null?void 0:a.payload)},n=function(a){var b=this;this.kind="extendedContentMessage";this.favicon=c("memoize")(function(){var a;return((a=b.payload)==null?void 0:(a=a.favicon)==null?void 0:a.payload)==null?null:d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(a=b.payload)==null?void 0:(a=a.favicon)==null?void 0:a.payload)});this.headerImage=c("memoize")(function(){var a;return((a=b.payload)==null?void 0:(a=a.headerImage)==null?void 0:a.payload)==null?null:d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(a=b.payload)==null?void 0:(a=a.headerImage)==null?void 0:a.payload)});this.previews=c("memoize")(function(){var a;return(a=(a=b.payload)==null?void 0:(a=a.previews)==null?void 0:a.map(function(a){return d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,a.payload)}))!=null?a:[]});this.payload=a},o=function(){function a(a){this.kind="armadillo",this.bytes=h(a),this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloApplication.pb").ArmadilloSpec,a),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var b=a.prototype;b.extendedContentMessage=function(){var a;a=(a=this.payload)==null?void 0:(a=a.content)==null?void 0:a.extendedContentMessage;return a==null?null:new n(a)};return a}(),p=function(a){var b=this,e;this.kind="consumerApplication";this.imageMessage=(e=c("memoize"))(function(){var a;a=(a=b.payload)==null?void 0:(a=a.content)==null?void 0:a.imageMessage;if(a==null)return;return new i(a)});this.audioMessage=e(function(){var a;a=(a=b.payload)==null?void 0:(a=a.content)==null?void 0:a.audioMessage;if(a==null)return;return new j(a)});this.videoMessage=e(function(){var a;a=(a=b.payload)==null?void 0:(a=a.content)==null?void 0:a.videoMessage;if(a==null)return;return new k(a)});this.documentMessage=e(function(){var a;a=(a=b.payload)==null?void 0:(a=a.content)==null?void 0:a.documentMessage;if(a==null)return;return new l(a)});this.stickerMessage=e(function(){var a;a=(a=b.payload)==null?void 0:(a=a.content)==null?void 0:a.stickerMessage;if(a==null)return;return new m(a)});this.bytes=h(a);this.proto=d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplicationSpec,a);this.payload=this.proto.payload;this.metadata=this.proto.metadata},q=function(){function a(a){var b=this;this.kind="messageApplication";this.subProtocol=c("memoize")(function(){var a=d("WAParseMessageApplication").parseMessageApplication(b.proto);if(a.payload!=null){var c=a.payload;switch(a.subprotocolType){case"consumerMessage":return new p(c);case"armadillo":return new o(c);case"businessMessage":case"paymentMessage":case"multiDevice":case"voip":break;default:a.subprotocolType}}});this.bytes=h(a);this.proto=d("decodeProtobuf").decodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a)}var b=a.prototype;b.consumerMessage=function(){var a=this.subProtocol();return(a==null?void 0:a.kind)!=="consumerApplication"?null:a};b.armadillo=function(){var a=this.subProtocol();return(a==null?void 0:a.kind)!=="armadillo"?null:a};return a}(),r=function(a){this.kind="transportEvent",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,a)},s=function(a){this.kind="locallyTransformedMessage",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloLocallyTransformedMessage.pb").LocallyTransformedMessageSpec,a)},t=function(a){this.kind="adminMessage",this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessageSpec,a)},u="SKIP_CACHE",v=function(){function a(a,b){var e=this;this.payload=c("memoize")(function(){if(e.proto.encryptedTransportEvent!=null)return new r(c("nullthrows")(e.proto.encryptedTransportEvent.payload));else if(e.proto.encryptedTransportLocallyTransformedMessage!=null)return new s(c("nullthrows")(e.proto.encryptedTransportLocallyTransformedMessage.payload));else if(e.proto.encryptedTransportMessage!=null)return new q(c("nullthrows")(e.proto.encryptedTransportMessage));else if(e.proto.miTransportAdminMessage!=null)return new t(c("nullthrows")(e.proto.miTransportAdminMessage.payload));throw c("FBLogger")("messenger_web").mustfixThrow("BackupMessage proto has no payload")});this.proto=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a)}var b=a.prototype;b.encryptedTransportMessage=function(){var a=this.payload();if(a.kind!=="messageApplication")return;return a};b.encryptedTransportEvent=function(){var a=this.payload();if(a.kind!=="transportEvent")return;return a};b.locallyTransformedMessage=function(){var a=this.payload();if(a.kind!=="locallyTransformedMessage")return;return a};b.adminMessage=function(){var a=this.payload();if(a.kind!=="adminMessage")return;return a};return a}();v.create=c("memoizeWithArgsWeak")(function(a){return new v(a,u)});g.DeserializedImageMessage=i;g.DeserializedAudioMessage=j;g.DeserializedVideoMessage=k;g.DeserializedDocumentMessage=l;g.DeserializedStickerMessage=m;g.DeserializedExtendedContentMessage=n;g.DeserializedConsumerApplication=p;g.DeserializedMessageApplication=q;g.DeserializedTransportEvent=r;g.DeserializedLocallyTransformedMessage=s;g.DeserializedAdminMessage=t;g.DeserializedBackupMessage=v}),98);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return c("RavenMessagingState").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return c("RavenMessagingState").UNSEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return c("RavenMessagingState").SEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return c("RavenMessagingState").REPLAYED;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return c("RavenMessagingState").EXPIRED}},i=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c("EphemeralMediaViewMode").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c("EphemeralMediaViewMode").REPLAYABLE;case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return c("EphemeralMediaViewMode").READ_ONCE}};b=function(a,b){return{ephemeralMediaState:b,ephemeralMediaViewMode:i(a)}};function a(a,b){switch(b){case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?c("RavenMessagingState").SEEN:h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN)return c("RavenMessagingState").SEEN;else if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN)return c("RavenMessagingState").REPLAYED;return h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=i;g.deriveRavenSettings=b;g.getNextRavenMessageEphemeralState=a}),98);
__d("MAWThreadBumpType",[],(function(a,b,c,d,e,f){"use strict";a="NO_UPDATE";b="LOCAL_ONLY";c="LOCAL_AND_SERVER";d=Object.freeze({LOCAL_AND_SERVER:c,LOCAL_ONLY:b,NO_UPDATE:a});f.THREAD_BUMP_TYPE=d}),66);
__d("MAWThreadUpdateType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=Object.freeze({BUMP_THREAD:c,MARK_THREAD_AS_UNREAD:d,NO_SNIPPET_OR_ACTIVITY_TS_UPDATE:a,SNIPPET_ONLY:b});f.THREAD_UPDATE_TYPE=e}),66);
__d("MAWVaultMaterialsStorage",["FBLogger","MAWVaultMaterials","Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_exchange_vm";function j(){var a=d("MAWVaultMaterials").generateNewVaultMaterials(),e="newly-generated";return new(h||(h=b("Promise")))(function(b){c("WebAsyncStorage").getOrSetItem(i,a,function(f,g){if(f!=null){var h=c("FBLogger")("messenger_web");if(f instanceof Error)throw h.catching(f).mustfixThrow("Failed to store Vaulting Materials. %s",f.toString());else h.mustfix("Failed to store Vaulting Materials.")}g!==null&&(a=g,e="storage");b(d("MAWVaultMaterials").initializeVaultMaterials(a,e))})})}function a(){return d("MAWVaultMaterials").hasVaultBeenSetup()?(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials()):j()}g.setupVaultMaterials=a}),98);
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("labyrinth_web").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);
__d("MWPlatformTaskSystem",["LSPlatformRequestScheduler","MWPlatformTaskUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var e=this;this.$1=a;this.$2=b;this.$3=new(c("LSPlatformRequestScheduler"))();this.$4=d("MWPlatformTaskUtils").checkQueuesWhenPendingTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!1)});this.$5=d("MWPlatformTaskUtils").checkQueuesWhenPendingFireForgetTaskTableUpdates(a,function(b){var c=b.queueName;b=b.transportKey;return e.$6(a,c,b,!0)});this.$7()}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){yield this.$2.decideWhatToDoWithTask(a,b,c,d)});function c(b,c,d,e){return a.apply(this,arguments)}return c}();e.$7=function(){var a=this;d("MWPlatformTaskUtils").checkAllPendingTasksForWork(this.$1,function(b){b=b.queueName;return a.$6(a.$1,b)})};e.cleanup=function(){this.$4.forEach(function(a){return a()}),this.$5.forEach(function(a){return a()}),this.$2.cleanup()};return a}();g["default"]=a}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncryptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b()};function a(a){j=a}var k="mw_ear_db";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncryptionIndexedDbV2").makeEncryptionDB(a);return yield j("init_setup_keychain",function(){return c("MAWKeychain").init("global_ear",a)})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",b)}});return m.apply(this,arguments)}function n(a){if(d("MAWEncryptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised("global_ear"))return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion("global_ear")));if(c("BrowserLockManager")!=null)return new(i||(i=b("Promise")))(function(d,e){c("promiseDone")(c("BrowserLockManager").request(k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield l(a));d(b)}catch(a){e(a)}})),function(a){},function(a){e(a)})});else return l(a)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(i||(i=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){return n(a)},function(a){return(a==null?void 0:a.success)===!0});e=c("justknobx")._("2804")||(h||(h=c("ExecutionEnvironment"))).isInWorker?f:n;g.setPerformanceMeasurementTool=a;g.init=e}),98);
__d("MpsTypes",["$InternalEnum","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function c(a){return a}function e(a){return a}function f(a){return d("WAStanzaUtils").toStanzaId(a)}function h(a){return a}function i(a){return a}function j(a){return a}var k=b("$InternalEnum").Mirrored(["Send","Receive"]);b=b("$InternalEnum")({Unknown:0,Noop:1,UpsertTopLevel:2,UpsertSupplemental:3,DeleteTopLevel:4,DeleteTopLevelWithPlaceholder:5,Preprocess:6,DeleteSupplemental:7,DeleteThread:8});g.toBytes=a;g.toTimestamp=c;g.toMessageId=e;g.messageIdToStanzaId=f;g.toThreadId=h;g.toSupplementalKey=i;g.fromSupplementalKey=j;g.InsertionSource=k;g.ActionType=b}),98);
__d("MpsToBridgeMessageId",["MAWDbMsg","MpsTypes","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("nullthrows")(d("MAWDbMsg").toMsgId(a+"_"+b+"_m"))}function b(a){a=a.split("_");var b=a[0];a=a[1];return{messageId:d("MpsTypes").toMessageId(a),threadId:d("MpsTypes").toThreadId(b)}}g.mpsToBridgeMsgId=a;g.bridgeMsgIdToMps=b}),98);
__d("MpsMessageToBridgeWrapper",["MAWProtobufDeserializers","MAWUserJidWrapper","MpsToBridgeMessageId","WAJids","WATimeUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=d("WAJids").createJidUtils({platform:"msgr"});a=function(){function a(a,b){this.message=a,this.topLevel=b}a.fromTopLevel=function(b){return new a(b,b)};a.fromSupplemental=function(b,e){var f=d("MAWProtobufDeserializers").DeserializedBackupMessage.create(b.payload);f={messageId:b.messageId,payload:b.payload,senderId:c("nullthrows")((f=f.proto.metadata)==null?void 0:f.senderId),threadId:e.threadId,timestampMs:b.timestampMs};return new a(f,e)};var b=a.prototype;b.getChatJid=function(){return d("WAJids").unsafeCoerceToChatJid(this.message.threadId)};b.getExternalId=function(){return this.message.messageId};b.getMsgId=function(){return d("MpsToBridgeMessageId").mpsToBridgeMsgId(this.message.threadId,this.message.messageId)};b.getSenderJid=function(){return h.toUserJid(this.message.senderId)};b.topLevelMetadata=function(){return a.fromTopLevel(this.topLevel)};b.isAuthorMe=function(){return d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())===this.message.senderId};b.getAuthor=function(){return this.isAuthorMe()?d("WAJids").AUTHOR_ME:this.getSenderJid()};b.getUnixTs=function(){return d("WATimeUtils").castMilliSecondsToUnixTime(this.message.timestampMs)};b.deserialize=function(){return d("MAWProtobufDeserializers").DeserializedBackupMessage.create(this.message.payload)};return a}();g.MpsMessageToBridgeWrapper=a}),98);
__d("MpsOverBridge",["MAWBridgeSendAndReceive"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){this.loadMessage=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsLoadMessage",a)},this.loadMessages=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsLoadMessages",a)},this.batchLoadMessages=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsBatchLoadMessages",a)},this.debugDbDump=function(){return d("MAWBridgeSendAndReceive").sendAndReceive("mps","mpsDebugDbDump")}},i;function a(){i==null&&(i=new h());return i}g.mps=a}),98);
__d("WACryptoEd25519",["WACryptoPrimitives","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){var b=h;h=[];try{return a()}finally{((a=h)!=null?a:[]).forEach(function(a){return void a.fill(0)});h=b}}function j(a,b){if(h==null)throw c("err")("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("WACryptoPrimitives").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function e(a,b){var c=[k(),k(),k(),k()];d("WACryptoPrimitives").lowlevel.scalarbase(c,b);R(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw c("err")("Incorrect initialiser array provided to the fieldElement");for(var d=0;d<a.length;d++)b[d]=a[d]}return b}function l(a,b){d("WACryptoPrimitives").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return T(a,b)?0:1}function v(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.unpack25519,f=c.lowlevel.pow2523,g=c.lowlevel.M;c=c.lowlevel.S;var h=k();e(h,z);e=k();f(e,b);f=k();g(f,b,e);e=k();c(e,f);c=k();g(c,f,h);y(f,c,1^u(e,b));a.set(f)}function B(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);S(j,i);f(a,h,j)}function C(a,b){var c=d("WACryptoPrimitives").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("WACryptoPrimitives").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("WACryptoPrimitives").lowlevel.S,e=d("WACryptoPrimitives").lowlevel.A,f=d("WACryptoPrimitives").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("WACryptoPrimitives").lowlevel.unpack25519,f=d("WACryptoPrimitives").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();S(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b,c=(b=d("WACryptoPrimitives")).lowlevel.S,e=b.lowlevel.M,f=b.lowlevel.pow2523;b=b.lowlevel.pack25519;var g=k(),h=k(),i=k(),j=k(),l=k();f(g,a);c(h,g);c(i,h);e(j,i,a);e(l,j,a);f=new Uint8Array(32);b(f,l);return 1&f[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function f(a,b){var c=q();b=U(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("WACryptoPrimitives").lowlevel.M,e=d("WACryptoPrimitives").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();S(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("WACryptoPrimitives").lowlevel.unpack25519;a=d("WACryptoPrimitives").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function Q(a){return i(function(){return O(a)})}function R(a,b){var c=k(),e=k(),f=k(),g=d("WACryptoPrimitives").lowlevel.M,h=d("WACryptoPrimitives").lowlevel.pack25519;S(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function S(a,b){var c=k();c.set(b);var e=d("WACryptoPrimitives").lowlevel.M,f=d("WACryptoPrimitives").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function T(a,b){var c=d("WACryptoPrimitives").lowlevel.pack25519,e=d("WACryptoPrimitives").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function U(a,b){var c,e=(c=d("WACryptoPrimitives")).lowlevel.set25519,f=c.lowlevel.S,g=c.lowlevel.M,h=c.lowlevel.Z,i=c.lowlevel.A,j=c.lowlevel.D,l=c.lowlevel.unpack25519;c=c.lowlevel.pow2523;var o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();e(a[2],n());l(a[1],b);f(r,a[1]);g(s,r,j);h(r,r,a[2]);i(s,a[2],s);f(t,s);f(u,t);g(v,u,t);g(o,v,r);g(o,o,s);c(o,o);g(o,o,r);g(o,o,s);g(o,o,s);g(a[0],o,s);f(q,a[0]);g(q,q,s);T(q,r)&&g(a[0],a[0],p());f(q,a[0]);g(q,q,s);if(T(q,r))return-1;V(a[0])===b[31]>>7&&h(a[0],m(),a[0]);g(a[3],a[0],a[1]);return 0}function V(a){var b=d("WACryptoPrimitives").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=e;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=f;g.elligator=P;g.hashToPoint=Q;g.pack=R;g.inv25519=S;g.unpackneg=U}),98);
__d("WAMediaHdType",[],(function(a,b,c,d,e,f,g){"use strict";a=0;b=1;c=2;d={HD_TYPE_NONE:a,HD_TYPE_LQ_4K:b,HD_TYPE_HQ_4K:c};g.HD_TYPE_NONE=a;g.HD_TYPE_LQ_4K=b;g.HD_TYPE_HQ_4K=c;g.HD_TYPE=d}),98);
__d("WAMediaQplHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a<0||a>1e3*1024*1024)return"invalid_size";else if(a===0)return"size equal to 0KB";else if(a<=1*1024)return"size lower than 1 KB";else if(a<=50*1024)return"size between 1 KB and 50 KB";else if(a<=100*1024)return"size between 50 KB and 100 KB";else if(a<=500*1024)return"size between 100 KB and 500 KB";else if(a<=1*1024*1024)return"size between 500 KB and 1 MB";else if(a<=2*1024*1024)return"size between 1 MB and 2 MB";else if(a<=5*1024*1024)return"size between 2 MB and 5 MB";else if(a<=10*1024*1024)return"size between 5 MB and 10 MB";else if(a<=20*1024*1024)return"size between 10 MB and 20 MB";else if(a<=25*1024*1024)return"size between 20 MB and 25 MB";else if(a<=30*1024*1024)return"size between 25 MB and 30 MB";else if(a<=50*1024*1024)return"size between 30 MB and 50 MB";else if(a<=75*1024*1024)return"size between 50 MB and 75 MB";else if(a<=100*1024*1024)return"size between 75 MB and 100 MB";else return"size above 100 MB"}f.convertIntegerSizeToStringBucket=a}),66);
__d("WASignalSignatures",["Promise","WACryptoDependencies","WACryptoEd25519","WACryptoPrimitives","WAHex","WALogger","WALongInt","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["deserializeSignedPreKey error ",""]);i=function(){return a};return a}function j(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e,f=b.length,g=a.privateKey,h=new Uint8Array(32);(e=d("WACryptoEd25519")).scalarmultBase(h,g);var i=h[31]&128,j=new Uint8Array(f+128);j[0]=254;j.fill(255,1,32);j.set(g,32);j.set(b,64);j.set(c,f+64);var k=e.allocate(Uint8Array,64);e.hashSha512(k,j,f+128);j.set(h,32);h=e.allocate(Float64Array,64);e.reduce(k,h);e.scalarmultBase(j,k);var l=e.allocate(Uint8Array,64);e.hashSha512(l,j,f+64);e.reduce(l,h);for(f=0;f<32;++f)h[f]=k[f];for(f=0;f<32;++f)for(k=0;k<32;++k)h[f+k]+=l[f]*g[k];e.modL(j.subarray(32,64),h);return{pubKeyNegative:i!==0,signedMsg:j}})}function a(a,c){return(h||(h=b("Promise"))).resolve().then(function(){var b=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(b);return k(a,c,b)})}function e(a,b,c){var e=c[63];return e&96?!1:d("WACryptoEd25519").runInAllocationScope(function(){var f,g,h=(f=d("WACryptoPrimitives")).lowlevel.A,i=f.lowlevel.M,j=f.lowlevel.Z,k=f.lowlevel.pack25519,l=f.lowlevel.unpack25519,m=(g=d("WACryptoEd25519")).allocate(Uint8Array,64);m.set(c);m[63]=e&127;var n=g.fieldElement(),o=g.fieldElement(),p=g.fieldElement(),q=g.fieldElement(),r=g.fieldElement(),s=g.allocate(Uint8Array,32),t=g.fieldElement();t[0]=1;l(n,a.subarray(1));j(o,n,t);h(p,n,t);g.inv25519(q,p);i(r,o,q);k(s,r);s[31]=s[31]&127|e&128;return f.signDetachedVerify(b,m,s)})}function k(a,b,c){a=j(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function l(a,b,e){var f=d("WASignalKeys").makeKeyPair(),g=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(g);e=k(e,d("WASignalKeys").serializePubKey(f),g);if(!Number.isSafeInteger(b))throw c("err")("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:f,signature:e}}function f(a,b){var c=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(c);return k(a,b,c)}function m(a){var b=a.id,c=a.keyPair;return d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts})}function n(a){try{a=d("decodeProtobuf").decodeProtobuf(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToSignedPreKeyId(b),ts:d("WALongInt").numberOrThrowIfTooLarge(a),keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){d("WALogger").DEV(i(),a);return null}}function o(a){return new Uint8Array(d("WAHex").parseHex(a))}function p(a){if(a.length===33)return d("WASignalKeys").castToSerializedPubKey(a);else if(a.length===32)return d("WASignalKeys").serializeIdentity(a);else throw c("err")("verifyCertificate publicKey incorrect length")}function q(a,c,d){return(h||(h=b("Promise"))).resolve().then(function(){var b=l(a,c,d),e=m(b);return{plainObject:b,record:e}})}g.signMsg=a;g.verifyMsgSignalVariant=e;g.makeSignature=k;g.makeSignedPreKey=l;g.signSenderKeyMessage=f;g.serializeSignedPreKeyForPrivateStorage=m;g.deserializeSignedPreKey=n;g.convertPublicKeyHexToUint8Array=o;g.convertPublicKeyToSerializedPubKey=p;g.generateSignedPreKey=q}),98);
__d("getMWLSRegion",["MessengerWebRegion"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;return a==null?"":a}g["default"]=a}),98);
__d("getMediaTypeFromConsumerMessage",["WAMediaTransport.pb","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a==null?void 0:(a=a.payload)==null?void 0:a.content;if((a==null?void 0:a.audioMessage)!=null)return"ptt";if((a==null?void 0:a.videoMessage)!=null){var b,c;b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,a==null?void 0:(b=a.videoMessage)==null?void 0:(b=b.video)==null?void 0:b.payload);return(b==null?void 0:(c=b.ancillary)==null?void 0:c.gifPlayback)===!0||(b==null?void 0:(c=b.ancillary)==null?void 0:c.gifAttribution)!=null?"gif":"video"}if((a==null?void 0:a.documentMessage)!=null)return"document";if((a==null?void 0:a.stickerMessage)!=null)return"sticker";if((a==null?void 0:a.imageMessage)!=null)return"image";return}g.getMediaTypeFromConsumerMessage=a}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("670")===!0}g["default"]=a}),98);
__d("maybeConvertMessageTextMentionsV2ToV1",["WACommon.pb"],(function(a,b,c,d,e,f,g){function a(a){if(a==null||a.text==null||a.mentions==null||a.mentions.length===0)return a;var b=a.text,c=[],e=[],f=0;for(var g of a.mentions){var h=g.offset,i=g.length,j=g.mentionedJid,k=g.mentionType;if(k!==d("WACommon.pb").MENTION_MENTION_TYPE.PROFILE||h==null||i==null||j==null)continue;e.push(j+"@msgr");c.push(b.substring(f,h));c.push("@"+j+"@msgr");f=h+i}if(e.length===0)return a;c.push(b.substring(f));return babelHelpers["extends"]({},a,{text:c.join(""),mentionedJid:e,mentions:[]})}g["default"]=a}),98);
__d("updateAndFlushLSDataTrace",["FBLogger","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function a(a,e){return e==null?(j||(j=b("Promise"))).resolve():c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one}).then(function(){return d("ReQLTable").update(a.data_trace_meta,[e],function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("FBLogger")("messenger_web").mustfixThrow('Data trace is missing, id: "%s"',e)}).then(function(){return k.load().then(function(b){return b.flush(a,e)})})})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("EBAPIQPLPoints",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";e={CREATE_WORKER_NETWORK_EXECUTE_END:"create_worker_network_execute_end",CREATE_WORKER_NETWORK_EXECUTE_START:"create_worker_network_execute_start",GRAPHQL_QUERY_END:"graphql_query_end",GRAPHQL_QUERY_START:"graphql_query_start"};f={CLIENT_STATE_RETRIEVED:"client_state_retrieved",EB_NOT_ENABLED:"eb_not_enabled",EBLS_NOT_INITIALIZED:"ebls_not_initialized",EMPTY_DECRYPTION_RESPONSE:"empty_decryption_response",INVALID_CLIENT_STATE:"invalid_client_state",INVALID_GRAPHQL_RESPONSE:"invalid_graphql_response",INVALID_PARAMETERS:"invalid_parameters",LSDB_SINGLETON_RETRIEVED:"lsdb_singleton_retrieved",NO_CLIENT_STATE:"no_client_state",NULL_CHAT_JID:"null_chat_jid",RUNTIME_ERROR:"runtime_error",UNSUPPORTED_CONTEXT:"unsupported_context"};var h=babelHelpers["extends"]({},e),i=babelHelpers["extends"]({},e,{},f,{BACKUP_ID_NULL:"backup_id_null",BATCH_RESTORE_AND_DECRYPT_FAILURE:"batch_restore_and_decrypt_failure",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END:"decrypt_messages_echo_and_protobuf_end",DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START:"decrypt_messages_echo_and_protobuf_start",DECRYPT_MESSAGES_ECHO_END:"decrypt_messages_echo_end",DECRYPT_MESSAGES_ECHO_START:"decrypt_messages_echo_start",DECRYPT_MESSAGES_PROTOBUF_END:"decrypt_messages_protobuf_end",DECRYPT_MESSAGES_PROTOBUF_START:"decrypt_messages_protobuf_start",DECRYPTED_PROTOBUFS_NULL:"decrypted_protobufs_null",DELETE_MAILBOX:"delete_mailbox",DERIVE_AND_STORE_EPOCHS_END:"derive_and_store_epochs_end",DERIVE_AND_STORE_EPOCHS_START:"derive_and_store_epochs_start",ECHO_DECODE_END:"echo_decode_end",ECHO_DECODE_START:"echo_decode_start",ECHO_DECRYPTION_FAILURE:"echo_decryption_failure",ECHO_TO_PROTOBUF_CONVERSION_END:"echo_to_protobuf_conversion_end",ECHO_TO_PROTOBUF_CONVERSION_FAILURE:"echo_to_protobuf_conversion_failure",ECHO_TO_PROTOBUF_CONVERSION_START:"echo_to_protobuf_conversion_start",GRAPHQL_QUERY_EXCEPTION:"graphql_query_exception",MISSING_RANGE_INFO:"missing_range_info",NO_MESSAGES_TO_RESTORE:"no_messages_to_restore",NULL_MESSAGES:"null_messages",PROCESS_AND_DECRYPT_MESSAGES_END:"process_and_decrypt_messages_end",PROCESS_AND_DECRYPT_MESSAGES_FAILURE:"process_and_decrypt_messages_failure",PROCESS_AND_DECRYPT_MESSAGES_START:"process_and_decrypt_messages_start",PROTOBUF_DECRYPTION_FAILURE:"protobuf_decryption_failure",RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD:"restoring_mixed_echo_protobuf_payload",SERVER_SIDE_EXCEPTION:"server_side_exception",THREAD_NOT_FOUND_ON_SERVER:"thread_not_found_on_server"}),j={ADDED_ATTACHMENT_CONTEXT:"added_attachment_context",ADDED_ATTACHMENT_CONTEXT_LEGACY:"added_attachment_context_legacy",DEQUEUE:"added_to_queue_end",ENQUEUE:"added_to_queue_start",ENQUEUE_FAILURE:"enqueue_failure",GENERATE_BACKUP_DIRECTIVE_END:"generate_backup_directive_end",GENERATE_BACKUP_DIRECTIVE_START:"generate_backup_directive_start",GENERATE_REPORTING_META_END:"generate_reporting_meta_end",GENERATE_REPORTING_META_START:"generate_reporting_meta_start",GET_ATTACHMENT_CONTEXT_END:"get_attachment_context_end",GET_ATTACHMENT_CONTEXT_START:"get_attachment_context_start",MESSAGE_RESULT_FAILURE_OR_NULL:"message_result_failure_or_null",NO_INCOMING_MESSAGES:"no_incoming_messages",NO_PROCESSED_MESSAGES:"no_processed_messages",PROCESSED_MESSAGES:"processed_messages",RUNTIME_ERROR:"runtime_error",SUCCESSFULLY_PROCESSED_MESSAGE:"successfully_processed_message",UKNOWN_MESSAGE_VERSION_OR_PROTOCOL:"unknown_message_version_or_protocol",UNABLE_TO_CREATE_BACKUP_DIRECTIVE:"unable_to_create_backup_directive",UNKNOWN_MESSAGE_TYPE:"unknown_message_type",UNSUPPORTED_MESSAGE_TYPE:"unsupported_message_type",UPLOAD_DELETED_MESSAGE:"upload_deleted_message",UPLOAD_PAYLOAD_CREATED:"upload_payload_creation_success",UPLOAD_PAYLOAD_CREATION_FAILURE:"upload_payload_creation_failure",UPLOAD_PAYLOAD_CREATION_START:"upload_payload_creation_start"},k={ADD_DEVICE_CHECK_RC_STATUS:"add_device_check_rc_status",ADD_DEVICE_COULD_NOT_FIND_BACKUP:"add_device_could_not_find_backup",ADD_DEVICE_FAILED_DEVICE_REGISTRATION_ID_NULL:"add_device_failed_device_registration_id_null",ADD_DEVICE_FAILED_TO_GET_RC_STATUS:"add_device_failed_to_get_rc_status",ADD_DEVICE_FAILURE_BACKUP_NOT_FOUND:"add_device_failure_backup_not_found",ADD_DEVICE_OPTIMISTIC_STATUS:"add_device_optimistic_status",ADD_DEVICE_RUNTIME_ERROR:"add_device_runtime_error",ADD_DEVICE_SPROC_END:"add_device_sproc_end",ADD_DEVICE_SPROC_FAILURE:"add_device_sproc_failure",ADD_DEVICE_SPROC_START:"add_device_sproc_start",ADD_DEVICE_SUBSCRIPTION_END:"add_device_subscription_end",ADD_DEVICE_SUBSCRIPTION_START:"add_device_subscription_start",ADD_DEVICE_TASK_END:"add_device_task_end",ADD_DEVICE_TASK_START:"add_device_task_start",ADD_DEVICE_TIMEOUT:"add_device_timeout",INVALID_RECOVERY_CODE:"invalid_recovery_code",ON_START_BEGIN:"on_start_start",ON_START_SUCCESS:"on_start_end"},l={ADD_DEVICE_FETCH_VD_GRAPHQL_END:"add_device_fetch_vd_graphql_end",ADD_DEVICE_FETCH_VD_GRAPHQL_FAIL:"add_device_fetch_vd_graphql_fail",ADD_DEVICE_FETCH_VD_GRAPHQL_START:"add_device_fetch_vd_graphql_start",ADD_DEVICE_GQL_END:"add_device_gql_end",ADD_DEVICE_GQL_FAIL:"add_device_gql_fail",ADD_DEVICE_GQL_START:"add_device_gql_start",ADD_DEVICE_MISSING_GRAPHQL_FIELDS:"add_device_missing_graphql_fields",ADD_DEVICE_PARSE_RECOVERY_CODE_END:"add_device_parse_recovery_code_end",ADD_DEVICE_PARSE_RECOVERY_CODE_FAIL:"add_device_parse_recovery_code_fail",ADD_DEVICE_PARSE_RECOVERY_CODE_START:"add_device_parse_recovery_code_start",ADD_DEVICE_VIRTUAL_DEVICE_EXISTS:"add_device_virtual_device_exists",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_END:"add_device_vd_key_sproc_end",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_FAIL:"add_device_vd_key_sproc_fail",ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_START:"add_device_vd_key_sproc_start"},m={FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start",INITIALIZE_BACKUP_END:"initialize_backup_end",INITIALIZE_BACKUP_SPROC_END:"initialize_backup_sproc_end",INITIALIZE_BACKUP_SPROC_FAIL:"initialize_backup_sproc_fail",INITIALIZE_BACKUP_SPROC_START:"initialize_backup_sproc_start",INITIALIZE_BACKUP_START:"initialize_backup_start",OPTIMISTIC_CLIENT_STATE:"optimistic_client_state"},n={DELETE_EB_NON_DELETE_OPERATION:"delete_eb_non_delete_operation",DELETE_EB_NON_PUT_OPERATION:"delete_eb_non_put_operation",DELETE_EB_SPROC_FAIL:"delete_eb_sproc_fail",DELETE_EB_SPROC_START:"delete_eb_sproc_start",DELETE_EB_SPROC_SUCCESS:"delete_eb_sproc_success",DELETE_EB_TASK_FAIL:"delete_eb_task_fail",DELETE_EB_TASK_START:"delete_eb_task_start",DELETE_EB_TASK_SUCCESS:"delete_eb_task_success",FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start"},o={FETCH_BACKUP_IDS_END:"fetch_backup_ids_end",FETCH_BACKUP_IDS_START:"fetch_backup_ids_start",OPT_OUT_BACKUP_ROW_EXISTS:"opt_out_backup_row_exists",OPT_OUT_BACKUP_ROW_NULL:"opt_out_backup_row_null",OPT_OUT_BACKUP_SPROC_END:"opt_out_backup_sproc_end",OPT_OUT_BACKUP_SPROC_FAIL:"opt_out_backup_sproc_fail",OPT_OUT_BACKUP_SPROC_START:"opt_out_backup_sproc_start",OPT_OUT_BACKUP_TASK_END:"opt_out_backup_task_end",OPT_OUT_BACKUP_TASK_FAIL:"opt_out_backup_task_fail",OPT_OUT_BACKUP_TASK_START:"opt_out_backup_task_start"};function a(a,b,d,e,f){c("QPLUserFlow").addPoint(b,d,{data:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:f})}function b(a,b,d,e,f){c("QPLUserFlow").endFailure(b,d,{annotations:babelHelpers["extends"]({},f,{bool:{runningInWorker:a}}),instanceKey:e})}function d(a,b,d,e){c("QPLUserFlow").endSuccess(b,{annotations:babelHelpers["extends"]({},e,{bool:{runningInWorker:a}}),instanceKey:d})}g.EBAPIQPLCommonPoints=e;g.EBAPIQPLCommonErrorPoints=f;g.EBMessageMetadataQPLPoints=h;g.EBMessageRestoreQueryQPLPoints=i;g.EBUploadQueueQPLPoints=j;g.EBAddDeviceQPLPoints=k;g.EBAddDeviceGraphqlQPLPoints=l;g.EBBackupInitQPLPoints=m;g.EBDeleteEBQPLPoints=n;g.EBOptOutQPLPoints=o;g.ebAPIAddQPLPoint=a;g.ebAPIEndFailure=b;g.ebAPIEndSuccess=d}),98);
__d("EBAPIWorkerCheck",[],(function(a,b,c,d,e,f){"use strict";function a(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}f.runningInWorker=a}),66);
__d("EBBase64Encode",["Base64Utils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("Base64Utils").fromArrayBuffer(a)}g["default"]=a}),98);
__d("WorkerRelayNetwork",["ActorURIConfig","MAWCurrentUser","RelayAPIConfig","WAResolvable","createRelayFBNetwork","createRelayFBNetworkFetch","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAResolvable").Resolvable)();function a(){var a=i(d("MAWCurrentUser").getID());a={execute:a.execute};h.resolve(a);return a}function b(){return h.promise}function i(a,b){b={actorID:a,batchResponseChunks:!0,getAdditionalData:function(){var b={};a!=null&&(b[c("ActorURIConfig").PARAMETER_ACTOR]=a);c("RelayAPIConfig").useXController===!1&&c("RelayAPIConfig").accessToken!==""&&(b.access_token=c("RelayAPIConfig").accessToken);return b},graphURI:b};b=c("createRelayFBNetworkFetch")(b);var e=function(a,b,c){return d("relay-runtime").Observable.create(function(a){return a.complete()})};return c("createRelayFBNetwork")(b,e,null,null)}g.createWorkerNetworkExecute=a;g.getWorkerNetworkExecute=b}),98);
__d("executeGraphQLQuery",["DTSG","FBLogger","MAWBridge","asyncToGeneratorRuntime","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=d("relay-runtime").getRequest(b);if(b.params.operationKind==="subscription")throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Expected query or mutation operation");var f={force:!0},g=d("DTSG").getToken();if(g==null||g===""||typeof g!=="string"){g=(yield d("MAWBridge").getBridge().sendAndReceive("event","getDTSGToken")["catch"](function(a){throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Failed to get DTSG token from the main thread",a)}));if(g==null||g===""||typeof g!=="string")throw c("FBLogger")("messenger_web").mustfixThrow("executeGraphQLQuery: Received an empty DTSG token from the main thread");d("DTSG").setToken(g)}g=d("relay-runtime").createOperationDescriptor(b,e,f);return a.execute(g.request.node.params,g.request.variables,f)});return h.apply(this,arguments)}g.executeGraphQLQuery=a}),98);
__d("createWorkerMutation",["FBLogger","WorkerRelayNetwork","asyncToGeneratorRuntime","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("relay-runtime").getRequest(a);if(e.params.operationKind!=="mutation")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerMutation: Expected mutation operation");var f=d("WorkerRelayNetwork").getWorkerNetworkExecute();e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f);return d("executeGraphQLQuery").executeGraphQLQuery(c,a,b).then(function(a){return a.toPromise()}).then(function(a){if(Array.isArray(a)){return(a=a[0])==null?void 0:a.data}else return null})});return function(a){return c.apply(this,arguments)}}();return[e]}g["default"]=a}),98);
__d("MWFBLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("FBLogger"))("messenger_web");d=a("messenger_web_media");e=a("messenger_web_sharing");f=a("messenger_web_calling");c=a("mps");g.MWLogger=b;g.MWMediaLogger=d;g.MWSharingLogger=e;g.MWCallingLogger=f;g.MPSLogger=c}),98);
__d("MAWRotateDTSG",["CSRFGuard","DTSG","MWFBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error rotating DTSG"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Getting new DTSG token"]);i=function(){return a};return a}var j=d("MWFBLogger").MWLogger.tags(["RotateDTSG"]),k=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;j.DEBUG(i());var b=new Request("/ajax/dtsg/?__a=true",{credentials:"include",method:"GET"});b=(yield self.fetch(b));if(b.status!==200)throw j.mustfixThrow("Unable to get new DTSG token: "+b.status);b=(yield b.text());b=d("CSRFGuard").clean(b);var c=JSON.parse(b);a=c==null?void 0:(a=c.payload)==null?void 0:a.token;c=c==null?void 0:(c=c.payload)==null?void 0:c.valid_for;if(a==null||c==null)throw j.mustfixThrow("DTSG response is not valid: "+b+"'");return{token:a,validFor:c}});return function(){return a.apply(this,arguments)}}(),l=null;function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){self.clearTimeout(l);try{var a=(yield k()),b=a.token;a=a.validFor;l=self.setTimeout(m,a/2*1e3);d("DTSG").setToken(b);return!0}catch(a){j.catching(a).MUSTFIX(h());l=self.setTimeout(m,10*60*1e3);return!1}});return n.apply(this,arguments)}g.getNewDTSG=k;g.tryRotateDTSG=m}),98);
__d("WACustomError",[],(function(a,b,c,d,e,f){"use strict";var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WARetryableError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,"see error at this.source")||this;c.source=b;return c}return b}(d("WACustomError").customError("RetryableError"));g["default"]=a}),98);
__d("createWorkerQuery",["FBLogger","IGDWebUtils","MAWRotateDTSG","WARetryableError","WorkerRelayNetwork","asyncToGeneratorRuntime","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("relay-runtime").getRequest(a);if(f.params.operationKind!=="query")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerQuery: Expected query operation");f=(yield d("WorkerRelayNetwork").getWorkerNetworkExecute());e==null?void 0:e.onExecute==null?void 0:e.onExecute();var g=d("IGDWebUtils").isOnInstagramWeb();f=(yield d("executeGraphQLQuery").executeGraphQLQuery(f,a,b).then(function(a){return a.toPromise()}).then(function(a){e==null?void 0:e.onResponse==null?void 0:e.onResponse(a);return Array.isArray(a)?a[0].data:(a=a.data)!=null?a:null})["catch"](function(a){if(("code"in a&&a.code===1357004||"message"in a&&a.message.indexOf("1357004")!==-1||typeof a==="string"&&a.indexOf("1357004")!==-1)&&!g){c("FBLogger")("messenger_web").info("Failed with expired DTSG, attempting to rotate.");return d("MAWRotateDTSG").tryRotateDTSG().then(function(b){if(b)throw new(c("WARetryableError"))(a);throw a})}throw a}));return f});return h.apply(this,arguments)}g["default"]=a}),98);
__d("WorkerRelay",["WorkerRelayNetwork","createWorkerMutation","createWorkerQuery","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";f.exports={createWorkerMutation:c("createWorkerMutation"),createWorkerQuery:c("createWorkerQuery"),executeGraphQLQuery:d("executeGraphQLQuery").executeGraphQLQuery,getWorkerRelayEnvironment:d("WorkerRelayNetwork").getWorkerNetworkExecute,graphql:d("relay-runtime").graphql}}),34);
__d("createMainThreadQuery",["FBLogger","IGDWebUtils","MAWRotateDTSG","WARetryableError","asyncToGeneratorRuntime","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getNetwork();a={execute:a.execute};return a}function e(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("relay-runtime").getRequest(a);if(f.params.operationKind!=="query")throw c("FBLogger")("messenger_web").mustfixThrow("createWorkerQuery: Expected query operation");var g=d("IGDWebUtils").isOnInstagramWeb();f=(yield d("executeGraphQLQuery").executeGraphQLQuery(e,a,b).then(function(a){return a.toPromise()}).then(function(a){return Array.isArray(a)?a[0].data:(a=a.data)!=null?a:null})["catch"](function(a){if(("code"in a&&a.code===1357004||"message"in a&&a.message.indexOf("1357004")!==-1||typeof a==="string"&&a.indexOf("1357004")!==-1)&&!g){c("FBLogger")("messenger_web").info("Failed with expired DTSG, attempting to rotate.");return d("MAWRotateDTSG").tryRotateDTSG().then(function(b){if(b)throw new(c("WARetryableError"))(a);throw a})}throw a}));return f});return h.apply(this,arguments)}g.getWorkerLikeRelayEnvironment=a;g.createMainThreadQuery=e}),98);
__d("EBCreateGraphQLFetchFnUnified",["EBAPIWorkerCheck","WorkerRelay","WorkerRelayNetwork","asyncToGeneratorRuntime","createMainThreadQuery","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometRelayEnvironment").__setRef("EBCreateGraphQLFetchFnUnified");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("EBAPIWorkerCheck").runningInWorker();if(!a){var b=(yield h.load());return function(a,c){var e=d("createMainThreadQuery").getWorkerLikeRelayEnvironment(b);return d("createMainThreadQuery").createMainThreadQuery(a,c,e)}}else{yield d("WorkerRelayNetwork").createWorkerNetworkExecute();return d("WorkerRelay").createWorkerQuery}});return i.apply(this,arguments)}g.createGraphQlFetchFnUnified=a}),98);
__d("EBDeps",["FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){if(h==null)throw c("err")("EBDeps is not initialized");return h}function b(a,b){if(h!=null)return;h=new Proxy(a,{get:function(a,d){var e=a[d];if(e instanceof Function)return function(){c("FBLogger")("labyrinth_web").info("EBDeps: function %s, reason %s",d,b);for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return e.apply(a,g)};c("FBLogger")("labyrinth_web").info("EBDeps: %s is not function",d);return e}})}g.getDeps=a;g.setDeps=b}),98);
__d("EBGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("15195")}g.isEBSMv2Phase1Enabled=a}),98);
__d("LSEncryptedBackupsBackupTenancy",[],(function(a,b,c,d,e,f){a=Object.freeze({PRODUCTION:1,SHADOW:2,OPEN:3});f["default"]=a}),66);
__d("WAPubSub",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(){this.$1=new Set()}var b=a.prototype;b.publish=function(a){this.$1.forEach(function(b){return b(a)})};b.subscribe=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};return a}();b=function(){function a(){this.$1=new Map()}var b=a.prototype;b.publish=function(a,b){a=this.$2(a);a.forEach(function(a){return a(b)})};b.$2=function(a){(!this.$1.has(a)||this.$1.get(a)==null)&&this.$1.set(a,new Set());a=this.$1.get(a);if(a==null)throw c("err")("Key space should not be null");return a};b.subscribe=function(a,b){var c=this.$2(a);c.add(b);return function(){c["delete"](b)}};return a}();function a(){return new h()}g.WAPubSub=h;g.WAKeyedPubSub=b;g.simplePubSub=a}),98);
__d("WAGenericStateManager",["Promise","WAPubSub"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$2=d("WAPubSub").simplePubSub(),this.$1=a}var c=a.prototype;c.onSet=function(a){return this.$2.subscribe(a)};c.set=function(a){this.$1=a;this.$2.publish(a);return this.$1};c.get=function(){return this.$1};c.waitForValue=function(a){var c=this;return this.$1===a?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b){var d=c.onSet(function(c){c===a&&(d(),b())})})};return a}();g.WAGenericStateManager=a}),98);
__d("MAWEBEnabledStateManager",["WAGenericStateManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,!1)||this}var c=b.prototype;c.isEnabled=function(){return this.get()};c.waitForEBEnabled=function(){return this.waitForValue(!0)};return b}(d("WAGenericStateManager").WAGenericStateManager);g.MAWEBEnabledStateManager=a}),98);
__d("MAWEBSwitch",["EBGating","ExecutionEnvironment","MAWEBEnabledStateManager","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("requireDeferred")("EBIsEbEnabledSubscriber").__setRef("MAWEBSwitch");var i=new(d("MAWEBEnabledStateManager").MAWEBEnabledStateManager)();((h||(h=c("ExecutionEnvironment"))).isInMainThread===!0||d("EBGating").isEBSMv2Phase1Enabled())&&void a.load().then(function(a){return a.subscribeToEbChanges(function(a){i.set(a)})});b=i;g["default"]=b}),98);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("LSDataTraceTag",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7,j=20,k=21,l=22,m=23,n=24,o=25,p=26,q=27,r=28,s=29,t=30,u=31,v=32,w=33,x=34,y=35,z=36,A=37,B=38,C=39,D=40,E=41,F=42;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.messageTypeNone=j;f.messageTypeText=k;f.messageTypeFutureproof=l;f.messageTypeCiphertext=m;f.messageTypeUnavailable=n;f.messageTypeImage=o;f.messageTypeVideo=p;f.messageTypePtt=q;f.messageTypeAdmin=r;f.messageTypeRevoked=s;f.messageTypeGif=t;f.messageTypeSticker=u;f.messageTypeExpiredEphemeral=v;f.messageTypeEphemeralSettingAdmin=w;f.messageTypeEphemeralSyncResponse=x;f.messageTypeEphemeralScreenshotAction=y;f.messageTypeDeleteForMe=z;f.messageTypeEphemeralSettingChangeFromCurrentDevice=A;f.messageTypeAlertICDC=B;f.messageTypeGroupInvite=C;f.messageTypeXMA=D;f.messageTypeReaction=E;f.messageTypeSenderKeyDistribution=F}),66);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("MAWBridgeTrace",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){var j=a.ack,k=a.externalId,l=a.ts;a=a.type;var m=d("WAJids").switchOnMsgrChatJidType(b,{group:function(a){return"Group"},user:function(a){return"User"}});return{ack:j,externalId:k,isFirstMsg:!!f,openMessageOtid:e,openMessageParticipantCount:g,participantCount:h,threadJid:b,threadKey:i,threadType:m,traceType:c,ts:l,type_:a}}function b(a,b,c){return{traceContext:c,traceId:b,traceType:a}}function c(a,b,c,d){return{errorMessage:d,event:b,externalIds:a,traceType:c}}function e(a,b,c,d,e,f){return{checkPointId:a,dataTraceId:b,errorMessage:c,shouldFlush:d,syncChannel:e,tags:f}}g.createBridgeStartTraceData=a;g.createBridgeStartTraceWithTraceIdData=b;g.createBridgeUpdateTraceData=c;g.createBridgeTraceRecordCheckpointData=e}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y="ReceiverFetch",z="Raven",A="GroupPollCreate",B="GroupPollUpdate",C={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g,RECEIVER_FETCH:y,RAVEN:z,GROUP_POLL_CREATE:A,GROUP_POLL_UPDATE:B};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.RECEIVER_FETCH=y;f.RAVEN=z;f.GROUP_POLL_CREATE=A;f.GROUP_POLL_UPDATE=B;f.MSG_TYPE=C}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return k.has(a)};var h=function(a){return l.has(a)||k.has(a)};b=function(a){return h(a)||m.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var i="XMA",j="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:j,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:i});var k=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE,d.RECEIVER_FETCH]),l=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE,d.GROUP_POLL_CREATE]),m=new Set([d.FUTUREPROOF]),n=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA,d.RAVEN,d.RECEIVER_FETCH]);j=function(a){return n.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=h;g.isProtobufUploadSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=k;g.isQuotedMsgType=j}),98);
__d("MAWTraceUtils",["LSDataTraceCheckPoint","LSDataTraceTag","LSIntEnum","LSRequestId","MAWBridge","MAWBridgeTrace","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="backup_upload",j="media_backup",k="vesta_registration",l="vesta_login";function m(){return c("LSRequestId").generate()}function a(a){return a}function b(a,b,c){c=c!=null?c:m();d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"StartTraceWithTraceId",value:d("MAWBridgeTrace").createBridgeStartTraceWithTraceIdData(a,c,b)}]},!0);return c}function n(a,b,c,e,f){if(a!=null){c=c.length>0?c.map(function(a){return a.toString()}).join(","):void 0;d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"TraceRecordCheckpoint",value:d("MAWBridgeTrace").createBridgeTraceRecordCheckpointData(b,a,f,e,-1,c)}]},!0)}}function e(a,b,e,f){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),e,!0,f)}function f(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function o(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function p(a){switch(a){case d("MAWMsgType").MSG_TYPE.TEXT:return d("LSDataTraceTag").messageTypeText;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("LSDataTraceTag").messageTypeFutureproof;case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return d("LSDataTraceTag").messageTypeCiphertext;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return d("LSDataTraceTag").messageTypeUnavailable;case d("MAWMsgType").MSG_TYPE.IMAGE:return d("LSDataTraceTag").messageTypeImage;case d("MAWMsgType").MSG_TYPE.VIDEO:return d("LSDataTraceTag").messageTypeVideo;case d("MAWMsgType").MSG_TYPE.PTT:return d("LSDataTraceTag").messageTypePtt;case d("MAWMsgType").MSG_TYPE.ADMIN:return d("LSDataTraceTag").messageTypeAdmin;case d("MAWMsgType").MSG_TYPE.REVOKED:return d("LSDataTraceTag").messageTypeRevoked;case d("MAWMsgType").MSG_TYPE.GIF:return d("LSDataTraceTag").messageTypeGif;case d("MAWMsgType").MSG_TYPE.STICKER:return d("LSDataTraceTag").messageTypeSticker;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return d("LSDataTraceTag").messageTypeExpiredEphemeral;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("LSDataTraceTag").messageTypeEphemeralSettingAdmin;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return d("LSDataTraceTag").messageTypeEphemeralSyncResponse;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("LSDataTraceTag").messageTypeEphemeralScreenshotAction;case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return d("LSDataTraceTag").messageTypeDeleteForMe;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return d("LSDataTraceTag").messageTypeEphemeralSettingChangeFromCurrentDevice;case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("LSDataTraceTag").messageTypeAlertICDC;case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:return d("LSDataTraceTag").messageTypeGroupInvite;case d("MAWMsgType").MSG_TYPE.XMA:return d("LSDataTraceTag").messageTypeXMA;case d("MAWMsgType").MSG_TYPE.REACTION:return d("LSDataTraceTag").messageTypeReaction;case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:return d("LSDataTraceTag").messageTypeSenderKeyDistribution;default:return d("LSDataTraceTag").messageTypeNone}}g.CONTEXT_BACKUP_UPLOAD=i;g.CONTEXT_MEDIA_BACKUP=j;g.CONTEXT_VESTA_REGISTRATION=k;g.CONTEXT_VESTA_LOGIN=l;g.createTraceId=m;g.stringToTraceId=a;g.startNewTrace=b;g.recordCheckpointForTrace=n;g.recordFailureAndFlushForTraceId=e;g.recordSuccessAndFlushForTraceId=f;g.recordInvalidUploadRequestAndFlushTrace=o;g.getTagForMsgType=p}),98);
__d("MAWEncryptedBackupUtils",["FBLogger","I64","LSAuthorityLevel","LSDataTraceCheckPoint","LSDict","LSIntEnum","LSShape","LSVec","MAWTraceUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,e,f){d("MAWTraceUtils").recordCheckpointForTrace(a,b,c,e,f)}function a(a,b,e){j(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)).then(function(a){return k(a,e)})}function k(a,b){var e;if(a==null){b!=null&&b.addPoint("get_backup_tenancy_null_client_state_row");return}e=(e=a.backupTenancy)!=null?e:(i||(i=d("I64"))).one;a=a.authorityLevel;b!=null&&b.addPoint("get_backup_tenancy",{"int":{authorityLevel:(i||(i=d("I64"))).to_int32(a!=null?a:(i||(i=d("I64"))).zero),backupTenancy:i.to_int32(e!=null?e:(i||(i=d("I64"))).zero)}});if(e!=null&&(i||(i=d("I64"))).equal((h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a))return e}function b(a,b){var d=new Set(),e=a.length;for(a of a.entries()){var f=a[0],g=a[1];d.has(g)&&c("FBLogger")("labyrinth_web").warn("Duplicate messages returned from server for restoreType: %s, index: %s of batchSize: %s",b,f,e);d.add(g)}}function e(a){a=a.map(function(a){var b=a.toplevelProtobuf;b=d("LSShape").ofRecord({decrypted_protobuf:b.decryptedProtobuf,protobuf_timestamp_ms:(i||(i=d("I64"))).of_float(b.protobufTimestampMS)});var e=new(c("LSDict"))();a.supplementalProtobufs.forEach(function(a,b){e.set(b,d("LSShape").ofRecord({decrypted_protobuf:a.decryptedProtobuf,protobuf_timestamp_ms:(i||(i=d("I64"))).of_float(a.protobufTimestampMS)}))});return d("LSShape").ofRecord({otid:a.otid,supplemental_protobufs:e,toplevel_protobuf:b})});return c("LSVec").ofArray(a)}function f(a){a=c("LSVec").toArray(a);a=a.map(function(a){return d("LSShape").toRecord(a)});return a.map(function(a){var b=d("LSShape").toRecord(a.toplevel_protobuf);b={decryptedProtobuf:b.decrypted_protobuf,protobufTimestampMS:(i||(i=d("I64"))).to_float(b.protobuf_timestamp_ms)};var c=new Map(),e=a.supplemental_protobufs;e.forEach(function(a,b){a=d("LSShape").toRecord(a);c.set(b,{decryptedProtobuf:a.decrypted_protobuf,protobufTimestampMS:(i||(i=d("I64"))).to_float(a.protobuf_timestamp_ms)})});return{otid:a.otid,supplementalProtobufs:c,toplevelProtobuf:b}})}g.getBackupTenancy=a;g.getBackupTenancyFromClientStateRow=k;g.logIfDuplicateMessagesFoundInRestore=b;g.convertJSTypesToLSTypesForRestoreJob=e;g.convertLSTypesToJSTypesForRestoreJob=f}),98);
__d("EBIsEbEnabled",["EBDeps","EBReadyNotifier","FBLogger","I64","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEBSwitch","MAWEncryptedBackupUtils","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return d("EBReadyNotifier").waitForEBReady().then(function(){return d("MAWEncryptedBackupUtils").getBackupTenancy(a,b,e)}).then(function(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))})}function a(){try{return d("WAResultOrError").makeResult(c("MAWEBSwitch").isEnabled())}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Failed to check EB enabled");return d("WAResultOrError").makeResult(!1)}}function e(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("EBDeps").getDeps().getLSDB());return j(a.tables)});return k.apply(this,arguments)}g.isEbEnabledLS=j;g.isEbEnabledEbSwitch=a;g.isEBEnabled=e}),98);
__d("EBIsEbEnabledSubscriber",["EBDeps","EBIsEbEnabled","I64","LSEncryptedBackupsBackupTenancy","LSIntEnum","Promise","ReQL","WAPubSub","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=function(){function a(a){this.$1=d("WAPubSub").simplePubSub(),this.$4=a,this.$2=!1}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$2=(yield d("EBIsEbEnabled").isEbEnabledLS(this.$4.tables)),this.$5(this.$4)});function c(){return a.apply(this,arguments)}return c}();e.$6=function(a){this.$2=a,this.$1.publish(a)};e.$5=function(a){var b=this;this.$3==null&&(this.$3=d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).take(1).subscribe(function(a,e){e.operation==="delete"&&b.$6(!1),(e.operation==="add"||e.operation==="put")&&(e.value.backupTenancy!=null&&(i||(i=d("I64"))).equal(e.value.backupTenancy,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))?b.$6(!0):b.$6(!1))}));return this.$3};e.subscribe=function(a){return this.$1.subscribe(a)};e.isEnabled=function(){return this.$2};return a}(),l;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return(h||(h=b("Promise"))).resolve();l=new k(a);yield l.initialize()});return n.apply(this,arguments)}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==null){var a=(yield d("EBDeps").getDeps().getLSDB());yield m(a)}return l});return o.apply(this,arguments)}function e(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l==null){var b=(yield d("EBDeps").getDeps().getLSDB());yield m(b)}a(l.isEnabled());b=l.subscribe(a);return b});return p.apply(this,arguments)}function f(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==null){var a=(yield d("EBDeps").getDeps().getLSDB());yield m(a)}return l.isEnabled()});return q.apply(this,arguments)}g.initIsEbEnabledPubSub=m;g.isEbEnabledSubscriber=a;g.subscribeToEbChanges=e;g.isEBEnabledValueFromSubscriber=f}),98);
__d("EBMessageRangeQueryUtils",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.pow(2,48)-1;function a(a){var b=Number(a);return isNaN(b)?a:i(b).toString()}function i(a){if(a<0)return 0;if(a<=h)return a;a=d("WATimeUtils").millisTime()+6e4;return a}g.safeTimestampMsString=a;g.safeTimestampMsNumber=i}),98);
__d("EncryptedBackupUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5729");b=d("FalcoLoggerInternal").create("encrypted_backup_upload_success",a);e=b;g["default"]=e}),98);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(h||(h=b("Promise")))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods[%s] is not a functions",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},i=(e=a==null?void 0:a(g))!=null?e:{},j=babelHelpers["extends"]({},g);function k(a){j[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend[%s] is not a functions",a);return}return b.apply(f.$1,arguments)},i[a]==null&&(i[a]=g[a])}this.$1=j;if(a!=null){e=Object.keys(i);e.forEach(k);this.proxyMethods=i}else this.proxyMethods=new Proxy(i,{get:function(a,b){a=b;i[a]==null&&k(a);return i[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("IGDRouteProvider.react",["I64","react","react-compiler-runtime","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;f=e.createContext;var k=e.useContext;function l(a){try{return(i||(i=d("I64"))).of_string(a)}catch(a){return}}function m(a){if(a==null)return;a=a.params.thread_key;if(a!=null&&typeof a==="string")return l(a)}var n=f();function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var e=c("useCurrentRoute")(),f;b[0]!==e?(f=m(e),b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==a||b[3]!==e?(f=j.jsx(n.Provider,{value:e,children:a}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function b(){return k(n)}g.IGDRouteContextProvider=a;g.useThreadKeyFromCurrentRoute=b}),98);
__d("IGDInteractionTraceAnnotations",["I64","IGDInstamadilloUtils","IGDRouteProvider.react","IGDThreadTTLCUtils","Int64Hooks","InteractionTracing","LSIntEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function a(a){return babelHelpers["extends"]({},d("IGDThreadTTLCUtils").getTTLCBooleanAnnotations(a),{is_dm:d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),is_instamadillo:d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),is_instamadillo_tlc:d("IGDInstamadilloUtils").isInstamadilloCutover(a)})}function l(a,b){var c=d("IGDInstamadilloUtils").isInstamadilloCutover(a),e=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),f=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);b.addAnnotationBoolean("is_instamadillo",e);b.addAnnotationBoolean("is_instamadillo_tlc",c);b.addAnnotationBoolean("is_dm",f);b.addAnnotationBoolean("is_instamadillo_ttlc",(e=d("IGDThreadTTLCUtils")).isIGDTTLCEnabledForThread(a));b.addAnnotationBoolean("is_instamadillo_ttlc_audio",e.isInstamadilloTTLCAudioEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_clip",e.isInstamadilloTTLCClipEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_generic_xma",e.isInstamadilloTTLCGenericXmaEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_image",e.isInstamadilloTTLCImageEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_link",e.isInstamadilloTTLCLinkEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_media_share",e.isInstamadilloTTLCMediaShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_profile",e.isInstamadilloTTLCProfileEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_reel_share",e.isInstamadilloTTLCReelShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_story_share",e.isInstamadilloTTLCStoryShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_text",e.isInstamadilloTTLCTextEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_video",e.isInstamadilloTTLCVideoEnabled(a))}function b(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){c("InteractionTracing").getPendingInteractions().forEach(function(b){l(a,b)})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);d("Int64Hooks").useEffectInt64(e,f)}var m=new Set();function e(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a.consistentThreadFbid||b[1]!==a.threadKey||b[2]!==a.threadSubtype||b[3]!==a.threadType?(e=function(){var b=(i||(i=d("I64"))).to_string(a.threadKey);c("InteractionTracing").getPendingInteractions().forEach(function(c){var e=m.has(b);c.addAnnotationBoolean("is_thread_visited",e);c.addAnnotation("thread_key",(i||(i=d("I64"))).to_string(a.threadKey));a.consistentThreadFbid!=null&&c.addAnnotation("consistent_thread_fbid",(i||(i=d("I64"))).to_string(a.consistentThreadFbid));c.addAnnotationInt("thread_type",(j||(j=d("LSIntEnum"))).toNumber(a.threadType));a.threadSubtype!=null&&c.addAnnotation("thread_subtype",(i||(i=d("I64"))).to_string(a.threadSubtype))});return function(){m.add(b)}},b[0]=a.consistentThreadFbid,b[1]=a.threadKey,b[2]=a.threadSubtype,b[3]=a.threadType,b[4]=e):e=b[4];var f;b[5]!==a?(f=[a],b[5]=a,b[6]=f):f=b[6];d("Int64Hooks").useEffectInt64(e,f)}function f(){var a=d("react-compiler-runtime").c(5),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e;a[0]!==b?(e=b!=null?(i||(i=d("I64"))).to_string(b):null,a[0]=b,a[1]=e):e=a[1];var f=e;a[2]!==f?(b=function(){c("InteractionTracing").getPendingInteractions().forEach(function(a){if(f==null){a.addAnnotationInt("rendered_direct_null_state",1);a.addAnnotationInt("has_thread_key",0);return}a.addAnnotationInt("has_thread_key",1);a.addAnnotationInt("rendered_direct_null_state",0)})},e=[f],a[2]=f,a[3]=b,a[4]=e):(b=a[3],e=a[4]);k(b,e)}g.getInstamadilloBooleanAnnotations=a;g.addInstamadilloAnnotationsToInteractionTrace=l;g.useAddInstamadilloAnnotationsToInteractionTraces=b;g.useAddThreadAnnotationToInteractionTraces=e;g.useAddThreadRouteAnnotations=f}),98);
__d("LSBase64Encode.nop",["EBBase64Encode","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(e?c("EBBase64Encode")(e):void 0))};a.__nop_name__="LSBase64Encode";g["default"]=a}),98);
__d("LSCheckIfAuthoritativeThreadMissingMiActMapping",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(f){return b.sequence([function(e){return c("gkx")("4792")?b.sequence([function(c){return b.db.table(173).fetch([[[a[0]]]]).next().then(function(c,e){e=c.done;c=c.value;return e?b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,c){var e=a.done;a=a.value;return e?d[3]=!1:(c=a.item,d[3]=b.i64.eq(c.authorityLevel,b.i64.cast([0,80])))})},function(a){return d[1]=d[3]}]):(c.item,d[1]=!1)})},function(a){return d[0]=d[1]}]):b.resolve(d[0]=!1)},function(a){return e[0]=d[0]}])},function(a){return b.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckIfAuthoritativeThreadMissingMiActMappingStoredProcedure";a.__tables__=["mi_act_mapping_table","threads"];b=a;g["default"]=b}),98);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}a.__sproc_name__="LSMailboxCreateOfflineThreadingIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIsMobileClient",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return c[0]=!1,b.resolve(c)}a.__sproc_name__="LSEncryptedBackupsIsMobileClientStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSLogMEBUploadSuccessEvent.nop",["Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EncryptedBackupUploadFailureFalcoEvent").__setRef("LSLogMEBUploadSuccessEvent.nop"),j=c("requireDeferred")("EncryptedBackupUploadSuccessFalcoEvent").__setRef("LSLogMEBUploadSuccessEvent.nop");a=function(a,c,d,e,f){if(d!=null){a=f?j.load():i.load();void a.then(function(a){return a.log(function(){return{message_id:d,trace_id:e}})})}return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMEBUploadSuccessEvent";g["default"]=a}),98);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMebClientEvent";g["default"]=a}),98);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("LSDeleteBackupOnClient",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMEBUploadSuccessEvent.nop","LSLogMebClientEvent.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return a[3]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_sproc_start"):c.resolve()},function(d){return a[3]!==void 0?a[4]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_error_message",a[4]):c.resolve():c.resolve()},function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] Beginning execution."),c.i64.neq(void 0,void 0)?(d[9]=["deleteBackupOnClient reason: "," ",c.i64.to_string(void 0)].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",[d[9]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return d[1]="Beginning deleteBackupOnClient stored procedure",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[1]].join("")),d[2]=c.createArray(),void 0!==void 0?d[9]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[1]].join(""),d[2],c.i64.cast([0,4]))},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(168).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.forEach(c.db.table(168).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(169).fetch([[[a[0]]],"fk_secure_encrypted_backups_client_state"]),function(a){return a["delete"]()}):c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.db.table(174).fetch(),function(a){return a["delete"]()})},function(b){return a[1]==="fetch_virtual_device"?c.db.table(178).put({pk:c.i64.cast([0,1]),recoveryCodeStatus:c.i64.cast([0,4])}):c.resolve()},function(e){return a[2]?c.sequence([function(a){return d[9]="Clearing state management backups tables",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[9]].join(""),d[10],c.i64.cast([0,4]))},function(a){return c.forEach(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){var b=a.update;a.item;return b({backupId:void 0})})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.filter(c.db.table(184).fetch(),function(b){return c.i64.eq(b.backupId,a[0])}),function(a){return a["delete"]()}):c.forEach(c.db.table(184).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],void 0)?c.forEach(c.db.table(196).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.forEach(c.db.table(196).fetch(),function(a){return a["delete"]()})}]):c.resolve()},function(a){return!1===!1?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1851]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.forEach(c.db.table(177).fetch(),function(a){var d=a.item;return c.sequence([function(a){return c.forEach(c.db.table(2).fetch([[[d.pendingBackupTaskId]]]),function(a){return a["delete"]()})},function(a){return c.i64.eq(d.contentType,c.i64.cast([0,1]))?c.nativeOperation(b("LSLogMEBUploadSuccessEvent.nop"),d.uniqueKey,d.lsTraceId,!0):c.resolve()}])})},function(a){return c.count(c.db.table(177).fetch()).then(function(a){return d[9]=a})},function(a){return c.i64.eq(d[9],c.i64.cast([0,0]))?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1852]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,1853]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[13]].join("")),d[12]=c.createArray(),void 0!==void 0?d[14]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[13],d[12],c.i64.cast([0,3]))):c.resolve()}])}]):c.resolve()},function(e){return a[2]?(d[9]="Clearing data flow backups tables",function(a){c.logger(a).info(a)}(["[EncryptedBackups][deleteBackupOnClient] ","",d[9]].join("")),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"deleteBackupOnClient",[d[9]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(e){return a[5]?c.resolve(0):a[4]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ","",a[4]].join("")),d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",a[4],d[9],c.i64.cast([0,3]))):c.resolve()},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(d){return a[3]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,1021646192]),a[3],"dasm_delete_backup_on_client_sproc_end"):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeleteBackupOnClientStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs","secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_recovery_code_status","encrypted_backups","encrypted_backups_virtual_devices","encrypted_backups_metadata","pending_backups_context_v2","pending_tasks"];e.exports=a}),null);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["FBLogger","LSDict","LSJson","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("FBLogger")("messenger_web").mustfixThrow("unexpected Dictionary type")};a.__nop_name__="LSDeserializeFromJsonIntoDictionary";g["default"]=a}),98);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}a.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueNextSync",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.count(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]})).then(function(a){return d[0]=a})},function(e){return c.i64.gt(d[0],c.i64.cast([0,0]))&&a[3]===!0?c.resolve(0):c.sequence([function(b){return c.forEach(c.filter(c.db.table(310).fetch(),function(b){return b.projectName===a[1]}),function(a){return a["delete"]()})},function(e){return c.i64.gt(a[2],c.i64.cast([0,0]))?(d[3]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[3],a[2])):d[1]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["acs_sync","_",a[1]].join(""),c.i64.cast([0,362]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(310).add({taskId:d[2],projectName:a[1],maxClientTokenPoolSize:a[0]})}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsIssueNextSyncStoredProcedure";a.__tables__=["acs_request_context"];e.exports=a}),null);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(233).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({success:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskCompletionStoredProcedure";a.__tables__=["mailbox_task_completion_api_tasks"];e.exports=a}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCheckIfAuthoritativeThreadMissingMiActMapping","LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[void 0,void 0],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[void 0,void 0],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],void 0)?c.sequence([function(e){return c.i64.neq(d[1],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSCheckIfAuthoritativeThreadMissingMiActMapping"),d[0]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.i64.gt(a[2],d[1])?c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})}):c.resolve()},function(e){return d[3]||c.i64.gt(a[2],d[1])?(d[4]=new c.Map(),d[4].set("thread_fbid",d[0]),d[4].set("force_upsert",!1),d[4].set("use_open_messenger_transport",!1),d[4].set("sync_group",c.i64.cast([0,95])),d[4].set("metadata_only",!1),d[4].set("preview_only",!1),d[5]=d[4].get("thread_fbid"),d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,209]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()}]):c.resolve()},function(a){return d[2]=d[0]}]):c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.sequence([function(e){return c.i64.neq(a[2],c.i64.cast([0,20]))?(d[11]=new c.Map(),d[11].set("thread_fbid",a[1]),d[11].set("force_upsert",!1),d[11].set("use_open_messenger_transport",!1),d[11].set("sync_group",c.i64.cast([0,95])),d[11].set("metadata_only",!1),d[11].set("preview_only",!1),d[12]=d[11].get("thread_fbid"),d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[12]),c.i64.cast([0,209]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(b){return d[3]=a[1]}]):c.sequence([function(a){return d[11]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[11]).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[3]=d[12]}])},function(b){return c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))?(b=["inbox",c.i64.cast([0,0])],d[4]=b[0],d[5]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,1]))?(b=["pending",c.i64.cast([-1,4294967295])],d[11]=b[0],d[12]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,2]))?(b=["other",c.i64.cast([-1,4294967294])],d[13]=b[0],d[14]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,3]))?(b=["spam",c.i64.cast([-1,4294967293])],d[15]=b[0],d[16]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,5]))?(b=["hidden",c.i64.cast([-1,4294967292])],d[17]=b[0],d[18]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,4]))?(b=["archived",c.i64.cast([-1,4294967286])],d[19]=b[0],d[20]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,15]))?(b=["restricted",c.i64.cast([-1,4294967281])],d[21]=b[0],d[22]=b[1],b):(b=["inbox",c.i64.cast([0,0])],d[21]=b[0],d[22]=b[1],b),b=[d[21],d[22]],d[19]=b[0],d[20]=b[1],b),b=[d[19],d[20]],d[17]=b[0],d[18]=b[1],b),b=[d[17],d[18]],d[15]=b[0],d[16]=b[1],b),b=[d[15],d[16]],d[13]=b[0],d[14]=b[1],b),b=[d[13],d[14]],d[11]=b[0],d[12]=b[1],b),b=[d[11],d[12]],d[4]=b[0],d[5]=b[1],b),d[6]=c.i64.cast([0,1083495711]),d[7]=c.i64.cast([0,1024]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:c.i64.cast([0,4096]),threadType:a[0],folderName:d[4],lastActivityTimestampMs:c.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:c.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:d[5],authorityLevel:a[2],capabilities:d[6],capabilities2:d[7],capabilities3:d[8],capabilities4:d[9],capabilities5:d[10],unsendLimitMs:c.i64.cast([-1,4294967295]),syncGroup:c.i64.cast([0,95]),isHidden:!0,clientThreadKey:d[3]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyE2EEMetadataThreadExistsV2StoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure",["LSSynchronousPromise","LSVerifyE2EEMetadataThreadExistsV2","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyE2EEMetadataThreadExistsV2"),e.threadType,e.threadKey,e.authorityLevel);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWReliabilityMonitor",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["PENDING","OK","ERROR","UNKNOWN"]);c=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=[]}var b=a.prototype;b.startMonitoring=function(a,b){b=new h(a,b,this);this.$1.set(a,b);this.recordReport(b);return b};b.stopMonitoring=function(a){this.$1["delete"](a.identifier),this.$2["delete"](a.identifier)};b.recordReport=function(a){this.$2.set(a.identifier,babelHelpers["extends"]({},a.selfAssessmentFn(),{identifier:a.identifier,timestamp:Date.now()})),this.$4()};b.onAggregatedReportChange=function(a){this.$3.push(a)};b.$4=function(){var a=this.getAggregatedReportEntity();this.$3.forEach(function(b){return b(a)})};b.getAggregatedReportEntity=function(){return new g(this.$2)};b.triggerAllSelfAssessments=function(){var a=this;this.$1.forEach(function(b){a.recordReport(b)})};b.getAggregatedReport=function(){this.triggerAllSelfAssessments();return this.$2};b.TEST_ONLY_reset=function(){this.$1.clear(),this.$2.clear(),this.$3=[]};return a}();var g=function(){function a(a){this.$1=a}var b=a.prototype;b.toAckPayloadFormat=function(){return Array.from(this.$1.values())};b.toString=function(){var a=Object.fromEntries(this.$1);return JSON.stringify(a)};return a}(),h=function(){function a(a,b,c){this.identifier=a,this.selfAssessmentFn=b,this.$1=c}var b=a.prototype;b.stopMonitoring=function(){this.$1.stopMonitoring(this)};b.updateState=function(){this.$1.recordReport(this)};return a}();d=new c();f.HealthReportState=a;f.ReliabilityAggregatedReport=g;f.ReportableModule=h;f.MAWReliabilityMonitorSingleton=d}),66);
__d("MAWSetupWorkerAuxStateForLogging",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=3,j={getWorkerAge:function(){if(j.workerStartTime!=null)return Math.floor((Date.now()-c("nullthrows")(j.workerStartTime))/1e3)},restartMessageTypes:[],restartReasons:[],workerStartTime:null,workerTerminatedPermanently:!1};function a(){j.workerStartTime=Date.now()}function b(a){h.push(a),h.length>i&&h.shift()}function d(){return h.join(",")}g.HEART_BEAT_HISTORY=h;g.WorkerLifeCycleState=j;g.resetWorkerCreationTime=a;g.addWorkerHeartbeatToHistory=b;g.getHeartbeatHistoryAsString=d}),98);
__d("MAWTrackPendingOccamadilloThreads",["Deferred","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","QuickPerformanceLogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h={},h[d("MAWMICSchema").ANNOTATIONS.occamadilloBatchesSentToWorker]=0,h[d("MAWMICSchema").ANNOTATIONS.occamadilloPendingThreadsAfterInitSync]=0,h[d("MAWMICSchema").ANNOTATIONS.occamadilloDuplicateThreads]=0,h);(function(){Object.keys(l).forEach(function(a){d("MAWMIC").addIntAnnotation(a,0)})})();function m(a){d("MAWMIC").addIntAnnotation(a,++l[a])}function a(){return l.occamadilloBatchesSentToWorker}var n=new(c("Deferred"))(),o=new Set(),p=new Set(),q=new Set(),r=new Set();function e(a){a=a.callingSource;r.add((k||(k=d("LSIntEnum"))).toNumber(a));d("MAWMIC").addIntArrayAnnotation(d("MAWMICSchema").ANNOTATIONS.occamadilloCallingSources,Array.from(r))}function f(a){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_start);if(o.has(a)){m(d("MAWMICSchema").ANNOTATIONS.occamadilloDuplicateThreads);return}p.add(a);d("LSPlatformLsInitLog").LsSync.isRunning()&&q.add(a);(i||(i=c("QuickPerformanceLogger"))).currentTimestamp();o.add(a);d("MAWMIC").addIntAnnotation("occamadilloThreadCount",o.size);d("LSPlatformLsInitLog").LsSync.hasEnded()&&m(d("MAWMICSchema").ANNOTATIONS.occamadilloPendingThreadsAfterInitSync)}function s(){d("MAWMIC").addBoolAnnotation("threadMappingAcked",!0)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("2661"))yield n.getPromise();else{var b=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(k||(k=d("LSIntEnum"))).ofNumber(95))}p["delete"](a);q["delete"](a);d("MAWMIC").addIntAnnotation("occamadilloCompleteThreadCount",o.size-p.size);w()});return u.apply(this,arguments)}function v(){n.resolve(),w()}function w(){d("MAWMIC").addIntAnnotation("occamadilloThreadCount",o.size);if(d("LSPlatformLsInitLog").LsSync.hasEnded()&&q.size===0){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end);return}p.size===0&&d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end)}g.incrementCounter=m;g.getBatchesSentNumber=a;g.markThreadPassedToNativeOp=e;g.addPendingThread=f;g.markBridgeCallAcked=s;g.removePendingThread=t;g.completeSync=v;g.maybeEndOccamadilloThreadMapping=w}),98);
__d("MAWInitError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,b)||this;d.error=void 0;d.name="MAWInitError";d.message=b;d.error=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.MAWInitError=a}),66);
__d("MAWInit",["MAWCurrentUser","MAWInitError","MAWMIC","MWQPLJoinId","MultipleTabsLogger","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(25310776,"6155"),j=!1,k=[],l=[],m=!1;function n(){if(m)return;m=!0;c("QPLUserFlow").addAnnotations(i,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}var o=!1,p=function(){return document.visibilityState!==void 0?document.visibilityState==="hidden":document.hidden},q=function(){r("visibility_change_"+(p()?"hidden":"visible"))};function a(){if(o)return;d("MAWMIC").addPoint("maw_init_start");o=!0;c("QPLUserFlow").start(i,babelHelpers["extends"]({annotations:{bool:{initiallyHidden:p()},string:{hostname:window.location.hostname}},cancelOnUnload:!0},d("MWQPLJoinId").allowJoinId?{joinOptions:{joinId:d("MWQPLJoinId").MWQPLJoinId}}:{}));c("QPLUserFlow").addAlignmentPointForJoin(i,0,{requestId:d("MWQPLJoinId").MWQPLJoinId});d("MultipleTabsLogger").addAnnotationToQPLEvent(i);void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(i,a)});n();document.addEventListener("visibilitychange",q);k.forEach(function(a){return a()});l.forEach(function(a){return a()});k.splice(0,k.length);l.splice(0,l.length)}function r(a,b){if(!o||j){if(!o&&(b==null?void 0:b.allowEarlyLogPoints)){var d=(h||(h=c("QuickPerformanceLogger"))).currentTimestamp();l.push(function(){c("QPLUserFlow").addPoint(i,a,{timestamp:d})})}return}n();c("QPLUserFlow").addPoint(i,a)}function e(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{bool:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{bool:(d={},d[a]=b,d)})}function f(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{string:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{string:(d={},d[a]=b,d)})}function s(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{string_array:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{string_array:(d={},d[a]=b,d)})}function t(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{"int":(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{"int":(d={},d[a]=b,d)})}function u(){n(),j=!0,m=!1,document.removeEventListener("visibilitychange",q)}function v(a,b){u();b=b instanceof d("MAWInitError").MAWInitError&&b.error?b.error:b;c("QPLUserFlow").addAnnotations(i,{string:{errorDescription:b==null?void 0:b.message}});c("QPLUserFlow").endFailure(i,a,{error:b});d("MAWMIC").fail(a,b)}function w(a,b){u(),c("QPLUserFlow").addAnnotations(i,{string:{cancelReason:a}}),b&&c("QPLUserFlow").markError(i,"maw_init_cancel_with_error",{error:b}),c("QPLUserFlow").endCancel(i),d("MAWMIC").addStringAnnotation("mawInitCancelReason",a),d("MAWMIC").cancel("maw_init_cancel",b),c("QPLUserFlow").addAnnotations(c("qpl")._(29818881,"6702"),{string:{maw_cancel_reason:a,maw_error_message:b==null?void 0:b.message}})}function x(a){if(j)return;u();d("MAWMIC").addStringAnnotation("mawInitDropReason",a);(h||(h=c("QuickPerformanceLogger"))).markerDrop(i)}function y(){u(),c("QPLUserFlow").endSuccess(i),d("MAWMIC").addPoint("maw_init_end")}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";r(c);c=(yield b());r(a);return c});return A.apply(this,arguments)}var B={isCompleted:function(){return j}};e={addBoolAnnotation:e,addIntAnnotation:t,addStringAnnotation:f,addStringArrayAnnotation:s,cancel:w,drop:x,endSuccess:y,fail:v,logPoint:r,measurePerformance:z,start:a};g.MAWInitState=B;g.MAWInit=e}),98);
__d("MAWStartupLoggingUtils",["FBLogger","MAWInit","MAWMIC","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f;f=(f=b==null?void 0:b.message)!=null?f:"";f.indexOf("Failed to execute 'importScripts'")>=0?d("MAWInit").MAWInit.fail("import_scripts_failure",c("getErrorSafe")(b)):d("MAWInit").MAWInit.fail("worker_error",c("getErrorSafe")(b));c("FBLogger")("messenger_web").mustfix("[MAWWebWorkerSingletonAsync: "+a+"]: %s:%s:%s:%s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename,JSON.stringify(b,window.Object.getOwnPropertyNames(b)),b==null?void 0:b.name,e)}function b(a){var b=function b(d){d=d==null?void 0:d.data;if(typeof d==="object")if((d==null?void 0:d.type)==="importScripts_error"){var e,f;a.removeEventListener("message",b);var g=c("FBLogger")("messenger_web");g=g.addMetadata("FBLOGGER","ERROR_STACK",(e=typeof (d==null?void 0:d.stack)==="string"?d==null?void 0:d.stack:JSON.stringify(d==null?void 0:d.stack))!=null?e:"no_stack");e=d!=null?d:{};var h=e.error_code,i=e.error_msg,j=e.error_name;e=e.source;f=(f=d==null?void 0:d.perfEntry)!=null?f:{};var k=f.duration,l=f.encodedBodySize,m=f.responseStatus;f=f.transferSize;g.mustfix("[MAWWebWorkerSingletonAsync Script Import Error Details]: %s:%s:%s || errCode:%s || respStatus:%s || encBodySize:%s || duration:%s || transferSize:%s",e!=null&&JSON.stringify(e)||"no_source",j!=null&&JSON.stringify(j)||"no_name",i!=null&&JSON.stringify(i)||"no_msg",h!=null&&JSON.stringify(h)||"none",(g=JSON.stringify(m))!=null?g:"none",(e=JSON.stringify(l))!=null?e:"none",(j=JSON.stringify(k))!=null?j:"none",(i=JSON.stringify(f))!=null?i:"none")}else(d==null?void 0:d.type)==="importScripts_success"&&a.removeEventListener("message",b)};a.addEventListener("message",b)}var h=new Set(["worker_connection_established","worker_init_point_hsdp_end","worker_init_point_hblp_end","get_worker_rev_ack_received","old_worker_shutdown_end","old_worker_shutdown_start"]);function e(a){var b=a.data.annotations;if(b!=null){var c={allowEarlyAnnotations:!0};Object.keys(b).forEach(function(a){var e;e=(e=b[a])!=null?e:{};Object.entries(e).forEach(function(b){var e=b[0];b=b[1];e="workerInit"+e.charAt(0).toUpperCase()+e.substring(1);a==="int"&&typeof b==="number"?(d("MAWInit").MAWInit.addIntAnnotation(e,b,c),d("MAWMIC").addIntAnnotation(e,b)):a==="string"&&typeof b==="string"?(d("MAWInit").MAWInit.addStringAnnotation(e,b,c),d("MAWMIC").addStringAnnotation(e,b)):a==="bool"&&typeof b==="boolean"&&(d("MAWInit").MAWInit.addBoolAnnotation(e,b,c),d("MAWMIC").addBoolAnnotation(e,b))})})}var e={allowEarlyLogPoints:!0};if(a.type==="point"){if(h.has(a.data.event)){var f="worker_"+a.data.event;d("MAWInit").MAWInit.logPoint(f,e);d("MAWMIC").addPoint(f)}}else a.type==="end"&&(a.data.cancel===!0?d("MAWInit").MAWInit.logPoint("worker_creation_cancel",e):a.data.errorName!=null&&(d("MAWInit").MAWInit.addStringAnnotation("errorDescription",a.data.errorName,{allowEarlyAnnotations:!0}),d("MAWInit").MAWInit.logPoint("worker_creation_fail",e)))}g.logWorkerError=a;g.setImportScriptsErrorListener=b;g.logSharedWorkerQPLEvents=e}),98);
__d("MAWWorkerWatchdogRecovery",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.setRecoveryForWatchdog=a;f.getWorkerRecoveryForWatchdog=b}),66);
__d("SharedWorkerDevChangeManager",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=new Set();function a(a,b){var c=b.storageWorkerResource;b=b.tabResource;if(!h)return!0;if(i.has(a))return!0;if(new URLSearchParams(window.location.search).has("force_shared_worker_updates"))return!1;if(c.version===2&&b.version===2&&c.sandboxOnlyChecksum!=null)return c.sandboxOnlyChecksum===b.sandboxOnlyChecksum;return c.version===2&&c.rsrcBundleUrl==null||b.version===2&&b.getJSModuleBundleResource().url==null?!1:c.rsrcBundleUrl===b.getJSModuleBundleResource().url}function b(a){if(!h)return!1;if(i.has(a))return!1;return new URLSearchParams(window.location.search).has("force_shared_worker_updates")?!0:!1}function c(a){h&&i.add(a)}g.shouldUseStorageWorkerForDev=a;g.shouldUpgradeWorkerForDevExperimental=b;g.trackCreatedWorker=c}),98);
__d("SharedWorkerEventManager",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=function(a){var d;if(typeof a.data==="object"&&((d=a.data)==null?void 0:d.type)==="console"&&typeof ((d=a.data)==null?void 0:d.response)==="object"&&((d=a.data)==null?void 0:d.response)!=null){d=a.data.response;a=d.method;d=d.args;if(typeof a!=="string"||!["log","error","info","debug","warn"].includes(a)){c("FBLogger")("worker").mustfix("Unexpected console method: %s",String(a));return}if(!Array.isArray(d)){c("FBLogger")("worker").mustfix('Expected console args "%s" to be an array',JSON.stringify(d));return}b({method:a,args:d})}},e=a.port;e.addEventListener("message",d);return function(){return e.removeEventListener("message",d)}}function i(a,b){var c=function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uncaught-error"){a=typeof ((c=a.data)==null?void 0:c.e)==="object"?(c=a.data.e)!=null?c:{}:{};c=a.error;var d=a.lineno,e=a.colno,f=a.filename;a=a.message;b({error:c instanceof Error?c:null,errorObject:{lineno:typeof d==="number"?d:null,colno:typeof e==="number"?e:null,filename:typeof f==="string"?f:null,message:typeof a==="string"?a:null}})}},d=a.port;d.addEventListener("message",c);return function(){return d.removeEventListener("message",c)}}function a(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="sw-get-rev"&&typeof a.data.response==="object"){b==null?void 0:b.markPoint("get_worker_rev_ack_received");a=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(e=a.data)==null?void 0:e.response:{};e=a==null?void 0:a.workerRevision;var f=a==null?void 0:a.spinTime;a=a==null?void 0:a.workerChecksum;if(e==null||typeof e!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"rev is non-number"}});c("FBLogger")("worker").mustfix("Expected worker rev to be non-null number, but instead received: %s",String(e));return}if(f==null||typeof f!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"spin_time is non-number"}});c("FBLogger")("worker").mustfix("Expected worker spin time to be non-null number, but instead received: %s",String(f));return}d({rev:e,spinTime:f,workerChecksum:typeof a==="string"?a:void 0})}},f=a.port;f.addEventListener("message",e);return function(){return f.removeEventListener("message",e)}}function b(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="sw-shutdown"&&typeof e.data.response==="object"){var g,h;f=typeof ((f=e.data.response)==null?void 0:f.reason)==="string"?(f=e.data.response)==null?void 0:f.reason:null;g=typeof ((g=e.data.response)==null?void 0:g.workerID)==="string"?(g=e.data.response)==null?void 0:g.workerID:null;e=typeof ((h=e.data.response)==null?void 0:h.isInitialized)==="boolean"?(h=e.data.response)==null?void 0:h.isInitialized:null;b({reason:f,workerID:g,isInitialized:e});(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}},e=a.port;e.addEventListener("message",d);return function(){return e.removeEventListener("message",d)}}function d(a,b){a.port.addEventListener("message",function(a){var c;typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uptime-tracking"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.trackerID)==="number"&&b({trackerID:a.data.response.trackerID})})}function e(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="execute-worker-ack"&&typeof ((e=a.data)==null?void 0:e.response)==="object"){e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.workerRevision;var f=e.spinMode,g=e.spinTime,h=e.firstInit,i=e.errorGettingSiteData;e=e.error;if(typeof h!=="boolean"){b==null?void 0:b.addAnnotations({string:{malformedData:"firstInit is non-boolean"}});c("FBLogger")("worker").mustfix("Expected firstInit to be a boolean, but instead received: %s",String(h));return}i=i!=null?i:e;if(typeof i==="string")return d({err:i,isFirstInit:h});if(typeof a==="number"&&typeof f==="number"&&typeof g==="number")return d({workerRev:a,workerSpinTime:g,workerSpinMode:f,isFirstInit:h});else b==null?void 0:b.addAnnotations({string:{malformedData:"workerRevision, spinMode, and/or spinTime are non-numbers"}}),c("FBLogger")("worker").mustfix("Expected workerRevision, spinMode, and spinTime to be non-null number, but instead received: %s %s %s",String(a),String(f),String(g))}},f=a.port;f.addEventListener("message",e);return function(){return f.removeEventListener("message",e)}}function f(a,b,d,e){var f=function f(g){var h;if(typeof g.data==="object"&&((h=g.data)==null?void 0:h.type)==="execute-worker-imports"&&typeof ((h=g.data)==null?void 0:h.response)==="object"){(e==null?void 0:e.once)===!0&&a.port.removeEventListener("message",f);b==null?void 0:b.markPoint("bundle_imports_ack");h=typeof g.data==="object"&&typeof ((h=g.data)==null?void 0:h.response)==="object"?(g=(h=g.data)==null?void 0:h.response)!=null?g:{}:{};g=h.err;h=h.attempts;if(g!=null&&typeof g!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(g));return}if(h!=null&&typeof h!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"attempts is neither null or a number"}});c("FBLogger")("worker").mustfix("Expected attempts to be a number or null, but instead receieved: %s",String(h));return}d({err:g,attempts:h})}},g=a.port;g.addEventListener("message",f);return function(){return g.removeEventListener("message",f)}}function j(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="ww-hrp-init"){b==null?void 0:b.markEventEnd("hrp_init");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.err;if(a!=null&&typeof a!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(a));return}d({err:a})}},f=a.port;f.addEventListener("message",e);return function(){return f.removeEventListener("message",e)}}function k(a,b){var c=function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="worker-init-mark"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.point)==="string"){b((c=a.data)==null?void 0:(a=c.response)==null?void 0:a.point)}},d=a.port;d.addEventListener("message",c);return function(){return d.removeEventListener("message",c)}}function l(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="self-terminate"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){var g,h,i;f=(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from;g=typeof ((g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason)==="string"?(g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason:"unknown";h=typeof ((h=e.data)==null?void 0:(h=h.response)==null?void 0:h.workerID)==="string"?(h=e.data)==null?void 0:(h=h.response)==null?void 0:h.workerID:"unknown";i=typeof ((i=e.data)==null?void 0:(i=i.response)==null?void 0:i.error)==="string"?(i=e.data)==null?void 0:(e=i.response)==null?void 0:e.error:void 0;(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d);b(f,g,h,i)}},e=a.port;e.addEventListener("message",d);return function(){return e.removeEventListener("message",d)}}function m(a,b){b=b!=null?b:{};var c=b.reason;b=b.upgrade;a.port.postMessage({type:"sw-shutdown",args:[{reason:c,upgrade:b}]})}function n(a){a.port.postMessage({type:"sw-get-rev",args:[]})}function o(a,b){b=b!=null?b:{};var c=b.jsModuleResource;b=b.isDev;a.port.postMessage({type:"execute-worker",args:[c!=null?c:{},b]})}var p=["no-hrp","initialized","processed"];function q(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="connection-ack"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){var g;f=typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.workerID)==="string"?(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.workerID:void 0;g=typeof ((g=e.data)==null?void 0:(g=g.response)==null?void 0:g.hrpStatus)==="string"?(g=e.data)==null?void 0:(g=g.response)==null?void 0:g.hrpStatus:void 0;b((e=e.data)==null?void 0:(e=e.response)==null?void 0:e.from,f,g!=null&&p.includes(g)?g:void 0);(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}},e=a.port;e.addEventListener("message",d);return function(){return e.removeEventListener("message",d)}}function r(a,b){var c=function(a){b(a.data)},d=a.port;d.addEventListener("message",c);return function(){return d.removeEventListener("message",c)}}function s(a,b){a.port.postMessage({type:"ww-connection-ack"}),b==null?void 0:b.markPoint("worker_connection_ack_requested")}function t(a,b,c){c=b.isDev;var d=b.hrp;b=b.js_env;a.port.postMessage({type:"ww-hrp-init",hrp:d,is_dev:c,js_env:b,tiered:!0})}function u(a,b){b=b.trackerID;a.port.postMessage({type:"sw-uptime-tracking",args:{trackerID:b}})}function v(a){var b=h(a,function(a){var b,c=a.args;a=a.method;(b=console)[a].apply(b,c)}),d=i(a,function(a){var b=a.error;a=a.errorObject;b!=null?c("FBLogger")("worker").catching(b).mustfix("Shared Worker uncaught error."):c("FBLogger")("worker").mustfix("Shared Worker uncaught error with no Error object. %s:%d:%d:%s",a.message,a.lineno,a.colno,a.filename)});return function(){b(),d()}}g.registerLogFowardingListener=h;g.registerUncaughtErrorForwardingListener=i;g.registerGetWorkerRevListener=a;g.registerWorkerShutdownListener=b;g.registerUptimeTrackerListener=d;g.registerExecuteWorkerAckListener=e;g.registerExecuteWorkerImportsListener=f;g.registerHrpInitListener=j;g.registerWorkerInitPointsListener=k;g.registerWorkerSelfTerminationListener=l;g.emitWorkerShutdown=m;g.emitGetRev=n;g.emitExecuteWorker=o;g.registerConnectionAckListener=q;g.registerAnyMessageListener=r;g.emitConnectionAckRequest=s;g.emitHrpInit=t;g.emitUptimeTracking=u;g.registerForwardListeners=v}),98);
__d("supportsNativeWebLock",[],(function(a,b,c,d,e,f){"use strict";function a(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}f["default"]=a}),66);
__d("SharedWorkerLockManager",["Deferred","FBLogger","WebStorageLockManager","emptyFunction","pageID","promiseDone","setTimeout","supportsNativeWebLock"],(function(a,b,c,d,e,f,g){"use strict";var h="shared_worker_mutex",i=6e5;function j(a){var b;b=(b=window)==null?void 0:(b=b.navigator)==null?void 0:b.locks;if(b!=null)return b;var e=d("WebStorageLockManager").make(c("pageID"));if(e!=null){a==null?void 0:a.addAnnotations({bool:{fallback_lock_manager:!0}});return{request:function(a,b){return e.request(a,b)}}}return null}function k(a,b,d){c("setTimeout")(function(){a.isSettled()||(b==null?void 0:b.endFailure("lock_timeout"),c("FBLogger")("worker").warn("[SharedWorkerLockManager]: lock timed out in %s ms",i),a.resolve(),d==null?void 0:d())},i)}function a(a,b){var d=b.workerQPLLogger,e=b.onLockTimeout;b=b.onLockFail;var f=j(d);d==null?void 0:d.addAnnotations({bool:{native_locks:f!=null?c("supportsNativeWebLock")():null}});if(f==null){d==null?void 0:d.markPoint("no_lock_manager");c("FBLogger")("worker").warn("Unable to initialize lock manager");a(c("emptyFunction"));return}d==null?void 0:d.markPoint("lock_requested");var g=new(c("Deferred"))();c("promiseDone")(f.request(h,function(){d==null?void 0:d.markPoint("lock_obtained");k(g,d,e);a(function(){d==null?void 0:d.markPoint("lock_released"),g.resolve()});return g.getPromise()}),void 0,b)}g.withWorkerLock=a}),98);
__d("SharedWorkerLoggingUtils",["ErrorSerializer","FBLogger","ODS","QPLUserFlow","getErrorSafe","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){(h||(h=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","worker_self_termination."+b+"."+a),i(a,b,c,e,!0)}function i(a,b,d,e,f){f===void 0&&(f=!1);var g=c("qpl")._(931600201,"1438");c("QPLUserFlow").start(g);c("QPLUserFlow").endSuccess(g,{annotations:{string:{workerName:a,workerID:e,reason:d,location:b,pageID:c("pageID")},bool:{isSelfTermination:f}}})}function b(a,b,c,d,e,f){a==null?void 0:a.markEventEnd("execute_worker"),a==null?void 0:a.addAnnotations({"int":{runningWorkerRev:e,runningWorkerSpinTime:b,runningWorkerSpinMode:f},string:{executeWorkerErr:c},bool:{isFirstInit:d}})}function e(a,b,d){var e;e=c("getErrorSafe")((e=b instanceof ErrorEvent&&(b==null?void 0:b.error))!=null?e:b);c("FBLogger")("worker").catching(e).warn("Worker %s onerror: %s type, %s message",d,String(b.type),c("ErrorSerializer").toReadableMessage(e));a==null?void 0:a.addAnnotations({string_array:{onErrorHandler:[(a=JSON.stringify((d=e==null?void 0:e.message)!=null?d:b==null?void 0:b.message))!=null?a:"undefined",String((d=b==null?void 0:b.lineno)!=null?d:e==null?void 0:e.lineno),String((a=b==null?void 0:b.colno)!=null?a:e==null?void 0:e.colno),String((d=b==null?void 0:b.filename)!=null?d:e==null?void 0:e.filename)]}})}g.logSelfTermination=a;g.logShutdown=i;g.logExecuteAck=b;g.logSharedWorkerError=e}),98);
__d("SharedWorkerStatusLock",[],(function(a,b,c,d,e,f){"use strict";var g="sw-lock",h="sw-ds-lock";function i(a){return g+"-"+a}function j(a){return h+"-"+a}function k(a,b){return g+"-"+a+"-"+b}function a(){var a=null,b;function c(c){var d=self,e=d.navigator.locks;d.LockManager!=null&&e instanceof d.LockManager&&(b==null&&(b=new d.Promise(function(b){a=b})),e.request(i(d.name),function(a){if(a!=null)return b}),c.requestDynamicStringLockToo===!0&&e.request(j(d.name),function(a){if(a!=null)return b}),c.requestWorkerIdStatusLockToo===!0&&e.request(k(d.name,d.worker_id),function(a){if(a!=null){c.onUniqueLockAckquired==null?void 0:c.onUniqueLockAckquired();return b}}))}function d(){a==null?void 0:a(),b=null,a=null}return{init:c,release:d}}f.getStatusLockName=i;f.getDynamicStringInitLockName=j;f.getWorkerIdStatusLockName=k;f.getStatusLock=a}),66);
__d("WebAsyncStorage",["Deferred","Promise","err","mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h;a=typeof window!=="undefined"?window:self;var i=a.indexedDB,j=1,k="data",l=!1,m;d=Date.now();var n=new(c("Deferred"))(),o=3;function p(){var a=i.open("AsyncStorage",j);a.onerror=function(b){b=(b=a.error)!=null?b:new Error("Failed to open AsyncStorage IndexedDB instance.");if(b.name==="UnknownError"&&o>0){o--;return p()}n.reject(b)};a.onsuccess=function(a){l&&!1,m=a.target.result,n.resolve({db:m}),m.onerror=function(a){a=new Error("AsyncStorage error: "+a.target.error.message);n.reject(a)}};a.onupgradeneeded=function(a){a=a.currentTarget.result;if(a.objectStoreNames&&a.objectStoreNames.contains(k))return;a.createObjectStore(k,{keyPath:"key"})}}i&&p();function q(a,b){if(m)try{a()}catch(a){b&&b(a)}else n.getPromise().then(function(){l&&!1,q(a,b)},function(a){b&&b(a)})}e={setItem:function(a,b,c){this.multiSet([[a,b]],function(a){c(a&&a[0]||null)})},getItem:function(a,b){this.multiGet([a],function(a,c){c=c!==void 0&&c[0]!==void 0&&c[0][1]!==void 0?c[0][1]:null;b(a&&a[0]||null,c)})},removeItem:function(a,b){this.multiRemove([a],function(a){b(a&&a[0]||null)})},getOrSetItem:function(a,b,c){this.multiGetOrSet([[a,b]],function(a,b){b=b!==void 0&&b[0]!==void 0&&b[0][1]!==void 0?b[0][1]:null;c(a&&a[0]||null,b)})},upsertAndSaveAtomic:function(a,b,c){var d=null;this._multiOp([a],"readwrite",function(a){return c(a,d)},function(a){return a},function(a,c,e){if(c&&a===c.key){var f=b(c.value.value);if(f!=null){var g=c.value;g.value=f;d=f;c.update(g)}}else{f=b(null);f!=null&&(d=f,e.push([a,f]))}})},multiGet:function(a,b){var c=[];this._multiOp(a,"readonly",function(a){return b(a,c)},function(a){return a},function(a,b,d){b&&a===b.key?(l&&!1,c.push([a,b.value.value])):c.push([a,null])})},multiSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,c){if(b&&a[0]===b.key){var d=b.value;d.value=a[1];l&&!1;b.update(d)}else c.push(a)})},multiGetOrSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}var c=[];this._multiOp(a,"readwrite",function(a){return b(a,c)},function(a){return a[0]},function(a,b,d){b&&a[0]===b.key?(c.push([a,b.value.value]),l&&!1):d.push(a)})},multiMerge:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,d){if(b&&a[0]===b.key){var e=b.value,f=JSON.parse(e.value);c("mergeDeepInto")(f,JSON.parse(a[1]),c("mergeHelpers").ArrayStrategies.Clobber);l&&!1;e.value=JSON.stringify(f);b.update(e)}else l&&!1,d.push(a)})},multiRemove:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a},function(a,b,c){b&&a===b.key&&(l&&!1,b["delete"]())})},getAllKeys:function(a){q(function(){var b=m.transaction([k],"readonly");b=b.objectStore(k).openCursor();var c=[];b.onsuccess=function(b){b=b.target.result;if(!b){a(null,c);return}c.push(b.key);b["continue"]()}},function(b){return a(null,[])})},clear:function(a){q(function(){var b=m.transaction([k],"readwrite");b=b.objectStore(k).openCursor();b.onsuccess=function(b){b=b.target.result;if(!b){a(null);return}b["delete"]();b["continue"]()}},function(b){return a(null)})},_multiOp:function(a,b,c,d,e){q(function(){var f=!1,g=a.slice().sort(function(a,b){a=d(a);b=d(b);if(a===b){var e=new Error("AsyncStorage._multiOp cannot process duplicate keys.");c&&c([e]);f=!0;return 0}return a<b?-1:1});if(f)return;var h=m.transaction([k],b),i=h.objectStore(k).openCursor(),j=[],n=0;i.onsuccess=function(a){a=a.target.result;if(!a){while(n<g.length)e(g[n],a,j),n++;o();return}var b=a.key;l&&!1;while(d(g[n])<=b){l&&!1;e(g[n],a,j);n++;if(n===g.length){o();return}}b=d(g[n]);a["continue"](b)};function o(){var a=h.objectStore(k);j.forEach(function(b){l&&!1,a.add({key:b[0],value:b[1]})})}h.oncomplete=function(){c&&c(null)};h.onerror=function(a){a=new Error("IndexedDB error: "+a.target.error.message);c&&c([a])};l&&!1},function(a){c&&c([a])})},_persistentWritesDisabled:!1,disablePersistentWrites:function(){this._persistentWritesDisabled=!0},isOpenPromiseSettled:function(){return n.isSettled()},isOperational:function(){return i==null?(h||(h=b("Promise"))).resolve({success:!1,error:c("err")("IDB interface not available")}):n.getPromise().then(function(){return{success:!0}})["catch"](function(a){return{success:!1,error:a}})}};f=e;g["default"]=f}),98);
__d("validateSharedWorkerReference",["ConstUriUtils","isRelativeURL","isSameOrigin","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoize")(function(){return d("ConstUriUtils").getUri(window.location.href)});function i(a){var b=h(),e=d("ConstUriUtils").getUri(a);e=b!=null&&e!=null?c("isSameOrigin")(e,b):!1;return e||c("isRelativeURL")(a)}function a(a){if(a==null||typeof a!=="object")return null;var b=a.rev,c=a.spin_time,d=a.url,e=a.version,f=a.rsrcBundleUrl;a=a.sandboxOnlyChecksum;return typeof b!=="number"||typeof c!=="number"||e!=null&&e!==1&&e!==2||!Number.isInteger(b)||!Number.isInteger(c)||typeof d!=="string"||!i(d)||f!=null&&typeof f!=="string"||a!=null&&typeof a!=="string"?null:{rev:b,spin_time:c,url:d,version:e!=null?e:1,rsrcBundleUrl:f,sandboxOnlyChecksum:a}}g["default"]=a}),98);
__d("SharedWorkerStorageManager",["Deferred","FBLogger","Promise","WebAsyncStorage","validateSharedWorkerReference"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__swbundle__",j={};function k(a){return""+i+a}function l(a){var b=new(c("Deferred"))();c("WebAsyncStorage").removeItem(k(a),function(c){if(c)return b.reject(c);j[a]=null;b.resolve()});return b.getPromise()}function m(a,b){var d=new(c("Deferred"))();c("WebAsyncStorage").setItem(k(a),b,function(c){if(c!=null)return d.reject(c);j[a]=b;d.resolve()});return d.getPromise()}function n(a){var b=new(c("Deferred"))();c("WebAsyncStorage").getItem(k(a),function(c,d){if(c)return b.reject(c);j[a]=d;b.resolve(d)});return b.getPromise()}function a(){return j}function d(a,b){return n(a).then(function(a){a=c("validateSharedWorkerReference")(a);return a==null?null:a})["catch"](function(d){c("FBLogger")("worker").catching(d).mustfix("Failed to getSharedWorkerReference for bundleName %s",a);b==null?void 0:b.addAnnotations({bool:{failedToGetSharedWorkerResource:!0}});throw d})}function e(a,b){return l(a)["catch"](function(d){c("FBLogger")("worker").catching(d).mustfix("Failed to removeSharedWorkerReference for bundleName %s",a);b==null?void 0:b.addAnnotations({bool:{failedToDeleteSharedWorkerResource:!0}});throw d})}function f(a,d,e){var f=c("validateSharedWorkerReference")(d);if(f==null){c("FBLogger")("worker").mustfix('Failed to save worker reference for bundle "%s". Invalid reference: %s',a,JSON.stringify(d));return(h||(h=b("Promise"))).resolve()}return m(a,f)["catch"](function(b){c("FBLogger")("worker").catching(b).mustfix("Failed to saveSharedWorkerReference for bundleName %s",a);e==null?void 0:e.addAnnotations({bool:{failedToSaveSharedWorkerResource:!0}});throw b})}function o(a,b,d){var e=new(c("Deferred"))();c("WebAsyncStorage").upsertAndSaveAtomic(k(a),function(a){a=c("validateSharedWorkerReference")(a);return b(a)},function(b,f){if(b){d==null?void 0:d.addAnnotations({bool:{failedToGetOrUpdateSharedWorkerResource:!0}});c("FBLogger")("worker").catching(b).mustfix("Failed to getOrUpdateWorkerReference for bundleName %s",a);return e.reject(b)}j[a]=f;e.resolve(f)});return e.getPromise()}g.SHARED_WORKER_STORAGE_KEY_BASE=i;g.getDebugState=a;g.getSharedWorkerReference=d;g.removeSharedWorkerReference=e;g.saveSharedWorkerReference=f;g.getOrUpdateWorkerReference=o}),98);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("supportsModuleWorker",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){if(h!=null)return h;if(h!=null)return h;if(c("UserAgent").isEngine("Blink")){h=a?c("UserAgent").isEngine_DEPRECATED_DANGEROUS("Blink > 83"):c("UserAgent").isEngine_DEPRECATED_DANGEROUS("Blink > 80.1");return h}if(c("UserAgent").isBrowser("Safari")){h=c("UserAgent").isBrowser("Safari > 14.9");return h}if(c("UserAgent").isBrowser("Firefox")){h=c("UserAgent").isBrowser("Firefox > 113");return h}if(c("UserAgent").isEngine("WebKit")){h=c("UserAgent").isEngine_DEPRECATED_DANGEROUS("WebKit > 606");return h}if(c("UserAgent").isBrowser("IE")){h=!1;return h}var b={get type(){h=!0}};try{a?new SharedWorker("blob://",b):new Worker("blob://",b)}finally{h=(a=h)!=null?a:!1;return h}}g["default"]=a}),98);
__d("createSharedWorkerV2BundleUrlExperimental",["XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","nullthrows","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("supportsModuleWorker")(!0);return c("nullthrows")((b=c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:b?"MODULE":"CLASSIC",name:a}))==null?void 0:b.toString())}g["default"]=a}),98);
__d("SharedWorkerMigrationUtils",["ConstUriUtils","Deferred","FBLogger","Promise","SharedWorkerEventManager","SharedWorkerStatusLock","SharedWorkerStorageManager","TrustedTypesWebWorkerScriptURLPolicy","asyncToGeneratorRuntime","clearTimeout","createSharedWorkerV2BundleUrlExperimental","err","justknobx","setTimeout","supportsModuleWorker","supportsNativeWebLock"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("supportsNativeWebLock")())return!0;var b=(yield self.navigator.locks.query());return b.held.some(function(b){return b.name===d("SharedWorkerStatusLock").getDynamicStringInitLockName(a)})});return j.apply(this,arguments)}function a(){return c("supportsNativeWebLock")()}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("supportsNativeWebLock")())return!0;var b=(yield self.navigator.locks.query());return b.held.some(function(b){return b.name===d("SharedWorkerStatusLock").getStatusLockName(a)})});return l.apply(this,arguments)}function e(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("supportsNativeWebLock")())return!0;var e=(yield self.navigator.locks.query());return e.held.some(function(c){return c.name===d("SharedWorkerStatusLock").getWorkerIdStatusLockName(a,b)})});return m.apply(this,arguments)}var n={SharedWorkerBundle:c("justknobx")._("2852"),MAWMainWebWorkerV2Bundle:c("justknobx")._("2920")};function f(a){return(a=n[a])!=null?a:!1}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!(yield i(a)))return!1;var b=new(c("Deferred"))(),e=c("createSharedWorkerV2BundleUrlExperimental")(a);e=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(e);e=c("supportsModuleWorker")(!0)?new SharedWorker(e,{name:a,type:"module"}):new SharedWorker(e,a);d("SharedWorkerEventManager").registerWorkerShutdownListener(e,function(a){b.resolve(!0)},{once:!0});d("SharedWorkerEventManager").emitWorkerShutdown(e,{upgrade:!1,reason:"dynamic_string_worker_rollback"});e.port.start();return b.getPromise()});return p.apply(this,arguments)}function q(a){a=d("ConstUriUtils").getUri(a);return a!=null&&a.getQueryParam("hash")!=null}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.name,f=a.logger;try{a=(yield (h||(h=b("Promise"))).all([k(e),i(e)]));var g=a[0];a=a[1];if(!g||c("supportsNativeWebLock")()&&a){f.markPoint("legacy_termination_skipped");f.addAnnotations({bool:{dynamicStringWorkerAlreadyRunning:a,workerAlreadyRunning:g,native_locks:c("supportsNativeWebLock")()}});return}a=(yield d("SharedWorkerStorageManager").getSharedWorkerReference(e));f.markPoint("storage_read");f.addAnnotations({bool:{storageResourceSet:a!=null}});if(a==null)return;try{yield d("SharedWorkerStorageManager").removeSharedWorkerReference(e),f.markPoint("storage_cleaned")}catch(a){f.markPoint("storage_error"),f.addAnnotations({string:{storageError:a.toString()}}),c("FBLogger")("worker").catching(a).mustfix("Failed to remove reference from storage.")}g=q(a.url);f.markPoint(g?"legacy_termination_start":"termination_skipped");if(g){var j=new(c("Deferred"))();g=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a.url);a=c("supportsModuleWorker")(!0)?new SharedWorker(g,{name:e,type:"module"}):new SharedWorker(g,e);g=function(){f.markPoint("legacy_termination_end"),j.resolve(!0)};d("SharedWorkerEventManager").registerWorkerShutdownListener(a,g,{once:!0});d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(a,g,{once:!0});a.port.start();d("SharedWorkerEventManager").emitWorkerShutdown(a,{upgrade:!1,reason:"maw-request-refresh"});e=c("setTimeout")(function(){f.markPoint("legacy_termination_timeout"),j.reject(c("err")("Failed to close Shared Web Worker properly. SelfTerminationTimeout was exceeded."))},1e3);yield j.getPromise();c("clearTimeout")(e)}}catch(a){f.markPoint("legacy_check_and_termination_error"),f.addAnnotations({string:{legacyCheckError:a.toString()}}),c("FBLogger")("worker").catching(a).mustfix("Failed to check storage and possibly terminate legacy worker.")}});return s.apply(this,arguments)}g.isDynamicStringWorkerRunning=i;g.supportsNativeWebLocks=a;g.isStatusLockHeld=k;g.isWorkerIdStatusLockHeld=e;g.shouldCheckForDynamicStringWorker=f;g.maybeTerminateDynamicStringWorker=o;g.isLegacyWorkerURL=q;g.checkStorageAndTerminateLegacyWorker=r}),98);
__d("SharedWorkerUptimeTracker",["FBLogger","ODS","SharedWorkerEventManager","clearInterval","performanceNow","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e4,k=45e3,l=new Map();function m(a){return Math.floor(((i||(i=c("performanceNow")))()-a)/1e3)}function n(a,b){var e=0,f={};d("SharedWorkerEventManager").registerUptimeTrackerListener(a,function(a){a=a.trackerID;var c=f[a];if(c==null)return;(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,1,0);h.bumpEntityKey(6653,"shared_worker_infra","worker_uptime_elapsed_time_to_response_sec."+m(c.createdMs)+"."+b);delete f[a]});return c("setInterval")(function(){var g=e++;c("setTimeout")(function(){var a=f[g];if(a==null)return;delete f[g]},k);f[g]={createdMs:(i||(i=c("performanceNow")))()};(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,0,1);d("SharedWorkerEventManager").emitUptimeTracking(a,{trackerID:g})},j)}function a(a,b){if(l.has(b)){c("FBLogger")("worker").mustfix('Uptime tracking for worker "%s" already started.',b);return}l.set(b,{intervalID:n(a,b)})}function b(a){var b=l.get(a);b!=null&&(c("clearInterval")(b.intervalID),l["delete"](a))}g.startUptimeTracking=a;g.stopUptimeTracking=b}),98);
__d("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/rsrc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebWorkerV2DynamicData",["FBLogger","Promise","XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder","cometAsyncFetchShared","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){b===void 0&&(b=!1);var c=a.name,d=i.get(c);if(d==null||b){var e=Math.floor(+Date.now()/1e3);d=j(a,b).then(function(a){return{time:e,data:a}});i.set(c,d)}return d}function j(a,d){var e=a.name,f=a.v2HasteResponsePreloader;if(f==null||d)return k(e,d);var g=null,i=c("gkx")("14133");a=new(h||(h=b("Promise")))(function(a,b){f.onLoaded(function(d){d=d.data;(d==null||d.hrp==null)&&(i&&b(c("err")("Preloaded data for worker %s is missing haste response",e)),c("FBLogger")("worker").mustfix("Preloaded data for worker %s is missing haste response, preload data keys: %s",e,d==null?"null":Object.keys(d).join(", ")));g=d;a(d)}).onError(b)});if(i){var j,l,m=function(){l==null&&(l=k(e,d));return l};return(h||(h=b("Promise"))).race([a["catch"](function(){return m()}),new h(function(a,b){j=window.setTimeout(function(){c("promiseDone")(m(),a,b)},1e4)})]).then(function(a){window.clearTimeout(j);return a})}return h.race([a,new h(function(a,b){window.setTimeout(function(){g==null?c("promiseDone")(k(e,d),a,b):a(g)},1e4)})])}function k(a,b){var d=null;b&&(d=new FormData(),d.set("__rev","null"),d.set("__spin_r","null"));return c("cometAsyncFetchShared")(c("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder").buildUri({worker_module:a}).toString(),{formData:(d=d)!=null?d:void 0,data:{},getFullPayload:!0,method:"POST",skipSRState:!0,retryCount:b?2:void 0}).then(function(b){if(b!=null&&typeof b==="object"&&Object.prototype.hasOwnProperty.call(b,"hrp")&&typeof b.hrp==="object")return b;throw c("err")("Unexpected data from WorkerInitResourceDeliveryController for worker %s",a)})}g.readDynamicDataForWorker=a}),98);
__d("checkForIndexedDbSupported",[],(function(a,b,c,d,e,f){"use strict";function a(){return!window.indexedDB?!1:!0}f["default"]=a}),66);
__d("buildSharedWorkerInitQPLLogger",["QPLUserFlow","SiteData","checkForIndexedDbSupported","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931595918,"2062"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.version,i=f.workerName,j=f.callReason,k=f.experimental_init;f=f.migrationEnabled;if(b||d)return;b=!0;g={"int":{version:g,clientRev:c("SiteData").client_revision},bool:{isDev:!1,supportsIDB:c("checkForIndexedDbSupported")(),experimental_init:k!=null?k:!1,migrationEnabled:f!=null?f:!1},string:{workerName:i,hostname:window.location.hostname,callReason:j,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:66e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){f=f+"_start";a==null?void 0:a({type:"point",data:{annotations:g,event:f}});if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e})}function j(f,g){f=f+"_end";a==null?void 0:a({type:"point",data:{annotations:g,event:f}});if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){a==null?void 0:a({type:"point",data:{annotations:g,event:f}});if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e})}function l(f){a==null?void 0:a({type:"end",data:{annotations:f}});if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});d=!0}function m(f,g){a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});d=!0}function n(f){a==null?void 0:a({type:"end",data:{annotations:f,cancel:!0}});if(!b||d)return;c("QPLUserFlow").endCancel(h,{annotations:f,instanceKey:e});d=!0}function o(f){a==null?void 0:a({type:"annotate",data:{annotations:f}});if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e})}return{start:f,endFailure:m,addAnnotations:o,endSuccess:l,endCancel:n,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("buildSharedWorkerTerminateQPLLogger",["QPLUserFlow","SiteData","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931600201,"1438"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.workerName;f=f.callReason;if(b||d)return;b=!0;g={"int":{clientRev:c("SiteData").client_revision},bool:{isDev:!1},string:{workerName:g,hostname:window.location.hostname,callReason:f,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:3e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").endCancel(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f,cancel:!0}});d=!0}function o(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:o,endSuccess:l,endCancel:n,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/sharedworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getSharedWorkerHash",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("uuidv4")()}g["default"]=a}),98);
__d("getWorkerInitScriptSPINParams",["SiteData","StaticSiteData","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,d,e=(b=c("SiteData"))[(d=c("StaticSiteData")).spin_mhenv_key];d=babelHelpers["extends"]((a={},a[d.hs_key]=b.haste_session,a[d.spin_rev_key]=b[d.spin_rev_key],a[d.spin_branch_key]=b[d.spin_branch_key],a[d.spin_time_key]=b[d.spin_time_key],a),Boolean(e)?(b={},b[c("StaticSiteData").spin_mhenv_key]=e,b):null);return new Map(c("objectEntries")(d))}g["default"]=a}),98);
__d("createSharedWorkerBundleUrl",["XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return c("nullthrows")((a=c("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder").buildUri({hash:c("getSharedWorkerHash")()}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString())}g["default"]=a}),98);
__d("createSharedWorkerV2BundleUrl",["BootloaderDocumentInserter","BootloaderPreloader","TrustedTypesWebWorkerScriptURLPolicy","XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","gkx","justknobx","nullthrows","qex","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=c("supportsModuleWorker")(!0),b=c("getWorkerInitScriptSPINParams")();b.set("hash",c("getSharedWorkerHash")());b.set("use_broadcast",c("justknobx")._("4177"));b.set("worker_id_in_terminate",c("gkx")("12766"));b.set("with_worker_id_lock",c("qex")._("4412"));return c("nullthrows")((a=c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:a?"MODULE":"CLASSIC"}))==null?void 0:(a=a.addQueryParams(b))==null?void 0:a.toString())}var i=c("gkx")("13019")?h():null;a=function(){if(i==null)return;var a=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(i);d("BootloaderDocumentInserter").batchDOMInsert(function(b){d("BootloaderPreloader").preloadResource({type:"js",src:a.toString(),nc:1},b)})};b=function(){var a=i;if(a!=null){i=null;return a}return h()};g.maybePreloadSharedWorkerV2BundleUrl=a;g.createSharedWorkerV2BundleUrl=b}),98);
__d("handleWorkerWriteError",["FBLogger","WebStorageCleanupReason"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error){c("FBLogger")("worker").catching(a).mustfix("Error occured checking in shared worker reference");return}if(a==="writes disabled"){var b;c("FBLogger")("worker").warn("Writes to WebAsyncStorage is disabled. Unable to save shared worker reference. Reason: %s",(b=d("WebStorageCleanupReason").getLastCleanupReason())!=null?b:"n/a");return}c("FBLogger")("worker").mustfix("Error occured checking in shared worker reference: %s",JSON.stringify(a))}g["default"]=a}),98);
__d("SharedWorkerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4266");b=d("FalcoLoggerInternal").create("shared_worker_init",a);e=b;g["default"]=e}),98);
__d("logSharedWorkerInitStep",["SharedWorkerInitFalcoEvent","SiteData","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();function a(a,b,d,e){if(!c("gkx")("21115"))return;c("SharedWorkerInitFalcoEvent").log(function(){return{client_id:h,bundle_name:a,client_rev:String(c("SiteData").client_revision),local_shared_worker_ref:b!=null?{bundle_url:b.url,rev:String(b.rev),spin_time:String(b.spin_time)}:null,new_shared_worker_ref:d!=null?{bundle_url:d}:null,init_step:e}})}g["default"]=a}),98);
__d("SharedWorkerBundleResource",["BootloaderPreloader","BrowserLockManager","Deferred","FBLogger","Promise","SharedWorkerDevChangeManager","SharedWorkerEventManager","SharedWorkerLockManager","SharedWorkerLoggingUtils","SharedWorkerMigrationUtils","SharedWorkerStatusLock","SharedWorkerStorageManager","SharedWorkerUptimeTracker","SharedWorkerV2ResourceExperimental","SiteData","StaticSiteData","TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","asyncToGeneratorRuntime","buildSharedWorkerInitQPLLogger","buildSharedWorkerTerminateQPLLogger","createSharedWorkerBundleUrl","createSharedWorkerV2BundleUrl","createSharedWorkerV2BundleUrlExperimental","err","getErrorSafe","gkx","handleWorkerWriteError","justknobx","logSharedWorkerInitStep","pageID","promiseDone","qex","setTimeout","supportsModuleWorker","supportsNativeWebLock"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5e3,j="shared_worker_broadcast_channel";d("createSharedWorkerV2BundleUrl").maybePreloadSharedWorkerV2BundleUrl();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this)||this;c.name="SelfTerminationError";c.message="Worker self terminated with the reason: "+a;c.reason=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function l(a,b,e,f){f==null?void 0:f.markEventStart("shared_worker_construct");var g=new SharedWorker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a),b);f==null?void 0:f.markEventEnd("shared_worker_construct");g.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(f,a,b)});var h=new Set();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(g,function(a,c,e){d("SharedWorkerLoggingUtils").logSelfTermination(b,a,c,e)},{once:!0});var i=0;d("SharedWorkerEventManager").registerConnectionAckListener(g,function(a,b){i++;if(h.has("worker_connection_established")){f==null?void 0:f.addAnnotations({"int":{connectionAckNum:i}});return}h.add("worker_connection_established");f==null?void 0:f.addAnnotations({string:{connectedFrom:a,workerID:b}});f==null?void 0:f.markPoint("worker_connection_established")});d("SharedWorkerEventManager").registerWorkerInitPointsListener(g,function(a){if(h.has(a))return;h.add(a);f==null?void 0:f.markPoint("worker_init_point_"+a)});g.port.start();d("SharedWorkerEventManager").registerExecuteWorkerImportsListener(g,f,function(a){var b=a.err;a=a.attempts;f==null?void 0:f.addAnnotations({string:{importsError:b},"int":{importAttempts:a}});f==null?void 0:f.markPoint(b==null?"bundle_imports_success":"bundle_imports_failure")});var j=new(c("Deferred"))();d("SharedWorkerEventManager").registerExecuteWorkerAckListener(g,f,function(a){var b=a.workerSpinTime,e=a.err,g=a.isFirstInit,h=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(f,b,e,g,h,a);e!=null||b==null||h==null?j.reject(c("err")(e!=null?e:"no worker rev or spin time")):j.resolve({rev:h,spinTime:b})});f==null?void 0:f.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(g,{jsModuleResource:e,isDev:!1});return j.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:g,rev:b,spinTime:a}})}function m(a,b,d){a=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a);b=c("supportsModuleWorker")(!0)?new SharedWorker(a,{name:b,type:"module"}):new SharedWorker(a,b);d==null?void 0:d.markPoint("shared_worker_construct_done");d==null?void 0:d.addAnnotations({string:{workerUrl:a.toString()}});return b}function n(a,b,c){var e=[],f=new Set();e.push(d("SharedWorkerEventManager").registerWorkerInitPointsListener(a,function(a){if(f.has(a))return;f.add(a);c==null?void 0:c.markPoint("worker_init_point_"+a)}));e.push(d("SharedWorkerEventManager").registerHrpInitListener(a,c,function(){}));var g=function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(c,a,b)};a.addEventListener("error",g);e.push(function(){return a.removeEventListener("error",g)});return e}function o(a,b,e,f){d("SharedWorkerMigrationUtils").shouldCheckForDynamicStringWorker(b)&&(f==null?void 0:f.markEventStart("dynamic_string_worker_check"),c("promiseDone")(d("SharedWorkerMigrationUtils").maybeTerminateDynamicStringWorker(b),function(a){f==null?void 0:f.markEventEnd("dynamic_string_worker_check",{bool:{didTerminateDynamicStringWorker:a}})}));var g=m(a,b,f);d("SharedWorkerEventManager").registerConnectionAckListener(g,function(a,b,c){f==null?void 0:f.addAnnotations({string:{connectedFrom:a,workerID:b,hrpStatus:c}}),f==null?void 0:f.markPoint("worker_connection_established")});var h=new(c("Deferred"))();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(g,function(a,c,e,g){f==null?void 0:f.addAnnotations({string:{selfTerminationError:g}}),d("SharedWorkerLoggingUtils").logSelfTermination(b,a,c,e),h.reject(new k(c))},{once:!0});n(g,b,f);g.port.start();d("SharedWorkerEventManager").emitConnectionAckRequest(g,f);f==null?void 0:f.markPoint("read_dynamic_data");c("promiseDone")(H(e,!1,f).then(function(a){a=a.hrp;f==null?void 0:f.markEventStart("hrp_init");d("SharedWorkerEventManager").emitHrpInit(g,{hrp:a.hrp,js_env:a.js_env,isDev:!1},f)},function(a){a=c("getErrorSafe")(a);f==null?void 0:f.addAnnotations({string:{hrpInitErr:a.toString()}})}));d("SharedWorkerEventManager").registerExecuteWorkerAckListener(g,f,function(a){var b=a.workerSpinTime,e=a.err,g=a.isFirstInit,i=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(f,b,e,g,i,a);e!=null||i==null||b==null?h.reject(c("err")(e!=null?e:"no worker rev or spin time")):h.resolve({rev:i,spinTime:b})});f==null?void 0:f.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(g);return h.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:g,rev:b,spinTime:a}})}function p(a,b,e,f,g,h){var i=new(c("Deferred"))();d("SharedWorkerEventManager").registerGetWorkerRevListener(a,h,function(a){var j=a.rev;a=a.spinTime;c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(e,{url:b,rev:j,spin_time:a,version:g.version,rsrcBundleUrl:g.getJSModuleBundleResource().url,sandboxOnlyChecksum:g.sandboxOnlyChecksum},h).then(function(){return d("SharedWorkerStorageManager").getSharedWorkerReference(e,h)}).then(function(a){c("logSharedWorkerInitStep")(e,a,g.resourceUrlForLogging,"after_worker_reference_save")}),function(){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),i.resolve(),f()},function(a){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),i.reject(a),c("handleWorkerWriteError")(a),f()})});h.markEventStart("get_worker_rev");d("SharedWorkerEventManager").emitGetRev(a);return i.getPromise()}function q(a,b,e,f){f===void 0&&(f=null);var g=[],h=function(c,a,f){g.forEach(function(a){return a()}),b(c,a,f),d("SharedWorkerUptimeTracker").stopUptimeTracking(e)};g.push(d("SharedWorkerEventManager").registerForwardListeners(a));g.push(d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var b=a.reason;a=a.workerID;d("SharedWorkerLoggingUtils").logShutdown(e,null,b,a);b=b==="dynamic_string_worker_rollback"?"requested-upgrade":b;h(b,a,"sw-shutdown")}));g.push(d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(a,function(b,c,a){h(c,a,"self-terminate")}));c("qex")._("4410")&&c("supportsNativeWebLock")()&&f!=null&&g.push(L(e,f,function(){h("worker-id-lock-release",f,"self-terminate")}));c("qex")._("4411")&&self.BroadcastChannel!=null&&f!=null&&g.push(K(e,function(a){h(a,f,"broadcast")}));d("SharedWorkerDevChangeManager").trackCreatedWorker(e);d("SharedWorkerUptimeTracker").startUptimeTracking(a,e);c("logSharedWorkerInitStep")(e,null,null,"create_worker_end")}function r(a,b,c,d,e,f){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){h.addAnnotations({string:{initFlow:"use_existing_ref"}});c("logSharedWorkerInitStep")(a,null,null,"using_existing_worker_ref");var i=d("SharedWorkerMigrationUtils").isLegacyWorkerURL(b.url),j=(yield b.version===2?i?o(b.url,a,e.getJSModuleBundleResource(),h):d("SharedWorkerV2ResourceExperimental").startV2Worker(b.url,a,e.getJSModuleBundleResource(),h):l(b.url,a,e.getJSModuleBundleResource(),h));j=j.worker;f();b.version===2&&!i&&void p(j,b.url,a,f,e,h);q(j,g,a);return j});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=new(c("Deferred"))(),h=d("SharedWorkerMigrationUtils").isStatusLockHeld(a);if((yield d("SharedWorkerMigrationUtils").isDynamicStringWorkerRunning(a))&&c("supportsNativeWebLock")()&&f===!1)g.resolve(),e.addAnnotations({string:{oldWorkerShutdown:"not_needed_for_dynamic_string"}});else if(self.BroadcastChannel!=null&&c("gkx")("13712")){var i=F(a);i.postMessage({type:"terminate",reason:"requested-upgrade",pageID:c("pageID")});g.resolve();e.addAnnotations({string:{oldWorkerShutdown:"broadcast"}})}else if(yield h){b.version===2&&c("supportsModuleWorker")(!0)?i=new SharedWorker(b.url,{name:a,type:"module"}):i=new SharedWorker(b.url,a);d("SharedWorkerEventManager").registerWorkerShutdownListener(i,function(a){var b=a.workerID,h=a.isInitialized;f?c("setTimeout")(function(){e.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:b},bool:{oldWorkerWasInitialized:h}}),g.resolve()},d("SharedWorkerV2ResourceExperimental").DELAY_FOR_WORKER_SHUTDOWN_MS):(e.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:b},bool:{oldWorkerWasInitialized:h}}),g.resolve());e.addAnnotations({string:{oldWorkerShutdown:"success"}})},{once:!0});e.markEventStart("old_worker_shutdown");i.port.start();d("SharedWorkerEventManager").emitWorkerShutdown(i,{upgrade:!0})}else g.resolve(),e.addAnnotations({string:{oldWorkerShutdown:"not_needed"}});f===!0?yield g.getPromise():g.resolve()});return u.apply(this,arguments)}function v(a,b,c,d,e,f,g){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f,g){f.addAnnotations({string:{initFlow:"upgrade_worker_ref"}});yield t(a,b,f,g);return y(a,c,d,e,f,"upgrading_worker_ref")});return w.apply(this,arguments)}function x(a,b,c,d,e){e.addAnnotations({string:{initFlow:"new_worker_ref"}});return y(a,b,c,d,e,"new_worker_ref")}function y(a,b,c,d,e,f){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){c("logSharedWorkerInitStep")(a,null,null,h);(yield d("SharedWorkerMigrationUtils").isStatusLockHeld(a))&&c("FBLogger")("worker").info("Trying to create a worker %s while old one is still running",a);var i=(yield b.createSharedWorker()),j=i[0];i=i[1].worker;h==="upgrading_worker_ref"&&(yield d("SharedWorkerStorageManager").removeSharedWorkerReference(a,g));yield p(i,j,a,e,b,g);q(i,f,a);return i});return z.apply(this,arguments)}function A(a,b){var e=d("SharedWorkerDevChangeManager").shouldUseStorageWorkerForDev(a.name,{storageWorkerResource:b,tabResource:a}),f=b.spin_time,g=b.version;b=b.rev;return b>=c("SiteData").client_revision&&(a.version===g||f>=c("SiteData")[c("StaticSiteData").spin_time_key])&&e}function B(a,b,c,d,e){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f.markEventStart("create_worker");var h=a.name;d("SharedWorkerUptimeTracker").stopUptimeTracking(h);f.addAnnotations({bool:{workerAlreadyRunning:c("supportsNativeWebLock")()?yield d("SharedWorkerMigrationUtils").isStatusLockHeld(h):null}});var i=c("supportsNativeWebLock")()?yield d("SharedWorkerMigrationUtils").isStatusLockHeld(h):!0;if(!g&&a.version===2&&c("gkx")("13712"))return N(a,b,e,f);var j=(yield d("SharedWorkerStorageManager").getSharedWorkerReference(h,f));c("logSharedWorkerInitStep")(h,j,a.resourceUrlForLogging,"create_worker_start");var k=j!=null&&d("SharedWorkerMigrationUtils").isLegacyWorkerURL(j==null?void 0:j.url);i=g&&i===!1&&k;if(j==null||i)return x(h,a,b,e,f);k=j.spin_time;i=j.version;var l=j.rev;f.addAnnotations({"int":{storageWorkerSpinTime:k,storageWorkerVersion:i,storageWorkerRev:l}});if(A(a,j))return r(h,j,a,b,e,f);else return v(h,j,a,b,e,f,g)});return C.apply(this,arguments)}function a(a,e,f){f=f!=null?f:{};var g=f.onQPLEvent;f=f.reason;var h=a.name,i=c("buildSharedWorkerInitQPLLogger")(g);i.start({version:1,workerName:h,callReason:f});var j=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){var f;c("promiseDone")(B({name:h,version:1,resourceUrlForLogging:(f=a.url)!=null?f:"",getJSModuleBundleResource:function(){return a},createSharedWorker:function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=c("createSharedWorkerBundleUrl")();return[b,yield l(b,h,a,i)]});function e(){return d.apply(this,arguments)}return e}()},d,e,i,!1),function(a){i.markEventEnd("create_worker"),i.endSuccess(),j.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;i.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message,errorName:a.name}});j.reject(a);d()})},{workerQPLLogger:i,onLockTimeout:function(){return j.reject(c("err")("Worker lock timeout"))}});return j.getPromise()}function D(a,e,f,g){g===void 0&&(g=0);var i=a.name,j=f!=null?f:{},l=j.onQPLEvent;j=j.reason;var m=c("buildSharedWorkerInitQPLLogger")(l);m.start({version:2,workerName:i,callReason:j,experimental_init:f==null?void 0:f.useDynamicStringInit});m.addAnnotations({bool:{usingModuleWorker:c("supportsModuleWorker")(!0)}});var n=new(c("Deferred"))();l=(f==null?void 0:f.useDynamicStringInit)!==!0&&c("qex")._("4050")===!0;j=function(g){c("promiseDone")(B({name:i,version:2,getJSModuleBundleResource:function(){return a},sandboxOnlyChecksum:a.sandboxOnlyChecksum,createSharedWorker:(f==null?void 0:f.useDynamicStringInit)===!0?b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=c("createSharedWorkerV2BundleUrlExperimental")(i);return[b,yield d("SharedWorkerV2ResourceExperimental").startV2Worker(b,i,a,m)]}):b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("createSharedWorkerV2BundleUrl").createSharedWorkerV2BundleUrl();return[b,yield o(b,i,a,m)]})},g,e,m,(f==null?void 0:f.useDynamicStringInit)===!0),function(a){m.markEventEnd("create_worker"),m.endSuccess(),n.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;n.reject(a);g()})};l?j(function(){}):d("SharedWorkerLockManager").withWorkerLock(j,{workerQPLLogger:m,onLockTimeout:function(){return n.reject(c("err")("Worker lock timeout"))},onLockFail:function(a){n.reject(a)}});return n.getPromise()["catch"](function(d){if(d instanceof k&&g<2){m.endCancel({string:{workerInitCancelReason:d.message},"int":{workerInitRetry:g}});return new(h||(h=b("Promise")))(function(b,d){c("setTimeout")(function(){c("promiseDone")(D(a,e,f,g+1),b,d)},g===0?200:500)})}m.endFailure("worker_init_failure",{string:{workerInitFailureReason:d.message,errorName:d.name}});throw d})}function e(a,b,c){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e!=null?e:a.name,j=new(c("Deferred"))(),k=c("buildSharedWorkerTerminateQPLLogger")();k.start({workerName:g});c("promiseDone")(c("supportsNativeWebLock")()?d("SharedWorkerMigrationUtils").isStatusLockHeld(g):(h||(h=b("Promise"))).resolve(void 0),function(a){return k.addAnnotations({bool:{workerAlreadyRunning:a}})});k.addAnnotations({string:{reason:f,terminatingPageId:c("pageID")}});if(self.BroadcastChannel!=null&&c("gkx")("13712")){e=F(g);e.postMessage({type:"terminate",reason:f,pageID:c("pageID")});c("promiseDone")(d("SharedWorkerStorageManager").removeSharedWorkerReference(g,k).then(function(){k.endSuccess(),j.resolve()}));return j.getPromise()}d("SharedWorkerLockManager").withWorkerLock(function(e){c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(g,k).then(function(e){k.markPoint("read_worker_reference",{"int":{storageWorkerVersion:e==null?void 0:e.version},bool:{storageReferenceExists:e!=null}});if(e!=null){var f=d("SharedWorkerMigrationUtils").isLegacyWorkerURL(e.url);k.addAnnotations({bool:{isLegacy:f}});var i=e.version===2?f?o(e.url,g,a,void 0).then(function(a){a=a.worker;return a}):d("SharedWorkerV2ResourceExperimental").startV2Worker(e.url,g,a,void 0).then(function(a){a=a.worker;return a}):l(e.url,g,a).then(function(a){a=a.worker;return a});f=c("justknobx")._("3569")?(h||(h=b("Promise"))).resolve(null):d("SharedWorkerStorageManager").removeSharedWorkerReference(g,k);return f.then(function(){return i})}k.markPoint("storage_resource_empty");return null}),function(a){try{e();d("SharedWorkerUptimeTracker").stopUptimeTracking(g);if(a==null){k.endSuccess();j.resolve();return}d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var e=a.workerID;a=a.isInitialized;k.markPoint("worker_shut_down",{string:{workerID:e},bool:{wasInitialized:a}});e=c("justknobx")._("3569")?d("SharedWorkerStorageManager").removeSharedWorkerReference(g,k):(h||(h=b("Promise"))).resolve(null);c("promiseDone")(e,function(){return k.endSuccess()},function(a){k.endFailure("failed_to_remove_worker_reference",{string:{errorDescription:a.toString()}})});j.resolve()},{once:!0});d("SharedWorkerEventManager").emitWorkerShutdown(a,{reason:f})}catch(a){k.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),j.reject(a.message)}},function(a){c("FBLogger")("worker").catching(c("getErrorSafe")(a)).mustfix("Failed to terminate worker"),k.endFailure("connect_to_worker_failure",{string:{workerTerminateFailReason:a.message}}),j.reject(a.message),e()})},{workerQPLLogger:k});c("setTimeout")(function(){return j.reject()},i);return j.getPromise()});return E.apply(this,arguments)}function F(a){return new self.BroadcastChannel(j+"_"+a)}function f(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("SharedWorkerStorageManager").getSharedWorkerReference(a.name));return a!=null});return G.apply(this,arguments)}function H(a,b,c){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield d("WebWorkerV2DynamicData").readDynamicDataForWorker(a,b));var f=b.data;b=b.time;try{var g=c("justknobx")._("1979");g&&d("BootloaderPreloader").preloadWorkerJSFromHRP(f.hrp);e==null?void 0:e.addAnnotations({bool:{prefetchWorkerScripts:g}})}catch(b){g=c("getErrorSafe")(b);e==null?void 0:e.addAnnotations({string:{hrpInitErr:g.toString()}});c("FBLogger")("worker").catching(b).warn("Failed to preload worker %s JS from HRP",a.name)}return{hrp:f,time:b,rev:(e=f.hrp.hsrp)==null?void 0:(g=e.hblp)==null?void 0:(a=g.consistency)==null?void 0:a.rev}});return I.apply(this,arguments)}function J(b,a,c){return d("SharedWorkerStorageManager").getOrUpdateWorkerReference(b.name,function(d){if(d==null)return a;if(A(b,d))return d;void t(b.name,d,c,!1);return a})}function K(a,b){if(self.BroadcastChannel!=null){var d=F(a),e=function(a){a=a.data;if(typeof a==="object"&&(a==null?void 0:a.type)==="terminate"){var d=typeof a.reason==="string"?a.reason:"unknown";a=typeof a.pageID==="string"?a.pageID:null;if(a!=null&&a===c("pageID")&&d==="requested-upgrade")return;b(d)}};d.addEventListener("message",e);return function(){return d.removeEventListener("message",e)}}return function(){}}function L(a,b,e){var f=new AbortController();void (c("BrowserLockManager")==null?void 0:c("BrowserLockManager").request(d("SharedWorkerStatusLock").getWorkerIdStatusLockName(a,b),{signal:f.signal},function(a){a!=null&&e()}));return function(){f.abort()}}function M(a,b,e,f){var g=new(c("Deferred"))();void d("SharedWorkerStorageManager").getOrUpdateWorkerReference(a,function(a){if(a==null||a.url!==b){g.resolve("url-was-changed");return a}return a.rev!==e||a.spin_time!==f?babelHelpers["extends"]({},a,{rev:e,spin_time:f}):a}).then(function(){g.resolve("success")});return g.getPromise()}function N(a,b,c,d){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(a.version!==2)throw c("err")("Worker version must be 2");var i=a.name,j=(yield H(a.getJSModuleBundleResource(),!1,g)),l=j.rev;if(l==null)throw c("err")("HRP rev or spin time is null");l={url:d("createSharedWorkerV2BundleUrl").createSharedWorkerV2BundleUrl(),rev:l,spin_time:j.time,version:a.version,rsrcBundleUrl:a.getJSModuleBundleResource().url,sandboxOnlyChecksum:a.sandboxOnlyChecksum};var o=new(c("Deferred"))(),p=new(c("Deferred"))(),r=[];try{var s,t=function(a){p.reject(a),o.reject(a)};r.push(K(i,function(a){t(new k("broadcast-"+a))}));var u=(yield J(a,l,g));g.addAnnotations({string:{initFlow:"connect_to_worker"}});var v=m(u.url,i,g);r.push((s=d("SharedWorkerEventManager")).registerConnectionAckListener(v,function(a,b,c){g==null?void 0:g.addAnnotations({string:{connectedFrom:a,workerID:b}}),g==null?void 0:g.markPoint("worker_connection_established"),o.resolve({hrpStatus:c!=null?c:"no-hrp",workerID:b})}));r.push(s.registerWorkerSelfTerminationListener(v,function(a,b,c,e){g==null?void 0:g.addAnnotations({string:{selfTerminationError:e}}),d("SharedWorkerLoggingUtils").logSelfTermination(i,a,b,c),t(new k(b))},{once:!0}));r.push(s.registerWorkerShutdownListener(v,function(a){var b=a.reason;a=a.workerID;d("SharedWorkerLoggingUtils").logShutdown(i,null,b,a);t(new k(b!=null?b:"sw-shutdown-unknown"))}));r.push.apply(r,n(v,i,g));v.port.start();s.emitConnectionAckRequest(v,g);s=(yield o.getPromise());var w=s.hrpStatus;s=s.workerID;c("qex")._("4410")&&c("supportsNativeWebLock")()&&s!=null&&r.push(L(i,s,function(){t(new k("worker-id-lock-release"))}));if(w==="no-hrp"){g==null?void 0:g.markPoint("read_dynamic_data");w=l.rev>=u.rev;l=w?(h||(h=b("Promise"))).resolve(j):H(a.getJSModuleBundleResource(),!0,g);c("promiseDone")(l.then(function(a){g==null?void 0:g.markEventStart("hrp_init"),d("SharedWorkerEventManager").emitHrpInit(v,{hrp:a.hrp.hrp,js_env:a.hrp.js_env,isDev:!1},g)},function(a){a=c("getErrorSafe")(a);g==null?void 0:g.addAnnotations({string:{hrpInitErr:a.toString()}});t(a)}))}r.push(d("SharedWorkerEventManager").registerExecuteWorkerAckListener(v,g,function(a){var b=a.workerSpinTime,e=a.err,f=a.isFirstInit,h=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(g,b,e,f,h,a);e!=null||b==null||h==null?p.reject(c("err")(e!=null?e:"no worker rev or spin time")):p.resolve({workerRev:h,workerSpinTime:b})}));g==null?void 0:g.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(v);w=(yield p.getPromise());j=w.workerRev;a=w.workerSpinTime;l=(yield M(i,u.url,j,a));if(l==="url-was-changed"){d("SharedWorkerEventManager").emitWorkerShutdown(v,{reason:"url-was-changed"});throw new k("url-was-changed")}e();q(v,f,i,s);return v}finally{r.forEach(function(a){return a()})}});return O.apply(this,arguments)}g.SHARED_WORKER_BROADCAST_CHANNEL=j;g.SelfTerminationError=k;g.createPushSafeSharedWebWorkerAsync=a;g.createPushSafeSharedWebWorkerV2Async=D;g.terminateSharedWorker=e;g.doesSharedWorkerReferenceExist=f}),98);
__d("SharedWorkerV2ResourceExperimental",["Deferred","Promise","SharedWorkerBundleResource","SharedWorkerDevChangeManager","SharedWorkerEventManager","SharedWorkerLoggingUtils","SharedWorkerMigrationUtils","SharedWorkerUptimeTracker","SiteData","StaticSiteData","TrustedTypesWebWorkerScriptURLPolicy","asyncToGeneratorRuntime","buildSharedWorkerInitQPLLogger","buildSharedWorkerTerminateQPLLogger","createSharedWorkerV2BundleUrlExperimental","justknobx","pageID","promiseDone","setTimeout","supportsModuleWorker","supportsNativeWebLock"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50,j=5e3,k=2e3;function l(a,b,e,f){return d("SharedWorkerDevChangeManager").shouldUpgradeWorkerForDevExperimental(a)&&!f?!0:b<c("SiteData").client_revision&&e<c("SiteData")[c("StaticSiteData").spin_time_key]}function a(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=a.name,j=c("buildSharedWorkerInitQPLLogger")(f==null?void 0:f.onQPLEvent);j.start({version:2,workerName:g,experimental_init:!0,callReason:f==null?void 0:f.reason,migrationEnabled:!0});j.markEventStart("create_worker");c("supportsNativeWebLock")()&&c("promiseDone")(d("SharedWorkerMigrationUtils").isStatusLockHeld(g).then(function(a){j.addAnnotations({bool:{workerAlreadyRunning:a}})}));(f==null?void 0:f.migratedWorker)===!0&&(yield d("SharedWorkerMigrationUtils").checkStorageAndTerminateLegacyWorker({name:g,logger:j}));f=(yield n(a,j));var k=f.worker,l=f.needsUpgrade;return new(h||(h=b("Promise")))(function(b,f){var h=function(a){return b(p(a,g,j,e))};l?(d("SharedWorkerEventManager").registerWorkerShutdownListener(k,function(b){var d=b.workerID;b=b.isInitialized;j.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:d},bool:{oldWorkerWasInitialized:b}});c("setTimeout")(function(){return n(a,j).then(function(a){a=a.worker;return h(a)})},i)},{once:!0}),j.markEventStart("old_worker_shutdown"),d("SharedWorkerEventManager").emitWorkerShutdown(k,{upgrade:!0})):h(k)})});return m.apply(this,arguments)}function n(a,b){var e=a.name,f=c("createSharedWorkerV2BundleUrlExperimental")(e);f=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(f);var g=c("supportsModuleWorker")(!0)?"module":"classic",h=new SharedWorker(f,{name:e,type:g}),i=new Set();d("SharedWorkerEventManager").registerWorkerInitPointsListener(h,function(a){if(i.has(a))return;i.add(a);b==null?void 0:b.markPoint("worker_init_point_"+a)});var j=new(c("Deferred"))();d("SharedWorkerEventManager").registerGetWorkerRevListener(h,b,function(c){var d=c.rev,f=c.spinTime;c=c.workerChecksum;c=l(e,d,f,a.sandboxOnlyChecksum===c);j.resolve(c);c?b.addAnnotations({"int":{oldWorkerRev:d,oldWorkerSpinTime:f}}):b.addAnnotations({"int":{workerRev:d,workerSpinTime:f}})});o(h,e,b);h.port.start();d("SharedWorkerEventManager").emitConnectionAckRequest(h,b);return j.getPromise().then(function(a){return{worker:h,needsUpgrade:a}})}function o(a,b,c,e){a.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(c,a,b)});d("SharedWorkerEventManager").registerForwardListeners(a);d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(a,function(a,b,d,e){c.endFailure("worker_init_failure",{string:{selfTerminationError:e,selfTerminationReason:b}})},{once:!0});d("SharedWorkerEventManager").registerConnectionAckListener(a,function(a,b){c==null?void 0:c.addAnnotations({string:{connectedFrom:a,workerID:b}}),c==null?void 0:c.markPoint("worker_connection_established")},{once:!0});return a}function p(a,b,e,f){d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var e=a.reason,g=a.workerID;d("SharedWorkerLoggingUtils").logShutdown(b,null,e,g);e==="requested-upgrade"?c("setTimeout")(function(){return f==null?void 0:f(e,g)},1e3):e==="dynamic_string_worker_rollback"?f==null?void 0:f("maw_request_refresh",g):f==null?void 0:f(e,g);d("SharedWorkerUptimeTracker").stopUptimeTracking(b)});e.markEventEnd("create_worker");e.endSuccess();d("SharedWorkerUptimeTracker").startUptimeTracking(a,b);d("SharedWorkerDevChangeManager").trackCreatedWorker(b);return a}function q(a,e,f,g,i){i===void 0&&(i=0);var j=f.name,l=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a),m=c("supportsModuleWorker")(!0)?"module":"classic",n=new SharedWorker(l,{name:j,type:m});g==null?void 0:g.markPoint("shared_worker_construct_done");g==null?void 0:g.addAnnotations({string:{workerUrl:l.toString()}});var o=new(c("Deferred"))(),p=[];p.push(d("SharedWorkerEventManager").registerConnectionAckListener(n,function(a,b){g==null?void 0:g.addAnnotations({string:{connectedFrom:a,workerID:b}}),g==null?void 0:g.markPoint("worker_connection_established"),o.resolve()},{once:!0}));p.push(d("SharedWorkerEventManager").registerWorkerInitPointsListener(n,function(a){g==null?void 0:g.markPoint("worker_init_point_"+a)}));p.push(d("SharedWorkerEventManager").registerForwardListeners(n));d("SharedWorkerEventManager").emitConnectionAckRequest(n,g);n.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(g,a,e)});var r=new(c("Deferred"))();p.push(d("SharedWorkerEventManager").registerGetWorkerRevListener(n,g,function(a){var b=a.rev;a=a.spinTime;g==null?void 0:g.addAnnotations({"int":{initialWorkerRev:b,initialSpinTime:a}});r.resolve({worker:n,rev:b,spinTime:a})}));p.push(d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(n,function(a,b,c,f){g==null?void 0:g.addAnnotations({string:{selfTerminationError:f}}),d("SharedWorkerLoggingUtils").logSelfTermination(e,a,b,c),r.reject(new(d("SharedWorkerBundleResource").SelfTerminationError)(b))},{once:!0}));p.push(d("SharedWorkerEventManager").registerWorkerShutdownListener(n,function(a){var b=a.reason;a=a.workerID;g==null?void 0:g.addAnnotations({string:{shutdownReason:b}});d("SharedWorkerLoggingUtils").logShutdown(e,null,b,a);r.reject(new(d("SharedWorkerBundleResource").SelfTerminationError)(b!=null?b:"unknownShutdown"))},{once:!0}));n.port.start();i===0&&c("justknobx")._("1707")&&void (h||(h=b("Promise"))).race([o.getPromise().then(function(){return"success"}),new h(function(a){c("setTimeout")(function(){a("timeout")},k)})]).then(function(b){if(b==="timeout"){b=n;var c=q(a,e,f,g,i+1);void c.then(function(a){return r.resolve(a)});p.forEach(function(a){return a()});b.port.close()}});return r.getPromise()}function e(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.name,f=new(c("Deferred"))();a=(yield d("SharedWorkerMigrationUtils").isStatusLockHeld(e));var g=c("buildSharedWorkerTerminateQPLLogger")();if(!a){g.start({workerName:e});g.markPoint("no_worker_running");g.endSuccess();return}g.start({workerName:e});g.addAnnotations({string:{reason:b,terminatingPageId:c("pageID")}});a=c("createSharedWorkerV2BundleUrlExperimental")(e);a=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a);var h=c("supportsModuleWorker")(!0)?"module":"classic";a=new SharedWorker(a,{workerName:e,type:h});g.markPoint("worker_created");d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){a=a.workerID;g.markPoint("worker_shut_down",{string:{workerID:a}});g.endSuccess();d("SharedWorkerUptimeTracker").stopUptimeTracking(e);f.resolve()},{once:!0});a.port.start();d("SharedWorkerEventManager").emitWorkerShutdown(a,{reason:b});c("setTimeout")(function(){return f.reject()},j);return f.getPromise()});return r.apply(this,arguments)}g.DELAY_FOR_WORKER_SHUTDOWN_MS=i;g.createPushSafeSharedWebWorkerV2Async=a;g.startV2Worker=q;g.terminateSharedWorker=e}),98);
__d("WebWorkerV2Resource",["TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","forEachObject","getAsyncParamsFromCurrentPageURI","getWorkerInitScriptSPINParams","nullthrows","promiseDone","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){b=b!=null?b:a.name;var f=c("supportsModuleWorker")(!1)&&e!==!0?"module":"classic",g=c("getWorkerInitScriptSPINParams")();c("forEachObject")(c("getAsyncParamsFromCurrentPageURI")(),function(a,b){g.set(b,a)});e=c("nullthrows")(c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:c("supportsModuleWorker")(!1)&&e!==!0?"MODULE":"CLASSIC"}).addQueryParams(g)).toString();e=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(e);var h=new Worker(e,{name:b,type:f});c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(a).then(function(a){a=a.data;h.postMessage({type:"ww-hrp-init",hrp:a.hrp,js_env:a.js_env,is_dev:!1,tiered:!0})}));return{worker:h,url:e.toString()}}g.createDedicatedV2WebWorker=a}),98);
__d("MAWWebWorkerSingleton",["Deferred","MAWInit","MAWMIC","MAWStartupLoggingUtils","MAWWaitForBackendSetup","MAWWorkerWatchdogRecovery","Promise","SharedWorkerBundleResource","SharedWorkerMigrationUtils","SharedWorkerV2ResourceExperimental","WAResolvable","WebWorkerV2Resource","clearTimeout","cr:6600","err","gkx","promiseDone","setTimeout","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=function(a){i=a},k=function(){return i},l=f,m=new(d("WAResolvable").Resolvable)(),n=null;function a(){return d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?d("SharedWorkerMigrationUtils").isStatusLockHeld(b("cr:6600").name):(h||(h=b("Promise"))).resolve(n!==null)}function e(){var a={isSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),nativeLocksSupported:d("SharedWorkerMigrationUtils").supportsNativeWebLocks(),workerCreationPromiseExists:n!==null};if(a.isSharedWorker!==!0)return(h||(h=b("Promise"))).resolve(a.workerCreationPromiseExists===!0?{data:a,tag:"dedicated_exists"}:{data:a,tag:"dedicated_not_exists"});if(a.nativeLocksSupported!==!0)return(h||(h=b("Promise"))).resolve({data:a,tag:"shared_unknown_locks_not_supported"});var c=d("MAWWaitForBackendSetup").getCurrentWorkerID();return(h||(h=b("Promise"))).all([d("SharedWorkerMigrationUtils").isStatusLockHeld(b("cr:6600").name),c!=null?d("SharedWorkerMigrationUtils").isWorkerIdStatusLockHeld(b("cr:6600").name,c):(h||(h=b("Promise"))).resolve(!1)]).then(function(b){var c=b[0];b=b[1];a.sharedLockHeld=c;a.workerIdLockHeld=b;if(c&&b)return{data:a,tag:"shared_exists_and_connected"};if(c)return{data:a,tag:"shared_exists_not_connected"};return b?{data:a,tag:"shared_only_unique_lock_held"}:{data:a,tag:"shared_not_exists"}})}function f(){n=null}function o(a){if(n){d("MAWMIC").addPoint(a+"_wait_on_worker_creation");d("MAWInit").MAWInit.logPoint(a+"_wait_on_worker_creation");return n}d("MAWInit").MAWInit.logPoint(a+"_create_worker_start");d("MAWMIC").addPoint(a+"_create_worker_start");n=(d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?p(a):q().then(function(a){return{worker:a,workerID:"dedicated"}})).then(function(b){var c=b.worker;b=b.workerID;d("MAWMIC").addPoint(a+"_create_worker_end");d("MAWInit").MAWInit.logPoint(a+"_create_worker_end");return{worker:c,workerID:b}},function(a){n=null;throw a});return n}function p(a){var e=function(a,b,d){c("promiseDone")(m.promise.then(function(){return l(a,b,d)}))};d("MAWWorkerWatchdogRecovery").setRecoveryForWatchdog(e);var f=new(c("Deferred"))(),g=c("gkx")("7313");d("MAWMIC").addBoolAnnotation("migrationEnabled",g);g=g?d("SharedWorkerV2ResourceExperimental").createPushSafeSharedWebWorkerV2Async(b("cr:6600"),e,{migratedWorker:!0,onQPLEvent:d("MAWStartupLoggingUtils").logSharedWorkerQPLEvents,reason:a}):d("SharedWorkerBundleResource").createPushSafeSharedWebWorkerV2Async(b("cr:6600"),e,{onQPLEvent:d("MAWStartupLoggingUtils").logSharedWorkerQPLEvents,reason:a,useDynamicStringInit:c("gkx")("8737")});return g.then(function(a){j(a);d("MAWMIC").addPoint("shared_worker_bundle_created");var b=null;c("gkx")("12910")&&(b=c("setTimeout")(function(){d("MAWMIC").addPoint("shared_worker_connection_ack_timeout"),f.reject(c("err")("Worker connection ack timeout"))},1e4));var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="connection-ack"&&typeof ((e=a.data)==null?void 0:e.response)==="object"&&typeof ((e=a.data)==null?void 0:(e=e.response)==null?void 0:e.from)==="string"){e=typeof ((e=a.data)==null?void 0:(e=e.response)==null?void 0:e.workerID)==="string"?(e=a.data)==null?void 0:(a=e.response)==null?void 0:a.workerID:void 0;e!=null?(d("MAWMIC").addPoint("shared_worker_workerID_received"),d("MAWMIC").addStringAnnotation("workerID",e),b!=null&&c("clearTimeout")(b),f.resolve(e)):(d("MAWMIC").addPoint("shared_worker_null_workerID_received"),d("MAWMIC").addStringAnnotation("workerID","unknown"))}};a.port.addEventListener("message",e);a.port.postMessage({type:"ww-connection-ack"});a.addEventListener("error",function(a){d("MAWStartupLoggingUtils").logWorkerError("Shared Worker",a,"")});return f.getPromise().then(function(b){return{worker:a.port,workerID:b}})})}function q(){return(h||(h=b("Promise"))).resolve(d("WebWorkerV2Resource").createDedicatedV2WebWorker(b("cr:6600"))).then(function(a){var b=a.url;a=a.worker;a.onerror=function(a){return d("MAWStartupLoggingUtils").logWorkerError("Dedicated Worker",a,b)};d("MAWStartupLoggingUtils").setImportScriptsErrorListener(a);return a})}function r(a){l=a,m.resolve()}g.getSharedWorkerInstance__TEST_ONLY=k;g.doesWorkerExist=a;g.getWorkerHealthStatus=e;g.resetWorkerCreation=f;g.createWorkerIfNone=o;g.setOnCloseForWorkerInstance=r}),98);
__d("MAWWaitForBackendSetup",["ErrorSerializer","MAWInit","MAWInitError","MAWMIC","MAWSetupWorkerAuxStateForLogging","MAWWebWorkerSingleton","Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=!1,m=!1,n=!1,o=!1,p=null,q=i,r=j;function s(a){return new(h||(h=b("Promise")))(function(b,e){k.then(b)["catch"](function(b){var f=a+" rejected because backend setup failed: "+b.message+".";b=b instanceof d("MAWInitError").MAWInitError?b.error:null;b!=null&&(f=f.concat(" More error detail: "+c("ErrorSerializer").toReadableMessage(b)));e(c("err")(f))})})}function a(a,b){c("promiseDone")(s(b).then(function(){a()}))}function t(){if(!o)return;k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b});o=!1;l=!1;q=i;r=j;m=!0;n=!1}function e(a){l=!0,o=!0,n=!1,q==null?void 0:q(a)}function f(a){l=!1,o=!0,n=!1,r==null?void 0:r(a)}function u(){return l}function v(){return o}function w(){return m}function x(a){a!=null&&p!==a&&d("MAWSetupWorkerAuxStateForLogging").resetWorkerCreationTime(),p=a}function y(a){if(p==null||p!==a)return;z()}function z(){p=null,d("MAWWebWorkerSingleton").resetWorkerCreation(),t(),d("MAWInit").MAWInit.logPoint("reset_current_worker"),d("MAWMIC").addPoint("reset_current_worker")}function A(){return p}function B(){n=!0}function C(){return n}g.waitForBackendSetup=s;g.runAfterBackendSetup=a;g.resetBackendSetup=t;g.resolveBackendSetup=e;g.rejectBackendSetup=f;g.isBackendSetupSuccessful=u;g.isBackendSetupSettled=v;g.wasBackendSetupReset=w;g.setCurrentWorker=x;g.resetCurrentWorkerWithId=y;g.resetCurrentWorkerSkipIdCheck=z;g.getCurrentWorkerID=A;g.markBackendSetupStarted=B;g.isBackendSetupInProgress=C}),98);
__d("MAWWorkerEvent",["FBLogger","MAWMIC","MAWReliabilityMonitor","MAWSetupWorkerAuxStateForLogging","MAWTrackPendingOccamadilloThreads","MAWWaitForBackendSetup","MultipleTabsLogger","QPLUserFlow","pageID","performanceNow","promiseDone","qpl","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWBridgeObserver").__setRef("MAWWorkerEvent"),j=c("requireDeferred")("MAWWebWorkerSingleton").__setRef("MAWWorkerEvent"),k=new Set(),l=new Set(["addEbUploadTrackingWorkerQPL","ackWithInstanceKey","addMediaDownloadQpl","searchGetFTSRestoreSessionId","none"]),m=new Set(["bulkCreateThread","bulkCreateOrUpdateThread","bulkMaybeCreateOrUpdateThread","createThread","createOrUpdateThread"]),n=new Map(),o=function(a){switch(a){case"sendAndReceive":return 1e4;case"fireAndForget":return 4e3;case"waitUntilCompleted":return 1e4;case"waitUntilPersisted":return 1e4;default:return 1e4}},p=function(a,b,d){d=window.setTimeout(function(){v(a,"ack_timeout"),c("promiseDone")(i.load().then(function(a){a.notifyUnackedEvent({route:b,timestamp:(h||(h=c("performanceNow")))()})}))},o(d));n.set(a,d);return d},q=function(a){var b=n.get(a);b!=null&&(window.clearTimeout(b),c("promiseDone")(i.load().then(function(a){a.resetUnackedMessages()})),n["delete"](a))};function a(a,b,e){if(k.has(e)||l.has(b))return;k.add(e);c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{bool:{duringMIC:d("MAWMIC").duringMIC(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},"int":{key:e},string:{callType:a,event:b,pageID:c("pageID"),workerHeartbeatsOnStart:d("MAWSetupWorkerAuxStateForLogging").getHeartbeatHistoryAsString(),workerID:d("MAWWaitForBackendSetup").getCurrentWorkerID()},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});void d("MultipleTabsLogger").hasMultipleTabs().then(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),{bool:{isMultiTabs:a}},{instanceKey:e})});void j.load().then(function(a){return a.getWorkerHealthStatus().then(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),{string:{workerHealthStatusOnStart:a.tag}})})})}function b(a){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"),{instanceKey:a})}function e(a,b){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{error:b},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:a})}function f(a,b,e){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{error:b,workerHealthStatus:e.tag},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:a})}function r(a,b){if(!k.has(a))return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),b,{instanceKey:a})}function s(a,b){if(!k.has(a))return;try{if(Array.isArray(b)){var e=b.every(function(a){return typeof a==="object"&&a!=null&&"state"in a&&a.state===d("MAWReliabilityMonitor").HealthReportState.OK.valueOf()});b=b.reduce(function(a,b){typeof b==="object"&&b!=null&&"state"in b&&"identifier"in b&&"reason"in b&&b.state!==d("MAWReliabilityMonitor").HealthReportState.OK.valueOf()&&typeof b.state==="string"&&typeof b.reason==="string"&&typeof b.identifier==="string"&&a.push([b.identifier,b.state,b.reason].join(":"));return a},[]);r(a,{bool:{workerHealthStatus:e},string:{error:(a=b[0])!=null?a:void 0},string_array:{errors:b}})}}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to log ack result annotations");return!1}}function t(a,b,c){if(typeof c==="object"&&typeof (c==null?void 0:c.timestamp)==="number"){c=c.payload;q(a);v(a,"ack");s(a,c);m.has(b)&&d("MAWTrackPendingOccamadilloThreads").markBridgeCallAcked()}}function u(a,b,c){l.has(b)||p(a,b,c),v(a,"send")}function v(a,b,d){if(!k.has(a))return;c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),b,{instanceKey:a,timestamp:d})}g.getUnackedEventTimeout=o;g.logStart=a;g.logSuccess=b;g.logFailure=e;g.logTimeoutFailure=f;g.logAnnotations=r;g.logAck=t;g.logSend=u}),98);
__d("MAWBridgeLoggingUtils",["MAWWorkerEvent","ODS","Random","WAHashStringToNumber"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a){return d("WAHashStringToNumber").hashStringToNumber(a+Math.round(d("Random").random()*1e4)+1e4)}function b(a,b,c,e){n(b,c,"start");if(c===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");d("MAWWorkerEvent").logStart(a,c,e);m.length===l&&m.shift();m.push(b+"_"+c)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function c(a,b,c){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success");d("MAWWorkerEvent").logSuccess(c)}function e(a,b,c,e){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail");d("MAWWorkerEvent").logFailure(e,c)}function f(a,b,c,e){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout");d("MAWWorkerEvent").logTimeoutFailure(c,"Route timeout",e)}function p(){o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.getBridgeEventInstanceKey=a;g.routeStart=b;g.logRecentRoutes=o;g.routeSuccess=c;g.routeFail=e;g.routeTimeoutFail=f;g.logRecentBridgeEvents=p}),98);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function h(){return!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:e!=null?e:"unknown"});return a}),b,function(){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:e!=null?e:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWTimedBridge",["MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup","MAWWebWorkerSingleton","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["route.",""]);h=function(){return a};return a}var i=17e4;function a(a,b,c,e,f){f===void 0&&(f=i);return d("MAWWaitForBackendSetup").waitForBackendSetup(c).then(function(){return d("MAWMaybeWithTimeout").maybeWithTimeout(a(),f,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(a){d("MAWBridgeLoggingUtils").routeTimeoutFail(b,c,e,a);d("WALogger").COUNT(h(),c).tags("bridge_timeout");throw new j("Bridge route "+c+" timed out, WorkerHealthStatus: "+a.tag)})},c)})}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="BridgeTimeoutError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));g.DEFAULT_MAW_BRIDGE_TIMEOUT_MS=i;g.bridgeTimeout=a;g.MAWBridgeTimeoutError=j}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWaitForBackendSetup","MAWWorkerEvent","Promise","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1143");function a(a,c,e,f){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){var g=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(c);f!==!0&&d("MAWBridgeLoggingUtils").routeStart("fireAndForget",a,c,g);void d("MAWTimedBridge").bridgeTimeout(function(){return new(h||(h=b("Promise")))(function(b){d("MAWBridge").getBridge().fireAndForget(a,c,e,f,{onAck:function(e){f!==!0&&(d("MAWWorkerEvent").logAck(g,c,e),d("MAWBridgeLoggingUtils").routeSuccess(a,c,g)),b()},onSend:function(a){var b=a.queueMsgs;a=a.queueSize;f!==!0&&(d("MAWWorkerEvent").logSend(g,c,"fireAndForget"),d("MAWWorkerEvent").logAnnotations(g,{"int":{bridgeSize:a},string_array:{bridgeMsgs:b}}))}},{bridgeQPLInstanceKey:g})})},a,c,g,i)},c)}g.fireAndForget=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWorkerEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(b),g=(e==null?void 0:e.isLoggingDisabled)!==!0,h=d("MAWTimedBridge").bridgeTimeout(function(){g&&d("MAWBridgeLoggingUtils").routeStart("sendAndReceive",a,b,f);return d("MAWBridge").getBridge().sendAndReceive(a,b,c,e==null?void 0:e.isLoggingDisabled,{onAck:function(a){g&&d("MAWWorkerEvent").logAck(f,b,a)},onSend:function(a){var c=a.queueMsgs;a=a.queueSize;g&&(d("MAWWorkerEvent").logSend(f,b,"sendAndReceive"),d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:a},string_array:{bridgeMsgs:c}}))}},{bridgeQPLInstanceKey:f}).then(function(c){g&&d("MAWBridgeLoggingUtils").routeSuccess(a,b,f);return c})["catch"](function(c){g&&d("MAWBridgeLoggingUtils").routeFail(a,b,c.message,f);throw c})},a,b,f,e==null?void 0:e.timeoutMs);return h}g.sendAndReceive=a}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");if(a==="count"){console.count(d+" "+String(b));return}for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("WAShiftTimer",["err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){h(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){h(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){h(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){h(a);h(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function h(a){if(!(a>=0))throw c("err")("ShiftTimer must be given delayMs >= 0")}g.ShiftTimer=a}),98);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=1e3;a=function(){function a(a,b,c){var e=this;this.$1=null;this.$6=Date.now();this.$7=new(d("WAShiftTimer").ShiftTimer)(function(){var a=e.$1;if(a==null)return;e.$1=null;e.$2(a)});this.$2=b;this.$3=a;this.$5=c!=null?c:h;this.$4=this.$5}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$7.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$6,0)/i;b=Math.min(b+c,this.$5);this.$4=b;this.$6=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$7.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$7.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WALruCache",["WALogger","WAShiftTimer","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Blob size is larger than the limit of the whole store."]);h=function(){return a};return a}var i=function(a,b){this.key=a,this.value=b,this.prev=null,this.next=null};a=function(){function a(a){var b=this,e;this.$2=new Map();this.purgeNow=function(){for(var a=b.$6.prev;b.$4>b.$3&&a!==b.$5;a=a?a.prev:null){if(a==null)throw c("err")("The linked list is not constructed properly.");var d=a,e=d.key;d=d.value;if(!b.$9(e,d))continue;b["delete"](e);b.$10&&b.$10(e,d)}b.$8&&b.$8(b.$2)};this.$3=a.sizeLimit;this.$7=a.getSize;this.$8=a.onPurge;this.$9=(e=a.shouldEvict)!=null?e:function(){return!0};this.$10=a.onEvict;this.$11=a.onAdd;this.$12=a.onDelete;this.$4=0;this.$5=new i("placeholder-head",null);this.$6=new i("placeholder-tail",null);this.$5.next=this.$6;this.$6.prev=this.$5;this.$1=new(d("WAShiftTimer").ShiftTimer)(function(){return b.purgeNow()})}var b=a.prototype;b.get=function(a){if(!this.$2.has(a))return null;a=this.$2.get(a);if(a==null)return null;var b=a.prev,d=a.next;b&&(b.next=d);d&&(d.prev=b);d=this.$5.next;if(d==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=a;d.prev=a;a.prev=this.$5;a.next=d;return a.value};b.has=function(a){return this.$2.has(a)};b.touch=function(a){this.get(a)};b.put=function(a,b){if(this.$3===0)return;if(this.$7(b)>this.$3){d("WALogger").WARN(h());return}this["delete"](a);this.$14(a,b);this.schedulePurge()};b.$14=function(a,b){var d=new i(a,b);this.$2.set(a,d);var e=this.$5.next;if(e==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=d;e.prev=d;d.prev=this.$5;d.next=e;this.$4+=this.$7(b);this.$11&&this.$11(a,b)};b["delete"]=function(a){if(!this.$2.has(a))return;var b=this.$2.get(a);if(b==null)return;this.$4-=this.$7(b.value);var c=b.prev,d=b.next;c&&(c.next=d);d&&(d.prev=c);this.$2["delete"](a);this.$12&&this.$12(a,b.value)};b.clear=function(){this.$2.clear(),this.$4=0,this.$5.next=this.$6,this.$6.prev=this.$5,this.$13&&this.$13()};b.schedulePurge=function(){this.$1.onOrBefore(1e3)};b.getCurrentSize=function(){return this.$4};b.getPlaceholderHead=function(){return this.$5};b.forEach=function(a){if(this.$4===0)return;var b=this.$6.prev;if(b==null)throw c("err")("The linked list is not constructed properly.");while(b!=null&&b!==this.$5)a(b.value),b=b.prev};return a}();g.LruCache=a}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WALogger","WALruCache","WAPromiseManagement","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to execute onAck: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," not intended for client ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);s=function(){return a};return a}var t=function(){function a(a,b,c,e,f){var g=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();if((f==null?void 0:f.useLRUCache)===!0){var h,i=new(d("WALruCache").LruCache)({sizeLimit:(h=f.portalCacheSize)!=null?h:100,getSize:function(){return 1}});this.processedRequests={has:function(a){return i.has(a)},add:function(a){i.put(a,!0)}}}else{var j=new Set();this.processedRequests={has:function(a){return j.has(a)},add:function(a){j.add(a)}}}this.$1=a;this.clientId=e;this.config=f;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){g.$3(a)},(h=this.config)==null?void 0:h.bridgeBatcherMaxTokens);c.forEach(function(b){a.setNamespaceHandler(b,g.$4(b))})}var e=a.prototype;e.$5=function(){var a=this.clientId!=null?this.clientId+"_":"";return""+a+this.$2++};e.$6=function(a){a=a.split("_");return a.length!==2?null:a[0]};e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners["delete"](a)}};e.setPort=function(a){var b=this;d("WALogger").LOG(s());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(r()).devConsole(c.data);return}c=c.data;if(!c||!Array.isArray(c))return;c.forEach(function(c){b.$7(c,"incoming"),b.$8(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").DEV(q(),a.name);b.sendStream.addEvent({type:"request",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f,g,h){b.$9(a,c,d,e,f,g,h)}};e.$9=function(a,b,c,d,e,f,g){var h,i=this.$5();h=babelHelpers["extends"]({fromClientId:(h=this.clientId)!=null?h:void 0},g);g={requestId:i,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e,opts:h};this.openRequests.set(i,{request:g,resolver:d,eventCallbacks:f});this.sendStream.addEvent({type:"request",content:g})};e.$10=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};e.$3=function(a){var b=this,c=this.port;if(!c){d("WALogger").DEV(p(),a.length);return}c.postMessage(a);var e=a.map(function(a){var b;b=(b=(b=a.content.arg)==null?void 0:b.type)!=null?b:"";return""+((a=a.content.name)!=null?a:"")+(b?":"+b:"")}).filter(Boolean);a.forEach(function(c){var d;b.$7(c,"outgoing");c=b.openRequests.get(c.content.requestId);(c==null?void 0:(d=c.eventCallbacks)==null?void 0:d.onSend)!=null&&c.eventCallbacks.onSend({queueSize:a.length,queueMsgs:e})})};e.$7=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$8=function(a,e){var f=this;if(e.type==="request"){var g=e.content,i=g.namespace,p=g.name,q=g.requestId,r=g.arg,s=g.expectsResponse,t=g.silentLog,u=g.opts;t||d("WALogger").LOG(o(),q,p);if((u==null?void 0:u.toClientId)!=null&&u.toClientId!==this.clientId){t||d("WALogger").LOG(n(),q,this.clientId);return}g=this.$1;var v={type:"result",content:{requestId:q,type:"handled",result:{payload:g.getAckPayoad(),timestamp:Date.now()},silentLog:t,opts:u}};this.$7(v,"outgoing");a.postMessage([v]);if(s){v=g.sendAndReceive(i,p,r,t,void 0,u).then(function(b){f.$10(a,{requestId:q,type:"success",result:b,silentLog:t,opts:u})},function(b){f.$10(a,{requestId:q,type:"error",result:String(b),silentLog:t,opts:u})});d("WAPromiseManagement").preventGarbageCollection(v)}else g.fireAndForget(i,p,r,t,void 0,u)}else{e.type;s=e.content;v=s.requestId;g=s.type;i=s.result;p=s.silentLog;p||d("WALogger").DEV(m(),v,g);r=this.$6(v);if(r!==this.clientId||this.processedRequests.has(v))return;e=this.openRequests.get(v);if(!e){d("WALogger").WARN(l(),v);return}switch(g){case"success":case"error":this.openRequests["delete"](v);this.processedRequests.add(v);s=e.resolver;s?s(g==="success"?i:(h||(h=b("Promise"))).reject(c("err")(i!=null?i:""))):d("WALogger").ERROR(k(),i);break;case"handled":try{(p=e.eventCallbacks)==null?void 0:p.onAck==null?void 0:p.onAck(i)}catch(a){d("WALogger").ERROR(j(),a.message)}e.resolver||(this.openRequests["delete"](v),this.processedRequests.add(v));break}}};return a}();function a(a,b,c,d,e){return new t(a,c,b,d,e)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,h=b.silentLog;d("WALogger").LOG(i(),b.requestId);a?a(c.sendAndReceive(e,f,g,h)):c.fireAndForget(e,f,g,h)})}g.CrossWorkerPortal=t;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);
__d("MAWCrossWorkerPortal",["FBLogger","WACrossWorkerPortal","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(h!=null)return h;h=d("WACrossWorkerPortal").attachPortal(a,b,e,c("pageID"),f);return h}function b(){if(h==null){c("FBLogger")("messenger_web").warn("Trying to kill portal before its setup");return}d("WACrossWorkerPortal").killPortalAndSendPendingToBridge(h)}g.getOrCreateCrossWorkerPortal=a;g.killPortalWhenWorkerTerminating=b}),98);
__d("MAWDbChatId__UNSAFE_DO_NOT_USE",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).of_float(a)}function b(a,b){return a+"_"+b}g.convertToChatId64__DEPRECATED=a;g.craftAltIndex__DEPRECATED=b}),98);
__d("WADirectPath",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h="0_0_0_.enc";function a(a){return a}function b(a){if(a==null)return d("WAResultOrError").makeError("direct-path-undefined");if(a==="")return d("WAResultOrError").makeError("direct-path-empty");return a.includes(h)?d("WAResultOrError").makeError("direct-path-corrupted"):d("WAResultOrError").makeResult(a)}g.unsafeCastToDirectPath=a;g.validateDirectPath=b}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegMarkers",[],(function(a,b,c,d,e,f){"use strict";a=255;b=0;c={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1};d=[b,c.RST0,c.RST1,c.RST2,c.RST3,c.RST4,c.RST5,c.RST6,c.RST7];f.MARKER_PREFIX=a;f.MARKER_ESCAPE_BYTE=b;f.MARKERS=c;f.SOS_STREAM=d}),66);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting"]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(l());if(!n(a)){m.DEV(k());return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j(),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(i());return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(h());return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(a of a)b.push(a-c),c=a;return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){"use strict";d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video","sticker-pack","thumbnail-sticker-pack","music-artwork"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":case"sticker-pack":case"thumbnail-sticker-pack":case"music-artwork":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":case"ReceiverFetch":case"Raven":case"GroupPollCreate":case"GroupPollUpdate":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("WABaseProto",[],(function(a,b,c,d,e,f){"use strict";a="__tu";f.TAGGED_UNION_TAG=a}),66);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[o];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+o);for(o of p){var x=o[0],y=o[1];m=v(x,q);if(m){m.path.push(n+"'s key ["+x+"]");return{v:m}}m=w(y,u);if(m){m.path.push(n+"["+x+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);y=j[n];y&&y.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABaseProto","WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function f(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e,f){var g=d("WAProtoCompile").compileSpec(a),k=g.names,l=g.fields,m=g.types,o=g.meta,p=g.oneofToFields,q=g.fieldToOneof,r=g.reservedTags,s=g.reservedFields;g=a.internalDefaults;var t=c||babelHelpers["extends"]({},g)||{};t.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(g=0;g<k.length;g++)m[g]&d("WAProtoConst").FLAGS.REPEATED?t[k[g]]=[]:m[g]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(t[k[g]]=new Map());var u=0;c=l.length>0;a=l[0];while(b.size()){g=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var v=g&7,w=g>>>3;if(c&&w!==a){g=u;do++u===l.length&&(u=0),a=l[u];while(w!==a&&u!==g)}if(c&&w===a)(function(){var a=k[u],c=m[u];h(v,c,a);var g=c&d("WAProtoConst").TYPE_MASK,l=o[u];if(c&d("WAProtoConst").FLAGS.PACKED){var x=b.readVarInt(d("WABinary").parseUint64OrThrow);x=b.readBinary(x);while(x.size()){var y=i(a,g,x);(g!==d("WAProtoConst").TYPES.ENUM||l[y]||(l.cast==null?void 0:l.cast(y))!==void 0)&&t[a].push(y)}}else if(g===d("WAProtoConst").TYPES.MESSAGE){y=b.readVarInt(d("WABinary").parseUint64OrThrow);x=b.readBinary(y);if(c&d("WAProtoConst").FLAGS.REPEATED)t[a].push(n(l,x,void 0,e,f));else{y=t[a];t[a]=n(l,x,y,e,f)}}else if(g===d("WAProtoConst").TYPES.MAP){x=b.readVarInt(d("WABinary").parseUint64OrThrow);y=b.readBinary(x);var z,A;for(x=0;x<o[u].length;x++){var B=j(y,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),C=B&7;B=B>>>3;var D=void 0;switch(C){case d("WAProtoConst").ENC.VARINT:D=y.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:D=y.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:C=l[x];if(C===d("WAProtoConst").TYPES.BYTES||C===d("WAProtoConst").TYPES.STRING)D=i(a,C,y);else{var E=y.readVarInt(d("WABinary").parseUint64OrThrow);E=y.readBinary(E);D=n(C,E,void 0,e,f)}break;case d("WAProtoConst").ENC.BIT32:D=y.readBinary(4);break}B===1?z=D:A=D}t[a].set(z,A)}else{C=i(a,g,b);(g!==d("WAProtoConst").TYPES.ENUM||l[C]||(l.cast==null?void 0:l.cast(C))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?t[a].push(C):t[a]=C)}E=q[a];E&&typeof t[a]!=="undefined"&&E.forEach(function(b){var c=p[b].filter(function(b){return b!==a});c.forEach(function(a){delete t[a]});if(f){t[b]=(c={type:a,value:t[a]},c[d("WABaseProto").TAGGED_UNION_TAG]=!0,c);delete t[a]}});(r[w]||s[a])&&delete t[a]})();else{t.$$unknownFieldCount++;if(e){t.$$unsafeUnknownFields||(t.$$unsafeUnknownFields={});g=void 0;switch(v){case d("WAProtoConst").ENC.VARINT:g=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:g=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:g=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:g=b.readBinary(4);break}t.$$unsafeUnknownFields[w]=g}else v===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):v===d("WAProtoConst").ENC.BIT64?b.advance(8):v===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):v===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return t}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithTaggedUnions=b;g.decodeProtobufWithUnknowns=e;g.getUnknownFields=f}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArrayView()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(o of l){r=o[0];var s=o[1];a.writeVarInt(k);var t=q[0],u=q[1],v=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u,w=m[t],x=m[v];if(w==null||x==null)throw new Error("Invalid encoder for map key/value");var y=new(d("WABinary").Binary)(),z=1*8|d("WAProtoUtils").typeToEncType(t);y.writeVarInt(z);w(y,r,t);z=2*8|d("WAProtoUtils").typeToEncType(v);y.writeVarInt(z);x(y,s,u);a.writeVarInt(y.size());a.writeBinary(y)}else{a.writeVarInt(k);w=m[p];w(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("WAMediaUtils",["WACryptoDependencies","WADirectPath","WAGlobals","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function i(a){return a}function a(){return h()}function j(a){return a}function k(a){return a}function b(a){return a}function e(a){return a}function f(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,l=a.serverMediaType,m=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;f=d("WADirectPath").validateDirectPath(f);return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f.success?f.value:null,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(g),sidecar:h&&k(h),objectId:i,fbid:j,downloadableThumbnail:m==null?void 0:{directPath:m.directPath,fileEncSha256:m.fileEncSha256,fileSha256:m.fileSha256,mediaKey:m.mediaKey,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(m.mediaKeyTimestamp),objectId:m.objectId},serverMediaType:l,filename:n,progressiveJpegDetails:o&&s(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function l(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArrayView()}function m(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function n(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArrayView()}function o(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArrayView()}function p(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function q(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArrayView()}function r(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,["$$unknownFieldCount","directPath","objectId"]);b=d("WADirectPath").validateDirectPath(b);return babelHelpers["extends"]({},e,{directPath:b.success?b.value:null,objectId:c,mediaKey:a.mediaKey&&i(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function s(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function t(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,k=a.size,l=a.lastDownloadAttemptTimestamp,m=a.sidecar,n=a.directPath,o=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"]);var p=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(p={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});h=d("WADirectPath").validateDirectPath(n);return babelHelpers["extends"]({},a,{objectId:o,directPath:h.success?h.value:void 0,sidecar:m,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&i(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&j(f),progressiveJpegDetails:p,downloadableThumbnail:g&&r(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(k),lastDownloadAttemptTimestamp:l==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(l))})}function u(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=a.serverMediaType;if(f==null)return d("WAResultOrError").makeError("media-entry-invalid-media-key");else if(b==null)return d("WAResultOrError").makeError("media-entry-invalid-direct-path");else if(c==null)return d("WAResultOrError").makeError("media-entry-invalid-file-enc-sha256");else if(e==null)return d("WAResultOrError").makeError("media-entry-invalid-file-sha256");else if(g==null)return d("WAResultOrError").makeError("media-entry-invalid-server-media-type");return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f,serverMediaType:g}))}function v(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=[];f==null?g.push("media-entry-invalid-media-key"):b==null?g.push("media-entry-invalid-direct-path"):c==null?g.push("media-entry-invalid-file-enc-sha256"):e==null&&g.push("media-entry-invalid-file-sha256");return f!=null&&b!=null&&c!=null&&e!=null?d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f})):d("WAResultOrError").makeError(g)}function w(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b=d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled()===!0?"application/octet-stream":"application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var x=function(){return"TransformStream"in self};g.createMediaKey=h;g.castToMediaKey=i;g.createUploadToken=a;g.castToUploadToken=j;g.castToStreamingSidecar=k;g.stringToDeliveryObjectId=b;g.stringToBackupEntFbid=e;g.mediaEntryDataToRawData=f;g.rawDataToMediaEntry=l;g.encodeMediaEntryForUpload=m;g.encodeMediaEntryWithUpdatedPath=n;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=o;g.encodeMediaEntryWithUpdatedFbid=p;g.encodeMediaEntryWithUpdatedObjectId=q;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=r;g.decodeMediaEntryData=t;g.validateDecodedMediaEntryForDownload=u;g.validateDownloadableThumbnailForDownload=v;g.getMimeTypeFromServerMediaType=w;g.isTransformStreamSupported=x}),98);
__d("MAWDbMedia",["I64","WAMediaUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Image",j="Video",k="Ptt",l="Gif",m="Sticker",n="DocumentFile",o={DOCUMENT_FILE:n,GIF:l,IMAGE:i,PTT:k,STICKER:m,VIDEO:j};function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).of_float(a)}function e(a){return(h||(h=d("I64"))).to_float(a)}function f(a,b){a=a.mediaEntries.get(b);if(a==null)return d("WAResultOrError").makeError("missing-media-entry");b=d("WAMediaUtils").decodeMediaEntryData(a);a=b.serverMediaType;return a==null?d("WAResultOrError").makeError("missing-server-media-type"):d("WAResultOrError").makeResult(a)}g.IMAGE=i;g.VIDEO=j;g.PTT=k;g.GIF=l;g.STICKER=m;g.DOCUMENT_FILE=n;g.MEDIA_TYPE=o;g.convertNumberToMediaId=a;g.convertToMediaId64=b;g.convertMediaIdToMediaId64=c;g.convertMediaId64ToMediaId=e;g.getServerMediaType=f}),98);
__d("MAWHexUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("FBLogger")("messenger_web").mustfixThrow("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("WAMsg",["WAAssertUnreachable","WAJids","WAMsgType","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.author,c=a.chat;a=a.externalId;return c+"_"+a+"_"+b}function h(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return{author:a.id.author,deleteTs:a.deleteTs,ephemeralSetting:a.ephemeralSetting,expirationTs:a.expirationTs,externalId:a.id.externalId,sentTs:a.sentTs,serverTs:a.serverTs,ts:a.ts};case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return{author:a.id.author,externalId:a.id.externalId,sentTs:a.sentTs,ts:a.ts};default:a.type;return null}}function b(a){var b=h(a);if(b==null)return null;switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return babelHelpers["extends"]({},b,{msgContent:a.msgContent,type:d("WAMsgType").MSG_TYPE.TEXT});case d("WAMsgType").MSG_TYPE.IMAGE:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.IMAGE});case d("WAMsgType").MSG_TYPE.VIDEO:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.VIDEO});case d("WAMsgType").MSG_TYPE.PTT:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.STICKER:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.STICKER});case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.RECEIVER_FETCH});case d("WAMsgType").MSG_TYPE.GIF:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL});case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.UNAVAILABLE});case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.EDIT_ACTION:return null;default:return c("WAAssertUnreachable")(a.type)}}function e(a){if(d("WAJids").isAuthorSystem(a.author))throw c("err")("Cannot send @system messages");else return{author:a.author,chat:a.chat,externalId:a.externalId}}g.craftWAMsgIdString=a;g.asQuotedMsg=b;g.asProtocolMsgId=e}),98);
__d("MAWDbMsg",["FBLogger","I64","MAWDbChatId__UNSAFE_DO_NOT_USE","MAWHexUtils","MAWMsgType","WAMsg","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i=[(i=d("MAWMsgType")).MSG_TYPE.REVOKED,i.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,i.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,i.MSG_TYPE.GROUP_INVITE,i.MSG_TYPE.SK_DISTRIBUTION,i.MSG_TYPE.RAVEN_ACTION];var j=0,k=Number.MAX_SAFE_INTEGER;function a(a){return a}function b(a){return a}function e(a){return y(a)?a:null}function f(a){return a}function l(a){return a}var m="futureproof",n="futureproof_spam",o="spam",p="toBeRead",q="e2ee_admin_msg",r="cutover_admin_msg";function s(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function t(a,b,e){a=d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m";return!c("justknobx")._("621")?a:a+"_"+e.externalId}function u(a,b){return!c("justknobx")._("1903")?s(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_um"}function v(a,b){return!c("justknobx")._("1903")?s(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_r"}function w(a,b,c){c=c!=null?c:d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4));return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+c+")}"}function x(a){a=a.split("_");return a.length>=3&&a[0]!==""&&a[1]!==""&&a[2]==="m"}function y(a){var b=/^(.*)\..*?$/;b=b.test(a);return x(a)||b}function z(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,p)}function A(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,q)}function B(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,r)}function C(a){if(!x(a))return 0;a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function D(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function E(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function F(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function G(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function H(a){return a.type===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH}function I(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:return!0;case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1;default:c("FBLogger")("messenger_web").mustfix('Invalid msg type for isPhotoOrVideoMediaMsg check: "%s"',a.type);return!1}}function J(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1;default:c("FBLogger")("messenger_web").mustfix('Invalid msg type for isDocumentFileMediaMsg check: "%s"',a.type);return!1}}function K(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function L(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return!1}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function M(a){return O(a.type)}function N(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function O(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function P(a){return a==="RavenAction"}function Q(a){return a.originalTs!=null?a.originalTs:R(a)}function R(a){return a.serverTs!=null?a.serverTs:a.ts}function S(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return R(a)*1e3}function T(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function U(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return}throw c("FBLogger")("messenger_web").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}function V(a){return d("WAMsg").craftWAMsgIdString({author:a.author,chat:a.threadJid,externalId:a.externalId})}function W(a){return(h||(h=d("I64"))).to_float(a)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=i;g.MIN_MSG_SORT_ORDER=j;g.MAX_MSG_SORT_ORDER=k;g.toCachedMsgId__UNSAFE_DO_NOT_USE=a;g.toMsgId__UNSAFE_DO_NOT_USE=b;g.toMsgId=e;g.stanzaIdToMsgId=f;g.instamadilloMsgIdToMsgId=l;g.FUTUREPROOF_ALT_INDEX=m;g.FUTUREPROOF_SPAM_ALT_INDEX=n;g.SPAM_ALT_INDEX=o;g.craftMsgId__DEPRECATED=s;g.craftMsgIdV2=t;g.craftUnrenderedMsgId=u;g.craftReactionId=v;g.craftDebugMsgId=w;g.isValidMsgId=y;g.craftToBeReadAltIndex=z;g.craftE2eeAdminMsgAltIndex=A;g.craftCutoverAdminMsgAltIndex=B;g.getInChatMsgIdFromMsgId=C;g.msgIdsInChatLowerBound=D;g.msgIdsInChatUpperBound=E;g.isXMAMsg=F;g.isMediaMsg=G;g.isReceiverFetchStickerMsg=H;g.isPhotoOrVideoMediaMsg=I;g.isDocumentFileMediaMsg=J;g.isContentMsg=K;g.isMsgEligibleForTriggeringEphemeralSyncResponse=L;g.isUnrenderedMsg=M;g.isAdminMsg=N;g.isUnrenderedMsgType=O;g.isRavenActionMsgType=P;g.getOriginalTsFromMsg=Q;g.getCanonicalTsFromMsg=R;g.getSortOrderWithFallback=S;g.getSortOrderFromPrevious=T;g.getMsgContent=U;g.getWAMsgId=V;g.convertMsgRowId64=W}),98);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWSendQplToServer",["BrowserLockManager","ExecutionEnvironment","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e){c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{},{db_schema_fix:c("gkx")("12688"),isDev:0,isFromUIThread:(h||(h=c("ExecutionEnvironment"))).isInMainThread,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,processAcksInOneQueue:c("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:d,timeoutInMs:e});return i(a,d)}function i(a,b){return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){e&&c("QPLUserFlow").addAnnotations(a,e,{instanceKey:b}),c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},endCancel:function(e){var f;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},e,{bool:babelHelpers["extends"]({},e==null?void 0:e.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},e==null?void 0:e.string,{threadID:e==null?void 0:(f=e.string)==null?void 0:f.jid})}),{instanceKey:b});c("QPLUserFlow").endCancel(a,{annotations:e,instanceKey:b})},endFail:function(e,f){var g;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},f,{bool:babelHelpers["extends"]({},f==null?void 0:f.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},f==null?void 0:f.string,{threadID:f==null?void 0:(g=f.string)==null?void 0:g.jid})}),{instanceKey:b});c("QPLUserFlow").endFailure(a,e,{annotations:f,instanceKey:b})},endSuccess:function(e){c("QPLUserFlow").addAnnotations(a,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:b}),c("QPLUserFlow").endSuccess(a,{annotations:e,instanceKey:b})},markError:function(d,e,f){return c("QPLUserFlow").markError(a,d,{debugInfo:e,error:f,instanceKey:b})}}}g.startQplUserFlow=a;g.makeMAWQPLProxyForExistingQPLUserFlow=i}),98);
__d("MAWQplProxy",["Deferred","ExecutionEnvironment","MAWBridge","MAWSendQplToServer","QPLEvent","asyncToGeneratorRuntime","gkx","justknobx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h=c("gkx")("23949"))!=null?h:!1,m=new Set([25313175,25310776,1056839232,1056836502,1056836703,1056847537,521478596,521479468,521476165,521480391,521472095]),n=0,o=(j||(j=c("performanceAbsoluteNow")))()-Date.now();function p(){return Date.now()}var q=new(c("Deferred"))();h=function(){q.resolve()};function r(a,b,e,f,g){f===void 0&&(f=!1),c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"point"},annotations:e==null?void 0:e.annotations,event:a,instanceKey:e==null?void 0:e.instanceKey,performanceAndDateSkew:o,timestamp:f?p():void 0},!0,void 0,g)})}function a(a,b,c,d,e){t(a,{bool:(a={},a[b]=c,a)},d,e)}function e(a,b,c,d,e){t(a,{string:(a={},a[b]=c,a)},d,e)}function f(a,b,c,d,e){t(a,{"int":(a={},a[b]=c,a)},d,e)}function s(a,b,c,d){t(a,{"double":b},c,d)}function t(a,b,e,f){c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:b,event:a,instanceKey:e},!0,void 0,f)})}function u(a,b,e,f,g,h){g===void 0&&(g=!1);var i=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"failure"},annotations:e,event:a,instanceKey:f,timestamp:g?i:void 0},!0,void 0,h)})}function v(a,b,e,f,g){f===void 0&&(f=!1);var h=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:b,event:a,instanceKey:e,timestamp:f?h:void 0},!0,void 0,g)})}function w(a,b,e,f,g){f===void 0&&(f=!1);var h=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"cancel"},annotations:b,event:a,instanceKey:e,timestamp:f?h:void 0},!0,void 0,g)})}function x(a,b,e,f){c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"error"},debugInfo:e==null?void 0:e.debugInfo,error:e==null?void 0:e.error,event:a,instanceKey:e==null?void 0:e.instanceKey},!0,void 0,f)})}function y(a,b,c,d,e){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){r(a,b+"_start",{annotations:d,instanceKey:e});d=(yield c());r(a,b+"_end",{instanceKey:e});return d});return z.apply(this,arguments)}function A(a,b,c){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a.addPoint(b+"_start");c=(yield c);a.addPoint(b+"_end");return c});return B.apply(this,arguments)}var C=c("justknobx")._("2596");function D(a,b,e){e===void 0&&(e={});e=e;var f=e.callBridgeWithTimestamp,g=f===void 0?!1:f;f=e.providedInstanceKey;var h=e.providedTimeoutInMs;e=e.sendThroughBridge;e=e===void 0?!1:e;f==null&&n++;var i=f!=null?f:n,j=h!=null?h:C;f=!(k||(k=c("ExecutionEnvironment"))).isInWorker;h=e||F(a);if(f||!h)return d("MAWSendQplToServer").startQplUserFlow(a,b,i,j);var l=e?{toLastActiveClient:!0}:void 0;c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{})}),event:a,instanceKey:i,timeoutInMs:j,timestamp:g?p():void 0},!0,void 0,l)});return{addAnnotations:function(b){return t(a,b,i,l)},addPoint:function(b,c){return r(a,b,{annotations:c,instanceKey:i},void 0,l)},endCancel:function(b){return w(a,b,i,void 0,l)},endFail:function(b,c){return u(a,b,c,i,void 0,l)},endSuccess:function(b){return v(a,b,i,void 0,l)},markError:function(b,c,d){return x(a,b,{debugInfo:c,error:d,instanceKey:i},l)}}}function E(a,b){return!(k||(k=c("ExecutionEnvironment"))).isInWorker||!F(a)?d("MAWSendQplToServer").makeMAWQPLProxyForExistingQPLUserFlow(a,b):{addAnnotations:function(c){return t(a,c,b)},addPoint:function(c,d){return r(a,c,{annotations:d,instanceKey:b})},endCancel:function(c){return w(a,c,b)},endFail:function(c,d){return u(a,c,d,b)},endSuccess:function(c){return v(a,c,b)},markError:function(c,d,e){return x(a,c,{debugInfo:d,error:e,instanceKey:b})}}}function F(a){return l||m.has((i||(i=d("QPLEvent"))).getMarkerId(a))}g.performanceAbsoluteNow=p;g.workerBridgeDeferred=q;g.resolveWorkerBridge=h;g.sendQplPointThroughBridge=r;g.sendQPLBoolAnnotationThroughBridge=a;g.sendQPLStringAnnotationThroughBridge=e;g.sendQPLIntAnnotationThroughBridge=f;g.sendQPLDoubleAnnotationsThroughBridge=s;g.sendQPLAnnotationsThroughBridge=t;g.sendQPLFailThroughBridge=u;g.sendQPLSuccessThroughBridge=v;g.sendQPLCancelThroughBridge=w;g.sendQPLErrorThroughBridge=x;g.measurePerfInQPL_USE_WITH_CARE=y;g.measurePerfInQPL=A;g.DEFAULT_WORKER_QPL_TIMEOUT_MS=C;g.startQplUserFlow=D;g.makeQplUserFlowFromExistedInstance=E}),98);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r!";b="rw!";f.READONLY=a;f.READWRITE=b}),66);
__d("MAWLogIndexedDb",["FBLogger","MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("FBLogger")("messenger_web").mustfixThrow("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(c=a!=null?a:k())!=null?c:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);var b=c("FBLogger")("maw_db");if(a instanceof Error)throw b.catching(a).mustfixThrow("LOG - Error performing transaction in log transactor");throw b.mustfixThrow("LOG - Error performing transaction in log transactor")})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"count":return"log";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()}),A=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});f=function(){return A()["catch"](function(a){return[]})};var B=function(a){a=a<=o.length?u(a):C(a);return a["catch"](function(a){return[]})},C=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntriesFromDb=f;g.getLastNEntries=B}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=c!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WALRUMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1["delete"](a);this.$1.set(a,b);if(this.$1.size>this.$2){a=this.$1.keys().next().value;a!=null&&this.$1["delete"](a)}};b["delete"]=function(a){this.$1["delete"](a)};b.clear=function(){this.$1.clear()};b.size=function(){return this.$1.size};return a}();f.LRUMap=a}),66);
__d("WARandomHex",["WACryptoDependencies","WAHex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WAHex").toHex(a)}g.randomHex=a}),98);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WALRUMap","WARandomHex","WATimeUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b("Promise")))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var l=new(d("WALRUMap").LRUMap)({max:100});function a(a,c){var e=c.args,f=c.scheduleConfig,g=c.type,i=c.uniqKey;c=c.version;c=c===void 0?1:c;var l=JSON.stringify([g,i!=null?i:d("WARandomHex").randomHex(32)]),n={backedOffCount:0,current:e,original:e,scheduleConfig:f,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:g,uniqKey:l,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(i!=null)return k(a,"uniqKey",l).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return(h||(h=b("Promise"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()["delete"](b))}function e(a,b){return j(a().get(b))}function f(a,b){return j(a().put(b))}function n(a){return j(a().getAll())}function o(a){try{return i(a().clear()).then(c("emptyFunction"))}catch(a){if(a.name==="NotFoundError")return(h||(h=b("Promise"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=e;g.updatePersistedJob=f;g.readAllPersistedJobs=n;g.clearJobs=o}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("MAWLoggerUtils",["ErrorPubSub","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Random","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=["messenger_web","wmi_eb","labyrinth_web","messenger_web_media","messenger_web_calling","mps"];f={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}function b(a){a=a.split("");return a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0)}function e(){if(i)return;i=!0;(h||(h=c("ErrorPubSub"))).addListener(function(a){var b=!j.includes(a.project);if(b){k(a.type==="error"||a.type==="fatal"?"error":a.type==="warn"?"warn":"log",a.message,(b=a.tags)!=null?b:[],(a=(b=a.metadata)==null?void 0:b.includes("MESSENGER_E2EE_WEB:ENVIRONMENT:worker"))!=null?a:!1)}})}function k(a,b,e,f){if(d("ServerJsRuntimeEnvironment").isRunningServerJsRuntime())return;b=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(b));var g=Date.now();c("gkx")("3282")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:l(b,e)},!0);if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;b=b.replace(/\n/g," ");if(a==="debug"||typeof b!=="string")return;d("MAWSaveLogToDisk").saveLogEntry(f?"worker":"browser",{args:b,date:g,event:d("MAWSaveLogToDisk").joinTags(e,"[unknown]"),level:a})}function l(a,b){return b.length>0?d("MAWSaveLogToDisk").joinTags(b)+" "+a:a}g.Tag=f;g.getInstanceKey=a;g.getInstanceKeyFromId=b;g.initMessengerWebLogging=e;g.logToHistory=k}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("WAJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{clientThreadPk:a.clientThreadPk,jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("MAWMiActMappingTableAPI",["I64","MAWJids","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,c){return c==null?(i||(i=b("Promise"))).resolve(null):d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))}function a(a,b){return l(a,b).then(function(a){return a==null?void 0:a.serverThreadKey})}function k(a,c){return c==null?(i||(i=b("Promise"))).resolve(null):d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c))}function l(a,b){return k(a,d("MAWJids").convertChatJidToIntJid(b))}function c(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.intJid;b=b.threadKey;b=(yield j(a,b));return b!=null?b:k(a,c)});return m.apply(this,arguments)}function n(a){return(h||(h=d("I64"))).le(a,h.zero)}function e(a,b){return a.tables.mi_act_mapping_table.subscribe(function(a,c){var d=a[0],e=a[1];a[2];a=c.operation;a==="delete"&&!n(e)&&b(e,d)})}g.getMappingRowForThreadKey=j;g.getThreadKeyForChatJid=a;g.getMappingRowForIntJid=k;g.getMappingRowForChatJid=l;g.getMappingRowForThreadKeyOrJid=c;g.subscribeToMappingDeletion=e}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",CLIENT_PARTIAL_MI_THREAD_WITH_ACT:"CLIENT_PARTIAL_MI_THREAD_WITH_ACT",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MWLogSendToSentFailedError",["FBLogger","QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e,f){var g=a.qplEventType;a=a.qplInstanceKey;g=(h||(h=c("QuickPerformanceLogger"))).getMarker(g,a);a=g==null?void 0:(a=g.annotations)==null?void 0:(a=a.bool)==null?void 0:a.is_secure;c("FBLogger")("messenger_web_messaging","send_to_sent_failed").blameToPreviousFrame().blameToPreviousFrame().warn("send_to_sent failed with reason: %s. Caught error message: %s. Additional description: %s. Secure? %s. Error Code: %s. Application Error: %s.",b,(b=d==null?void 0:d.message)!=null?b:"",(g=(d=g==null?void 0:(d=g.annotations)==null?void 0:(b=d.string)==null?void 0:b.error_description)!=null?d:g==null?void 0:(b=g.annotations)==null?void 0:(d=b.string)==null?void 0:d.errorType)!=null?g:"",a===!0?"secure":a===!1?"open":"unknown",(b=e==null?void 0:e.toString())!=null?b:"",(d=f==null?void 0:f.toString())!=null?d:"")}g["default"]=a}),98);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video",Share:"share",NoteReply:"note_reply"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasNoteReply;h=h===void 0?!1:h;var i=a.hasShare;i=i===void 0?!1:i;var j=a.hasSticker;j=j===void 0?!1:j;var k=a.hasVideo;k=k===void 0?!1:k;a=a.hasVoiceClip;a=a===void 0?!1:a;var l=g.None;e?l=g.Image:k?l=g.Video:d?l=g.HotEmoji:j?l=g.Sticker:c?l=g.Gif:a?l=g.Audio:b?l=g.File:i?l=g.Share:f?l=g.Link:h&&(l=g.NoteReply);return l}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=d("MWChatInteraction").get((h||(h=d("I64"))).to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;e=(b=e==null?void 0:(b=e.annotations.string)==null?void 0:b.inboxEntrypoint)!=null?b:e==null?void 0:(b=e.annotations.string)==null?void 0:b.entrypoint;if(e!=null&&e!=="unknown")return e;b=d("MWChatInteraction").get("inbox_init");if(b!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(b)))return"initInbox";e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b=e!=null?(b=c("InteractionTracingMetrics").get(e))==null?void 0:(e=b.annotations.string)==null?void 0:e.thread_id:null;return b===(h||(h=d("I64"))).to_string(a)?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWMsgActionLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Send:"send",Reaction:"reaction",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply",Unsend:"unsend",GroupInvite:"group-invite",SenderKeyDistribution:"sender-key-distribution",EphemeralSetting:"ephemeral-setting",Edit:"edit",Bump:"bump",Retry:"retry"});function a(a){var b=a.hasEphemeralSetting;b=b===void 0?!1:b;var c=a.hasGroupInvite;c=c===void 0?!1:c;var d=a.hasReaction;d=d===void 0?!1:d;var e=a.hasReply;e=e===void 0?!1:e;var f=a.hasSenderKeyDistribution;f=f===void 0?!1:f;var h=a.hasStoryReply;h=h===void 0?!1:h;var i=a.isBump;i=i===void 0?!1:i;var j=a.isEdit;j=j===void 0?!1:j;var k=a.isForward;k=k===void 0?!1:k;var l=a.isRetry;l=l===void 0?!1:l;a=a.isUnsend;a=a===void 0?!1:a;var m=g.Send;e?m=g.Reply:h?m=g.StoryReply:a?m=g.Unsend:d?m=g.Reaction:c?m=g.GroupInvite:b?m=g.EphemeralSetting:f?m=g.SenderKeyDistribution:j?m=g.Edit:k?m=g.Forward:i?m=g.Bump:l&&(m=g.Retry);return m}f.ActionType=g;f.getActionType=a}),66);
__d("MWHasLinksUtil",["URLMatcher","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isStringNullOrEmpty")(a)?!1:c("URLMatcher").match(a)!=null}g.getHasLinks=a}),98);
__d("MWVersion",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("2");g.v2=a}),98);
__d("MWSharedS2SBaseAnnotations",["$InternalEnum","I64","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","MWHasLinksUtil","MWMsgActionLogUtils","MWMsgMediaTypeLogUtils","MWPreloadableQueries","MWVersion","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=a.hasAttachment;g=g===void 0?!1:g;var j=a.hasEphemeralSetting,l=a.hasGroupInvite,m=a.hasReaction,n=a.hasReply,o=a.hasSenderKeyDistribution,p=a.hasStoryReply,q=a.hasText;q=q===void 0?!1:q;var r=a.isBump,s=a.isEdit,t=a.isForward,u=a.isRetry,v=a.isUnsend;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasAttachment","hasEphemeralSetting","hasGroupInvite","hasReaction","hasReply","hasSenderKeyDistribution","hasStoryReply","hasText","isBump","isEdit","isForward","isRetry","isUnsend"]);j=d("MWMsgActionLogUtils").getActionType({hasEphemeralSetting:j,hasGroupInvite:l,hasReaction:m,hasReply:n,hasSenderKeyDistribution:o,hasStoryReply:p,isBump:r,isEdit:s,isForward:t,isRetry:u,isUnsend:v});l=d("MWMsgMediaTypeLogUtils").getAttachmentType(a);m=q&&(!l||l===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;n=f!=null?parseInt(f,10):void 0;isNaN(n)&&(n=void 0);return{bool:{has_attachment:g,has_sticker:a.hasSticker,has_text:q,is_attachments_grouped:a.isAttachmentsGrouped,is_pdb:Boolean(c("gkx")("8483")),is_tlc_public_user:c("gkx")("24028"),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{number_of_attachments:a.numberOfAttachments,number_of_grouped_attachments:a.numberOfGroupedAttachments,offline_threading_id:n},string:{action_type:j,attachment_type:l,entrypoint:k(b),message_type:m,multipleTabs:yield d("MultipleTabsLogger").getMultipleTabsAnnotation(),mw_version:(h||(h=d("I64"))).to_string(d("MWVersion").v2),offline_threading_id:f,root_component:e}}});return j.apply(this,arguments)}function k(a){var b;return(b=Object.keys(c("LSMessagingThreadAttributionType")).find(function(b){return c("LSMessagingThreadAttributionType")[b]===a}))!=null?b:"UNKNOWN"}function e(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.db,c=a.threadKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["db","threadKey"]);b=b!=null&&c!=null?yield d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(b,c)):[];return{mediaStagings:b,messageTypeParams:m(babelHelpers["extends"]({},a,{mediaStagings:b}))}});return l.apply(this,arguments)}function m(a){var b=a.externalAttachmentUrl,e=a.hotEmojiSize,f=a.isBump,g=a.isEdit,h=a.isEphemeralSetting,i=a.isForward,j=a.isGroupInvite,k=a.isReaction,l=a.isRetry,m=a.isSenderKeyDistribution,n=a.isUnsend,o=a.mediaGroupInfo,p=a.mediaStagings,q=a.messageText,r=a.reply,s=a.sentFromShareSheet,t=a.stickerId,u=a.threadType;a=a.voiceClip;var v=!c("isStringNullOrEmpty")(q);q=d("MWHasLinksUtil").getHasLinks(q);var w=!1;a=a!=null;a?w=!0:b!=null&&(w=!0);var x=!1,y=!1,z=!1,A=0,B=0,C;if(p!=null&&p.length>0){w=!0;for(var D of p){var E=D.mimeType;E.indexOf("image")!==-1&&(x=!0);E.indexOf("video")!==-1&&(y=!0);E.indexOf("application")!==-1&&(z=!0)}if(x&&u!=null){E=d("LSMessagingThreadTypeUtil").isArmadilloSecure(u);C=!E}A=p.length}o!=null&&(C=!0,B=o.messagesAndAttachments.length);D=e!=null;u=r!=null;E=r!=null;p=t!=null&&!D;o=!p&&b!=null;e=s===!0;r=k===!0;t=j===!0;b=h===!0;s=m===!0;return{hasAttachment:w,hasEphemeralSetting:b,hasFile:z,hasGif:o,hasGroupInvite:t,hasHotEmoji:D,hasImage:x,hasLinks:q,hasReaction:r,hasReply:u,hasSenderKeyDistribution:s,hasShare:e,hasSticker:p,hasStoryReply:E,hasText:v,hasVideo:y,hasVoiceClip:a,isAttachmentsGrouped:C,isBump:f!=null?f:!1,isEdit:g!=null?g:!1,isForward:i!=null?i:!1,isRetry:l!=null?l:!1,isUnsend:n!=null?n:!1,numberOfAttachments:A,numberOfGroupedAttachments:B}}g.MsgType=i;g.getSendToSentBaseAnnotations=a;g.getEntrypointAnnotation=k;g.queryMediaStagingAndGetMessageTypeParams=e;g.getMessageTypeParams=m}),98);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","IGDInteractionTraceAnnotations","LSIntEnum","LSMessagingThreadTypeUtil","MAWEBSwitch","MWGetOriginalEntrypoint","MWMsgActionLogUtils","MWMsgMediaTypeLogUtils","MWSharedS2SBaseAnnotations","MultipleTabsLogger","asyncToGeneratorRuntime","cr:6985","gkx","isArmadillo","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i){var j=b("cr:6985")!=null?yield b("cr:6985").isCutoverThreadKey(a.threadKey):!1;e=(yield d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(e,f,g,i));return{bool:babelHelpers["extends"]({},e.bool,{},d("IGDInteractionTraceAnnotations").getInstamadilloBooleanAnnotations(a),{is_community_event:a.eventStartTimestampMs!=null,is_cutover:c("isArmadillo")()&&j,is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_secure:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}),"int":babelHelpers["extends"]({},e["int"]),string:babelHelpers["extends"]({},e.string,{consistent_thread_fbid:a.consistentThreadFbid!=null?(h||(h=d("I64"))).to_string(a.consistentThreadFbid):null,original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?(h||(h=d("I64"))).to_string(a.threadSubtype):null,thread_type:h.to_string(a.threadType)})}});return k.apply(this,arguments)}function e(a,b,e,f){l(a,b,c("MWGetOriginalEntrypoint")(e.threadKey),e.threadKey,e.consistentThreadFbid,e.threadType,e.threadSubtype,f),d("IGDInteractionTraceAnnotations").addInstamadilloAnnotationsToInteractionTrace(e,a)}function l(a,e,f,g,i,k,l,m){var n=e.hasEphemeralSetting;n=n===void 0?!1:n;var o=e.hasFile;o=o===void 0?!1:o;var p=e.hasGif;p=p===void 0?!1:p;var q=e.hasGroupInvite;q=q===void 0?!1:q;var r=e.hasHotEmoji;r=r===void 0?!1:r;var s=e.hasImage;s=s===void 0?!1:s;var t=e.hasLinks;t=t===void 0?!1:t;var u=e.hasReaction;u=u===void 0?!1:u;var v=e.hasReply;v=v===void 0?!1:v;var w=e.hasSenderKeyDistribution;w=w===void 0?!1:w;var x=e.hasShare;x=x===void 0?!1:x;var y=e.hasSticker;y=y===void 0?!1:y;var z=e.hasStoryReply;z=z===void 0?!1:z;var A=e.hasText;A=A===void 0?!1:A;var B=e.hasVideo;B=B===void 0?!1:B;var C=e.hasVoiceClip;C=C===void 0?!1:C;var D=e.isAttachmentsGrouped,E=e.isBump;E=E===void 0?!1:E;var F=e.isEdit;F=F===void 0?!1:F;var G=e.isForward;G=G===void 0?!1:G;var H=e.isRetry;H=H===void 0?!1:H;var I=e.isUnsend;I=I===void 0?!1:I;var J=e.numberOfAttachments;J=J===void 0?0:J;e=e.numberOfGroupedAttachments;e=e===void 0?0:e;n=d("MWMsgActionLogUtils").getActionType({hasEphemeralSetting:n,hasGroupInvite:q,hasReaction:u,hasReply:v,hasSenderKeyDistribution:w,hasStoryReply:z,isBump:E,isEdit:F,isForward:G,isRetry:H,isUnsend:I});q=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:o,hasGif:p,hasHotEmoji:r,hasImage:s,hasLinks:t,hasShare:x,hasSticker:y,hasVideo:B,hasVoiceClip:C,numberOfAttachments:J,numberOfGroupedAttachments:e});u=A&&(!q||q===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?j.Text:j.NonText;d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",q);a.addAnnotation("action_type",n);a.addAnnotation("message_type",u);a.addAnnotation("original_entrypoint",f);m!=null&&a.addAnnotation("root_component",m);a.addAnnotationInt("number_of_attachments",J);D!=null&&a.addAnnotationBoolean("is_attachments_grouped",D);a.addAnnotation("thread_id",(h||(h=d("I64"))).to_string(g));i!=null&&a.addAnnotation("consistent_thread_fbid",(h||(h=d("I64"))).to_string(i));a.addAnnotation("thread_type",h.to_string(k));l!=null&&a.addAnnotation("thread_subtype",(h||(h=d("I64"))).to_string(l));b("cr:6985")!=null&&c("promiseDone")(b("cr:6985").isCutoverThreadKey(g),function(b){a.addAnnotationBoolean("is_cutover",b)});a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isArmadilloSecure(k));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb",Boolean(c("gkx")("8483")))}function f(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2)))return"media";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4)))return"audio";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728)))return"sticker";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384)))return"gif";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64)))return"file";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1)))return"text";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(536870912)))return"XMA";else return"unknown"}g.MsgType=j;g.getSendToSentAnnotations=a;g.addSendMessageMetadataForInteractionTrace=e;g.addSendMessageMetadataForInteractionTraceWithThreadMetadata=l;g.getMessageTypeFromDisplayedContentType=f}),98);
__d("sendToSentQPLLogger",["LSDatabaseSingleton","LSIntEnum","MAWMIC","MAWSetupWorkerAuxStateForLogging","MAWWaitForBackendSetup","MWLogSendToSentFailedError","MWMsgMediaTypeLogUtils","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","Network","QPLEvent","QPLUserFlow","QuickPerformanceLogger","Random","ReQL","WAExceededStorageQuota","WAGetSafeQPLError","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","interaction-tracing","justknobx","mergeDeep","pageID","performance","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=c("requireDeferred")("MAWWebWorkerSingleton").__setRef("sendToSentQPLLogger"),n=c("qpl")._(25313175,"1551"),o=new Map();function p(a,b){c("QPLUserFlow").addAnnotations(n,b,{instanceKey:a})}function a(a,b){c("QPLUserFlow").endCancel(n,{annotations:b!=null?b:{},instanceKey:a}),u(a)}function e(a,b,e,f){b=f!=null?f.type:b;c("MWLogSendToSentFailedError")({qplEventType:n,qplInstanceKey:a},b,e,f==null?void 0:f.errorCode,f==null?void 0:f.applicationErrorCode);c("QPLUserFlow").endFailure(n,b,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),useSentBytesCache:c("gkx")("33008"),wasBackendSetupReset:d("MAWWaitForBackendSetup").wasBackendSetupReset(),workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(e)},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},error:e,instanceKey:a});u(a)}function q(a,b,d,e){a!=null&&c("QPLUserFlow").addPoint(n,b,{data:e,debugInfo:d,instanceKey:a})}function r(a){(k||(k=c("QuickPerformanceLogger"))).markerEnd(n,160,a),u(a)}function s(a,b){q(a,b?"network_connection_online":"network_connection_offline"),b||r(a)}function t(a){var b=c("interaction-tracing").NetworkStatusTracker.onChange(function(b){b=b.online;s(a,b)});o.set(a,b);s(a,c("interaction-tracing").NetworkStatusTracker.isOnline());if(c("Network").containsNetworkInformation()){b=c("Network").getRTT();b!=null&&p(a,{"int":{network_rtt:b}});b=c("Network").getEffectiveType();b!=null&&p(a,{string:{network_effective_type:String(b)}});var d=c("Network").getBandwidth();d!=null&&p(a,{"int":{network_bandwidth:d}});d=c("Network").getType();d!=null&&p(a,{string:{network_connectivity_type:String(b)}})}}function u(a){var b;(b=o.get(a))==null?void 0:b.remove();o["delete"](a)}function v(a){window.navigator&&window.navigator.hardwareConcurrency&&p(a,{"int":{hardware_concurrency:window.navigator.hardwareConcurrency}})}function w(a,b){a===void 0&&(a=!0);var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(x(b),{annotations:{bool:{backendSetupReady:d("MAWWaitForBackendSetup").isBackendSetupSuccessful(),wasBackendSetupReset:d("MAWWaitForBackendSetup").wasBackendSetupReset(),workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},"int":{timeMsSinceSessionStart:(l||(l=c("performance"))).now()},string:{hostname:window.location.hostname,pageID:c("pageID"),workerHeartbeatsOnStart:d("MAWSetupWorkerAuxStateForLogging").getHeartbeatHistoryAsString(),workerID:d("MAWWaitForBackendSetup").getCurrentWorkerID()},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});c("promiseDone")(d("MAWMIC").getState().then(function(a){p(e,{string:{mic_state:a}})}));a&&c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){p(e,a)}));c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.connectivity_status)).then(function(a){if(!a)return;p(e,{"int":{connection_state_ls_transport:(i||(i=d("LSIntEnum"))).toNumber(a.internetConnectionState)}})})}));c("promiseDone")(m.load().then(function(a){return a.getWorkerHealthStatus().then(function(a){p(e,{string:{workerHealthStatusOnStart:a.tag}})})}));t(e);v(e);return e}function x(a){if((j||(j=d("QPLEvent"))).getSamplingMethod(n)!==1)return n;if(!y(a))return n;a=(j||(j=d("QPLEvent"))).getSampleRate(n);var b=c("justknobx")._("3946");b=Math.max(1,Math.min(b,a));return{i:j.getMarkerId(n),m:j.getSamplingMethod(n),r:b}}function y(a){return a===d("MWMsgMediaTypeLogUtils").AttachmentType.Application||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Audio||a===d("MWMsgMediaTypeLogUtils").AttachmentType.File||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Gif||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Image||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Link||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Sticker||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Video||a===d("MWMsgMediaTypeLogUtils").AttachmentType.Share}function f(a){c("QPLUserFlow").endSuccess(n,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()}},instanceKey:a}),u(a)}function z(a,b,e,f,g,h){g===void 0&&(g=!0);var i=w(g);if(a==null)return i;g=d("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers["extends"]({},b,{threadType:a.threadType}));c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(a,g,e,void 0,h),function(a){a=c("mergeDeep")(a,f);p(i,a)});return i}var A=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){var e=a+"_start";a=a+"_end";c("QPLUserFlow").addPoint(n,e,{instanceKey:b});e=(yield d());c("QPLUserFlow").addPoint(n,a,{instanceKey:b});return e});return function(b,c,d){return a.apply(this,arguments)}}();g.addSendToSentAnnotations=p;g.markSendToSentCancel=a;g.markSendToSentFail=e;g.markSendToSentPoint=q;g.markSendToSentStart=w;g.markSendToSentSuccess=f;g.markSendToSentStartWithAnnotation=z;g.measureSendToSentPerformance=A}),98);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActMappingTableAPI","MAWMiActThreadLifecycleState","MAWThreadMappingState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT});else return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return b!=null?babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT}):{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW};var g=d("MAWThreadMappingState").getActState(b)===d("MAWThreadMappingState").ActState.IN_PROGRESS;if(!g)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE});else if(g){g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY}}}throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,b));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{mappingRow:a,miActThreadState:{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY},thread:f}:{mappingRow:a,miActThreadState:k(f,a,e),thread:f}});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return p.apply(this,arguments)}function e(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield l(a,b,e));if(b.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW&&c!=null)return o(a,(j||(j=d("I64"))).of_string(c),"MAWBridgeOccamadilloVerifyThreadExistsHandler");else return b});return q.apply(this,arguments)}g.getThreadLifecycleStateByJid=l;g.getThreadLifecycleStateAndMappingRowAndThread=a;g.getThreadLifecycleStateByThreadKey=o;g.getThreadLifecycleStateByJidOrThreadKey=e}),98);
__d("isOfflineThreadingId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).to_string(h.max_int).length;function a(a){return(h||(h=d("I64"))).to_string(a).length===i}g["default"]=a}),98);
__d("MAWMiActOnActThreadReadyInstrumentation",["QPLUserFlow","Random","WAHashStringToNumber","isOfflineThreadingId","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WAHashStringToNumber").hashStringToNumber(a+Math.round(d("Random").random()*1e4)+1e4)}function b(a,b,d,e){c("QPLUserFlow").start(c("qpl")._(1056846543,"1530"),{annotations:{bool:{is_otid:c("isOfflineThreadingId")(d)},string:{apiName:e,description:b}},instanceKey:a})}function e(a,b){c("QPLUserFlow").addPoint(c("qpl")._(1056846543,"1530"),b,{instanceKey:a})}function f(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056846543,"1530"),b,{instanceKey:a})}function h(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056846543,"1530"),{instanceKey:a})}function i(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056846543,"1530"),b,{instanceKey:a})}g.getOnActThreadReadyInstanceKey=a;g.startQPL=b;g.addPointQPL=e;g.addAnnotationsQPL=f;g.endSuccessQPL=h;g.endFailureQPL=i}),98);
__d("MAWVerifyThreadExistsUtils",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","isOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=6e4,l=1e4;function m(a){if(j.size>l){c("FBLogger")("messenger_web").mustfix("MAWVerifyThreadExistsUtils: requestedThreadKeys size exceeded limit");return}j.has(a)&&(window.clearTimeout(j.get(a)),j["delete"](a));j.set(a,window.setTimeout(function(){j["delete"](a)},k))}function a(a){return j.has(a)}function b(a,b,e){var f=b.threadKey;f!=null&&m((h||(h=d("I64"))).to_string(f));f!=null&&c("isOfflineThreadingId")(f)&&(h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&c("FBLogger")("messenger_web").warn("MAWVerifyThreadExistsUtils: runVerifyThreadExistsSproc called with offline thread key - callsite: %s",e);return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(a,b)}g.isThreadRequested=a;g.runVerifyThreadExistsSproc=b}),98);
__d("MAWMiActOnActThreadReadyQueue",["ExecutionEnvironment","I64","LSPlatformLsInitLog","MAWInit","MAWMIC","MAWMiActOnActThreadReadyInstrumentation","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","MWChatInteraction","MWFBLogger","asyncToGeneratorRuntime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error executing callback on ACT thread ready: ",", original threadState: ",", threadKey: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Executing queued "," for threadKey: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Took longer than "," ms to execute: "," in threadState: "," for threadKey: ",", onActThreadReady"]);l=function(){return a};return a}var m=d("MWFBLogger").MWLogger.tags(["MiActMapping","UIActions","ThreadReady"]),n=new Map(),o=3e4;function a(a,b,e,f,g,j){var k;if(!(i||(i=c("ExecutionEnvironment"))).isInBrowser)return;d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(j,"enqueue_by_thread_key_start");var p=(h||(h=d("I64"))).to_string(a);k=(k=n.get(p))!=null?k:[];var q=c("setTimeout")(function(){var b=d("MWChatInteraction").getInteractionTraceForThreadKey((h||(h=d("I64"))).to_string(a));b==null?void 0:b.addMarkerPoint("timeout_when_waiting_for_act_thread","AppTiming");b==null?void 0:b.addAnnotation("callsite_waiting_for_act_thread",f);b==null?void 0:b.addAnnotation("initial_thread_state",g);b==null?void 0:b.addAnnotationBoolean("is_mi_thread_requested",d("MAWVerifyThreadExistsUtils").isThreadRequested(p));d("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(j,{bool:{during_mic:d("MAWMIC").duringMIC(),is_thread_requested:d("MAWVerifyThreadExistsUtils").isThreadRequested(p),ls_sync_has_ended:d("LSPlatformLsInitLog").LsSync.hasEnded(),maw_init_completed:d("MAWInit").MAWInitState.isCompleted()}});d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(j,"enqueue_by_thread_key_timeout");m.MUSTFIX(l(),o,f,g,p);e(g)},o);k.push({callback:b,description:f,telemetryInstanceKey:j,threadState:g,timeoutId:q});n.set(p,k)}function e(a,b,c,e){if(a==null&&b==null)return;var f=a!=null?b!=null?"both":"clientThreadKey":"authoritativeThreadKey";a=a==null?0:(a=(a=n.get(a))==null?void 0:a.length)!=null?a:0;b=b==null?0:(b=(b=n.get(b))==null?void 0:b.length)!=null?b:0;d("MAWThreadMappingQPL").addAnnotations({"int":{authorativeThreadKeyCallbacksNum:b,clientThreadKeyCallbacksNum:a},string:{flushBasedOnKey:f,flushReason:e}},c);d("MAWThreadMappingQPL").addPoint("flush_awaiting_callbacks",c)}function f(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=(h||(h=d("I64"))).to_string(a),i=n.get(g);if(i==null||i.length===0)return;while(i.length!==0){var l=i.shift();if(l==null)continue;var o=l.callback,p=l.description,q=l.telemetryInstanceKey,r=l.threadState;l=l.timeoutId;d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(q,"enqueue_by_thread_key_end");d("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(q,{string:{caller_identifier:e,processed_based_on_key:f}});try{m.DEBUG(k(),p,g),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(q),yield o(a,b),c("clearTimeout")(l)}catch(a){c("clearTimeout")(l),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(q,"process_queue_on_act_thread_ready_failure"),m.catching(a).MUSTFIX(j(),p,r,g)}}n["delete"](g)});return p.apply(this,arguments)}g.enqueueByThreadKey=a;g.logOnFlushQueue=e;g.processQueueOnActThreadReady=f}),98);
__d("MAWUnrecoverableDbErrors",[],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="indexed_db_access_error",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(g);var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ear_init_error",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}return a}(g),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ear_runtime_error",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}return a}(g),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){a=b.call(this,a)||this;a.name="ebsm_hydration_error";a.fullDeletion=c;a.qplInstanceKey=d;a.tableName=e;return a}return a}(g),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="wa_exceeded_storage_quota_error",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}return a}(g);function a(a){return a==null?!1:a instanceof g||l(a.name)}function l(a){return a==="indexed_db_access_error"||a==="ear_init_error"||a==="ear_runtime_error"||a==="ebsm_hydration_error"||a==="wa_exceeded_storage_quota_error"}var m=null,n=new Set();function b(){return m}function c(a,b){m=a,b==null?void 0:b(),n.forEach(function(b){return b(a)})}function d(a){n.add(a);return function(){return n["delete"](a)}}f.UnrecoverableDbError=g;f.IndexedDbAccessError=e;f.EarInitError=h;f.EarRuntimeError=i;f.EbsmHydrationError=j;f.WAExceededStorageQuotaError=k;f.isUnrecoverableDbError=a;f.isUnrecoverableDbErrorByName=l;f.getError=b;f.setError=c;f.subscribe=d}),66);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null;function k(a){i=a}function l(){return h}function m(a){h=a}function a(){h=null,i=null}function n(){return p()!=null&&l()!=null}function b(){return j}function o(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function p(){return i}function q(){if(!n())throw c("FBLogger")("messenger_web").mustfixThrow("Vault materials are null");return{encryptionKey:h,prefixAndSuffix:i}}function e(a,b){var d=n();c("FBLogger")("messenger_web").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),d);d||(s(a!=null?a:r()),j=b!=null?b:a!=null?"existing":"newly-generated");return q()}function r(){return{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:o()}}function s(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot set null values for encryption key and prefix");m(b);k(a)}function f(){return t(q())}function t(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function u(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("messenger_web").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=n;g.getVaultMaterialsSource=b;g.getVaultPrefixAndSuffix=p;g.getVaultMaterials=q;g.initializeVaultMaterials=e;g.generateNewVaultMaterials=r;g.materialsToString=f;g.fromMaterialsToString=t;g.fromStringToMaterials=u}),98);
__d("MAWVaultMaterialsStorageStatus",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){return g}function b(){g=!0}f.isCurrentContextHoldingLock=a;f.setIsCurrentContextHoldingLock=b}),66);
__d("MAWVault",["ExecutionEnvironment","FBLogger","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWODSProxy","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","WAOdsEnums","err","gkx","hasMultipleTabs","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function k(a){return new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a)}var l=c("gkx")("23909");function m(a){if(!l)return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function n(a,b){b===void 0&&(b=!1);if(!l)return a;if(m(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null){o("unvault","prefix_null");throw c("FBLogger")("messenger_web").mustfixThrow("Vault prefix and suffix should not be null when unvaulting")}var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2){o("unvault","value_null");throw c("FBLogger")("messenger_web").mustfixThrow("Could not retrieve inner value to unvault")}if(f==null){o("unvault","key_null");throw c("FBLogger")("messenger_web").mustfixThrow("Vault encryption key was null before unvault")}g=g[1];e=""+e+g+e;var i=q(f,g);return a.replace(e,function(){return i})}if(k(a)){o("unvault","incorrect_key");if(b)throw c("FBLogger")("messenger_web").mustfixThrow("Encountered vaulted value with incorrect key.");else{var j=c("err")("Encountered vaulted value with incorrect key");c("promiseDone")(d("hasMultipleTabs").hasMultipleTabs().then(function(a){c("FBLogger")("messenger_web").catching(j).mustfix("Encountered vaulted value with incorrect key. Vault material source: %s, environment: %s, hasMultipleTabs: %s, isSharedWorker: %s, isCurrentContextHoldingLock: %s",d("MAWVaultMaterials").getVaultMaterialsSource(),(h||(h=c("ExecutionEnvironment"))).isInMainThread?"main":"worker",a==null?"unknown_multi_tab":a?"multi_tab":"single_tab",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?"shared_worker":"dedicated_worker",d("MAWVaultMaterialsStorageStatus").isCurrentContextHoldingLock()?"holding_lock":"not_holding_lock")}))}}return a}function o(a,b){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_VAULTING,key:"failure."+a+"."+b})}function a(a){if(a==="")return a;if(!l)return a;if(!(h||(h=c("ExecutionEnvironment"))).isInBrowser)return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){o("vault","has_not_been_setup");c("FBLogger")("messenger_web").mustfix("Attempted to vault value while materials were not setup");return a}if(m(a)){o("vault","already_vaulted");c("FBLogger")("messenger_web").warn("Attempted to vault value that's already been vaulted");return a}k(a)&&(o("vault","already_vaulted_with_different_key"),c("FBLogger")("messenger_web").mustfix("Attempted to vault value that's already been vaulted with a different key"));var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null){o("vault","prefix_or_key_null");throw c("FBLogger")("messenger_web").mustfixThrow("Cannot vault before vault materials are set")}e=p(e,a);return""+b+e+b}function b(a){if(!l)return a;if(!m(a))throw c("FBLogger")("messenger_web").mustfixThrow("Value should be vaulted");return n(a)}function p(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));i==null?void 0:i.set(b,a);j==null?void 0:j.set(a,b);return a}function q(a,b){var c=j==null?void 0:j.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b,void 0,d("MAWKeychainCrypto").ADDITIONAL_DATA.byteLength));i==null?void 0:i.set(c,b);j==null?void 0:j.set(b,c);return c}g.isVaulted=m;g.unvault=n;g.vault=a;g.unvaultOrThrow=b}),98);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PROFILE:0};c={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};e={};f={};var h={},i={},j={};e.name="MessageKey";e.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};f.name="Command";f.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};h.name="Mention";h.internalSpec={mentionType:[1,d.TYPES.ENUM,b],mentionedJid:[2,d.TYPES.STRING],offset:[3,d.TYPES.UINT32],length:[4,d.TYPES.UINT32]};i.name="MessageText";i.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],mentions:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};j.name="SubProtocol";j.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.MENTION_MENTION_TYPE=b;g.FUTURE_PROOF_BEHAVIOR=c;g.MessageKeySpec=e;g.CommandSpec=f;g.MentionSpec=h;g.MessageTextSpec=i;g.SubProtocolSpec=j}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={UNSUPPORTED:-1,IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,FB_POST_MENTION:1011,FB_PROFILE_DIRECTORY_ITEM:1013,FB_FEED_POST_REACTION_REPLY:1014,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,MSG_SHARED_ALBUM:2017,MSG_OCCAMADILLO_XMA:2018,MSG_GEN_AI_SUBSCRIPTION:2021,MSG_GEN_AI_REMINDER:2022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:2023,MSG_NOTE_REPLY:2024,MSG_NOTE_MENTION:2025,GEN_AI_ENTITY:2026,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,RTC_ONGOING_AUDIO_CALL:3008,RTC_ONGOING_VIDEO_CALL:3009,MSG_RECEIVER_FETCH_FALLBACK:3025,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.name="ExtendedContentMessage";f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING],mentionedJid:[24,h.FLAGS.REPEATED|h.TYPES.STRING],commands:[25,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.CommandSpec],mentions:[26,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.MentionSpec]};i.name="ExtendedContentMessage$CTA";i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("MAWXMAUtils",["I64","LSIntEnum","LSXmaContentType","MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);j=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("gkx")("2605");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("gkx")("6952");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return c("gkx")("4902");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return c("gkx")("9339");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:return!1;default:d("WALogger").ERROR(j(),a);return!1}}function e(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_SHARE))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_MENTION))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_PRODUCER_STORY_REPLY)))}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function k(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function l(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_CONTACT))}function m(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function n(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function o(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function p(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function q(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function r(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function s(a){a=babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,defaultPreviewMediaPlaintextHash:void 0,faviconMediaId:void 0,faviconPlaintextHash:void 0,headerMediaId:void 0,headerMediaPlaintextHash:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0});c("justknobx")._("3897")&&(a.targetExpiringAtSec=void 0);return a}function t(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return!0;default:return!1}}function u(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY}function v(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function w(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION?!0:!1}function x(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION}function y(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;default:return!1}}function z(a){return w(a)||y(a)}function A(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function B(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function C(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY}function D(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare_DO_NOT_USE=b;g.isXMAFBStory=e;g.isXMAStoryShare=f;g.isXMAExternalLinkShare=k;g.isXMAContactShare=l;g.isReceiverFetchXMA=m;g.isIGXMAStoryShare=n;g.isXMAPostPrivateReply=o;g.isXMAExpired=p;g.removeCTAsForStoryMentionXMA=q;g.buildUnstoredTombstonedXMA=r;g.buildTombstonedDbXMA=s;g.isXMAStoryReply=t;g.isXMAStoryProducerReply=u;g.isXMAStoryReaction=v;g.isFBXMAStoryMention=w;g.isFBXMAPostMention=x;g.isIGXMAStoryMention=y;g.isXMAStoryMention=z;g.isIGXMAPostShare=A;g.isXMAStoryHighlightShare=B;g.isXMAMsgHighlightsTabFriendUpdatesReply=C;g.isRtcXMA=D}),98);
__d("MWEncryptedBackupsLocalStorageEntryEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_interstitial_dialog_verify_device_nux_dismissed",VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_verify_device_in_thread_nux_dismissed",ENCRYPTED_BACKUPS_OPT_OUT:"maw_encrypted_backups_opt_out",MW_ENCRYPTED_BACKUPS_USER_CLICKED_ON_SETTINGS:"mw_encrypted_backups_user_clicked_on_settings",MW_ENCRYPTED_BACKUPS_HIGH_FRICTION_RESTORE_DISMISSED:"mw_encrypted_backups_high_friction_restore__dismissed",ENCRYPTED_BACKUPS_TURN_OFF_SECURE_STORAGE:"mw_encrypted_backups_turn_off_secure_storage",ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT:"mw_encrypted_backups_remember_browser_consent",ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY:"maw_eb_restored_successfully",MW_EB_SHOULD_NOT_DISPLAY_SOFTBLOCK:"mw_eb_should_not_display_softblock",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION:"maw_eb_has_restored_in_current_session",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2:"maw_eb_has_restored_in_current_session_temp",MW_EB_HAS_SET_UP_IN_CURRENT_SESSION:"maw_eb_has_set_up_in_current_session",ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY:"maw_eb_onboarded_successfully",EB_ONBOARDING_DEFER_UPSELL_UNTIL_TIME:"mw_eb_onboarding_defer_upsell_until_time",EB_ONBOARDING_QP_DISMISSED:"mw_eb_onboarding_qp_dismissed",EB_ONBOARDING_CHAT_TAB_QP_DISMISSED:"mw_eb_onboarding_chat_tab_qp_dismissed",EB_POST_DECISION_WEB_ONLY_ONBOARDING:"mw_eb_post_decision_web_only_onboarding",EB_MOBILE_ONBOARDING_QP_DISMISSED:"mw_eb_mobile_onboarding_qp_dismissed",EB_MOBILE_ONBOARDING_PERSISTENT_BANNER_DISMISSED:"mw_eb_mobile_onboarding_persistent_banner_dismissed",EBSM_CORRUPTION_WIPE:"ebsm_corruption_wipe",MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE:"mw_eb_has_opted_out_of_auto_restore",MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED:"mw_eb_precutover_banner_on_open_thread_dismissed",MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED:"mw_eb_postcutover_banner_on_secure_thread_dismissed",VERIFY_KEYS_IN_CHAT_ENABLED:"mw_eb_verify_keys_in_chat_enabled"});c=a;f["default"]=c}),66);
__d("getMWEncryptedBackupsIsLocalStorageSupported",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){if((h||(h=c("WebStorage"))).getLocalStorage()==null){c("FBLogger")("labyrinth_web").warn("Local storage not supported");return!1}if((h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded()){c("FBLogger")("labyrinth_web").warn("Local storage quota exceeded");return!1}return!0}g.getMWEncryptedBackupsIsLocalStorageSupported=a}),98);
__d("MWEncryptedBackupsSharedState",["ReQL","ReQLSuspense","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function l(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":37")}function m(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(l({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=m({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:m({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?m({db:b,stateKey:a}):c.stateValue}function n(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":131")}function o(a){var b,e=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(a)},[e.tables.experiences_shared_state,a],f.id+":142"))==null?void 0:b.stateValue;var g=k(function(b){return l({db:e,stateKey:a,stateValue:b})},[e,a]);return[b,g]}function p(a){a=o(a);var b=a[0],c=a[1];a=k(function(){void c("true")},[c]);return[b==="true",a]}g.upsertEBSharedStateEntry=l;g.getEntryPresentInLocalStorage=m;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=n;g.useEBSharedStateEntry=o;g.useEBSharedStateEntryBoolean=p}),98);
__d("MWPBumpEntityKey",["CurrentAppID","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){(h||(h=d("ODS"))).bumpEntityKey(3185,a,b)}function a(a,b){var c=d("CurrentAppID").getAppID();c=c==null?"unknown":c;return i(a,b+"."+c)}g.bumpEntityKey=i;g.bumpEntityKeyWithAppId=a}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new URL(function(){var a=(typeof self!=="undefined"?self:typeof window!=="undefined"?window:{location:{href:"http://undefined"}}).location.href;(h||(h=c("ExecutionEnvironment"))).isInWorker&&a&&a.startsWith("blob:")&&(a=a.substring(5,a.length));return a}()),j=new URL(i.href),k=new(d("SimpleHook").SimpleHook)();function l(){var a;return(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(j==null?void 0:(a=j.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{l()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,j.href||i.href);j.href!==b.href?(j.href=b.href,k.call(j)):l()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=j;g.onMainPageUrlChange=k;g.isWorkerLogEnabled=l;g.updateMainPageUrl=a}),98);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(d("SimpleHook").SimpleHook)(),k=new(d("SimpleHook").SimpleHook)(),l="/";function m(a,b){return""+a+l+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?m(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){j.call(this,a)};b.stop=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){k.call(this,a)};return a}();function a(){(i||(i=c("performance"))).mark&&(i||(i=c("performance"))).measure&&(j.add(function(a,b){(i||(i=c("performance"))).mark(a.fullname()+"_start")}),k.add(function(a,b){(i||(i=c("performance"))).measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=j;g.OnRangeStop=k;g.TIME_RANGE_LEVEL_SEPARATOR=l;g.rangeFullName=m;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("DoubleKeyMap").DoubleKeyMap)(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange$p_1=c;i.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_END",{timestamp:a}),i["delete"](this.$QPLRange$p_1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=i.get(this.$QPLRange$p_1,e))!=null?e:new a(b,this.$QPLRange$p_1,this)};return a}(d("NestedTimeRange").NestedTimeRange),k=new(d("DoubleKeyMap").DoubleKeyMap)(),l=new((b=d("SimpleHook")).SimpleHook)(),m=new b.SimpleHook(),n=new b.SimpleHook(),o=new b.SimpleHook(),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f,g){var i;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var j=(h||(h=d("QPLEvent"))).getMarkerId(a);i=b.call(this,"event_"+j)||this;i.event=a;i.instanceKey=c;i.$QPLEvent$p_1=e;i.isUserFlow=f;i.$QPLEvent$p_2=g;k.set(j,c,babelHelpers.assertThisInitialized(i));return i}var e=a.prototype;e.action=function(a){this.$QPLEvent$p_1=a;return this};e.getAction=function(){return this.$QPLEvent$p_1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStart(this,a);l.call(this,a)};e.__onStop=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStop(this,a);m.call(this,a);i.deleteAll(this);k["delete"]((h||(h=d("QPLEvent"))).getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=i.get(this,a))!=null?b:new j(a,this)};e.point=function(a,b){var c;b===void 0&&(b={});(c=this.$QPLEvent$p_2)==null?void 0:c.onPoint(this,a,b);n.call(this,a,b);return this};e.annotate=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onAnnotate(this,a);o.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b,c){var e;b===void 0&&(b=0);return(e=k.get((h||(h=d("QPLEvent"))).getMarkerId(a),b))!=null?e:new p(a,b,2,!1,c)}g.OnEventStart=l;g.OnEventStop=m;g.OnEventPoint=n;g.OnEventAnnotate=o;g.QPLEvent=p;g.event=a}),98);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,(h||(h=c("ExecutionEnvironment"))).isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=a!=null?a:this.$3,this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")((i||(i=b("Promise"))).resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new j(a),this.port2=new j(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=j;g.VirtualMessageChannel=a}),98);
__d("WAArrayZip",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Math.min(a.length,b.length);return a.slice(0,c).map(function(a,c){return[a,b[c]]})}f.zip=a}),66);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){"use strict";var g=new MessageChannel(),h;a=function(){g=new MessageChannel();h(g);return g};b=function(){return g};c=function(a){h=a,h(g)};f.createNewChannel=a;f.getMostRecentChannel=b;f.onCreateNewChannel=c}),66);
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);
__d("WorkerMessagePortLogging",["MainPageUrl","QLogEvent","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.random()<.1,i=20,j=100,k=50;function a(){return d("MainPageUrl").isWorkerLogEnabled()||d("MainPageUrl").mainPageUrl.searchParams.get("worker_log")===1}var l=0;function m(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),l++)}function b(a,b,c){c===void 0&&(c=!1);if(b==null||!h)return;var d=b.sendDelayHighPrecision,e=b.sendTimestamp,f=b.sendDateTime,g=b.receiveTimestamp,l=b.receiveDateTime,n=m();n.startFromTime();var o=n.range("SEND_DELAY");o.start(e);o.stop(g);o=n.range("SEND_DELAY_LOW_PRECISION");o.start(f);o.stop(l);o=Math.abs(e-f);e=Math.abs(g-l);n.annotate({string:{port_name:a},"int":{send_delay:d,send_drift:o,receive_drift:e},bool:{send_delay_above_max:d!=null&&d>i,send_drift_above_max:o>j,receive_drift_above_max:e>j}});if(c){f=n.range("ROUND_TRIP");f.start(b.sendTimestamp);f.stop(b.receiveTimestamp);g=b.receiveTimestamp-b.sendTimestamp;n.annotate({"int":{round_trip:g},bool:{round_trip_above_max:g>k}})}n.stop()}g.isWorkerLogEnabled=a;g.logMessageTiming=b}),98);
__d("WorkerMessagePort",["Deferred","FBLogger","MainPageUrl","Promise","PromiseAnnotate","SimpleHook","VirtualMessageChannel","WorkerMessagePortLogging","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var e=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return e.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return e.onError.call(a)});this.onPostMessage.add(function(a){m(a,{receiveDateTime:-1,receiveTimestamp:-1,sendDateTime:Date.now(),sendDelayHighPrecision:0,sendDelayLowPrecision:0,sendTimestamp:(j||(j=c("performanceAbsoluteNow")))()})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendDateTime,f=a.sendTimestamp,g=(j||(j=c("performanceAbsoluteNow")))(),h=Date.now();a.receiveTimestamp=g;a.receiveDateTime=h;a.sendDelayHighPrecision=g-f;a.sendDelayLowPrecision=h-b;d("WorkerMessagePortLogging").logMessageTiming(e.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.removeAllMessageListeners=function(a){a=this.$1[a];a&&a.clear()};a.onMessageOnce=function(a,c){var d=this;return new(i||(i=b("Promise")))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function o(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var j=o(babelHelpers.assertThisInitialized(g)),k=new(c("Deferred"))();e=k.getPromise();j.addMessageListener("endpoint_started",function(a){k.resolve(a);var b=n(a);j.postMessage({endpoint:a.endpoint,startSendTimestamp:b==null?void 0:b.sendTimestamp,targetEndpoint:g.name,type:"endpoint_started_received"})});f=j.onMessageOnce("endpoint_started_received",function(){return!0});void (h||(h=d("PromiseAnnotate"))).setDisplayName(e,"endpoint_started");void h.setDisplayName(f,"endpoint_started_received");j.postMessage({endpoint:g.name,type:"endpoint_started"});c("promiseDone")(e,function(a){a=n(a);d("WorkerMessagePortLogging").logMessageTiming(g.name,a)});c("promiseDone")(f,function(a){a=n(a);a!=null&&d("WorkerMessagePortLogging").logMessageTiming(g.name,a,!0)});g.fullyConnected=(i||(i=b("Promise"))).race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=o;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},l=1e4,m=0,n=5,o=n+1,p=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),q=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel$p_1=new Map();i.$WorkerFuncChannel$p_2=new Map();i.$WorkerFuncChannel$p_5={"function":{serialize:function(a,b){b=o++;i.$WorkerFuncChannel$p_1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel$p_2.set(c,new p(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel$p_4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel$p_4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel$p_3=f;i.$WorkerFuncChannel$p_4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel$p_1["delete"](a)})};var k=i.__remoteInternalFunc(m,a);typeof jest===typeof void 0&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel$p_2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel$p_2["delete"](c))});a.length>0?k(a):i.$WorkerFuncChannel$p_2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel$p_2.size)},l);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>n||this.$WorkerFuncChannel$p_1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel$p_1.set(a,b);b=this.$WorkerFuncChannel$p_5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel$p_6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel$p_7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel$p_6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel$p_4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel$p_8=function(a,b){var c=this.$WorkerFuncChannel$p_7(a);return this.$WorkerFuncChannel$p_5[c].serialize(a,b)};f.$WorkerFuncChannel$p_9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel$p_5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel$p_8(a,g)});var h=new(i||(i=b("Promise")))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel$p_8(a,g),rejectFunc:e.$WorkerFuncChannel$p_8(b,g)}}),j=e.__onPostOutMessage(d);j!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||x.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel$p_3==null?void 0:e.$WorkerFuncChannel$p_3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel$p_9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel$p_9(e);d=this.$WorkerFuncChannel$p_9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel$p_1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});x.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function s(a,b,d,e){x.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new r(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),x.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return s(c,function(){return new q(function(b){return a},c,null,d)},a,b)}var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function u(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new r(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){x.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new t(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),x.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function v(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new q(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return u(v(a,c,d,e),b)}var w=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return(i||(i=b("Promise"))).resolve()};return a}(),x=new w();function f(a,b,c){x.activate(a,b,c)}g.TransferableTransformer=k;g.WorkerFuncChannel=q;g.exportChannelOnPort=s;g.exportChannel=a;g.importChannelOnPort=u;g.makeChannel=v;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=(h||(h=c("performanceAbsoluteNow")))());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:(h||(h=c("performanceAbsoluteNow")))()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=(h||(h=c("performanceAbsoluteNow")))());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){i.setMessagePort(a)}function b(a){i.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);
__d("isStringNullOrWhitespaceOnly",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a.trim()===""}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("DedupMiThreadCreationCache",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();a=function(a){var b=c("justknobx")._("4749");b&&h.add(a)};g.DedupMiThreadCreationCache=h;g.addToDedupMiThreadCreationCache=a}),98);
__d("EBMainThreadListeners",["EBReenrollmentTriggerListener","LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);d("EBReenrollmentTriggerListener").initEBReenrollmentTriggerListener(a)});return i.apply(this,arguments)}g.initEBListeners=a}),98);
__d("LSSetIGE2EEEligibility",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(176).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.contactId,a[0])&&c.i64.eq(b.e2eeEligibility,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?(d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[1].set("new_eligibility",a[1]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"ig_set_e2ee_eligibility",c.i64.cast([0,60001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactSetIGE2EEEligibilityStoredProcedure";a.__tables__=["ig_contact_info"];e.exports=a}),null);
__d("LSSetIGE2EEEligibilityStoredProcedure",["LSSetIGE2EEEligibility","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSetIGE2EEEligibility"),e.id,e.e2eeEligibility);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("IGDSetIGE2EEEligibility",["I64","LSDatabaseSingleton","LSFactory","LSInstagramE2EEEligibility","LSIntEnum","LSSetIGE2EEEligibilityStoredProcedure","MAWCurrentUser","asyncToGeneratorRuntime","justknobx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h||d("react")).useEffect;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return e.runInTransaction(function(e){return c("LSSetIGE2EEEligibilityStoredProcedure")(c("LSFactory")(e),{e2eeEligibility:(j||(j=d("LSIntEnum"))).ofNumber(b),id:(k||(k=d("I64"))).of_string(a)})},"readwrite",void 0,void 0,f.id+":31")});return n.apply(this,arguments)}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];l(o,b)}function o(){if(c("justknobx")._("2058"))return;var a=d("MAWCurrentUser").getID();c("promiseDone")(m(a,c("LSInstagramE2EEEligibility").ELIGIBLE))}g.useUpsertSetIGE2EEEligibilityOnMount=a}),98);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"8996647210435532",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery",["LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql");g.query=a}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","LSPlatformGraphQLLightspeedRequestQuery","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("CometRelay").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),d("LSPlatformGraphQLLightspeedRequestQuery").query,{deviceId:a,requestId:b,requestPayload:c,requestType:e}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request;if(a!=null)return babelHelpers["extends"]({dependencies:void 0},a)})}g["default"]=a}),98);
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("WAAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.senderId),j=i.of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([f,g],{expirationTimestampMs:j,senderId:g,threadKey:f}).then(c("emptyFunction"));else if(e.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](f,g).then(c("emptyFunction"));else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i=(yield h.load());return l});return j.apply(this,arguments)}function k(a){return new(c("nullthrows")(i))().tokenize(a)}function l(a,b){a=Array.from(k(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(k(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,1021]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","MAWJids","Promise","ReQL","WAJids","asyncToGeneratorRuntime","emptyFunction","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3e4,k=3e4;function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(a));return a.some(function(a){return a==null||(i||(i=d("I64"))).lt(a.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))})===!1});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));var h=(i||(i=d("I64"))).of_string(d("MAWCurrentUser").getID()),j=d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e.serverThreadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,h)}),d("ReQL").fromTableAscending(a.tables.contacts)).map(function(a){a[0];a=a[1];return a}),m=null,n={contents:function(){}};function o(){f(e),n.contents()}if(yield l(j))return o();n.contents=j.subscribe(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.operation==="delete")return;m!=null&&window.clearTimeout(m);if(yield l(j))return o()});return function(b,c){return a.apply(this,arguments)}}());m=window.setTimeout(function(){n.contents(),g(c("err")("Contacts timed out"))},k)});return o.apply(this,arguments)}function a(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=d("MAWJids").convertChatJidToIntJid(e),i=d("WAJids").interpretAsGroupJid(e)!=null,k=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);e=(yield d("ReQL").firstAsync(k));if(e!=null){yield n(a,e);return(h||(h=b("Promise"))).resolve(e)}var l=null,m=new(h||(h=b("Promise")))(function(d,e){var f={contents:function(){}};function g(a){f.contents(),d(a)}function h(a){f.contents(),e(a)}f.contents=k.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){if(c.operation==="delete")return;l!=null&&window.clearTimeout(l);yield n(a,c.value,g,h)});return function(a,b){return c.apply(this,arguments)}}());l=window.setTimeout(function(){h(c("err")("MiActMapping timed out"))},j)});c("promiseDone")(a.runInTransaction(function(a){return i?c("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(c("LSFactory")(a),{waJid:g}):c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:g})},"readwrite",void 0,void 0,f.id+":149"));try{e=(yield m)}catch(a){c("FBLogger")("messenger_web").warn("[FTS] Issue waiting for mi_act_mapping to be ready",a)}return e});return p.apply(this,arguments)}g["default"]=a}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ReQL","asyncToGeneratorRuntime","cr:17064","cr:17065","emptyFunction","gkx","isMAWUniversalSearchWithEBEnabled","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),l=j.ofNumber(c("LSMessageSearchType").THREAD);function a(a,d,e){return e.length===0?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).all([o(a,d,e),q(a,d,e)]).then(c("emptyFunction"))}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWFTSRawStringMatcher").load());return b.filter(function(b){b=(b=b.msg)==null?void 0:b.content;return b==null?!1:c(a,b)})});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.message_search_queries).getKeyRange(k)));if(g.length===0)return;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,f[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(e,h){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=g.filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,h)})[0];if(c==null)return;var j=c.query;if(j==null||j.length<2)return;var k=(i||(i=d("I64"))).to_int32(c.resultCount);j=(yield m(j,f));if(j.length===0)return;yield b("cr:17064").addBridgeSearchMsgsToSearchResult(a,e,c.query,j,k+j.length,i.of_string(d("MAWCurrentUser").getID()))})().then(c("emptyFunction"))})});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){if(!c("isMAWUniversalSearchWithEBEnabled")())return;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.message_search_queries).getKeyRange(l).filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,i.one)})));if(g==null)return;var h=g.query;if(h==null||h.length<2)return;var j=(yield m(h,f));if(j.length===0)return;if(c("gkx")("11537"))c("promiseDone")(c("waitForMiActMappingForUniversalSearch")(a,f[0].chatJid),function(c){if(c!=null)return b("cr:17065")(a,void 0,c.serverThreadKey,h,j,g)});else{yield c("waitForMiActMappingForUniversalSearch")(a,f[0].chatJid);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,f[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(c,d){return b("cr:17065")(a,c,d,h,j,g)})}});return r.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["I64","Promise","WAJids","WALogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to call restore native op - echo and protobuf messages are both null"]);j=function(){return a};return a}var k=c("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler"),l=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("MAWBridgeCallRestoreNativeOpHandler");function a(a,c){var e=c.chatJid,f=c.decryptedMessagesProtobufs,g=c.echoMessages,m=c.hasMoreAfter,n=c.hasMoreBefore,o=c.isPointQuery,p=c.nextMessageTimestampMsAfter,q=c.nextMessageTimestampMsBefore,r=c.referenceTimestamp,s=c.requestId,t=c.taskSource;if(f!=null)return k.load().then(function(a){return a.handleProtobufRestoreHelper(d("WAJids").threadIdForChatJid(e),{convertedProtobufs:f,type:"convertedProtobufs"},n,q,m,p,o,s,r,void 0,void 0,t,e)});else if(g!=null)return l.load().then(function(c){return c(a,0,(i||(i=d("I64"))).zero,g,n,q,m,p,o,d("WAJids").threadIdForChatJid(e),s,r,t,e).then(function(){return(h||(h=b("Promise"))).resolve()})});else d("WALogger").ERROR(j());return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[0].set("is_unbump",a[3]),d[1]=d[0].get("thread_key"),c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[2].set("is_unbump",a[3]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpE2EEMetadataThread"),e.threadKey,e.serverAuthoritativeTimestampMs,e.bumpedByLocalDeviceSend,e.isUnbump);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWMemoriesShareXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*BTDS*/"Has enviado un recuerdo")};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"Este usuario ha enviado un recuerdo"):h._(/*BTDS*/"{user_name} ha enviado un recuerdo",[h._param("user_name",a)])};g.getCurrentUserSendMemoriesShareSnippetFbt=a;g.getParticipantSendMemoriesShareSnippetFbt=b}),226);
__d("MAWPostMentionXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"Has etiquetado a este usuario en tu publicaci\u00f3n"):h._(/*BTDS*/"Has etiquetado a {user_name} en tu publicaci\u00f3n",[h._param("user_name",a)])};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"Este usuario te ha etiquetado en su publicaci\u00f3n"):h._(/*BTDS*/"{user_name} te ha etiquetado en su publicaci\u00f3n",[h._param("user_name",a)])};g.getCurrentUserSendPostMentionSnippetFbt=a;g.getParticipantSendPostMentionSnippetFbt=b}),226);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){switch(a){case"currentUserBumpedOwnMessage":return h._(/*BTDS*/"Has resaltado tu mensaje");case"currentUserBumpedMessage":return d!=null?h._(/*BTDS*/"Has resaltado el mensaje de {name}",[h._param("name",d)]):h._(/*BTDS*/"Has destacado un mensaje");case"participantBumpedCurrentUserMessage":return h._(/*BTDS*/"{sender_name} ha resaltado tu mensaje",[h._param("sender_name",b)]);case"participantBumpedOwnMessage":return h._(/*BTDS*/"{name} ha resaltado su mensaje",[h._param("name",b)]);case"participantBumpedParticipantMessage":return d!=null?h._(/*BTDS*/"{sender_name} ha resaltado el mensaje de {reply_source_sender_name}",[h._param("sender_name",b),h._param("reply_source_sender_name",d)]):h._(/*BTDS*/"{user_name} ha destacado un mensaje",[h._param("user_name",b)]);default:a;c("FBLogger")("messenger_web").mustfix("unexpected bump type %s",a);return""}}g["default"]=a}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"userSendEncryptedMessage":return h._(/*BTDS*/"Esperando este mensaje. Esto puede tardar unos minutos.");case"currentUserSendUnrenderableMessage":return h._(/*BTDS*/"Has enviado un mensaje, pero este navegador no puede mostrarlo.");case"participantSendUnrenderableMessage":return h._(/*BTDS*/"Has recibido un mensaje pero este navegador no puede mostrarlo.");case"currentUserSendLiveLocationFallback":return h._(/*BTDS*/"You sent a live location. Use the Messenger mobile app to see it.");case"currentUserSendLocationFallback":return h._(/*BTDS*/"Has enviado una ubicaci\u00f3n fijada. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"participantSendLiveLocation":return h._(/*BTDS*/"You received a live location. Use the Messenger mobile app to see it.");case"participantSendLocation":return h._(/*BTDS*/"Has recibido una ubicaci\u00f3n fijada. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"currentUserSendPollCreationFallback":return h._(/*BTDS*/"Has enviado una votaci\u00f3n. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"participantSendPollCreation":return h._(/*BTDS*/"Has recibido una votaci\u00f3n. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"currentUserSendContactShareFallback":return h._(/*BTDS*/"Has enviado una tarjeta de contacto. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"participantSendContactShareFallback":return h._(/*BTDS*/"Has recibido una tarjeta de contacto. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"currentUserSendStoryMentionFallback":return h._(/*BTDS*/"Has enviado una menci\u00f3n en una historia. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"participantSendStoryMentionFallback":return h._(/*BTDS*/"Has recibido una menci\u00f3n en una historia. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"currentUserSendPostMentionFallback":return h._(/*BTDS*/"Has enviado una menci\u00f3n en una publicaci\u00f3n. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"participantSendPostMentionFallback":return h._(/*BTDS*/"Has recibido una menci\u00f3n en una publicaci\u00f3n. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verla.");case"currentUserSendNoteMentionFallback":return h._(/*BTDS*/"Has mencionado a alguien en tu nota. Usa la aplicaci\u00f3n para m\u00f3viles de Messenger para verla.");case"participantSendNoteMentionFallback":return h._(/*BTDS*/"Alguien te ha mencionado en su nota. Usa la aplicaci\u00f3n para m\u00f3viles de Messenger para verla.");case"messengerMemoryEncryptedMessageFallback":return h._(/*BTDS*/"Para ver este recuerdo, abre la aplicaci\u00f3n de Messenger en el tel\u00e9fono.");case"metaAISendMessageFallback":return h._(/*BTDS*/"Has recibido un mensaje de Meta AI. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verlo.");case"currentUserSendBumpMessageFallback":return h._(/*BTDS*/"Has enviado un mensaje resaltado. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verlo.");case"participantSendBumpMessageFallback":return h._(/*BTDS*/"Has recibido un mensaje resaltado. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verlo.");case"participantSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"Has recibido un sticker. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verlo.");case"currentUserSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"Has enviado un sticker. Usa la aplicaci\u00f3n de Messenger para m\u00f3viles para verlo.");case"userSendUnavailableMessage":return h._(/*BTDS*/"Mensaje enviado antes de que el dispositivo se a\u00f1adiera a la conversaci\u00f3n, por lo que no se puede entregar.");case"participantSendBumpMessageOriginalUnavailable":return h._(/*BTDS*/"Mensaje no disponible.");case"unavailableStory":return h._(/*BTDS*/"Story unavailable");case"viewOncePhotoMessageFallback":return h._(/*BTDS*/"Esta foto solo puede verse una vez. Utiliza la aplicaci\u00f3n para m\u00f3viles si quieres verla.");case"viewOnceVideoMessageFallback":return h._(/*BTDS*/"Este v\u00eddeo solo puede verse una vez. Utiliza la aplicaci\u00f3n para m\u00f3viles si quieres verlo.");case"rtcXMAMessageFallback":return h._(/*BTDS*/"Para ver este mensaje de notificaci\u00f3n de llamada, abre la aplicaci\u00f3n de Messenger en tu tel\u00e9fono.");default:a;c("FBLogger")("messenger_web").mustfix("unexpected content fallback type %s",a);return""}}g["default"]=a}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","MAWMemoriesShareXMASnippetFbt","MAWPostMentionXMASnippetFbt","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){switch(e){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._(/*BTDS*/"Has creado este grupo").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._(/*BTDS*/"{actor} ha creado este grupo",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._(/*BTDS*/"Se ha creado este grupo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._(/*BTDS*/"Has asignado al grupo el nombre {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._(/*BTDS*/"El nombre del grupo se ha establecido como {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._(/*BTDS*/"{actor} ha asignado al grupo el nombre {custom group name}.",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._(/*BTDS*/"Has a\u00f1adido un nuevo dispositivo a esta conversaci\u00f3n.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._(/*BTDS*/"{actor} ha a\u00f1adido un nuevo dispositivo a esta conversaci\u00f3n.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._(/*BTDS*/"Has suprimido un dispositivo de esta conversaci\u00f3n.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._(/*BTDS*/"{actor} ha suprimido un dispositivo de esta conversaci\u00f3n.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._(/*BTDS*/"Tu clave ha cambiado.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._(/*BTDS*/"La clave de {user_name} ha cambiado.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._(/*BTDS*/"Has a\u00f1adido a {user_name} al grupo. Esta persona solo podr\u00e1 ver los mensajes enviados cuando le hayan a\u00f1adido al grupo.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._(/*BTDS*/"Has a\u00f1adido a {user_name_1} y {user_name_2} al grupo. Solo podr\u00e1n ver los mensajes que se env\u00eden despu\u00e9s de haberles a\u00f1adido.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._(/*BTDS*/"Has a\u00f1adido a {user_name} y {number of participants} personas m\u00e1s al grupo. Solo podr\u00e1n ver los mensajes que se env\u00eden despu\u00e9s de haberles a\u00f1adido.",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._(/*BTDS*/"{actor} te ha a\u00f1adido al grupo. Solo podr\u00e1s ver los mensajes que se env\u00eden despu\u00e9s de haberte a\u00f1adido.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"{actor} os ha a\u00f1adido a ti y a {user_name} al grupo. Solo podr\u00e9is ver los mensajes que se env\u00eden despu\u00e9s de haberos a\u00f1adido.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._(/*BTDS*/"{actor} os ha a\u00f1adido a ti y a {number of participants} personas m\u00e1s al grupo. Solo podr\u00e9is ver los mensajes que se env\u00eden despu\u00e9s de haberos a\u00f1adido.",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._(/*BTDS*/"{actor} ha a\u00f1adido a {user_name} al grupo. Solo podr\u00e1 ver los mensajes que se env\u00eden despu\u00e9s de haberle a\u00f1adido.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._(/*BTDS*/"{actor} ha a\u00f1adido a {user_name_1} y {user_name_2} al grupo. Solo podr\u00e1n ver los mensajes que se env\u00eden despu\u00e9s de haberles a\u00f1adido.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"{actor} ha a\u00f1adido a {user_name_1} y {number of participants} personas m\u00e1s al grupo. Solo podr\u00e1n ver los mensajes que se env\u00eden despu\u00e9s de haberles a\u00f1adido.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._(/*BTDS*/"Has eliminado a {user_name} del grupo.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._(/*BTDS*/"{user_name_1} te ha suprimido del grupo.",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._(/*BTDS*/"{user_name_1} ha eliminado a {user_name_2} del grupo.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._(/*BTDS*/"{name} ha abandonado el grupo.",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._(/*BTDS*/"Has abandonado el grupo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._(/*BTDS*/"{user_name} ahora es administrador(a).",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._(/*BTDS*/"{user_name} ya no es administrador(a).",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._(/*BTDS*/"Ahora eres administrador.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._(/*BTDS*/"Ya no eres administrador.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._(/*BTDS*/"{actor} te ha a\u00f1adido como administrador del grupo.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._(/*BTDS*/"{actor} te ha suprimido como administrador del grupo.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} ha a\u00f1adido a {target} como administrador del grupo.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} ha suprimido a {target} como administrador del grupo.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"Has suprimido a {target} como administrador del grupo.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"Has a\u00f1adido a {target} como administrador del grupo.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._(/*BTDS*/"{actor} se ha suprimido como administrador del grupo.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._(/*BTDS*/"Te has suprimido como administrador del grupo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._(/*BTDS*/"T\u00fa").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._(/*BTDS*/"Has enviado una foto.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._(/*BTDS*/"Has enviado un v\u00eddeo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._(/*BTDS*/"Has enviado un mensaje de voz.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._(/*BTDS*/"Has enviado un GIF.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._(/*BTDS*/"Has enviado un sticker.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._(/*BTDS*/"Has enviado un archivo adjunto.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return h._(/*BTDS*/"You sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return h._(/*BTDS*/"Has enviado un reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._(/*BTDS*/"Has enviado una historia.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"Has enviado una tarjeta de contacto.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return h._(/*BTDS*/"Has enviado un evento.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"You sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return h._(/*BTDS*/"You mentioned \u0040{user} in your story.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return h._(/*BTDS*/"Te ha mencionado en su historia").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return h._(/*BTDS*/"Has mencionado a esta persona en tu historia").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return h._(/*BTDS*/"{user} te ha mencionado en su historia",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._(/*BTDS*/"{user} ha enviado una foto.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._(/*BTDS*/"{user} ha enviado un v\u00eddeo.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._(/*BTDS*/"{user} ha enviado un mensaje de voz.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._(/*BTDS*/"{user} ha enviado un GIF.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._(/*BTDS*/"{user} ha enviado un sticker.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return h._(/*BTDS*/"Sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return h._(/*BTDS*/"Sent a reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._(/*BTDS*/"{user} ha enviado un archivo adjunto.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return h._(/*BTDS*/"Has enviado una ubicaci\u00f3n.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return h._(/*BTDS*/"{user} te ha enviado una ubicaci\u00f3n.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._(/*BTDS*/"{user} ha enviado una historia.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"{user} ha enviado una tarjeta de contacto.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return h._(/*BTDS*/"{user} ha enviado un evento.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"Sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return h._(/*BTDS*/"Mensaje no disponible").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._(/*BTDS*/"Ahora pod\u00e9is enviaros mensajes y llamaros, adem\u00e1s de ver informaci\u00f3n como vuestro estado activo y cu\u00e1ndo le\u00e9is los mensajes.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return h._(/*BTDS*/"Ahora pod\u00e9is enviaros mensajes y llamaros.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._(/*BTDS*/"Esta cuenta no puede recibir tu mensaje porque no permite nuevas solicitudes de mensaje de cualquier persona.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"Se han activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"Has activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha activado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"Se han cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"Los mensajes y las llamadas nuevos est\u00e1n protegidos con cifrado de extremo a extremo. \u00danicamente pueden leerlos, escucharlos o compartirlos las personas que participan en este chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return h._(/*BTDS*/"Tu otro chat se ha archivado.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"Instagram upgraded the security of this chat. Messages and calls will be secured with end-to-end encryption.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._(/*BTDS*/"Puede que tus mensajes anteriores est\u00e9n en tu otro chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._(/*BTDS*/"Se ha detectado un dispositivo no autorizado en tu cuenta. Te recomendamos que compares las claves con tus contactos para proteger el chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"Has cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} segundos despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 segundo despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} minutos despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 minuto despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} horas despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 hora despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n {number} d\\u00edas despu\\u00e9s de enviarse.\",\"_1\":\"{user} ha cambiado los mensajes temporales. Los mensajes desaparecer\\u00e1n 1 d\\u00eda despu\\u00e9s de enviarse.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"Los mensajes temporales se han desactivado.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"Has desactivado los mensajes temporales.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"{user} ha desactivado los mensajes temporales.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return h._(/*BTDS*/"Se han desactivado los mensajes temporales. Vuelve a activarlos para que los mensajes desaparezcan 24 horas despu\u00e9s de enviarse.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._(/*BTDS*/"Has anulado el env\u00edo de un mensaje").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._(/*BTDS*/"{first name} ha anulado el env\u00edo de un mensaje",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._(/*BTDS*/"{name} ha reaccionado con {emoji} a tu mensaje",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._(/*BTDS*/"Ha reaccionado con {emoji} a tu mensaje",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"Se ha hecho una captura de pantalla.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"Se ha grabado la pantalla actual.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"Has hecho una captura de pantalla.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"Has grabado la pantalla.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"{user} ha hecho una captura de pantalla.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"{user} ha grabado la pantalla.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._(/*BTDS*/"Los mensajes y las llamadas est\u00e1n protegidos con cifrado de extremo a extremo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU:return h._(/*BTDS*/"Alguien te ha a\u00f1adido al grupo. Solo podr\u00e1s ver los mensajes enviados cuando te hayan a\u00f1adido al grupo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"Alguien os ha a\u00f1adido a {user_name} y a ti al grupo. Solo podr\u00e9is ver los mensajes enviados cuando os hayan a\u00f1adido al grupo.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._(/*BTDS*/"Alguien os ha a\u00f1adido a ti y a {number of participants} personas m\u00e1s al grupo. Solo podr\u00e9is ver los mensajes enviados cuando os hayan a\u00f1adido al grupo.",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:return h._(/*BTDS*/"Alguien ha a\u00f1adido a {user_name} al grupo. Esta persona solo podr\u00e1 ver los mensajes enviados cuando le hayan a\u00f1adido al grupo.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:return h._(/*BTDS*/"Alguien ha a\u00f1adido a {user_name_1} y a{user_name_2} al grupo. Estas personas solo podr\u00e1n ver los mensajes enviados cuando les hayan a\u00f1adido al grupo.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"Has a\u00f1adido a {user_name_1} y {number of participants} personas m\u00e1s al grupo. Estas personas solo podr\u00e1n ver los mensajes enviados cuando les hayan a\u00f1adido al grupo.",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"Tienes una llamada de audio perdida de {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"Tienes una llamada perdida de un contacto.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user_name} tiene una llamada de audio perdida tuya.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"Un contacto tiene una llamada de audio perdida tuya.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"Tienes una videollamada perdida de {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"Tienes una videollamada perdida de un contacto.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} tiene un chat de v\u00eddeo perdido tuyo.",[h._param("user",e)]).toString():h._(/*BTDS*/"Un contacto tiene un chat de v\u00eddeo perdido tuyo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:return h._(/*BTDS*/"La llamada de audio ha finalizado.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return h._(/*BTDS*/"La videollamada ha finalizado.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return h._(/*BTDS*/"Has iniciado una llamada.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} ha iniciado una llamada.",[h._param("user",e)]).toString():h._(/*BTDS*/"Un contacto ha iniciado una llamada.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return h._(/*BTDS*/"Has iniciado un chat de v\u00eddeo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} ha iniciado un chat de v\u00eddeo.",[h._param("user",e)]).toString():h._(/*BTDS*/"Un contacto ha iniciado un chat de v\u00eddeo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"Has configurado la reacci\u00f3n r\u00e1pida como {emoji}.",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"{participant_name} ha configurado la reacci\u00f3n r\u00e1pida como {emoji}.",[h._param("participant_name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return h._(/*BTDS*/"Has cambiado el apodo de {participant_name} a {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"Has cambiado el estilo a {theme_name} {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"Has cambiado el estilo a {theme_name}.",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"Has cambiado el tema mediante IA a \"{theme_name}\" {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"Has cambiado el tema mediante IA a \"{theme_name}\".",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"Has cambiado la foto del grupo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return h._(/*BTDS*/"Has fijado un mensaje.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return h._(/*BTDS*/"Has desfijado un mensaje.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return h._(/*BTDS*/"Vas a enviar un mensaje a {participant_name} por primera. Si en alg\u00fan momento la situaci\u00f3n te incomoda, tienes",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} ha cambiado el apodo de {participant_name_2} a {nickname}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} ha borrado el apodo de {participant_name_2}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} ha cambiado el estilo a {theme_name} {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} ha cambiado el estilo a {theme_name}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} ha cambiado el tema mediante IA a \"{theme_name}\". {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} ha cambiado el tema mediante IA a \"{theme_name}\".",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:return h._(/*BTDS*/"Has creado una votaci\u00f3n: {poll_name}.",[h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:return h._(/*BTDS*/"{participant_name} ha creado una votaci\u00f3n: {poll_name}.",[h._param("participant_name",b[0]),h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:return h._(/*BTDS*/"{participant_name} ha a\u00f1adido la opci\u00f3n \"{poll_option}\" a la votaci\u00f3n.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} ha votado por \"{poll_option}\" en la votaci\u00f3n.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:return h._(/*BTDS*/"Has a\u00f1adido \"{poll_option}\" a la votaci\u00f3n.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:return h._(/*BTDS*/"Has votado \"{poll_option}\" en la votaci\u00f3n.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} ha a\\u00f1adido la opci\\u00f3n \\\"{poll_option}\\\" y {num_other_options} opciones m\\u00e1s a la votaci\\u00f3n.\",\"_1\":\"{participant_name} ha a\\u00f1adido \\\"{poll_option}\\\" y {num_other_options} opci\\u00f3n m\\u00e1s a la votaci\\u00f3n.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"Has a\\u00f1adido \\\"{poll_option}\\\" y {num_other_options} opciones m\\u00e1s a la votaci\\u00f3n.\",\"_1\":\"Has a\\u00f1adido \\\"{poll_option}\\\" y {num_other_options} opci\\u00f3n m\\u00e1s a la votaci\\u00f3n.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"Has votado \\\"{poll_option}\\\" y {num_other_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"Has votado \\\"{poll_option}\\\" y {num_other_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} ha votado por \\\"{poll_option}\\\" y {num_other_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"{participant_name} ha votado por \\\"{poll_option}\\\" y {num_other_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"Has suprimido tu voto por \\\"{poll_option}\\\" y {num_other_removed_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"Has suprimido tu voto por \\\"{poll_option}\\\" y {num_other_removed_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} ha suprimido su voto por \\\"{poll_option}\\\" y {num_other_removed_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"{participant_name} ha suprimido su voto por \\\"{poll_option}\\\" y {num_other_removed_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:return h._(/*BTDS*/"Has suprimido tu voto por \"{poll_option}\" en la votaci\u00f3n.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} ha suprimido su voto por \"{poll_option}\" en la votaci\u00f3n.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:return h._(/*BTDS*/"Hay varias actualizaciones en la votaci\u00f3n de {participant_name}.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:return h._(/*BTDS*/"Hay varias actualizaciones en tu votaci\u00f3n.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:return h._(/*BTDS*/"Has cambiado tu voto a \"{poll_option}\" en la votaci\u00f3n.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} ha cambiado su voto a \"{poll_option}\" en la votaci\u00f3n.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"Has cambiado tu voto a \\\"{poll_option}\\\" y {num_other_changed_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"Has cambiado tu voto a \\\"{poll_option}\\\" y {num_other_changed_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} ha cambiado su voto a \\\"{poll_option}\\\" y {num_other_changed_votes} opciones m\\u00e1s en la votaci\\u00f3n.\",\"_1\":\"{participant_name} ha cambiado su voto a \\\"{poll_option}\\\" y {num_other_changed_votes} opci\\u00f3n m\\u00e1s en la votaci\\u00f3n.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:return h._(/*BTDS*/"Se ha anulado el env\u00edo de una votaci\u00f3n.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"{participant_name} ha cambiado la foto de grupo.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} ha fijado un mensaje.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} ha desfijado un mensaje.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} ha cambiado tu apodo a {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return h._(/*BTDS*/"Has cambiado tu apodo a {nickname}.",[h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"Has borrado tu apodo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"Has borrado el apodo de {participant_name}.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} ha cambiado su apodo a {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} ha borrado su apodo.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} ha borrado tu apodo.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"Has cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"solo administradores\".").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"Has cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"todos los miembros\".").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"{participant_name} ha cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"solo administradores\".",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"{participant_name} ha cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"todos los miembros\".",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"Un administrador del chat ha cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"todos los miembros\".").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"Un administrador del chat ha cambiado qui\u00e9nes pueden a\u00f1adir a personas a \"solo administradores\".").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,b[0],b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getCurrentUserSendMemoriesShareSnippetFbt().toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getParticipantSendMemoriesShareSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"Has activado los permisos para compartir los mensajes de este chat. Todos los miembros del chat pueden compartir los mensajes con Meta AI o guardar las fotos autom\u00e1ticamente.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"Has desactivado los permisos para compartir los mensajes de este chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"{participant_name} ha activado los permisos para compartir los mensajes de este chat. Todos los miembros del chat pueden compartir los mensajes con Meta AI o guardar las fotos autom\u00e1ticamente.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"{participant_name} ha desactivado los permisos para compartir los mensajes de este chat.",[h._param("participant_name",b[0])]).toString();default:return""}}g.buildLocalizedString=a}),226);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(a of a)d.set(c(a),b(a));return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WACommon.pb","WAJids","emptyFunction","fillArray","justknobx","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];c=new RegExp(c,"g");return a.replace(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f,g){g===void 0&&(g=[]);e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var i=k(a,e),l=[],m=[],n=[],o=0;for(i of i){var p=d("WAJids").unsafeCoerceToUserJid(i[0]);l.push(d("WAJids").userIdFromJid(p));var q=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,p);m.push(q.length+1);n.push(Math.max(i.index-1+o,0));o+=q.length-p.length}q=c("fillArray")(l.length,"p");for(p of g){i=p.commandType;o=p.length;g=p.offset;if(o==null||g==null)continue;switch(i){case d("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE:q.push("t");l.push("t");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI:q.push("ai");l.push("ai");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI_IMAGINE:q.push("im");l.push("im");n.push(g);m.push(o);break;default:break}}i=k(f,e);for(g of i){o=d("WAJids").unsafeCoerceToUserJid(g[0]);l.push(d("WAJids").userIdFromJid(o))}return{mentionIds:h(l),mentionLengths:h(m),mentionOffsets:h(n),mentionTypes:h(q),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,e,f){b=c("mapPull")(b,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);return l(a,b,b,e,f)}function n(a,b,c,e,f){return b&&c>0||e?f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}function b(a,b,e,f){b=c("mapPull")(b!=null?b:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(b.size===0||a==null||a===""){var g=o(f),h=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(f),i=d("MAWThreadCustomizationUtils").skipNicknameCheck(f);f=e.map(function(a,b){return n(a,h,b,i,g)});return[a,f]}f=new Map([].concat(Array.from(b.keys()),e).map(function(a){return[a,"$PARTICIPANT_FULL_NAME("+a+")"]}));return m(a,e,f,b)}function o(a){return c("justknobx")._("4603")?d("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(a):a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=b}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWVault","first","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null?d("MAWVault").unvault(a):void 0}function i(a,b,c){if(a==null)return b;b=[].concat(b);switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:b[0]=a;break}return b}function j(a){return a.replace(/\$/g,"$$$$")}function a(a,b){var e=a.snippetContactIDs,f=a.snippetMentionJIDs,g=a.snippetParams,k=a.snippetSenderContactId;a=a.snippetType;if(g==null||a==null||e==null)return b;k!=null&&!e.includes(k)&&c("justknobx")._("3140")&&e.push(k);b=h(c("first")(g));k=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(b==null?null:j(b),f,e,a);b=k[0];f=k[1];return d("MAWAdminMsg").buildLocalizedString(i(b,g,a),f,a)}g.buildBridgeThreadSnippet=a}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video"}}g["default"]=a}),98);
__d("MAWBridgeCentralizedThreadUpdateHandler",["I64","LSAuthorityLevel","LSBumpE2EEMetadataThreadStoredProcedure","LSDatabaseSingleton","LSFactory","LSIntEnum","MAWBridgeBuildThreadSnippet","MAWBridgeFireAndForget","MAWChatJid","MAWJids","MAWLocalizationType","MAWMiActGetThreadLifecycleState","MAWODSProxy","MAWThreadBumpType","MAWThreadUpdateMiddlewareGatingUtil","MAWThreadUpdateType","MWFBLogger","ODS","ReQL","WAJids","WAOdsEnums","WATimeUtils","asyncToGeneratorRuntime","getMAWLastMessageCtaType","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Encountered lastActivityTs == 0 for thread jid : "," with authority level: ",", threadType : ",", threadStatus : ",", folderType : ",", numMsgs (limit 5): "," and msgContentTypes: [","]"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for bumping jid: "," with thread state: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Skipping receiver bump for own message on thread ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Starting Thread Update on "," via middleware. threadKey: ",", authorityLevel: ",", lastActivityTimestampMs: ",", bumpTimestampMs: ",", bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",", isUnbump: ",", isThrottled: "," from ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Updated thread via middleware. threadKey: ",", bumpTimestampMs: ",",\n    original lastActivityTimestampMs: ","\n    , bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",",  from ",""]);p=function(){return a};return a}var q=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("MAWChatJid").toThreadMaybe(a,b.jid));if(e==null){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b.jid),"MAWBridgeCentralizedThreadUpdateHandler"));q.MUSTFIX(m(),b.jid,f.type);return}return(h||(h=d("I64"))).lt(e.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!b.bumpedByLocalDeviceSend?G(e,b):s(a,e,b)});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=b;b=f;b=b.threadKey;var g=e.author,i=e.bumpedByLocalDeviceSend,k=e.bumpTimestampMs,m=e.centralizedThreadSnippetData,n=e.threadUpdateType;if(n===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE)return;var o=f.lastActivityTimestampMs;B(e,f,"Local",e.isUnbump,e.threadBumpType);if((h||(h=d("I64"))).equal(o,(h||(h=d("I64"))).zero)){var p;J("zero_last_activity_timestamp");var r=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f.threadKey).take(5))),s=r.length;r=r.map(function(a){return(h||(h=d("I64"))).to_string(a.displayedContentTypes)}).join(",");q.WARN(l(),e.jid,(h||(h=d("I64"))).to_string(f.authorityLevel),h.to_string(f.threadType),h.to_string((p=f.threadStatus)!=null?p:(h||(h=d("I64"))).neg_one),f.folderName,s,r)}p=C(e,o);s=p.isUnbump;r=p.threadBumpType;if(n===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD||n===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD||s){J("bump_on_local");s&&(f=w(s,k,f),n!==d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD&&(f=y(k,f,s)));p=D(g,i,r,k,o,f.threadKey,m.snippetType);if(p){n={bumpedByLocalDeviceSend:i,isUnbump:s,serverAuthoritativeTimestampMs:k,threadKey:b};(j||(j=d("ODS"))).bumpEntityKey(3185,"maw_tc_server_thread_bump",""+((g=e.centralizedThreadSnippetData.snippetType)!=null?g:"undefined"));B(e,f,"Server",s,r);yield u(c("LSFactory")(a),n)}}var t=z(e.centralizedThreadSnippetData,f);return a.threads.put(t).then(function(){f!=null&&A(e,o,t)})});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){J("bump_on_server");return c("LSBumpE2EEMetadataThreadStoredProcedure")(a,b)});return v.apply(this,arguments)}function w(a,b,c){return!x(a,b,c)?c:babelHelpers["extends"]({},c,{lastActivityTimestampMs:b})}function x(a,b,c){return a?(h||(h=d("I64"))).lt(b,c.lastActivityTimestampMs):(h||(h=d("I64"))).gt(b,c.lastActivityTimestampMs)}function y(a,b,c){return!c&&(h||(h=d("I64"))).lt(a,b.lastReadWatermarkTimestampMs)?b:babelHelpers["extends"]({},b,{lastReadWatermarkTimestampMs:a})}function z(a,b){var e=a.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(a.snippetSenderContactId):(h||(h=d("I64"))).zero,f=c("getMAWLastMessageCtaType")(a.snippetType);a=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(a,b.snippet);return babelHelpers["extends"]({},b,{lastMessageCtaType:f,snippet:a,snippetSenderContactId:e})}function A(a,b,c){q.DEBUG(p(),(h||(h=d("I64"))).to_string(c.threadKey),h.to_string(c.lastActivityTimestampMs),h.to_string(b),a.bumpedByLocalDeviceSend,a.threadBumpType,a.threadUpdateType,a.description)}function B(a,b,c,e,f){c=[c,(h||(h=d("I64"))).to_string(b.threadKey),h.to_string(b.authorityLevel),h.to_string(b.lastActivityTimestampMs),h.to_string(a.bumpTimestampMs),a.bumpedByLocalDeviceSend,f,a.threadUpdateType,e,a.isThrottled,a.description];q.DEBUG(o(),c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10])}function C(a,b){var e=c("justknobx")._("3068");if(e)return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType};e=(h||(h=d("I64"))).lt(a.bumpTimestampMs,b);if(a.isThrottled&&e){switch(a.tableName){case"messages":J("unbump_from_message_in_throttle");break;case"reactions":J("unbump_from_reaction_in_throttle");break;default:J("unbump_from_throttle")}e=a.tableName==="reactions";e&&d("MAWThreadUpdateMiddlewareGatingUtil").isPeristedUnbumpEnabled()&&d("MAWBridgeFireAndForget").fireAndForget("backend","unbumpThread",{incomingUnbumpFromTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(b)),threadJid:a.jid});return{isUnbump:!0,threadBumpType:d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_ONLY}}return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType}}function D(a,b,c,e,f,g,i){if(c!==d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_AND_SERVER)return!1;if(E(a,b,i)){q.DEBUG(n(),(h||(h=d("I64"))).to_string(g));return!1}J("check_if_bump_is_newer_than_current_activity");c=(h||(h=d("I64"))).gt(e,f);c||J("server_bump_prevented");return c}function E(a,b,c){return a!=null&&d("WAJids").isAuthorMe(a)&&b===!1&&!F(c)}function F(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED}function G(a,b){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton);J("wait_for_authoritative_thread_start");I(a.threadKey,e,function(a){J("wait_for_authoritative_thread_end");var g=(h||(h=d("I64"))).to_float(a.lastActivityTimestampMs);J("ts_of_authoritative_thread_after_wait_"+(g>0?"gt_0":"eq_0"));c("promiseDone")(e.runInTransaction(function(c){return s(c,a,b)},"readwrite",void 0,void 0,f.id+":505"))});return});return H.apply(this,arguments)}function I(a,b,e){var f=d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).lt(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;e(a);return f()})}function J(a){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:a})}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ReQL","asyncToGeneratorRuntime","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeDeleteGroupInviteHandler",function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.group_invites).getKeyRange(f)));return(h||(h=b("Promise"))).all(g.map(function(a){return e.group_invites["delete"](a.threadKey,a.inviterId,a.inviteeId)})).then(function(){if(!c("justknobx")._("1162"))return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)),function(b){if(b==null)return;var c=d("LSThreadBitOffset").clear([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),e=c[0],f=c[1],g=c[2],h=c[3];c=c[4];return a.threads.put(babelHelpers["extends"]({},b,{capabilities:e,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:c,snippet:void 0}))})})});return function(a,b){return e.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteMessageRangesV2Handler",function(a,c){return a.messages_ranges_v2__generated["delete"](c,(h||(h=d("I64"))).of_float(b.minTimestampMs),b.minMsgId)})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesHandler",["LSIntEnum","LSReplyMessageStatus","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeDeleteMessagesHandler",function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){for(var f of c.messages)if(d("MAWMpsGating").isFullMpsEnabled()){var g=(yield a.messages.index("messageId").get(f.msgId));g!=null&&(yield b.messages["delete"](g.threadKey,g.timestampMs,g.messageId));yield j(b,f.msgId)}else yield b.messages["delete"](e,d("MAWTimeUtils").toTimestamp(f.ts),f.msgId)});return function(a,b){return e.apply(this,arguments)}}())}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(e)));yield (i||(i=b("Promise"))).all(e.map(function(b){b=babelHelpers["extends"]({},b,{replyStatus:(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)});return a.messages.put(b)}))});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b)));return a==null?void 0:a.messageId});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield j(a,b.originalMsgExternalId));if(f==null){c("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}f={messageContent:b.msgContent.content,originalMessagePk:f,sendStatus:b.sendStatus!=null?(i||(i=d("I64"))).of_int32(b.sendStatus):(i||(i=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(i||(i=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(f)});return m.apply(this,arguments)}function n(a,b,e,f,g){g={messageContent:b.msgContent.content,originalMessagePk:g,pk:f,sendStatus:b.sendStatus!=null?(i||(i=d("I64"))).of_int32(b.sendStatus):(i||(i=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(i||(i=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(g)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("MAWChatJid").toThreadKeyMaybe(a.tables,c.threadJid));if(a==null)return;var e=c.editMsgHistoryId,f=c.originalMsgId;b=f==null||e==null?l(b,c,a):n(b,c,a,e,f);return b});return p.apply(this,arguments)}function a(a,d,e){return(h||(h=b("Promise"))).all(e.map(function(b){return o(a,d,b)})).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.success?(d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(a.value.traceId),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a.value.traceId)):(d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a.error.traceId,c("err")(a.error.message)),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a.error.traceId));return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MWFBLogger","ODS","ReQL","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['MAWDB groupInfo is missing "name" field for threadKey: ',""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for updating group with threadKey: ",""]);k=function(){return a};return a}var l=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.chatJid,"MAWBridgeGroupInfoUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;f=(f=e.threadName)!=null?f:void 0;a=a.threads;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b)));if(g==null){(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread");l.WARN(k(),(i||(i=d("I64"))).to_string(b));return}else f==null&&c("justknobx")._("4129")&&(f=g.threadName,l.WARN(j(),(i||(i=d("I64"))).to_string(b)));b=e.memberAddMode!=="all_member_add";yield a.put(babelHelpers["extends"]({},g,{needsAdminApprovalForNewParticipant:b,threadName:f}))});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,f,g)]).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.plaintextHash))})}g.call=a}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=new Set([(c=d("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,c.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,c.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,c.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,c.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,c.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,c.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),l=new Set([c.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,c.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,c.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,c.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),m=h._(/*BTDS*/"Cambiar").toString(),n=h._(/*BTDS*/"Ver todo").toString(),o=h._(/*BTDS*/"M\u00e1s informaci\u00f3n").toString(),p=h._(/*BTDS*/"M\u00e1s informaci\u00f3n").toString(),q=h._(/*BTDS*/"opciones a tu disposici\u00f3n.").toString(),r=h._(/*BTDS*/"Ir al otro chat").toString(),s=h._(/*BTDS*/"Ver chat archivado").toString(),t=h._(/*BTDS*/"Ver votaci\u00f3n").toString(),u=h._(/*BTDS*/"Cambiar").toString();function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId"))));return a!=null?(j||(j=d("I64"))).add(a.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).zero});return w.apply(this,arguments)}function x(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function y(a,b,c){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};if(k.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:b,targetTitle:c,title:t};if(l.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:u};switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:r};case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:s};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:q};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function z(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";if(k.has(a))return"admin_msg_poll_details";if(l.has(a))return"admin_msg_change_theme";switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}function A(a,b,c,d,e){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){yield a.admin_message_ctas.add({actionContentBlob:f.actionContentBlob,actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})});return B.apply(this,arguments)}function C(a,b,c){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield (i||(i=b("Promise"))).all([x(a,c,d.msgId),v(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:z(d.adminType),title:f.title};else{f=E(d.adminType,d);var g=F(d.adminType,d);f=y(d.adminType,f,g);yield A(a,e,c,d,f);return{ctaId:e,ctaType:z(d.adminType),title:f.title}}});return D.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||f===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||f!=null&&k.has(f)||f!=null&&l.has(f))?C(a,c,e):(i||(i=b("Promise"))).resolve()}function E(a,b){if(a==null)return void 0;if(b.type_===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(j||(j=d("I64"))).of_string(b.externalId);return k.has(a)&&b.pollStanzaId!=null?(j||(j=d("I64"))).of_string(b.pollStanzaId):void 0}function F(a,b){if(a==null)return void 0;return k.has(a)?b.adminContent==null||b.adminContent.length===0?void 0:b.adminContent[b.adminContent.length-1]:void 0}g.getAdminMsgCTAContentByAdminType=y;g.getCtaTypeByAdminType=z;g.getAdminMsgCtaStep=a}),226);
__d("MAWMsgReply",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","MAWMsgType","MAWReplyBuilder","MessagingAttachmentType","WATimeUtils","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function k(a,b,d){if(!c("gkx")("15418"))return;(d!=null?d:"")!==(b!=null?b:"")&&c("FBLogger")("messenger_e2ee_web").mustfix("[MAWMsgReply] %s: LS derived reply field generated does not match the legacy derived version. Expected: %s, Actual: %s",a,b,d)}function a(a){var b=l(a);if(!c("gkx")("15418"))return b;a=a.replyContent;var e;a!=null&&(e=d("MAWReplyBuilder").getReplyBuilder(a.replyType).buildReplyUserId(a));k("getReplyUserId",b!=null?(h||(h=d("I64"))).to_string(b):void 0,e!=null?(h||(h=d("I64"))).to_string(e):void 0);return(a=e)!=null?a:b}function l(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function b(a){return a.senderId}function e(a){var b=m(a);if(!c("gkx")("15418"))return b;a=a.replyContent!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2")[a.replyContent.replyType]):void 0;k("getReplySourceTypeV2",b!=null?(h||(h=d("I64"))).to_string(b):void 0,a!=null?(h||(h=d("I64"))).to_string(a):void 0);return a!=null?a:b}function m(a){var b=a.isFBPostMention,e=a.isFBStoryMention,f=a.isForwarded,g=a.isMsgHighlightsTabFriendUpdatesReply,h=a.isNoteReply,k=a.isStoryProducerReply,l=a.isStoryReply,m=a.isStoryShare,n=a.replyMediaExpirationTimestampMs;a=j(a);if(b===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_POST_MENTION);if(f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(m!=null&&m)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION);if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(n!=null&&n<d("WATimeUtils").unixTime()&&h!==!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY);if(a)if(l!=null&&l)return k!=null&&k?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY):(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(h===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=n(a);if(!c("gkx")("15418"))return b;a=a.replyContent!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2")[a.replyContent.replyType]):void 0;k("getReplySourceType",b!=null?(h||(h=d("I64"))).to_string(b):void 0,a!=null?(h||(h=d("I64"))).to_string(a):void 0);return a!=null?a:b}function n(a){var b=j(a),e=a.isMsgHighlightsTabFriendUpdatesReply,f=a.isNoteReply,g=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(b)if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(f===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function o(a){var b=p(a);if(!c("gkx")("15418"))return b;a=a.replyContent;var e;a!=null&&(e=d("MAWReplyBuilder").getReplyBuilder(a.replyType).buildReplySourceId(a));k("getReplySourceId",b,e);return(a=e)!=null?a:b}function p(a){if(a.replySourceId!=null)return a.replySourceId}function q(a){var b=s(a);if(!c("gkx")("15418"))return b;a=a.replyContent;var e;a!=null&&(e=d("MAWReplyBuilder").getReplyBuilder(a.replyType).buildReplyTimestampMs(a));k("getReplyTimestampMs",b!=null?(h||(h=d("I64"))).to_string(b):void 0,e!=null?(h||(h=d("I64"))).to_string(e):void 0);return(a=e)!=null?a:b}function r(a){return a.timestampMs}function s(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function t(a){var b=v(a);if(!c("gkx")("15418"))return b;a=a.replyContent;var e;a!=null&&(e=d("MAWReplyBuilder").getReplyBuilder(a.replyType).buildReplyMessageText(a));k("getReplyMessageText",b,e);return(a=e)!=null?a:b}function u(a){return a.text}function v(a){if(a.replySourceId!=null)return a.replyMessageText}function w(a){if(a.replySourceId!=null)return a.replyMentionedJids}function x(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function y(a){return a.replySourceId==null?!1:z(a.replyStatusType)}function z(a){switch(a){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function A(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function B(a){if(y(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function C(a){if(y(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function D(a){var b=a.replyStatusType;if(b==null)return;var e=b==="Raven";e=y(a)||e;if(!e)return;switch(b){case"Gif":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Video":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"XMA":if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0||a.isMsgHighlightsTabFriendUpdatesReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(A(a))return;return c("justknobx")._("2738")?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Raven":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}function E(a){var b=a.replyMediaId,c=a.replyXMAId;if(y(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_float(b);if(b!=null||c==null)return;if(c!=null&&A(a))return;return(h||(h=d("I64"))).of_int32(c)}function F(a){var b=I(a);if(!c("gkx")("15418"))return b;a=a.replyContent;var e;a!=null&&(e=d("MAWReplyBuilder").getReplyBuilder(a.replyType).buildReplyAttachmentPlaintextHash(a));k("getReplyAttachmentPlaintextHash",b,e);return(a=e)!=null?a:b}var G=new Set([(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),i.ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),i.ofNumber(c("MessagingAttachmentType").VIDEO),i.ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE),i.ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)]);function H(a){if(a!=null&&G.has(a.attachmentType))return a.attachmentFbid}function I(a){var b=a.replyPlaintextHash;if(y(a)&&b!=null)return""+b}function J(a){var b=a.isNoteReply,c=a.isStoryReply,e=a.replyMediaExpirationTimestampMs,f=a.replyMessageText,g=a.replyStatusType;if(b===!0){if(e!=null)return(h||(h=d("I64"))).of_float(e);return}b=D(a);e=E(a);if(g!=null&&g==="XMA"&&b==null){if(e!=null)return;if(f==null)return(h||(h=d("I64"))).zero}if(e!=null||!(c!=null&&c))return;return(h||(h=d("I64"))).zero}g.assertIfQuotedV2=k;g.getReplyUserId=a;g.getReplyUserIdFromLSMessage=b;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=o;g.getReplyTimestampMs=q;g.getReplyTimestampMsFromLSMessage=r;g.getReplyMessageText=t;g.getReplyMessageTextFromLSMessage=u;g.getReplyMentionedJids=w;g.getReplyType=x;g.getReplyMediaHeight=B;g.getReplyMediaWidth=C;g.getReplyAttachmentType=D;g.getReplyAttachmentId=E;g.getReplyAttachmentPlaintextHash=F;g.getReplyAttachmentPlaintextHashFromLSAttachment=H;g.getReplyMediaExpirationTimestampMs=J}),98);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplySnippet",["fbt","EntMessageReplyType","FBLogger","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWCurrentUser","MAWMsgReply","MAWMsgReplyStatus","MAWMsgType","MAWPostMentionXMASnippetFbt","MAWReplyBuilder","ODS","gkx","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isFBPostMention;g=g===void 0?!1:g;var k=a.isFBStoryMention;k=k===void 0?!1:k;var l=a.isIGStoryMention;l=l===void 0?!1:l;var m=a.isIGXMAStoryShare;m=m===void 0?!1:m;var n=a.isMsgHighlightsTabFriendUpdatesReply;n=n===void 0?!1:n;var o=a.isNoteReply;o=o===void 0?!1:o;var p=a.isPostPrivateReply;p=p===void 0?!1:p;var q=a.isStoryHighlightShare;q=q===void 0?!1:q;var r=a.isStoryProducerReply,s=a.isStoryReaction;s=s===void 0?!1:s;var t=a.isStoryReply;t=t===void 0?!1:t;var u=a.isStoryShare;u=u===void 0?!1:u;var v=a.recipientName,w=a.replyAttachmentType,x=a.replySenderIsMe;x=x===void 0?!1:x;var y=a.replySenderIsRecipient;y=y===void 0?!1:y;var z=a.senderName;a=a.storyShareAuthor;switch(!0){case g:return b?d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(v):d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(z);case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:v,replySenderIsMe:x,replySenderIsRecipient:y,senderName:z});case q:return a!=null?h._(/*BTDS*/"Sent {username}'s story highlight",[h._param("username",a)]):h._(/*BTDS*/"Sent a story highlight");case m&&w!=null&&(i||(i=d("I64"))).equal(w,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._(/*BTDS*/"Sent {username}'s story",[h._param("username",a)]):h._(/*BTDS*/"Sent a story");case b&&f:return h._(/*BTDS*/"Has respondido a un mensaje suprimido");case b&&u:return h._(/*BTDS*/"Has compartido una historia");case b&&s:return h._(/*BTDS*/"You reacted to their story");case b&&l:return v!=null?h._(/*BTDS*/"Has mencionado a \u0040{name} en tu historia",[h._param("name",v)]):h._(/*BTDS*/"Has mencionado a un participante en tu historia");case b&&k:return v!=null?h._(/*BTDS*/"Has mencionado a {name} en tu historia",[h._param("name",v)]):h._(/*BTDS*/"Has mencionado a un participante en tu historia");case l:case k:return h._(/*BTDS*/"Te ha mencionado en su historia");case!b&&n:return h._(/*BTDS*/"{name} ha respondido a tu publicaci\u00f3n",[h._param("name",z)]);case b&&n:return h._(/*BTDS*/"Has respondido a su publicaci\u00f3n");case b&&p:return v!=null?h._(/*BTDS*/"Has respondido a la publicaci\u00f3n de {name}",[h._param("name",v)]):h._(/*BTDS*/"Has respondido a la publicaci\u00f3n de un participante");case p:return h._(/*BTDS*/"{name} ha respondido a tu publicaci\u00f3n",[h._param("name",z)]);case!b&&o:return h._(/*BTDS*/"{name} ha respondido a tu nota",[h._param("name",z)]);case b&&o:return h._(/*BTDS*/"Has respondido a su nota");case b&&x:return h._(/*BTDS*/"Has respondido a tu propio mensaje");case b&&t:return r===!0?h._(/*BTDS*/"Has respondido a tu historia"):v!=null?h._(/*BTDS*/"Has respondido a la historia de {name}",[h._param("name",v)]):h._(/*BTDS*/"Has respondido a la historia e un participante");case b:return v!=null?h._(/*BTDS*/"Has respondido a {other_name}",[h._param("other_name",v)]):h._(/*BTDS*/"Has respondido a un participante");case f:return h._(/*BTDS*/"{name} ha respondido a un mensaje suprimido",[h._param("name",z)]);case u:return h._(/*BTDS*/"{user} ha compartido una historia",[h._param("user",z)]);case s:return h._(/*BTDS*/"Reacted to your story");case y:return h._(/*BTDS*/"{other} ha respondido a su mensaje",[h._param("other",z)]);case x&&t:return r===!0?h._(/*BTDS*/"{name} ha respondido a su historia",[h._param("name",z)]):h._(/*BTDS*/"{name} ha respondido a tu historia",[h._param("name",z)]);case x:return h._(/*BTDS*/"{other_name} te ha respondido",[h._param("other_name",z)]);default:return v!=null?h._(/*BTDS*/"{other} ha respondido a {other_name}",[h._param("other",z),h._param("other_name",v)]):h._(/*BTDS*/"{other} ha respondido al participante",[h._param("other",z)])}}function m(a,b,c,e,f,g,k,l){b===void 0&&(b=!1);c===void 0&&(c=!1);g===void 0&&(g=!1);k===void 0&&(k=!1);if(b){b=d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:a,recipientName:f,replySenderIsMe:g,replySenderIsRecipient:k,senderName:l});return b==null?void 0:b.toString()}if(c)if(a)return h._(/*BTDS*/"Has respondido a un mensaje suprimido").toString();else return h._(/*BTDS*/"{name} ha respondido a un mensaje suprimido",[h._param("name",l)]).toString();if(a&&g)return h._(/*BTDS*/"Has respondido a tu propio mensaje").toString();if(k)return h._(/*BTDS*/"{other} ha respondido a su mensaje",[h._param("other",l)]).toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(25))){b=a?d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(f):d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(l);return b==null?void 0:b.toString()}if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(22)))if(a)return f!=null?h._(/*BTDS*/"Has mencionado a {name} en tu historia",[h._param("name",f)]).toString():h._(/*BTDS*/"Has mencionado a un participante en tu historia").toString();else return h._(/*BTDS*/"Te ha mencionado en su historia").toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(14)))if(a)return h._(/*BTDS*/"Has respondido a su publicaci\u00f3n").toString();else return h._(/*BTDS*/"{name} ha respondido a tu publicaci\u00f3n",[h._param("name",l)]).toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(13)))if(a)return f!=null?h._(/*BTDS*/"Has respondido a la publicaci\u00f3n de {name}",[h._param("name",f)]).toString():h._(/*BTDS*/"Has respondido a la publicaci\u00f3n de un participante").toString();else return h._(/*BTDS*/"{name} ha respondido a tu publicaci\u00f3n",[h._param("name",l)]).toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(18)))if(a)return h._(/*BTDS*/"Has respondido a su nota").toString();else return h._(/*BTDS*/"{name} ha respondido a tu nota",[h._param("name",l)]).toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(24))){c=(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(24));if(a)return c?h._(/*BTDS*/"Has respondido a tu historia").toString():f!=null?h._(/*BTDS*/"Has respondido a la historia de {name}",[h._param("name",f)]).toString():h._(/*BTDS*/"Has respondido a la historia e un participante").toString();else if(g)return c?h._(/*BTDS*/"{name} ha respondido a su historia",[h._param("name",l)]).toString():h._(/*BTDS*/"{name} ha respondido a tu historia",[h._param("name",l)]).toString()}if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(12)))if(a)return h._(/*BTDS*/"You reacted to their story").toString();else return h._(/*BTDS*/"Reacted to your story").toString();if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(4)))if(a)return h._(/*BTDS*/"Has compartido una historia").toString();else return h._(/*BTDS*/"{user} ha compartido una historia",[h._param("user",l)]).toString();if(a)return f!=null?h._(/*BTDS*/"Has respondido a {other_name}",[h._param("other_name",f)]).toString():h._(/*BTDS*/"Has respondido a un participante").toString();else if(g)return h._(/*BTDS*/"{other_name} te ha respondido",[h._param("other_name",l)]).toString();else return f!=null?h._(/*BTDS*/"{other} ha respondido a {other_name}",[h._param("other",l),h._param("other_name",f)]).toString():h._(/*BTDS*/"{other} ha respondido al participante",[h._param("other",l)]).toString()}function a(a,b,e,f){f=f!=null&&f===(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP);var g=d("MAWMsgReplyStatus").getReplyStatusFromLSMessage(a),h=d("MAWMsgReply").getReplyUserIdFromLSMessage(a),k=d("MAWCurrentUser").getID();a=(i||(i=d("I64"))).to_string(a.senderId)===k;k=b===k;if(h==null||b==null)throw c("FBLogger")("messenger_e2ee_web").mustfix("Error getting reply snippet without replyToUserId or / and replying message sender");g=g===(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED);var l="$PARTICIPANT_FIRST_NAME("+i.to_string(h)+")";h=b===i.to_string(h);b="$PARTICIPANT_FIRST_NAME("+b+")";k=m(k,f,g,e,l,a,h,b);return k==null?void 0:k.toString()}function b(a){var b=n(a);if(!c("gkx")("15418"))return b;var e=a.replyContent;a=a.sender;var f;e!=null&&(f=d("MAWReplyBuilder").getReplyBuilder(e.replyType).buildReplySnippet(e,a,d("MAWCurrentUser").getID()));d("MAWMsgReply").assertIfQuotedV2("getReplySnippet",f,b);return(e=f)!=null?e:b}function n(a){var b=a.isAuthorMe,e=a.isFBPostMention;e=e===void 0?!1:e;var f=a.isFBStoryMention;f=f===void 0?!1:f;var g=a.isIGStoryMention;g=g===void 0?!1:g;var h=a.isIGXMAStoryShare,i=a.isMsgHighlightsTabFriendUpdatesReply;i=i===void 0?!1:i;var j=a.isNoteReply;j=j===void 0?!1:j;var m=a.isPostPrivateReply;m=m===void 0?!1:m;var n=a.isStoryHighlightShare;n=n===void 0?!1:n;var o=a.isStoryProducerReply,p=a.isStoryReaction,q=a.isStoryReply,r=a.isStoryShare;r=r===void 0?!1:r;var s=a.replySenderIsMe,t=a.replySourceId,u=a.replyStatusType,v=a.replyToUserId,w=a.sender,x=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(t==null&&!(c("justknobx")._("2998")&&Boolean(q))&&!r&&!g&&!f&&!n&&!j&&!e)return;if(v==null||w==null)throw c("FBLogger")("messenger_web").mustfixThrow("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(t=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(u)===c("LSReplyMessageStatus").DELETED,isFBPostMention:e,isFBStoryMention:f,isIGStoryMention:g,isIGXMAStoryShare:h,isMsgHighlightsTabFriendUpdatesReply:i,isNoteReply:j,isPostPrivateReply:m,isStoryHighlightShare:n,isStoryProducerReply:o,isStoryReaction:p,isStoryReply:q,isStoryShare:r,recipientName:"$PARTICIPANT_FIRST_NAME("+v+")",replySenderIsMe:s,replySenderIsRecipient:w===v,senderName:"$PARTICIPANT_FIRST_NAME("+w+")",storyShareAuthor:x}))==null?void 0:t.toString()}g.buildLocalizedReplySnippetLegacy=l;g.getReplySnippetFromLSMessage=a;g.getReplySnippet=b}),226);
__d("MAWMsgReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","MAWMsgReply","MAWMsgType","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function k(a){if(a.isUnsent===!0)return(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED);if(a.isExpired===!0)return(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED);switch(a.displayedContentTypes){case(h||(h=d("LSIntEnum"))).ofNumber(1):return(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID);default:return void 0}}function a(a){var b=l(a),e;if(c("gkx")("15418")){var f;((f=a.replyContent)==null?void 0:f.replyToLSMessage)!=null&&(e=k(a.replyContent.replyToLSMessage));d("MAWMsgReply").assertIfQuotedV2("getLSReplyMessageStatus",b!=null?(i||(i=d("I64"))).to_string(b):void 0,e!=null?(i||(i=d("I64"))).to_string(e):void 0)}return(f=e)!=null?f:b}function l(a){a=j(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=j;g.getReplyStatusFromLSMessage=k;g.getLSReplyMessageStatus=a}),98);
__d("MAWReplyBuilder_Story",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;a={buildReplyAttachmentPlaintextHash:function(a){return(a=a.storyMediaPlaintextHash)!=null?a:void 0},buildReplyMessageText:function(a){return void 0},buildReplySnippet:function(a,b,c){var d=a.storyOwnerId===c;c=b===c;b="$PARTICIPANT_FIRST_NAME("+b+")";a="$PARTICIPANT_FIRST_NAME("+a.storyOwnerId+")";if(d)if(c)return h._(/*BTDS*/"Has respondido a tu historia").toString();else return h._(/*BTDS*/"{name} ha respondido a tu historia",[h._param("name",b)]).toString();else if(c)return h._(/*BTDS*/"Has respondido a la historia de {name}",[h._param("name",a)]).toString();else return void 0},buildReplySourceId:function(a){return a.storyUrl},buildReplySourceType:function(){return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)},buildReplySourceTypeV2:function(){return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)},buildReplyTimestampMs:function(a){return a.timestampMs!=null?(j||(j=d("I64"))).of_float(a.timestampMs):void 0},buildReplyUserId:function(a){return(j||(j=d("I64"))).of_string(a.storyOwnerId)}};g.MAWReplyBuilder_StoryReply=a}),226);
__d("MAWReplyBuilder",["MAWReplyBuilder_Message","MAWReplyBuilder_Story"],(function(a,b,c,d,e,f,g){"use strict";var h={MESSAGE:d("MAWReplyBuilder_Message").MAWReplyBuilder_Message,STORY:d("MAWReplyBuilder_Story").MAWReplyBuilder_StoryReply};function i(a){return h[a]}function a(a){var b=i(a.replyType);return b.buildReplyUserId(a)}g.getReplyBuilder=i;g.getReplyUserIdNew=a}),98);
__d("MAWReplyBuilder_Message",["EntMessageReplyType","FBLogger","LSIntEnum","LSMessageReplySourceTypeV2","MAWMsgReply","MAWMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";var h;a={buildReplyAttachmentPlaintextHash:function(a){return d("MAWMsgReply").getReplyAttachmentPlaintextHashFromLSAttachment(a.replyToLSAttachment)},buildReplyMessageText:function(a){return(a=a.replyToLSMessage)==null?void 0:a.text},buildReplySnippet:function(a,b,e){e=a.replyToLSMessage;a=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE);var f=h.ofNumber(c("EntMessageReplyType").REGULAR);if(e==null){c("FBLogger")("messenger_e2ee_web").mustfix("Error getting reply snippet without replyToLSMessage and/or replySourceTypeV2 and/or replyType");return}return d("MAWMsgReplySnippet").getReplySnippetFromLSMessage(e,b,a,f)},buildReplySourceId:function(a){return a.replyToMsgId},buildReplySourceType:function(){return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)},buildReplyTimestampMs:function(a){return(a=a.replyToLSMessage)==null?void 0:a.timestampMs},buildReplyUserId:function(a){return(a=a.replyToLSMessage)==null?void 0:a.senderId}};g.MAWReplyBuilder_Message=a}),98);
__d("MAWMsgFetchLSReplyMsgAndAttachment",["FBLogger","I64","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.replyContent;if(c==null||c.replyType!=="MESSAGE")return b;if(c.replyToMsgId==null)return b;var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(c.replyToMsgId))),f;e!=null&&(f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e.threadKey,e.messageId))));return babelHelpers["extends"]({},b,{replyContent:babelHelpers["extends"]({},c,{replyToLSAttachment:f,replyToLSMessage:e})})});return j.apply(this,arguments)}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(e.messageId)));yield (i||(i=b("Promise"))).all(f.map(function(b){var f=b.replySourceTypeV2,g=b.replyType;if(f==null||g==null){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error getting reply snippet without replySourceTypeV2 and/or replyType");return}b=babelHelpers["extends"]({},b,{replyMessageText:d("MAWMsgReply").getReplyMessageTextFromLSMessage(e),replySnippet:d("MAWMsgReplySnippet").getReplySnippetFromLSMessage(e,(h||(h=d("I64"))).to_string(b.senderId),f,g),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMsFromLSMessage(e),replyStatus:d("MAWMsgReplyStatus").getReplyStatusFromLSMessage(e),replyToUserId:d("MAWMsgReply").getReplyUserIdFromLSMessage(e)});return a.messages.put(b)}))});return k.apply(this,arguments)}g.fetchReplyLocalViaLS=a;g.updateMessagesReplyingToMsg=e}),98);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var j=i(b);return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?j===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":j===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}function i(a){return c("justknobx")._("4603")?d("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(a):a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME}g.buildAdminMsgText=a}),98);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:"",ENCRYPTED_BACKUPS_MEDIA:"EncryptedBackupsMedia"});f["default"]=a}),66);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWMsgErrorUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=[126];function a(a){var b=c("gkx")("7471");return!b?!1:h.includes(a)}g.isWellbeingError=a}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWBridgeMsg","MAWBridgeMsgUtils","MAWJids","MAWMsg","MAWMsgErrorUtils","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWTimeUtils","MAWVault","MWPBumpEntityKey","gkx","isMWBumpMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function l(a){return a!=null?d("MAWVault").unvault(a):void 0}function m(a){return a!=null?d("MAWVault").vault(a):void 0}function n(a){return babelHelpers["extends"]({},a,{replyMessageText:m(a.replyMessageText),text:m(a.text)})}function o(a){var b=d("MAWMsgReply").getReplyMessageText(a),e=a.adminContent,f=a.adminType,g=a.adminVersion,i=a.content,j=a.isAdminMessage;i=i;j&&e!=null&&f!=null&&(i=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(e,f,g));j=d("MAWMsgReplySnippet").getReplySnippet(a);a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE&&(i=m(a.replySourceId==null?"":j!=null?j:h._(/*BTDS*/"Ha destacado un mensaje").toString()));e=k(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));f=a.commands?a.commands:[];g=f.length>0&&c("gkx")("7846");return e.length>0||g?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(i),e,l(b),g?f:void 0)):{replyMessageText:b,text:i}}function p(a){a=a.ephemeralDurationInSec;return a!=null?(i||(i=d("I64"))).of_int32(a):void 0}function a(a,b,e,f){var g=c("isMWBumpMessage")(b==null?void 0:b.replyType)?b==null?void 0:b.replyMessageText:b==null?void 0:b.text;b=k(e,b==null?void 0:(e=b.mentionIds)==null?void 0:e.split(",").map(d("MAWJids").toUserJid));e=f!=null?f:[];return b.length>0||e.length>0?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(a),b,l(g),e)):{replyMessageText:g,text:a}}function b(a,b){var e,f=o(a),g=a.type_===d("MAWMsg").unsent;e=d("MAWTimeUtils").toTimestamp(g?(e=a.originalTs)!=null?e:a.ts:a.ts);if(d("MAWMsgReply").getReplyAttachmentId(a)!=null&&d("MAWMsgReply").getReplyAttachmentPlaintextHash(a)==null){var h;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","new_message_handler_for_reply_type_"+(i||(i=d("I64"))).to_float((h=d("MAWMsgReply").getReplyAttachmentType(a))!=null?h:(i||(i=d("I64"))).zero))}h=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(a.transportKey);return babelHelpers["extends"]({},f,{adminMsgCtaId:b==null?void 0:b.ctaId,adminMsgCtaTitle:b==null?void 0:b.title,adminMsgCtaType:b==null?void 0:b.ctaType,authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:g||!a.isAuthorMe?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(a.type_,a.isForwarded,a.isExpiredXmaMsg,a.replySourceId!=null,a.unsupportedType,a.xmaMessageType),editCount:(i||(i=d("I64"))).of_int32((f=a.editCount)!=null?f:0),ephemeralDurationInSec:p(a),groupId:(b=a.groupId)!=null?b:void 0,groupIndex:a.groupIndex!=null?(i||(i=d("I64"))).of_float(a.groupIndex):void 0,groupSize:a.groupSize!=null?(i||(i=d("I64"))).of_float(a.groupSize):void 0,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(a),isCollapsed:(f=a.isCollapsed)!=null?f:!1,isUnsent:g,messageId:a.msgId,primarySortKey:i.of_float(a.sortOrderMs),replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(a),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(a),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(a),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(a),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(a),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(a),replySnippet:d("MAWMsgReplySnippet").getReplySnippet(a),replySourceId:d("MAWMsgReply").getReplySourceId(a),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(a),replySourceType:d("MAWMsgReply").getReplySourceType(a),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(a),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(a),replyToUserId:d("MAWMsgReply").getReplyUserId(a),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(a.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(a.ack),subscriptErrorMessage:q(a),timestampMs:e,transportKey:h,unsentTimestampMs:g?d("MAWTimeUtils").toTimestamp(a.ts):void 0})}function q(a){var b=c("gkx")("7471");if(!b)return;b=a.ack;a=a.applicationErrorCode;b=d("MAWAckLevel").levelToMessagingSendStatusV2(b);b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR));if(!b)return;return d("MAWMsgErrorUtils").isWellbeingError(a)?h._(/*BTDS*/"Couldn't send.").toString():h._(/*BTDS*/"Couldn't send. Something went wrong.").toString()}g.getEphemeralDurationInSec=p;g.buildOptimisticMessage=a;g.buildNewAndUpdatedMessageSharedParams=b;g.getSubscriptErrorMessage=q}),226);
__d("MAWUpdateMsg",["MAWBridgeBuildMsg","MAWMsgFetchLSReplyMsgAndAttachment","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b=d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(b,f);f=babelHelpers["extends"]({},e,{},b);yield a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],f);c("gkx")("15418")&&(yield d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,f))});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsgFetchLSReplyMsgAndAttachment","MAWUpdateMsg","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.chatJid,"MAWBridgeMsgUpdatedHandler",function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){var g,h=(yield (g=d("ReQL")).firstAsync(g.fromTableAscending(b.messages.index("messageId")).getKeyRange(e.msgId)));g=(yield g.firstAsync(g.fromTableAscending(b.attachments).getKeyRange(f,e.msgId)));if(h==null){c("FBLogger")("messenger_web").info("existing message is null for type %s, and attachment is null: %s",e.type_,g==null);return}g=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(b,f,e));f=(yield i(a,e));return d("MAWUpdateMsg").call(b,f,h,g)});return function(a,b){return f.apply(this,arguments)}}())}function i(a,e){if(c("gkx")("15418")){a=d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,e);if(a)return a}return(h||(h=b("Promise"))).resolve(e)}g.call=a}),98);
__d("LSClearMessagePlaceholderRangeStoredProcedure",["LSClearMessagePlaceholderRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSClearMessagePlaceholderRange"),e.threadKey,e.messageId,e.maxTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInsertNewMessageRangeStoredProcedure",["LSInsertNewMessageRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMessageRange"),e.threadKey,e.newMinTs,e.newMaxTs,e.newMinMid,e.newMaxMid,e.lowerOverlap,e.upperOverlap,e.hasMoreBefore,e.hasMoreAfter,e.requestedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeMsgsLoadedHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeMsgsLoadedHandler",function(a,e){return c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:e}).then(function(){if(c("gkx")("23927")){var f,g,i,j,k,l,m,n;f=(f=(f=b.rangeExtensionType)==null?void 0:f.hasMoreBefore)!=null?f:!1;g=(g=(g=b.rangeExtensionType)==null?void 0:g.hasMoreAfter)!=null?g:!1;i=f&&((i=b.rangeExtensionType)==null?void 0:i.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;j=g&&((j=b.rangeExtensionType)==null?void 0:j.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;k=(k=(k=b.rangeExtensionType)==null?void 0:k.minMsgId)!=null?k:"";l=(l=(l=b.rangeExtensionType)==null?void 0:l.maxMsgId)!=null?l:"";m=((m=b.rangeExtensionType)==null?void 0:m.rangeKind)==="before"?i:d("MAWTimeUtils").MIN_TIMESTAMP_MS;n=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="after"?j:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:g,hasMoreBefore:f,lowerOverlap:m,newMaxMid:l,newMaxTs:j,newMinMid:k,newMinTs:i,threadKey:e,upperOverlap:n})}else{f=((g=b.rangeExtensionType)==null?void 0:g.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;l=((m=b.rangeExtensionType)==null?void 0:m.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(k=(j=b.rangeExtensionType)==null?void 0:j.minMsgId)!=null?k:"";m=(g=(n=b.rangeExtensionType)==null?void 0:n.maxMsgId)!=null?g:"";k=((j=b.rangeExtensionType)==null?void 0:j.rangeKind)==="extensionBefore"?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="extensionAfter"?l:d("MAWTimeUtils").MAX_TIMESTAMP_MS;j=(n=(j=b.rangeExtensionType)==null?void 0:j.hasMoreBefore)!=null?n:!1;n=(n=(n=b.rangeExtensionType)==null?void 0:n.hasMoreAfter)!=null?n:!1;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:n,hasMoreBefore:j,lowerOverlap:k,newMaxMid:m,newMaxTs:l,newMinMid:i,newMinTs:f,threadKey:e,upperOverlap:g})}})})}g.call=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(c.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),j["delete"](e)});return l.apply(this,arguments)}function m(a,e,g){return c("setTimeout")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(g.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(b,a,e)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))}),g)}function a(a,b,d,e){a=j.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=m(f,d,e);j.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function e(a){var b=a.msgId;a=j.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=e}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return c.msgs.reduce(function(c,e){return c.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,e,e.countdownTs,e.millisecondsUntilCountdownTs);(i||(i=d("I64"))).of_int32(e.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(c,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null)return(h||(h=b("Promise"))).resolve();c=babelHelpers["extends"]({},c,{ephemeralExpirationTs:(i||(i=d("I64"))).of_float(e.countdownTs)});yield a.messages.put(c)});return function(a){return c.apply(this,arguments)}}())})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ReQL","WAMediaHdType","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){var k=b.messagesSortOrderMs?(i||(i=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(i||(i=d("I64"))).of_float(b.sortOrderMs):(i||(i=d("I64"))).of_float(b.ts*1e3);return{accessibilitySummaryText:b.accessibilitySummaryText,attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(i||(i=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(i||(i=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isHd:c("gkx")("9576")?((f=b.hdTypes)==null?void 0:f[e])===d("WAMediaHdType").HD_TYPE_HQ_4K:void 0,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(i||(i=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(i||(i=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(i||(i=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(i||(i=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(i||(i=d("I64"))).of_int32(b.previewWidthLarge),threadKey:h,timestampMs:k,titleText:b.accessibilitySummaryText,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function l(a,b){var c=b.hasPreviewMedia!=null;return{id:a,mainMediaStatus:b.hasMedia?(j||(j=d("LSIntEnum"))).ofNumber(1):(j||(j=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:c?b.hasPreviewMedia===!0?(j||(j=d("LSIntEnum"))).ofNumber(1):(j||(j=d("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:c?"initial_media_download":void 0}}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.mediaId,j=e.msgIds,l=e.offlineAttachmentId,m=e.plaintextHash;yield o(a,e);var n=q(g,m),p=l!=null?l:n;g=!1;var s=r(e),t=null;c("gkx")("4219")&&(t=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(f).filter(function(a){return(i||(i=d("I64"))).equal(a.mediaGroup,s)}))));yield (h||(h=b("Promise"))).all(j.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.attachments,h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c).getKeyRange(f,b)));b=k(h,e,b,n,p,f);e.skipShouldUpdateHasMore!==!0&&t!=null&&(i||(i=d("I64"))).le(b.timestampMs,t.minTimestampMs)&&(g=!0);if(h!=null){return c.upsert([h.threadKey,h.messageId,h.attachmentFbid],babelHelpers["extends"]({},b,{transportKey:(h=h.transportKey)!=null?h:b.transportKey}))}else return c.add(b)});return function(a){return c.apply(this,arguments)}}()));if(t!=null&&t.hasMoreBefore!==!0&&g&&c("gkx")("4219")){m=babelHelpers["extends"]({},t,{hasMoreBefore:!0});yield a.attachments_ranges_v2__generated.upsert([t.threadKey,t.mediaGroup,t.minTimestampMs],m)}});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(c("gkx")("11968")!==!0)return;var e=b.mediaId,f=b.plaintextHash;if(f==null){c("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",e);return}e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.client_media_status).getKeyRange(f)));e=e!=null&&!(i||(i=d("I64"))).equal(e.mainMediaStatus,(j||(j=d("LSIntEnum"))).ofNumber(4));if(e)return;yield a.client_media_status.add(l(f,b))});return p.apply(this,arguments)}function q(a,b){return""+(b!=null?b:a.toString())}function r(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeNewMediaHandler",function(a,c){return m(a,b,c)})}g.callWithoutWaitingForAnything=m;g.call=a}),98);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1,lastLoadedMessageId:a[4]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertAttachmentRangeStoredProcedure";a.__tables__=["attachments_ranges_v2__generated"];e.exports=a}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSSynchronousPromise","LSUpsertAttachmentRange","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpsertAttachmentRange"),e.threadKey,e.mediaGroup,e.newMinTs,e.hasMoreBefore,e.newLastLoadedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSUpsertAttachmentRangeStoredProcedure","MAWMediaGalleryEBTaggingUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","cr:20238","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeNewMediaRangeHandler",function(a,f){var g=(h||(h=d("I64"))).of_float(e.earliestLoadedMediaTs),j=e.mediaGalleryGroup,k=b("cr:20238")!=null?b("cr:20238").getMediaRestoreEBRange().getRange(f):null;k=Boolean(k==null?void 0:k.hasMoreBefore)&&d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryGroupSupportedForTaggedRestore(j);k=e.hasMoreBefore||k;return c("LSUpsertAttachmentRangeStoredProcedure")(c("LSFactory")(a),{hasMoreBefore:k,mediaGroup:(i||(i=d("LSIntEnum"))).ofNumber(j),newLastLoadedMessageId:e.lastLoadedMessageId,newMinTs:g,threadKey:f})})}function a(a,b){return j(a,b).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSIntEnum","LSMessageRenderingType","LSQuickReplyType","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWMsgFetchLSReplyMsgAndAttachment","MAWMsgReply","MAWMsgType","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsTypes","Promise","ReQL","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");f=babelHelpers["extends"]({},d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(e,f),{forwardScore:(i||(i=d("I64"))).of_float(e.forwardingScore),isAdminMessage:e.isAdminMessage,isForwarded:e.isForwarded,messageRenderingType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:e.externalId,quickReplyType:j.ofNumber(c("LSQuickReplyType").NONE),replyType:d("MAWMsgReply").getReplyType(e),senderId:i.of_string(e.sender),threadKey:b,viewFlags:j.ofNumber(0)});e=(yield a.messages.add(f));b=e[0];f=e[1];e=e[2];if(c("gkx")("15418")){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,f,e)));b!=null&&(yield d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,b))}});return l.apply(this,arguments)}function m(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return q(a,b,c)})}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.replySourceId;if(b==null)return a;var c=(yield d("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:d("MpsTypes").toMessageId(b),threadId:d("MpsTypes").toThreadId(a.chatJid)})),e=c.success;c=c.value;if(e===!1)return a;if(c==null)return babelHelpers["extends"]({},a,{replySourceId:b,replyStatusType:d("MAWMsgType").MSG_TYPE.REVOKED});b=(e=d("MpsMessageToBridge").mpsFullMessagetoBridge(c))==null?void 0:e.topLevel;return b==null?a:babelHelpers["extends"]({},a,{replyMentionedJids:b.value.mentionedJids,replyMessageText:b.value.content,replySenderIsMe:b.value.isAuthorMe,replySourceId:b.value.msgId,replySourceTimestampMs:b.value.sortOrderMs,replyStatusType:b.value.type_,replyToUserId:b.value.sender})});return o.apply(this,arguments)}function p(a,e){if(c("gkx")("15418")){a=d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,e);if(a)return a}return d("MAWMpsGating").isFullMpsEnabled()?n(e):(h||(h=b("Promise"))).resolve(e)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield p(a,b));if(d("MAWXMAUtils").isXMAStoryReply(b.xmaMessageType))return;if(b.isExpiredMsg===!0&&c("justknobx")._("3991")){c("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var f=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,e,b)),g=b.offlineMsg,h;g!=null?h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(e,(i||(i=d("I64"))).of_float(g.ts),g.msgId))):(d("MAWMpsGating").isFullMpsEnabled()||c("gkx")("15418"))&&(h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId))));h==null?yield k(a,e,b,f):yield d("MAWUpdateMsg").call(a,b,h,f);d("MAWMpsGating").isFullMpsEnabled()&&((g=b.editCount)!=null?g:0)>0&&(yield s(a,b))});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(c.msgId)));yield (h||(h=b("Promise"))).all(e.map(function(b){b=babelHelpers["extends"]({},b,{replyMessageText:c.content});return a.messages.put(b)}))});return t.apply(this,arguments)}function a(a,b){return m(a,b)}function e(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).all(c.map(function(b){return m(a,b)}))});return u.apply(this,arguments)}g.callWithoutWaitingForAnything=q;g.call=a;g.bulkCall=e}),98);
__d("LSGroupPollEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});f["default"]=a}),66);
__d("LSPollQuestionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});f["default"]=a}),66);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){return a.toSorted(function(a,b){if(a.numVotes!==b.numVotes)return b.numVotes-a.numVotes;return!(i||(i=d("I64"))).equal(a.sortKeyVotingTimestamp,b.sortKeyVotingTimestamp)?(i||(i=d("I64"))).compare(b.sortKeyVotingTimestamp,a.sortKeyVotingTimestamp):(i||(i=d("I64"))).compare(a.sortKeyCreationTimestamp,b.sortKeyCreationTimestamp)})}function b(a){if(a===d("WAJids").AUTHOR_SYSTEM)throw c("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return a===d("WAJids").AUTHOR_ME?(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())):(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(a))}function e(a,b){switch(a.length){case 0:return h._(/*BTDS*/"{option_name}, sin votos",[h._param("option_name",b)]);case 1:return h._(/*BTDS*/"{option_name}, opci\u00f3n votada por {voter_name}",[h._param("option_name",b),h._param("voter_name",a[0])]);case 2:return h._(/*BTDS*/"{option_name}, opci\u00f3n votada por {first_voter_name} y {second_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1])]);case 3:return h._(/*BTDS*/"{option_name}, opci\u00f3n votada por {first_voter_name}, {second_voter_name} y {third_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("third_voter_name",a[2])]);default:return h._(/*BTDS*/"{option_name}, opci\u00f3n votada por {first_voter_name}, {second_voter_name} y {remaining_count} personas m\u00e1s",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("remaining_count",a.length-2)])}}g.sortPollXMAOptions=a;g.getContactIdForAuthor=b;g.getListItemAccessibilityText=e}),226);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("QuestionPollStage",[],(function(a,b,c,d,e,f){a=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});f["default"]=a}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","Promise","QuestionPollStage","ReQL","WAJids","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=3;function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=b.contactIdForCurrentUser,f=b.dbPoll,g=b.latestUpdateMsgId,h=b.latestUpdateTimestampMs;b=b.transportKey;var i=f.pollStanzaId;i=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments.index("idx_attachments_collapsible_id")).getKeyRange(c,(k||(k=d("I64"))).of_string(i))));i!=null&&(yield a.attachments["delete"](i.threadKey,i.messageId,i.attachmentFbid));yield o(a,f,c,g,h,e,b)});return n.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.dbPoll.chatJid,"BridgeNewPollHandler",function(a,c){return m(a,b,c)})}function o(a,b,c,d,e,f,g){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j,m){var n=e.latestSenderTimestampsMs,o=e.pollParticipantCount,p=e.pollStanzaId,r=(k||(k=d("I64"))).of_string(p),t=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.polls).getKeyRange(r)));t==null&&(yield s(a,r,g,h,f));t=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_options_v2).getKeyRange(r)));var v=new Map(e.pollOptions.entries().map(function(a){var b=a[0];a=a[1];return[d("MAWDbPoll").generateStableIdFromOptionHash(b,p).toString(),a]})),w=new Map();t.forEach(function(a){var b=(k||(k=d("I64"))).to_string(a.optionId);w.set(b,babelHelpers["extends"]({},w.get(b),{lsOption:a}))});v.entries().forEach(function(a){var b=a[0];a=a[1];a.optionText!=null&&w.set(b,babelHelpers["extends"]({},w.get(b),{mawDbOption:a}))});t=w.entries().toArray().sort(function(a,b){a[0];a=a[1];var d=a.lsOption;a=a.mawDbOption;b[0];b=b[1];var e=b.lsOption;b=b.mawDbOption;d=c("nullthrows")((d=d==null?void 0:d.optionText)!=null?d:a==null?void 0:a.optionText);e=c("nullthrows")((a=e==null?void 0:e.optionText)!=null?a:b==null?void 0:b.optionText);return d.localeCompare(e)});v=(yield (i||(i=b("Promise"))).all(t.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){var f=b[0];b=b[1];var g=b.lsOption;b=b.mawDbOption;e=(k||(k=d("I64"))).of_int32(e);if(g==null&&b==null)return null;f=k.of_string(f);if(b==null){var h=c("nullthrows")(g);h=h.optionText;yield a.poll_options_v2.upsert([r,f],babelHelpers["extends"]({},c("nullthrows")(g),{sortKeyCreationTimestamp:e}));var i=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(r,f,j)));return{contactIds:[j],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:h,progressBarFilledPercentage:Math.floor(1/o*100),sortKeyCreationTimestamp:e,sortKeyVotingTimestamp:i!=null?i.timestampMs:(k||(k=d("I64"))).zero}}return q(a,r,f,c("nullthrows")(b.optionText),g,b,e,n,j,o)});return function(a,b){return e.apply(this,arguments)}}())).then(function(a){return a.filter(Boolean)}));t=v.some(function(a){return a.hasVoteFromCurrentUser});v=d("MAWBridgePollUtils").sortPollXMAOptions(v).slice(0,l);yield u(a,e,f,g,h,v,t,m)});return p.apply(this,arguments)}function q(a,b,c,d,e,f,g,h,i,j){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j,l,m,n,o){j=j.voteAuthors;j=Array.from(j).map(function(a){var b=m.get(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:d("MAWBridgePollUtils").getContactIdForAuthor(a),latestSenderTimestampMs:b}});var p=h!=null?yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(e,f)):[],q=p.find(function(a){return(k||(k=d("I64"))).equal(a.contactId,n)}),r=m.get(d("WAJids").AUTHOR_ME),s=q!=null&&(r==null||r<(k||(k=d("I64"))).to_float(q.timestampMs));yield (i||(i=b("Promise"))).all(p.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if((k||(k=d("I64"))).equal(b.contactId,n)&&s)return;yield a.poll_votes_v2["delete"](e,f,b.contactId)});return function(a){return c.apply(this,arguments)}}()));yield i.all(j.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.contactId;b=b.latestSenderTimestampMs;yield a.poll_votes_v2.put({contactId:c,optionId:f,pollId:e,timestampMs:(k||(k=d("I64"))).of_float(b)})});return function(a){return c.apply(this,arguments)}}()));r=(k||(k=d("I64"))).of_float(Math.max.apply(Math,j.map(function(a){return a.latestSenderTimestampMs}).concat([0])));p=s?(k||(k=d("I64"))).max(c("nullthrows")(q==null?void 0:q.timestampMs),r):r;q=j.length+(s?1:0);r={optionId:f,optionText:g,pollId:e,sortKeyCreationTimestamp:l,sortKeyVotingTimestamp:p,voteCount:k.of_int32(q)};h!=null?yield a.poll_options_v2.upsert([e,f],r):yield a.poll_options_v2.add(r);h=j.map(function(a){return a.contactId});s&&h.push(n);return{contactIds:h,hasVoteFromCurrentUser:s||j.find(function(a){return(k||(k=d("I64"))).equal(a.contactId,n)})!=null,numVotes:q,optionId:f,optionText:g,progressBarFilledPercentage:Math.floor(q/o*100),sortKeyCreationTimestamp:l,sortKeyVotingTimestamp:p}});return r.apply(this,arguments)}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){e={authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:j.ofNumber(c("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:e,lastUpdateMessageTimestampMs:(k||(k=d("I64"))).of_float(f),pollId:b,pollStage:j.ofNumber(c("QuestionPollStage").VOTING),pollType:j.ofNumber(c("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:g};yield a.polls.put(e)});return t.apply(this,arguments)}function u(a,b,c,d,e,f,g,h){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,m,n,o,p){var q=e.pollStanzaId,r=e.title;if(n.length===0){c("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var s=(yield d("ReQL").toArrayAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(f),d("ReQL").fromTableAscending(a.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(a){a[0];a=a[1];return a}).filter(Boolean))),t=new Map(s.map(function(a){return[(k||(k=d("I64"))).to_string(a.id),a]}));s=n.map(function(a){var b=a.contactIds,c=a.optionId,e=a.optionText;a=a.progressBarFilledPercentage;var f=b.reduce(function(a,b){var c;b=t.get((k||(k=d("I64"))).to_string(b));a.contactUrlExpirations.push((b==null?void 0:b.profilePictureUrlExpirationTimestampMs)!=null?(k||(k=d("I64"))).to_string(b.profilePictureUrlExpirationTimestampMs):"");a.contactUrlFallbacks.push((c=b==null?void 0:b.profilePictureFallbackUrl)!=null?c:"");a.contactUrls.push((c=b==null?void 0:b.profilePictureUrl)!=null?c:"");(b==null?void 0:b.name)!=null&&a.contactNames.push(b.name);return a},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),g=f.contactNames,h=f.contactUrlExpirations,i=f.contactUrlFallbacks;f=f.contactUrls;return{listItemAccessibilityText:d("MAWBridgePollUtils").getListItemAccessibilityText(g,e).toString(),listItemContactUrlExpirationTimestampList:h.length>0?h.join(", "):void 0,listItemContactUrlFallbackList:i.length>0?i.join(", "):void 0,listItemContactUrlList:f.length>0?f.join(", "):void 0,listItemId:c,listItemProgressBarFilledPercentage:(k||(k=d("I64"))).of_int32(a),listItemTitleText:e,listItemTotalCount:k.of_int32(b.length)}});var u=(k||(k=d("I64"))).of_string(q);o=o?h._(/*BTDS*/"Cambiar voto").toString():h._(/*BTDS*/"Votar").toString();var v={actionContentBlob:r,attachmentFbid:q,attachmentIndex:k.zero,ctaId:u,messageId:g,targetId:k.of_string(q),threadKey:f,title:o,type_:"xma_poll_details_card"},w={attachmentCta1Id:u,attachmentFbid:q,attachmentIndex:k.zero,cta1Title:o,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:u,defaultCtaTitle:o,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:k.zero,messageId:g,threadKey:f};o={attachmentCta1Id:u,attachmentFbid:q,attachmentIndex:k.zero,attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:k.of_string(q),cta1Title:o,cta1Type:"xma_poll_details_card",defaultCtaId:u,defaultCtaTitle:o,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:r,listItemsId:k.of_string(q),messageId:g,threadKey:f,timestampMs:k.of_float(m),transportKey:p!=null?p:"WhatsApp",xmaLayoutType:j.ofNumber(c("MNLSXMALayoutType").XCENTER),xmasTemplateType:j.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)};r=e.pollOptions.values().filter(function(a){return a.optionText!=null}).toArray().length;m=r>l?h._(/*BTDS*/"_j{\"*\":\"{additional_option_count} opciones m\\u00e1s\",\"_1\":\"{additional_option_count} opci\\u00f3n m\\u00e1s\"}",[h._plural(r-l),h._param("additional_option_count",r-l)]).toString():void 0;p=babelHelpers["extends"]({},o,{listItemAccessibilityText1:s[0].listItemAccessibilityText,listItemAccessibilityText2:s.length>1?s[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:s.length>2?s[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:s[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:s.length>1?s[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:s.length>2?s[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:s[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:s.length>1?s[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:s.length>2?s[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:s[0].listItemContactUrlList,listItemContactUrlList2:s.length>1?s[1].listItemContactUrlList:void 0,listItemContactUrlList3:s.length>2?s[2].listItemContactUrlList:void 0,listItemId1:s[0].listItemId,listItemId2:s.length>1?s[1].listItemId:void 0,listItemId3:s.length>2?s[2].listItemId:void 0,listItemProgressBarFilledPercentage1:s[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:s.length>1?s[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:s.length>2?s[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:m,listItemTitleText1:n[0].optionText,listItemTitleText2:n.length>1?n[1].optionText:void 0,listItemTitleText3:n.length>2?n[2].optionText:void 0,listItemTotalCount1:s[0].listItemTotalCount,listItemTotalCount2:s.length>1?s[1].listItemTotalCount:void 0,listItemTotalCount3:s.length>2?s[2].listItemTotalCount:void 0});yield (i||(i=b("Promise"))).all([a.attachments.upsert([f,g,q],p),a.attachment_ctas.upsert([u],v),a.attachment_items.upsert([q,k.zero],w)])});return v.apply(this,arguments)}g.POLL_OPTIONS_THRESHOLD=l;g.call=a}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=b.msgId,f=b.receiverFetchId,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(c,e)));b=l(b,c,g);yield a.attachments.upsert([c,e,f],b)});return k.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,c){return j(a,b,c)})}function l(a,b,e){var f=a.accessibilitySummaryText,g=a.mimetype,j=a.msgId,k=a.previewHeight,l=a.previewUrl,n=a.previewUrlExpirationTimestampMs,o=a.previewWidth,p=a.ravenSettings,q=a.receiverFetchId,r=a.sortOrderMs,s=a.transportKey;a=a.type;a=m(a);k=d("MAWImageUtils").boundHeightWidth(k,o,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);o=k.height;k=k.width;var t=l!=null?l:e==null?void 0:e.previewUrl,u=n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs;t=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(t,u);return{accessibilitySummaryText:f,attachmentFbid:q,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(p==null?void 0:p.ephemeralMediaState)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaState):void 0,ephemeralMediaViewMode:(p==null?void 0:p.ephemeralMediaViewMode)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaViewMode):void 0,hasMedia:t,hasXma:!1,isSharable:!1,messageId:j,previewHeight:h.of_int32(o),previewUrl:l!=null?l:e==null?void 0:e.previewUrl,previewUrlExpirationTimestampMs:n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs,previewUrlMimeType:g,previewWidth:h.of_int32(k),receiverFetchId:q,threadKey:b,timestampMs:h.of_float(r),transportKey:s!=null?s:"WhatsApp"}}function m(a){switch(a){case"sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a;g.composeAttachment=l}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","cr:3468"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g,j=e.contentRef,k=e.defaultPreviewMediaId,l=e.msgId,m=e.subtitleText,n=e.titleText,o=e.xmaId;if(l==null)return;g=(g=e==null?void 0:(g=e.defaultCTA)==null?void 0:g.actionUrl)!=null?g:e==null?void 0:(g=e.defaultCTA)==null?void 0:g.nativeUrl;var p=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f,l)));if(p!=null)return;p=String(o);o=b("cr:3468")!=null?(h||(h=d("I64"))).of_int32(b("cr:3468").getInChatMsgIdFromMsgId(l)):(h||(h=d("I64"))).zero;var q;if(j!=null)try{j=JSON.parse(j);j!=null&&(q=JSON.stringify(j))}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else c("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");j=(yield d("MAWBridgeXMAUtils").addAttachmentCtas(a,e,f,l,p,{}));e=j.attachmentCta1Id;var r=j.attachmentCta2Id,s=j.attachmentCta3Id;j=j.defaultCtaId;yield a.attachments.add({actionUrl:g!=null?g:void 0,attachmentCta1Id:e,attachmentCta2Id:r,attachmentCta3Id:s,attachmentFbid:p,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,defaultCtaId:j,hasMedia:!1,hasXma:!0,hasXmaPreview:k!=null,isSharable:!0,messageId:l,receiverFetchId:q,subtitleText:m,threadKey:f,timestampMs:o,titleText:n,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)});return});return j.apply(this,arguments)}g.call=a}),98);
__d("isReceiverFetchReceivingEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a)return c("gkx")("6743");else return c("gkx")("6744")}g["default"]=a}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb","asyncToGeneratorRuntime","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=String(b.xmaId),g=b.msgId;if(g==null)return;var h=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(h&&c("isReceiverFetchReceivingEnabled")(!0))return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,e);h=(yield d("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(a,e,g));var i=h[0];h=h[1];h=(yield d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,g,f,h));var j=h.attachmentCta1Id,k=h.attachmentCta2Id,l=h.attachmentCta3Id;h=h.defaultCtaId;b=d("MAWBridgeXMAUtils").composeAttachmentXMA(b,e,f,g,j,k,l,h,"MAWBridgeNewXMAHandler");i!=null?yield a.attachments.upsert([i.threadKey,i.messageId,i.attachmentFbid],b):yield a.attachments.add(b)});return i.apply(this,arguments)}function j(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return h(a,b,c)})}function a(a,b){return j(a,b)}g.callWithoutWaitingForAnything=h;g.call=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler",["FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadMappingState","MAWThreadUpdateMiddlewareGatingUtil","MAWThreadUtils","Promise","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="[Occamadillo][CreateE2EEMetadataThreadHandler]";function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){d("WALogger").LOG([k+" Handler called from "+e.creationSource+" for "+("jid: "+e.jid)]);if(!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled()){d("WALogger").LOG([k+" Early return due to failed eligibility check"]);return(j||(j=b("Promise"))).resolve()}var f=e.bumpTimestampMs,g=e.creationSource,i=e.folderId,l=e.jid;e=e.threadKeys;var n=(yield m(a,e));if(!s(g,n,e)){d("WALogger").LOG([k+" Early return due to no SPROC call required: jid: "+l+", "+("threadKey: "+((n==null?void 0:n.threadKey)?(h||(h=d("I64"))).to_string(n==null?void 0:n.threadKey):"null"))]);return(j||(j=b("Promise"))).resolve()}g=t(g);i=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(i);n=(yield q(a,n,e,l));e=d("MAWThreadUtils").getLSThreadTypeFromJid(l);u({bumpTimestampMs:f,createdByLocalDevice:g,folderType:i,jid:l,offlineThreadKeyDetails:n,threadType:e});return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpTimestampMs:f,createdByLocalDevice:g,folderType:i,offlineThreadKey:n.offlineThreadKey,threadType:e,waJid:d("MAWJids").convertChatJidToIntJid(l)})});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=(yield (j||(j=b("Promise"))).all([yield o(a,c.authoritative),yield o(a,c.optimistic)]));c=a[0];a=a[1];return c!=null?c:a});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(c==null)return(j||(j=b("Promise"))).resolve();a=(yield a.threads.get((h||(h=d("I64"))).of_string(c)));return a});return p.apply(this,arguments)}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(e!=null)return{offlineThreadKey:e.threadKey,source:"Pre-existing LSDB Thread"};e=null;var i=null;f.authoritative!=null?(e=(h||(h=d("I64"))).of_string(f.authoritative),i="MAW: authoritative"):f.optimistic!=null?(e=(h||(h=d("I64"))).of_string(f.optimistic),i="MAW: optimistic"):(e=(yield d("MAWCreateOptimisticThread").createOfflineThreadingId(a)),i="New Offline Threading ID");yield (j||(j=b("Promise"))).all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(a,e),d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:d("MAWJids").convertChatJidToIntJid(g),threadKey:e})]);c("FBLogger")("messenger_web").info(k.concat(" Created new optimistic thread in LSDB with threadKey: ",(h||(h=d("I64"))).to_string(e),", threadKey source: ",i,", for jid: ",g));return{offlineThreadKey:e,source:i}});return r.apply(this,arguments)}function s(a,b,e){var f=b!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.authorityLevel):null;c("FBLogger")("messenger_web").info(k.concat(" Validating authoritativeThreadKey optimisation. authorityLevel: %",", has authoritativeThreadKey: %",", creationSource: %",", optimistic thread key: %",", authoritative thread key: %"),f!=null?f.toString():"null",e.authoritative!=null?"true":"false",a,e.optimistic,e.authoritative);switch(a){case"incoming_message":return b==null;case"outgoing_message":switch(f){case null:case void 0:case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!0;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!1;default:f;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown creation source")}}function t(a){switch(a){case"incoming_message":return!1;case"outgoing_message":return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown creation source")}}function u(a){var b=a.bumpTimestampMs,e=a.createdByLocalDevice,f=a.folderType,g=a.jid,j=a.offlineThreadKeyDetails;a=a.threadType;c("FBLogger")("messenger_web").info(k.concat(" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: ","bumpTimestampMs: ",(h||(h=d("I64"))).to_float(b).toString(),", createdByLocalDevice: ",e.toString(),", folderType: ",(i||(i=d("LSIntEnum"))).toNumber(f).toString(),", offlineThreadKey: ",h.to_string(j.offlineThreadKey),", offlineThreadKeySource: ",j.source,", threadType: ",i.toNumber(a).toString(),", waJid: ",g))}g.call=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2",["DedupMiThreadCreationCache","FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadMappingState","MAWThreadUtils","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="[Occamadillo][CreateE2EEMetadataThreadHandlerV2]";function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.bumpTimestampMs,f=b.creationSource,g=b.folderId,h=b.jid;b=b.optimisticThreadKey;p(f,h);b=b!=null?yield a.threads.get((i||(i=d("I64"))).of_string(b)):null;if(b!=null&&d("DedupMiThreadCreationCache").DedupMiThreadCreationCache.has(h)){t(h);return}if(b!=null&&m(b)){q(h,(i||(i=d("I64"))).to_string(b.threadKey));return}e={bumpTimestampMs:e,createdByLocalDevice:f==="outgoing_message",folderType:d("MAWFolderUtils").systemFolderToLSCoreClientFolder(g),offlineThreadKey:yield n(b,h,a),threadType:d("MAWThreadUtils").getLSThreadTypeFromJid(h),waJid:d("MAWJids").convertChatJidToIntJid(h)};s(e);return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),e).then(function(){d("DedupMiThreadCreationCache").addToDedupMiThreadCreationCache(h)})});return l.apply(this,arguments)}function m(a){a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a.authorityLevel);switch(a){case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!1;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){if(a!=null)return(h||(h=b("Promise"))).resolve(a.threadKey);a=(yield d("MAWCreateOptimisticThread").createOfflineThreadingId(e));r(c,a);yield (h||(h=b("Promise"))).all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(e,a),d("MAWThreadMappingState").markActThreadMappingAsCompleted(e,{intJid:d("MAWJids").convertChatJidToIntJid(c),threadKey:a})]);return a});return o.apply(this,arguments)}function p(a,b){c("FBLogger")("messenger_web").info(k+" handler called from %s for jid %s",a,b)}function q(a,b){c("FBLogger")("messenger_web").info(k+" handler returned early for jid %s because thread %s was already authoritative",a,b)}function r(a,b){c("FBLogger")("messenger_web").info(k+" no thread exists for jid %s, creating optimistic thread with key %s",a,(i||(i=d("I64"))).to_string(b))}function s(a){c("FBLogger")("messenger_web").info(k+" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: bumpTimestampMs: %s, createdByLocalDevice: %s, folderType: %s, offlineThreadKey: %s, offlineThreadKeySource: %s, threadType: %s, waJid: %s",(i||(i=d("I64"))).to_string(a.bumpTimestampMs),a.createdByLocalDevice,i.to_string(a.folderType),i.to_string(a.offlineThreadKey),i.to_string(a.threadType),i.to_string(a.waJid))}function t(a){c("FBLogger")("messenger_web").info(k+" LSCreateE2EEMetadataThreadStoredProcedure has already been called for jid %s, early returning",a)}g.call=a}),98);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWBridgeParticipantsUpdatedHandler","MAWCurrentUser","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","asyncToGeneratorRuntime","gkx","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(j||(j=d("I64"))).of_string(l);function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(j||(j=d("I64"))).of_string(b.fbid),g=d("MAWTimeUtils").toTimestamp(b.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs),o=b.isSuperAdmin?h._(/*BTDS*/"Creador del grupo").toString():void 0,p=(yield a.participants.get(e,f));p!=null?yield a.participants.put({authorityLevel:p.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:p.isSuperAdmin,nickname:p.nickname,normalizedSearchTerms:p.normalizedSearchTerms,participantCapabilities:p.participantCapabilities,readActionTimestampMs:n,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e}):yield a.participants.add({authorityLevel:(j||(j=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:j.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e});yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,e);n=b.isAdmin;(j||(j=d("I64"))).equal(m,f)&&(n?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,e):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,e));p==null&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===b.fbid,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return o.apply(this,arguments)}function a(a,e){if(c("gkx")("13628"))return d("MAWBridgeParticipantsUpdatedHandler").call(a,{participants:[e]});if(e.fbid.startsWith("shadow_")){c("vulture")("Hxg8SseiWP5IZUyhTKsM26kY__w=");return(i||(i=b("Promise"))).resolve()}return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeParticipantUpdatedHandler",function(a,b){return n(a,e,b)})}g.callWithoutWaitingForAnything=n;g.call=a}),226);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWRavenUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeRavenActionMsgForUIHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=a.attachments;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e,c.ravenMsgId)));if(e==null)return(i||(i=b("Promise"))).resolve();if(e.ephemeralMediaState==null)return(i||(i=b("Promise"))).resolve();var f=(h||(h=d("I64"))).to_int32(e.ephemeralMediaState);if(e.ephemeralMediaViewMode==null)return(i||(i=b("Promise"))).resolve();var g=h.to_int32(e.ephemeralMediaViewMode);f=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(f);g=d("MAWMsg").MAWRavenMsgEphemeralType.cast(g);if(f==null||g==null)return(i||(i=b("Promise"))).resolve();f=d("MAWRavenUtils").getNextRavenMessageEphemeralState(f,g);if(f==null)return(i||(i=b("Promise"))).resolve();e.ephemeralMediaState;g=babelHelpers.objectWithoutPropertiesLoose(e,["ephemeralMediaState"]);e=babelHelpers["extends"]({ephemeralMediaState:h.of_int32(f)},g,{transportKey:"WhatsApp"});f=[g.threadKey,g.messageId,g.attachmentFbid];return a.upsert(f,e)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid),f=d("MAWTimeUtils").toTimestamp(b.lastReadWatermarkTs),g=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);b=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs);c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e)));c!=null&&(yield a.participants.put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(g,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:g,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.readActionTimestampMs:b,readWatermarkTimestampMs:(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero)?c.readWatermarkTimestampMs:f,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero}))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:b})}g.call=a}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["Promise","ReQL","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.message_search_results).filter(function(a){return e.includes(a.messageOtid)})));yield (h||(h=b("Promise"))).all(c.map(function(b){return a.message_search_results["delete"](b.type_,b.query,b.threadKey,b.globalIndex)}))})().then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(c("emptyFunction"))},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0],c[0]=e[0],c[1]=e[1],e):(d=a.item,e=[d.parentThreadKey,d.disappearingThreadKey],c[0]=e[0],c[1]=e[1],e)})},function(a){return b.count(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}]):b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}])}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286]),capabilities2:b.i64.or_(a.capabilities2,b.i64.cast([0,2]))})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToArchivedFolderStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],void 0)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return[c.i64.cast([0,1]),c.i64.cast([0,2])].some(function(b){return c.i64.eq(a[1],b)})?c.storedProcedure(b("LSMoveThreadToArchivedFolder"),a[0]):c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],void 0,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticRemoveThread"),e.threadKey,e.removeType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});f["default"]=a}),66);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler",["CurrentMessengerUser","I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(f==null||c.markUnread!==null&&c.markUnread===!1&&(h||(h=d("I64"))).ge(f.lastReadWatermarkTimestampMs,e))return;e=babelHelpers["extends"]({},f,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});yield a.threads.put(e);f=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getID());e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(b,f)));e!=null&&(yield a.participants.put(babelHelpers["extends"]({},e,{readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)})))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","asyncToGeneratorRuntime","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)));if(e==null)return;var f=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet),g=h(e,b),i=c("getMAWLastMessageCtaType")(b.snippetType);g=babelHelpers["extends"]({},e,{cannotReplyReason:g,folderName:e.folderName,lastMessageCtaType:i,parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)});yield a.threads.put(g)});return j.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056849266,"1765"),b,{instanceKey:a})}function d(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function e(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.addAnnotations=b;g.endSuccess=d;g.endFailure=e}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeUnbumpOnThreadLoadHandler",["FBLogger","I64","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MAWODSProxy","WAOdsEnums","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set();function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.jid,f=b.unbumpFromTs;b=b.unbumpToTs;var g=(yield d("MAWChatJid").toThreadMaybe(a,e));if(g==null){var j=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(e),"MAWBridgeCentralizedThreadUpdateHandler"));c("FBLogger")("UnbumpOnRefresh").mustfix("[UnbumpOnRefresh] missing thread for unbumping jid: %s with thread state: %s",e,j.type);return}if(i.has(e)){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_already_processed"});return}i.add(e);if(!(h||(h=d("I64"))).equal(g.lastActivityTimestampMs,f))return;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_on_thread_load"});j=babelHelpers["extends"]({},g,{lastActivityTimestampMs:b});yield a.threads.put(j)});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWUpdateClientRestoreStatusOperationType","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===e})).then(function(d){if(d!=null)return a.encrypted_backups_client_restore_status["delete"](d.threadId).then(c("emptyFunction"));else return(j||(j=b("Promise"))).resolve()})}function l(a,e,f,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).getKeyRange(e)).then(function(g){if(g!=null)return a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:f,threadId:e});else return(j||(j=b("Promise"))).resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status)).then(function(c){return c.reduce(function(b,c){return b.then(function(){return k(a,c.threadId)})},(j||(j=b("Promise"))).resolve())})}function e(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.threadId,g=e.action;g===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?yield a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:void 0,threadId:f}):yield l(a,e.threadId,void 0,e.ebPrefetch);return(j||(j=b("Promise"))).resolve()});return m.apply(this,arguments)}g.truncateClientRestoreStatusTable=a;g.call=e}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactAddMessengerContactStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAddMessengerContact"),e.contactId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(b){return d[1]=f.threadSubtype,c.i64.eq(d[1],c.i64.cast([0,75]))?d[0]="interop":d[0]="inbox",c.i64.eq(d[1],c.i64.cast([0,75]))?d[2]=c.i64.cast([-1,4294967277]):d[2]=c.i64.cast([0,0]),c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({folderName:d[0],parentThreadKey:d[2],igFolder:a[1],capabilities:c.i64.and_(f.capabilities,c.i64.cast([-1,4292870143]))})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?0:(e=b.item,d[7]=e.clientThreadPk,c.db.table(276).fetch([[[d[7]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.forEach(c.db.table(276).fetch([[[d[7]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[3]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[3]=d[7])})},function(e){return d[5]=new c.Map(),d[5].set("thread_key",a[0]),d[5].set("sync_group",d[3]),d[5].set("ig_folder",a[1]),d[6]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"message_request",c.i64.cast([0,66]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure";a.__tables__=["threads","mi_act_mapping_table","client_threads"];e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticAcceptMessageRequest"),e.threadKey,e.igFolder);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.contactUserId;e=e.threadJid;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((i||(i=d("I64"))).of_string(f))));if(g==null){c("FBLogger")("messenger_web").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var k=babelHelpers["extends"]({},g,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e,"MAWBridgeUpdateContactAsConnectedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){yield (h||(h=b("Promise"))).allSettled([a.contacts.upsert([g.id],k),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:g.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:e})])});return function(b,c){return a.apply(this,arguments)}}())});return k.apply(this,arguments)}g.call=a}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateE2EEMetadataParticipants"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler",["FBLogger","I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","ReQLTable"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).of_float(b.minTimestampMs),f=b.minMessageId;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeUpdateMinMessageHandler",function(a,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(g)).then(function(h){if(h==null)return;var i=b.hasMoreBefore,j=i!=null?i:h.hasMoreBefore;return d("ReQLTable").update(a.messages_ranges_v2__generated,[g,h.minTimestampMs,h.minMessageId],function(a){if(a!=null)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:f,minTimestampMs:e,threadKey:a.threadKey};throw c("FBLogger")("wmi_eb").mustfixThrow("Thread is missing in updating the min message in message range")})})})}g.call=a}),98);
__d("MAWBridgeUpdateThreadActivityHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MWFBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","ActivityUpdate"]);function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWChatJid").toThreadMaybe(a,b.chatJid));if(c==null){yield q(a,b.chatJid);return}switch(b.source){case"outgoing_msg":case"incoming_msg":return k(a,c,b);case"deleted_msg":return m(a,c,b);case"inserted_admin_msg":return p(c,b,"No bump for admin message");case"eb_restore":return i.warn("Attempted bump from EB restore");default:b.source;throw i.mustfixThrow("Unknown source")}});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(o(b,d)){p(b,d,"Stale incoming bump");return}yield c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:d.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:d.bumpTimestampMs,threadKey:b.threadKey});p(b,d,"Thread bumped")});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield a.threads.put(babelHelpers["extends"]({},b,{lastActivityTimestampMs:(h||(h=d("I64"))).min(b.lastActivityTimestampMs,c.bumpTimestampMs),lastReadWatermarkTimestampMs:h.min(b.lastReadWatermarkTimestampMs,c.bumpTimestampMs)})),p(b,c,"Thread unbumped")});return n.apply(this,arguments)}function o(a,b){return b.source==="incoming_msg"&&(h||(h=d("I64"))).le(b.bumpTimestampMs,a.lastActivityTimestampMs)}function p(a,b,c){b=[(h||(h=d("I64"))).to_string(a.threadKey),b.source,h.to_string(b.bumpTimestampMs),h.to_string(a.lastActivityTimestampMs),h.to_string(a.lastReadWatermarkTimestampMs)];i.debug.apply(i,[c+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(b))}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"MAWBridgeUpdateThreadActivityHandler"));i.mustfix("Missing LSDBThread when updating thread activity. jid: %s, thread state: %s",b,a.type)});return r.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateThreadListItemHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWBridgeBuildThreadSnippet","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MWFBLogger","asyncToGeneratorRuntime","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.activityUpdate,d=b.chatJid;b=b.snippetUpdate;c!=null&&(yield k(a,d,c));b!=null&&(yield q(a,d,b))});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWChatJid").toThreadMaybe(a,b));if(e==null){yield v(a,b);return}switch(c.source){case"outgoing_msg":case"incoming_msg":return m(a,e,c);case"deleted_msg":return o(a,e,c);case"inserted_admin_msg":return t(e,c,"No bump for admin message");case"eb_restore":return i.warn("Attempted bump from EB restore");default:c.source;throw i.mustfixThrow("Unknown source")}});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(s(b,d)){t(b,d,"Stale incoming bump");return}yield c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:d.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:d.bumpTimestampMs,threadKey:b.threadKey});t(b,d,"Thread bumped")});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield a.threads.put(babelHelpers["extends"]({},b,{lastActivityTimestampMs:(h||(h=d("I64"))).min(b.lastActivityTimestampMs,c.bumpTimestampMs),lastReadWatermarkTimestampMs:h.min(b.lastReadWatermarkTimestampMs,c.bumpTimestampMs)})),t(b,c,"Thread unbumped")});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("MAWChatJid").toThreadMaybe(a,b));if(f==null){yield v(a,b);return}yield a.threads.put(babelHelpers["extends"]({},f,{lastMessageCtaType:c("getMAWLastMessageCtaType")(e.snippetType),snippet:d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,f.snippet),snippetSenderContactId:e.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(e.snippetSenderContactId):(h||(h=d("I64"))).zero}));u(f.threadKey)});return r.apply(this,arguments)}function s(a,b){return b.source==="incoming_msg"&&(h||(h=d("I64"))).le(b.bumpTimestampMs,a.lastActivityTimestampMs)}function t(a,b,c){b=[(h||(h=d("I64"))).to_string(a.threadKey),b.source,h.to_string(b.bumpTimestampMs),h.to_string(a.lastActivityTimestampMs),h.to_string(a.lastReadWatermarkTimestampMs)];i.debug.apply(i,[c+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(b))}function u(a){i.debug("Updated thread snippet. threadKey: %s",(h||(h=d("I64"))).to_string(a))}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"MAWBridgeUpdateThreadListItemHandler"));i.mustfix("Missing LSDBThread when updating threadlist item. jid: %s, thread state: %s",b,a.type)});return w.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=String(e.xmaId);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,g){return a.attachments.get(g,e.msgId,f).then(function(i){if(i==null)return(h||(h=b("Promise"))).resolve();i=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean);i=i.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(i).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(g,e.msgId,f)).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d){if(d!=null){d=babelHelpers["extends"]({},d,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});yield a.attachments.put(d)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return(h||(h=b("Promise"))).resolve()});return function(a){return d.apply(this,arguments)}}())})})})}g.call=a}),98);
__d("MAWBridgeUIEventHandler",["EBLogger","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeCentralizedThreadUpdateHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsLoadedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantUpdatedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeSyncContacts","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadTimestampsHandler","MAWBridgeThreadUpdatedHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUnbumpOnThreadLoadHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateMinMessageHandler","MAWBridgeUpdateThreadActivityHandler","MAWBridgeUpdateThreadListItemHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWEphemeralMessageExpirationStorage","MAWLoggerUtils","MWFBLogger","Promise","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","cr:15985","cr:15986","cr:15987","cr:16021","cr:16022","cr:16023","cr:16024","cr:16025","cr:16026","cr:16027","cr:16028","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);k=function(){return a};return a}var l=d("MWFBLogger").MWLogger.tags(["MAWBridgeUIEvent"]);function m(a,c,e){switch(e.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(c,e.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(c,e.value);case"MsgClearCountdown":return(h||(h=b("Promise"))).resolve(d("MAWEphemeralMessageExpirationStorage").clearMessageFromExpiration(e.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(c);case"VerifyThreadExists":var f=e.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(c,f);case"CreateE2EEMetadataThread":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler").call(c,e.value);case"CreateE2EEMetadataThreadV2":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(c,e.value);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,c,e.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(c,e.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(c,e.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(c,e.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(c,e.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(c,e.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(c,e.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(c,e.value);case"ParticipantUpdated":return d("MAWBridgeParticipantUpdatedHandler").call(c,e.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(c,e.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(c,e.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(c,e.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(c,e.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(c,e.value);case"CentralizedThreadUpdate":return d("MAWBridgeCentralizedThreadUpdateHandler").call(c,e.value);case"UpdateThreadListItem":return d("MAWBridgeUpdateThreadListItemHandler").call(c,e.value);case"UpdateThreadActivity":return d("MAWBridgeUpdateThreadActivityHandler").call(c,e.value);case"UnbumpOnThreadLoad":return d("MAWBridgeUnbumpOnThreadLoadHandler").call(c,e.value);case"ThreadTimestampsUpdated":return d("MAWBridgeThreadTimestampsHandler").call(c,e.value);case"MsgsLoaded":return d("MAWBridgeMsgsLoadedHandler").call(c,e.value);case"StartTrace":return b("cr:16023").call(c,e.value);case"UpdateTrace":return b("cr:16026").call(c,e.value);case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(c,e.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(c,e.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(c,e.value);case"ClockSkewUpdated":return(h||(h=b("Promise"))).resolve(d("WATimeUtils").setClockSkew(e.value));case"ABPropsUpdated":l.warn("ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return(h||(h=b("Promise"))).resolve(d("MAWAbPropsClient").rewrite(e.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(c,e.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(c,e.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(c,e.value);case"UploadMessage":return b("cr:16028").call(c,e.value);case"UploadMessageByBatch":return b("cr:16027").call(c,e.value);case"DeleteMessagesOfThread":return b("cr:16021").call(c,e.value);case"UploadAttachment":return b("cr:15987").call(c,e.value);case"ResignAttachmentCDNUrl":return b("cr:15986").call(c,e.value);case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(c,e.value);case"RestoreMessageBatch":d("EBLogger").EBLogger.tags(["labyrinth_dyi"]).WARN(k());return(h||(h=b("Promise"))).resolve();case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(c,e.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(c,e.value);case"UpdateDyiStatus":d("EBLogger").EBLogger.tags(["labyrinth_dyi"]).WARN(j());return(h||(h=b("Promise"))).resolve();case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(c,e.value);case"TraceRecordCheckpoint":return b("cr:16025").call(c,e.value);case"DeleteMessageRangesV2":return d("MAWBridgeDeleteMessageRangesV2Handler").call(c,e.value);case"UpdateMinMessage":return d("MAWBridgeUpdateMinMessageHandler").call(c,e.value);case"IssuePointQuery":return b("cr:16022").call(c,e.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(c,e.value);case"StartTraceWithTraceId":return b("cr:16024").call(c,e.value);case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(c,e.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(c,e.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(c,e.value);case"EphemeralSettingsUpdatedForUI":return b("cr:15985").call(c,e.value);case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(c,e.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(c,e.value);case"RemoveMessageSearchResult":return d("MAWBridgeRemoveMessageSearchResultHandler").call(c,e.value);case"AddMessageSearchResult":return d("MAWBridgeAddMessageSearchResultHandler").call(a,c,e.value);case"FulfillRestorePromise":return d("MAWBridgeFulfillRestorePromisePayloadHandler").call(e.value);case"UpdateContactAsConnected":return d("MAWBridgeUpdateContactAsConnectedHandler").call(c,e.value);case"RefreshContact":return d("MAWBridgeRefreshContactHandler").call(c,e.value);case"NewReceiverFetchInfo":return d("MAWBridgeNewReceiverFetchInfoHandler").call(c,e.value);case"RestoreNativeOp":return d("MAWBridgeCallRestoreNativeOpHandler").call(c,e.value);case"NewPoll":return d("MAWBridgeNewPollHandler").call(c,e.value);default:return(h||(h=b("Promise"))).resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){l.mustfix("User is neither part of armadillo QE and dual send QE but somehow loaded this handler");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var d={};d=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},d);l.DEBUG(i(),JSON.stringify(d))}c("promiseDone")(n(a,b),c("emptyFunction"),function(a){l.catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(yield a);a=d("MAWLoggerUtils").getInstanceKey();var h=e.map(function(a){return a.tag}),i="";d("MAWBridgeUIEventQueueQPLLogger").start(a,h);d("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{"int":{queue_size:e.length}});var j;try{j=(yield g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b=0;b<e.length;b++){var f=e[b];try{yield m(g,a,f)}catch(a){i=f.tag;return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}return d("WAResultOrError").makeResult(!0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",{events:e,type:"maw_ui_bridge"},f.id+":322"))}catch(a){j=d("WAResultOrError").makeError(c("getErrorSafe")(a))}!j.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,i),l.catching(j.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB, failed at %s, all events: %s",i,h.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)});return o.apply(this,arguments)}function e(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){try{yield m(a,b,d)}catch(b){a=c("getErrorSafe")(b);l.catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",d.tag);throw b}});return p.apply(this,arguments)}g.handleEvents=a;g.handleShimEvent=e}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","asyncToGeneratorRuntime","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j.load());b=(yield b());var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.contacts).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})});return l.apply(this,arguments)}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function e(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=e}),98);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","MWFBLogger","WAOfflineUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""]);k=function(){return a};return a}var l=d("MWFBLogger").MWLogger.tags(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.DEBUG(k(),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").addPoint("download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.DEBUG(j(),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.DEBUG(i(),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").addPoint("download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.DEBUG(h());d("MAWMIC").addPoint("download_offline_queue_failed",b);return}});return function(a){return c.apply(this,arguments)}}()};e=a;g["default"]=e}),98);
__d("MWWorkerOwnedDbKeychain",["Deferred","MAWCryptoConsts","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleEARKeyChange"]);h=function(){return a};return a}c={accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION};var i=babelHelpers["extends"]({},c),j="uninitialized",k=d("MWFBLogger").MWLogger.tags(["MWWorkerOwnedDbKeychain"]);function a(){return i}function b(a){k.DEBUG(h()),j="initialized",i=a}function e(){return j==="initialized"}function f(){return i.latestVersion}g.getEARKey=a;g.handleEARKeyChange=b;g.isInitialised=e;g.getLatestVersion=f}),98);
__d("IGDSetupBridge",["DTSG","FBLogger","JSResourceForInteraction","LSDatabaseSingleton","LSGetLatestThreadIds.nop","LSInitSyncCompleteSubscription","LSPlatformGraphQLLightspeedRequest","LSPlatformGraphQLLightspeedRequestForIGD","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandler","MAWCommonSetupBridge","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeOfflineSnapshot","MAWUnrecoverableDbErrors","MWWorkerOwnedDbKeychain","Promise","Run","WAExceededStorageQuota","WAResultOrError","asyncToGeneratorRuntime","cr:3411","emptyFunction","gkx","isInstamadillo","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=c("requireDeferred"))("ArmadilloCutoverClientFalcoEvent").__setRef("IGDSetupBridge"),k=e("IGDBridgeResignCdnUrlHandler").__setRef("IGDSetupBridge"),l=e("MAWBridgeUpdateDYIStatusV2").__setRef("IGDSetupBridge"),m=e("MAWSetupBridgeOfflineConsumer").__setRef("IGDSetupBridge"),n=(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),o=function(a){j.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})},p=new Set(["StartTraceWithTraceId","TraceRecordCheckpoint"]),q=new Set(["ABPropsUpdated","ClockSkewUpdated","DropAllSecureThreads","LargeClockSkewValue","ReceivedChatState","UpdateMediaStatus"]);function a(a){var e=a.dispatch,g=a.logout,j=a.reregisterDevice,r=a.rotateCryptoAuthToken,s=a.worker;function t(){s.postMessage({type:"force-flush-data"})}d("Run").onUnload(t);d("Run").onBeforeUnload(t,!1);return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earKeyChange:function(a){d("MWWorkerOwnedDbKeychain").handleEARKeyChange(a)},executeGraphQLLightSpeedRequest:function(a){a=a.args;return c("gkx")("3889")?c("LSPlatformGraphQLLightspeedRequestForIGD").apply(void 0,a):c("LSPlatformGraphQLLightspeedRequest").apply(void 0,a)},getDTSGToken:function(){return(h||(h=b("Promise"))).resolve(d("DTSG").getToken())},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBLatestThreadIds:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return b.runInTransaction(function(b){return c("LSGetLatestThreadIds.nop")(b,0,"",a.numThreads,a.miActMappingFilteredThreads)},"readonly",void 0,void 0,f.id+":141")});function e(b){return a.apply(this,arguments)}return e}(),getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},getMediaStorageResult:function(){return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError({errorMessage:"getMediaStorageResult is not supported in IGD",errorName:"igd-unsupported"}))},getMinosEpochDataForUser:a=c("emptyFunction"),isDbMigrating:function(a){e({tag:"IsDbMigrating",value:!1})},logCutoverEvent:o,logout:g,offlineConsumerProgress:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield m.load())(n,e).apply(void 0,arguments)});function c(){return a.apply(this,arguments)}return c}(),offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield n);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MAWBridgeReceivedChatStateHandler").call(b,a)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":182")});function c(b){return a.apply(this,arguments)}return c}(),reregisterDevice:j,resignCdnUrl:function(a){var b=a.deliveryObjectId,c=a.payload;return k.load().then(function(a){return a.call(c,b)})},rotateCryptoAuthToken:r,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},trackEbConsistency:function(){},uiUpdate:function(a){a=a.events;var e=[],f=a.filter(function(a){if(p.has(a.tag)){e.push(a);return!1}if(q.has(a.tag))return!1});e.length>0&&(b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a),d("MAWBridgeUIEventHandler").handleEvents(n,a));if(f.length===0)return;c("isInstamadillo")()?c("FBLogger")("igd_web").warn("[Instamadillo] Unsupported invocation of UI Event Handler. Please deprecate UI Event Handler: %s",a.map(function(a){return a.tag}).join(", ")):c("FBLogger")("igd_web").warn("[IGD] Deprecating UIEventHandlers, please update LSDB directly for UI changes: %s",a.map(function(a){return a.tag}).join(", "))},unrecoverableDbError:function(a){a=a.error;return d("MAWUnrecoverableDbErrors").setError(a)},updateDYIStatus:function(a){var b=a.qplEvent,d=a.qplInstanceKeyE2E,e=a.status;c("promiseDone")(l.load().then(function(a){return a.call({qplEvent:b,qplInstanceKeyE2E:d,status:e})}))},updateEBLSInWokerStateInMainThread:a,updateMediaStatus:a,updateStateManagerStateInMainThread:a,uploadMessagesToBackupV2:function(){return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError("gql_cancelled_instamadillo"))},uploadOpenMessages:function(a){var b=a.uploadPayloads;c("promiseDone")(c("JSResourceForInteraction")("IGDMessageUploadMutation").__setRef("IGDSetupBridge").load().then(function(a){return a.uploadOpenMessageOverGQL(b)}))}},worker:s})}g.setupBridge=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null?void 0:a.addEventListener==null?void 0:a.addEventListener(c,e)})["finally"](function(){a==null?void 0:a.removeEventListener==null?void 0:a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["FBLogger","MessengerWaitForEvent","Promise","QPLUserFlow","emptyFunction","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(c("emptyFunction"))]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueNewError"),e.taskId,e.errorCode,e.errorTitleText,e.errorBodyText,e.errorExtraData,e.presentationStyle);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,e,g){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:g,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite",void 0,void 0,f.id+":37")}))}function k(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":56")}function e(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(a,b.errorId)});return function(a){return c.apply(this,arguments)}}()))})())}function l(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b.errorExtraData===a&&(yield k(c,b.errorId))});return function(a){return d.apply(this,arguments)}}()))})())}var m=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),n=h._(/*BTDS*/"No se han podido cargar todos los chats cifrados de extremo a extremo"),o=h._(/*BTDS*/"Actualiza la p\u00e1gina para verlos."),p=h._(/*BTDS*/"Es posible que tengas que actualizar la p\u00e1gina"),q=h._(/*BTDS*/"Es posible que se produzcan errores al enviar o recibir mensajes en esta p\u00e1gina. Actual\u00edzala para volver a cargar los chats."),r=c("gkx")("4424")?h._(/*BTDS*/"Este navegador no es compatible"):h._(/*BTDS*/"Es posible que tengas que actualizar el navegador");h=c("gkx")("4424")?h._(/*BTDS*/"Faltan algunos mensajes y determinadas funciones de mensajer\u00eda no est\u00e1n disponibles. Puedes usar otro navegador u otro dispositivo m\u00f3vil."):h._(/*BTDS*/"Los chats con cifrado de extremo a extremo no aparecer\u00e1n en este navegador. Actualiza el navegador o usa otro.");var s=new Map([[n.toString(),n],[p.toString(),p]]),t=new Map([[o.toString(),o],[q.toString(),q]]);g.issueError=a;g.deleteUserVisibleError=k;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=l;g.MAWUserVisibleErrorPresentationType=m;g.MAWGeneralErrorMsgTitle=n;g.MAWGeneralErrorMsgBody=o;g.MAWLegacyUserErrorMsgTitle=p;g.MAWLegacyUserErrorMsgBody=q;g.MAWUnsupportedIndexedDBErrorMsgTitle=r;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=s;g.errorMsgBodyToFbtMap=t}),226);
__d("MAWCommonBackendSetup",["EARInitType","MAWAppMutex","MAWEncryptionIndexedDbV2","MAWInit","MAWInitError","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWLoggerUtils","MAWSetupWorker","MAWVaultMaterialsStorage","MAWWorkerReboot","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime","gkx","requireDeferredForDisplay","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferredForDisplay")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup"),j=function(a,e){var f=c("gkx")("9301");if(f===!0)if(e)return(h||(h=b("Promise"))).resolve(!0);else return a.measurePerformance("acquire_mutex",function(){return d("MAWAppMutex").use().init()});else return a.measurePerformance("acquire_mutex",function(){try{var a=d("MAWAppMutex").use().init();return e?a.then(function(){return(h||(h=b("Promise"))).resolve(!0)},function(){return(h||(h=b("Promise"))).resolve(!0)}):a}catch(a){if(e)return(h||(h=b("Promise"))).resolve(!0);throw a}})};function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(!i){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return(h||(h=b("Promise"))).resolve()}var j=(yield d("MAWVaultMaterialsStorage").setupVaultMaterials());yield d("MAWSetupWorker").getOrSetupWorker(j,a,c,e,f,g)["catch"](function(b){return d("MAWWorkerReboot").rebootWorker(j,a,c,e,"backend_setup_failure",g)["catch"](function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})});return k.apply(this,arguments)}function e(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l){yield a.measurePerformance("prepare_logger",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=i.load();(yield a).setupMainWaLogger()}));d("MAWLoggerUtils").initMessengerWebLogging();var m=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();m||(yield a.measurePerformance("detection_support",function(){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return(h||(h=b("Promise"))).resolve()}));var n=a.measurePerformance("setup_vault_materials",function(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()});m=(yield j(a,m));var o=(yield a.measurePerformance("main_ear_setup",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("gkx")("12397"))return(h||(h=b("Promise"))).resolve({success:!0});d("MWSetupDBEncryption").setPerformanceMeasurementTool(d("MAWInit").MAWInit.measurePerformance);var a=(yield d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT));d("MAWEncryptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)});return a})));if(!o.success){a.logPoint("keychain_setup_failure");throw new(d("MAWInitError").MAWInitError)("keychain_setup_failure",o.payload)}if(!m){a.logPoint("maw_appmutex_no_permission");throw new(d("MAWInitError").MAWInitError)("maw_appmutex_no_permission")}var p=(yield n);yield a.measurePerformance("setup_worker",function(){return d("MAWSetupWorker").getOrSetupWorker(p,e,f,g,k,l)["catch"](function(b){a.logPoint("reboot_worker_on_backend_setup_failure");a.addStringAnnotation("backend_setup_failure_reason",b.message);return d("MAWWorkerReboot").rebootWorker(p,e,f,g,"backend_setup_failure",l)["catch"](function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})})});return l.apply(this,arguments)}g.getMutexPermission=j;g.setupArmadilloBackendForCalling=a;g.setupArmadilloBackend=e}),98);
__d("MAWStateContext.react",["$InternalEnum","EncryptedBackupsDYITypes","FBLogger","MAWSharedProtocolQueueConst","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext,k=i.useCallback,l=i.useContext,m=i.useEffect,n=i.useRef,o=i.useState;i=b("$InternalEnum")({NOT_STARTED:"not_started",IN_PROGRESS:"in_progress",READY:"ready"});b={ebDYIState:d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted,ebState:null,ephemeralSettings:{},isMAWDBinUILoaded:!1,mediaDownloadRetryCount:{},mediaDownloadStatus:{},messageLatencies:{},offlineQueueCount:0,offlineQueueProgressDownloaded:0,offlineQueueProgressProcessed:0,offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing,offlineQueueThreadStatus:{},unArchivedSelfDeviceChangeAlerts:0,workerState:i.NOT_STARTED};function a(){var a=l(r);return k(function(b,c){c===void 0&&(c=Date.now()),a({optimisticMsgId:b,tag:"OptimisticSendMessage",timestamp:c})},[a])}function e(){var a=l(r);return k(function(){a({tag:"ClearEphemeralSettings"})},[a])}var p={state:b,subscriptions:new Set()},q=j(function(){return p});d=j(p);var r=j(function(a){throw c("FBLogger")("messenger_web").mustfixThrow("MAW Dispatch not implemented")});function f(a){var b=l(q)(),c=b.state,d=b.subscriptions;b=o(function(){return a(c)});var e=b[0],f=b[1],g=n(e);m(function(){var b=function(b){b=a(b);b!==g.current&&(g.current=b,f(b))};d.add(b);return function(){d["delete"](b)}},[d,a]);return e}g.WorkerState=i;g.initialState=b;g.useDispatchOptimisticSendMessage=a;g.useDispatchClearEphemeralSettings=e;g.MAWNonRerenderingStateContext=q;g.MAWStateContext=d;g.MAWDispatchContext=r;g.useMAWSelector=f}),98);
__d("WADynamicRouterSync",["ExecutionEnvironment","Promise","WALogger","WAMapWithDefault","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["No handler for bridge with namespace: "," route: "," called in environment: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge handler: ",""]);l=function(){return a};return a}function m(a,b){if(a==null)return;var c=a.toLastActiveClient;a=babelHelpers.objectWithoutPropertiesLoose(a,["toLastActiveClient"]);if(c===!0&&b!=null){return babelHelpers["extends"]({},a,{toClientId:(c=a.toClientId)!=null?c:b})}return a}a=function(){function a(){var a=this;this.$2=new Map();this.$4=new(d("WAMapWithDefault").MapWithDefault)(function(){return new Set()});this.$5=null;this.fireAndForget=function(b,c,d,e,f,g){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$4.get(b).add({route:c,arg:d,resolver:null,silentLog:e,eventCallbacks:f,opts:m(g,a.$5)}),a.$6(b,c)};this.sendAndReceive=function(c,d,e,f,g,h){f===void 0&&(f=!1);return new(i||(i=b("Promise")))(function(b){a.$3==null?void 0:a.$3(c,d,e),a.$4.get(c).add({route:d,arg:e,resolver:function(a){b(a)},silentLog:f,eventCallbacks:g,opts:m(h,a.$5)}),a.$6(c,d)})}}var e=a.prototype;e.setAckPayload=function(a){this.$1=a};e.getAckPayoad=function(){return this.$1};e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;c.set(a,b);d==null&&this.$6(a)};e.$7=function(a,c){var e=a.route,f=a.arg,g=a.resolver,h=a.silentLog,j=a.eventCallbacks;a=a.opts;try{var k;this.$5=(k=a==null?void 0:a.fromClientId)!=null?k:this.$5;c(e,f,g,h,j,a)}catch(a){g==null?void 0:g((i||(i=b("Promise"))).reject(a)),d("WALogger").ERROR(l(),a)}};e.$6=function(a,b){var e=this,f=this.$4.get(a),g=this.$2.get(a);if(g==null){var i=(h||(h=c("ExecutionEnvironment"))).isInWorker?"worker":"main-thread";d("WALogger").ERROR(k(),a,b,i);return}f.forEach(function(a){c("gkx")("14383")?(f["delete"](a),e.$7(a,g)):(e.$7(a,g),f["delete"](a))})};e.setHandlers=function(a,b){function e(e,f,g,h,i,k){if(b[e]==null){d("WALogger").ERROR(j(),e,a);throw c("err")(e+" is not defined for "+a)}h=b[e](f,k);g&&g(h)}this.setNamespaceHandler(a,e)};return a}();g.normaliseHandlerOptions=m;g.DynamicRouterSync=a}),98);
__d("shouldHideChatOnAppsSubdomain",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!c("gkx")("738")?!1:document.location.hostname==="apps.facebook.com"}g["default"]=a}),98);
__d("shouldDisableWorkerOnAppsSubdomain",["gkx","shouldHideChatOnAppsSubdomain"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("8929")&&c("shouldHideChatOnAppsSubdomain")()}g["default"]=a}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIdsDEPRECATED").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=c("useAsyncReStore")();i(function(){var d,e=!1;j.onReadyImmediately(function(f){c("promiseDone")(b,function(b){e||(d=f.subscribeToEncryptedBackupsRow(b,a))})});return function(){e=!0,d==null?void 0:d()}},[b,a])}g["default"]=a}),98);
__d("MAWCommonSetup",["EBMainThreadEBDBApiDeferred","EBMainThreadListeners","ExecutionEnvironment","MAWBridgeFireAndForget","MAWCommonBackendSetup","MAWEncryptedBackupsStateManager","MAWInit","MAWInitError","MAWIsIDBOperational","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWLoggerUtils","MAWMIC","MAWStateContext.react","MAWUIJob","MAWWaitForBackendSetup","WABridge","WADynamicRouterSync","WAJobOrchestratorTypes","WALogger","asyncToGeneratorRuntime","cr:10250","cr:10458","cr:13007","cr:17068","cr:19609","cr:9939","getErrorSafe","gkx","performance","promiseDone","react","requireDeferred","shouldDisableWorkerOnAppsSubdomain","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"]);l=function(){return a};return a}f=j||d("react");var m=f.useContext,n=f.useEffect,o=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),p=b("cr:10250")||b("cr:10458"),q=b("cr:19609")!=null?b("cr:19609")==null?void 0:b("cr:19609").MAWInitialiseMAWDbInUI:b("cr:13007")==null?void 0:b("cr:13007").MAWInitialiseMAWDbInUI;c("requireDeferred")("MAWTimedJob").__setRef("MAWCommonSetup");var r=!1,s=function(){return(h||(h=c("performance"))).now()},t=function(a){c("gkx")("12414")||(d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a}))};function u(){d("MAWBridgeFireAndForget").fireAndForget("backend","resendEBLSInWorkerEbEnabledState")}function v(){d("MAWBridgeFireAndForget").fireAndForget("backend","resendWorkerStateManagerValuesToMainThread")}function a(a){d("MAWLoggerUtils").initMessengerWebLogging();var b=m(d("MAWStateContext.react").MAWDispatchContext),e=d("MAWIsIDBOperational").useIsIDBOperational();n(function(){e&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(y(b,a))},[a,b,e]);n(function(){e&&c("promiseDone")(d("EBMainThreadListeners").initEBListeners())},[e]);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(t);u();v()}function e(a){var b=m(d("MAWStateContext.react").MAWDispatchContext),e=d("MAWIsIDBOperational").useIsIDBOperational();n(function(){e&&c("promiseDone")(w(b,a))},[a,b,e])}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.logout,f=b.reregisterDevice,g=b.rotateCryptoAuthToken,h=b.setupBridge;if(r){void o.load().then(function(a){a("messenger_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(l());return}r=!0;d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),yield d("MAWCommonBackendSetup").setupArmadilloBackendForCalling(function(b){return h({dispatch:a,logout:e,reregisterDevice:f,rotateCryptoAuthToken:g,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0})},"bridgeForCalling",function(a){})}catch(a){void o.load().then(function(b){return b("messenger_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})}});return x.apply(this,arguments)}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.logout,g=e.reregisterDevice,h=e.rotateCryptoAuthToken,j=e.setupBridge;if(r){void o.load().then(function(a){a("messenger_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(k());return}r=!0;d("MAWMIC").startMAWMICFlow();d("MAWInit").MAWInit.start();b("cr:9939")!=null&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(yield b("cr:9939").getOrSetupMAWCacheDB());q!=null&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(q(a),function(){},function(a){return o.load().then(function(b){return b("messenger_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})});b("cr:17068")!=null&&c("promiseDone")(b("cr:17068").getDeviceAge());d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),yield d("MAWCommonBackendSetup").setupArmadilloBackend(d("MAWInit").MAWInit,function(b){return j({dispatch:a,logout:f,reregisterDevice:g,rotateCryptoAuthToken:h,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1}),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1})},"mawInit",function(a){}),d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW})),d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",s()),d("MAWInit").MAWInit.endSuccess()}catch(a){var l,m=c("getErrorSafe")(a);e=m instanceof d("MAWInitError").MAWInitError?m.message:"maw_init_failure";m.message=(l=m.message)!=null?l:"Unknown";l=m.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";l?d("MAWInit").MAWInit.cancel(e,m):(d("MAWWaitForBackendSetup").rejectBackendSetup(m),d("MAWInit").MAWInit.fail(e,m));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,m.message);m&&void o.load().then(function(a){a("messenger_web").catching(m).mustfix("MAW backend setup failed -- %s",m.message)});throw m}void d("EBMainThreadEBDBApiDeferred").startListeningDeviceRegistrations();p!=null&&void p.initializeMinosDb()});return z.apply(this,arguments)}g.useArmadillo=a;g.useArmadilloForCalling=e}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);k=function(){return a};return a}function l(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(c!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c.groupId)}));else return(h||(h=b("Promise"))).resolve()}function m(a){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""})}function a(a){d("WALogger").LOG(k()),c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([l(a),m(a)])},"readwrite",void 0,void 0,f.id+":53"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310984,"169");function a(a){var e=a!=null?{instanceKey:a}:void 0,f=!1,g=!1;function k(){if(g)return;g=!0;c("QPLUserFlow").start(j,babelHelpers["extends"]({cancelOnUnload:!0,onFlowTimeout:function(){f=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},e));void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(j,a)});t()}function l(a){if(!g||f)return;t();c("QPLUserFlow").addPoint(j,a,e)}function m(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{bool:(d={},d[a]=b,d)})}function n(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{string:(d={},d[a]=b,d)})}function o(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{string_array:(d={},d[a]=b,d)})}function p(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{"int":(d={},d[a]=b,d)})}function q(a){t(),f=!0,c("QPLUserFlow").addAnnotations(j,{string:{failReason:a}},e),c("QPLUserFlow").endFailure(j,"maw_init_fail",e),s=!1}function r(a){t(),f=!0,s=!1,c("QPLUserFlow").addAnnotations(j,{string:{dropReason:a}},e),(i||(i=c("QuickPerformanceLogger"))).markerDrop(j)}var s=!1;function t(){if(s)return;s=!0;c("QPLUserFlow").addAnnotations(j,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function u(a){t(),f=!0,c("QPLUserFlow").addAnnotations(j,{string:{cancelReason:a}},e),c("QPLUserFlow").endCancel(j,e),s=!1}function v(){t(),f=!0,c("QPLUserFlow").endSuccess(j,e),s=!1}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";l(c);c=(yield b());l(a);return c});return x.apply(this,arguments)}return{addBoolAnnotation:m,addIntAnnotation:p,addStringAnnotation:n,addStringArrayAnnotation:o,cancel:u,drop:r,endSuccess:v,fail:q,logPoint:l,measurePerformance:w,start:k}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,c=a.db,e=a.dispatch,f=a.dispatchClearEphemeralSettings,g=a.instanceKey,h=a.logout,i=a.reregisterDevice,j=a.rotateCryptoAuthToken,k=a.setupBridge;a=a.workerCreateReason;g=d("MAWReinit").getMAWReinit(g);g.start();var l=function(){e({tag:"InitOfflineQueueSyncComplete",value:void 0})};yield d("MAWCommonBackendSetup").setupArmadilloBackend(g,function(a){a=k({dispatch:e,logout:h,reregisterDevice:i,rotateCryptoAuthToken:j,worker:a});b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(c);return a},l,l,a,function(a){});g.endSuccess();f()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWSetupMutex",["LocalStorageMutex","MAWAppMutex","MAWBridge","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWMIC","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MWFBLogger","QPLUserFlow","Run","asyncToGeneratorRuntime","isInstamadillo","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useMemo,m=d("MWFBLogger").MWLogger.tags(["MAWInit"]),n=!1,o=0;function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(document.visibilityState!=="visible")return!1;var b=window.indexedDB!=null,c=d("MAWLocalStorage").isLocalStorageAvailable();if(a){m.debug("AppMutex - Shouldn't reinitialize, worker already exists");return!1}return!b||!c?!1:!0});return q.apply(this,arguments)}function a(a,e){var f=a.logout,g=a.reregisterDevice,i=a.rotateCryptoAuthToken,q=a.setupBridge,r=l(function(){return d("MAWAppMutex").use()},[]),s=(h||(h=c("useReStore")))(),t=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),u=s.persistenceTypes.includes("indexeddb"),v=j(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=r.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!u&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});yield d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");r.onMutexDeath()});return function(b){return a.apply(this,arguments)}}(),[r,u]),w=j(function(){r.onMutexDeath(),c("promiseDone")(d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleUnload"))},[r]),x=j(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MAWWebWorkerSingleton").doesWorkerExist());a=(yield p(a));if(!a||n)return;n=!0;o++;try{yield c("MAWReinitWorker")({allTablesPersisted:u,db:s,dispatch:e,dispatchClearEphemeralSettings:t,instanceKey:o,logout:f,reregisterDevice:g,rotateCryptoAuthToken:i,setupBridge:q,workerCreateReason:"mawReinitSetupMutex"}),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){m.catching(a).mustfix("AppMutex - failed to reinitialize worker"),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:o})}finally{n=!1}}),[u,s,e,t,f,g,i,q]);k(function(){window.addEventListener("storage",v);var a=d("Run").onBeforeUnload(w,!1),b=d("Run").onUnload(w);window.addEventListener("visibilitychange",x);return function(){window.removeEventListener("storage",v),a.remove(),b.remove(),window.removeEventListener("visibilitychange",x)}},[v,w,x])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a.environment;a.fbId;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e))));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))});function e(b,c,d){return a.apply(this,arguments)}return e}();a.__nop_name__="LSGetThreadDataFromTam";g["default"]=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxScheduleOccamThreadsIntegrityCheckerStoredProcedure";a.__tables__=["sync_group_threads_ranges","threads"];e.exports=a}),null);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSScheduleOccamThreadsIntegrityChecker"),e.delayMs,e.maxThreadCount);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{}});return g.apply(this,arguments)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return 0});return h.apply(this,arguments)}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=c}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){k(function(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,function(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))})}))})},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}},[])}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("gkx")("24059"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield c("globalCryptoSubtle").digest("SHA-256",b));return l(a)}catch(a){return a}});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=(yield m(a));b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2))}else b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2))});return p.apply(this,arguments)}function q(a){var b=a.currentMsgCnt,c=a.logThreadId,d=a.prevMsgCnt,e=a.qplEvent;a=a.threadId;return o({currentMsgCnt:b,logThreadId:c,prevMsgCnt:d,qplEvent:e,threadId:a})}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(i||(i=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return r.apply(this,arguments)}function e(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return(h||(h=b("Promise"))).resolve(null);e=JSON.parse(e);return(h||(h=b("Promise"))).resolve({current:a,previous:e})}).then(function(a){if(a==null)return(h||(h=b("Promise"))).resolve();var c=a.current;a=a.previous;return s(a,c)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(d,f)&&e.push(f);f=[];for(var g=0;g<e.length;g++){var i=e[g],j={currentMsgCnt:d[i],prevMsgCnt:a[i],threadId:i};a[i]>0&&d[i]===0?(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553665,"1183")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553666,"1184")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield (h||(h=b("Promise"))).all(f)});return t.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(m(b).then(function(d){(j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),j.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),j.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=q;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=s;g.logLocalStatistics=f}),98);
__d("useOnMawSetupComplete.react",["emptyFunction","promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=c("emptyFunction")),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener(),d("useOnMawSetupComplete.react").useOnMawSetupComplete(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)})()),j()},j(),[])}function j(){try{var a=c("gkx")("24061"),e=c("justknobx")._("1683");a&&e&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly",void 0,void 0,f.id+":61")})())}catch(a){c("FBLogger")("labyrinth_web").warn("Error running thread integrity checker",a)}}g["default"]=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(function(){var a=c("setTimeout")(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)},j);return function(){return c("clearTimeout")(a)}},void 0)}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","ODS","WABridgedAPI","WATagsLogger","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);j=function(){return a};return a}e=h||d("react");var k=e.useCallback,l=e.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,c("promiseDone")(d("MAWSetupWorker").terminateWorkerPermanently(),function(){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)})}function a(a){var e=a.rotateCryptoAuthToken,f=a.setupBridge,g=c("useAsyncReStore")(),h=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),p=l(d("MAWStateContext.react").MAWDispatchContext);return k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(m)return;(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);yield c("WABridgedAPI").removeCurrentDevice();yield d("MAWSetupWorker").terminateWorker("useMAWReregisterDeviceOnError");d("MAWWaitForBackendSetup").resetBackendSetup();try{var a=(yield g);yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:p,dispatchClearEphemeralSettings:h,logout:o,reregisterDevice:o,rotateCryptoAuthToken:e,setupBridge:f,workerCreateReason:"mawReinitReregDevice"})}catch(b){d("MAWWaitForBackendSetup").rejectBackendSetup(b);a=b.description||b.message||b;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(j(),a);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[g,p,h,e,f])}g["default"]=a}),98);
__d("useStorageUsageMetricsLogger",["cr:20551","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){i(function(){void (b("cr:20551")==null?void 0:b("cr:20551").logMAWDBUsageMetrics())},[])}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWStateContext.react","cr:6159","cr:6160","cr:8800","promiseDone","react","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useContext,l=e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b=a.children,e=a.fbid,f=a.logout,g=a.setupBridge;a=k(d("MAWStateContext.react").MAWDispatchContext);var h=d("CometRelay").useRelayEnvironment(),m=j(function(){return d("MAWCryptoAuthToken").fetchFreshCAT(h)},[h]),n=c("useMAWReregisterDeviceOnError")({rotateCryptoAuthToken:m,setupBridge:g}),o=l(function(){return{logout:f!=null?f:function(){return c("promiseDone")(n())},reregisterDevice:function(){return c("promiseDone")(n())},rotateCryptoAuthToken:m,setupBridge:g}},[m,f,n,g]);d("MAWCommonSetup").useArmadillo(o);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();var p=k(c("BaseHeadingContext")),q=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();return i.jsxs(c("BaseHeadingContext").Provider,{value:p+1,children:[b,q?i.jsx(c("MAWSetupMutex.react"),{dispatch:a,environment:h,fbId:e,platformSetupUtils:o}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWBridgeInitOfflineQueueSyncStartHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncStartHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Start")})}g.call=a}),98);
__d("MAWDeviceChangeState-resolver",[],(function(a,b,c,d,e,f){"use strict";var g=0,h=[],i={getDeviceAlertCount:function(){return g},subscribe:function(a){h.push(a);return function(){h=h.filter(function(b){return b!==a})}}};function a(a){g!==a&&(g=a,h.forEach(function(a){return a()}))}function b(){return{read:function(){return i.getDeviceAlertCount()},subscribe:function(a){return i.subscribe(a)}}}f.updateDeviceCount=a;f.deviceAlertCount=b}),66);
__d("MAWMediaDownloadStatusReducersUtils",["FBLogger","MAWGetIsMediaDownloadStatusEnabled","MAWMediaDownloadStatus","isEmpty","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b=b.reduce(function(b,d){if(d.plaintextHash==null){c("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",d.mediaId);return b}var e=c("nullthrows")(d.plaintextHash).toString();if(a.mediaDownloadStatus[e]!=null&&a.mediaDownloadStatus[e].mainMediaStatus!==c("MAWMediaDownloadStatus").MISSING_FILE)return b;var f=d.hasPreviewMedia!=null;b[e]={mainMediaStatus:d.hasMedia?c("MAWMediaDownloadStatus").SUCCESS:c("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"initial_media_download",previewMediaStatus:f?d.hasPreviewMedia===!0?c("MAWMediaDownloadStatus").SUCCESS:c("MAWMediaDownloadStatus").MISSING_FILE:void 0,previewMediaStatusDetails:f?"initial_media_download":void 0};return b},{});return(h||(h=c("isEmpty")))(b)?a:babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,{},b)})}function b(a,b){if(!d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled())return a;b=b.reduce(function(b,d){if(d.faviconPlaintextHash!=null){var e;b[d.faviconPlaintextHash]=babelHelpers["extends"]({},a.mediaDownloadStatus[d.faviconPlaintextHash],{mainMediaStatus:d.hasXmaFaviconMedia===!0?c("MAWMediaDownloadStatus").SUCCESS:(e=(e=a.mediaDownloadStatus[d.faviconPlaintextHash])==null?void 0:e.mainMediaStatus)!=null?e:c("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"initial_xma_favicon_status"})}if(d.headerMediaPlaintextHash!=null){b[d.headerMediaPlaintextHash]=babelHelpers["extends"]({},a.mediaDownloadStatus[d.headerMediaPlaintextHash],{mainMediaStatus:d.hasXmaHeaderMedia===!0?c("MAWMediaDownloadStatus").SUCCESS:(e=(e=a.mediaDownloadStatus[d.headerMediaPlaintextHash])==null?void 0:e.mainMediaStatus)!=null?e:c("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"initial_xma_header_status"})}if(d.defaultPreviewMediaPlaintextHash==null)return b;e=c("nullthrows")(d.defaultPreviewMediaPlaintextHash).toString();if(a.mediaDownloadStatus[e]!=null&&a.mediaDownloadStatus[e].mainMediaStatus!==c("MAWMediaDownloadStatus").MISSING_FILE)return b;b[e]=babelHelpers["extends"]({},a.mediaDownloadStatus[e],{mainMediaStatus:d.hasMedia===!0?c("MAWMediaDownloadStatus").SUCCESS:c("MAWMediaDownloadStatus").MISSING_FILE,mainMediaStatusDetails:"initial_media_download"});return b},{});return(h||(h=c("isEmpty")))(b)?a:babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,{},b)})}g.handleNewMedias=a;g.handleNewXMAs=b}),98);
__d("MAWOfflineQueueThreadStatus",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return Object.entries(a).filter(function(a){var c,d=a[0];a=a[1];return((c=b[d])==null?void 0:c.chatStatus)!==a.chatStatus||((c=b[d])==null?void 0:c.snippetStatus)!==a.snippetStatus})},h=function(a,b){return a.reduce(function(a,b){var c=b[0];b=b[1];a[c]={chatStatus:b.chatStatus,snippetStatus:b.snippetStatus};return a},b)};function a(a,b){a=a!=null?g(a,b):null;a=a==null||a.length===0?b:h(a,babelHelpers["extends"]({},b));return a}f.calculateOfflineQueueThreadStatus=a}),66);
__d("MAWStateContextProvider.react",["MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWBridgeInitOfflineQueueSyncStartHandler","MAWDeviceChangeState-resolver","MAWMediaDownloadStatus","MAWMediaDownloadStatusReducersUtils","MAWOfflineQueueThreadStatus","MAWSharedProtocolQueueConst","MAWStateContext.react","cr:19624","gkx","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useMemo,n=e.useReducer,o=e.useTransition,p=(e=c("gkx")("12254"))!=null?e:!1,q=(e=c("gkx")("12254"))!=null?e:!1,r=(e=c("gkx")("12254"))!=null?e:!1,s=(e=c("gkx")("12254"))!=null?e:!1,t=function(a,b){switch(b.tag){case"OptimisticSendMessage":var e;return p?a:babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(e={},e[b.optimisticMsgId]={sent:b.timestamp},e))});case"NewMsg":case"MsgUpdated":var f,g;if(p)return a;e=b.value.ack;var h=b.value.msgId;f=(f=b.value.offlineMsg)==null?void 0:f.msgId;f!=null&&a.messageLatencies[f]!=null&&(a.messageLatencies[h]=a.messageLatencies[f],delete a.messageLatencies[f]);f=a.messageLatencies[h];if((f==null?void 0:f.sent)!=null&&(f==null?void 0:f.acked)!=null)return a;f=(f==null?void 0:f.sent)||Date.now();e=e!==0?Date.now():void 0;return babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(g={},g[h]={acked:e,sent:f},g))});case"InitOfflineQueueSyncProgress":h=b.value;return babelHelpers["extends"]({},a,{offlineQueueProgressDownloaded:h});case"InitOfflineQueueConsumerSyncProgress":e=b.value;f=e.chatJidStatus;g=e.processed;h=a.offlineQueueThreadStatus||{};e=d("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(f,h);return babelHelpers["extends"]({},a,{offlineQueueProgressProcessed:g,offlineQueueThreadStatus:e});case"InitOfflineQueueSyncStart":d("MAWBridgeInitOfflineQueueSyncStartHandler").call();f=b.value;return babelHelpers["extends"]({},a,{offlineQueueCount:f});case"InitOfflineQueueSyncComplete":d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call();h=b.value;g=a.offlineQueueThreadStatus||{};e=d("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(h,g);return babelHelpers["extends"]({},a,{offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete,offlineQueueThreadStatus:e});case"UnArchivedSelfDeviceChangeAlerts":f=b.value;return babelHelpers["extends"]({},a,{unArchivedSelfDeviceChangeAlerts:f});case"EphemeralSettingsUpdatedForUI":if(r)return a;h=b.value;g=h.chatJid;e=h.ephemeralSettingArgs;f=e.ephemeralExpirationInSec;h=e.ephemeralLastUpdatedOrSetTimestamp;e=g;return babelHelpers["extends"]({},a,{ephemeralSettings:babelHelpers["extends"]({},a.ephemeralSettings,(g={},g[e]={ephemeralExpirationInSec:f,ephemeralLastUpdatedOrSetTimestamp:h},g))});case"ClearEphemeralSettings":return r?a:babelHelpers["extends"]({},a,{ephemeralSettings:{}});case"UpdateMediaStatus":var i,j,k,l,m;e=b.value;f=e.details;h=e.key;g=e.status;var n=e.type;e=e.validationResult;h=h.toString();i=(i=a.mediaDownloadStatus[h])==null?void 0:i.mainMediaStatus;j=(j=a.mediaDownloadStatus[h])==null?void 0:j.mainMediaStatusDetails;k=(k=a.mediaDownloadStatus[h])==null?void 0:k.previewMediaStatus;l=(l=a.mediaDownloadStatus[h])==null?void 0:l.previewMediaStatusDetails;m=(m=a.mediaDownloadStatus[h])==null?void 0:m.validationResult;var o=n==="main"?i===c("MAWMediaDownloadStatus").SUCCESS:k===c("MAWMediaDownloadStatus").SUCCESS;return g===c("MAWMediaDownloadStatus").DOWNLOADING&&o?a:babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,(o={},o[h]={mainMediaStatus:n==="main"?g:i,mainMediaStatusDetails:n==="main"?f:j,previewMediaStatus:n==="preview"?g:k,previewMediaStatusDetails:n==="preview"?f:l,validationResult:e!=null?e:m},o))});case"SetMediaDownloadStatusState":h=b.value;i=h.key;j=h.newMediaDownloadState;g=i.toString();return(j==null?void 0:j.mainMediaStatus)===c("MAWMediaDownloadStatus").MISSING_FILE&&((k=a.mediaDownloadStatus[g])==null?void 0:k.mainMediaStatus)!=null?a:babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,(n={},n[g]=j,n))});case"IncreaseMediaDownloadRetryCount":f=b.value.key;l=f.toString();return babelHelpers["extends"]({},a,{mediaDownloadRetryCount:babelHelpers["extends"]({},a.mediaDownloadRetryCount,(e={},e[l]=((m=a.mediaDownloadRetryCount[l])!=null?m:0)+1,e))});case"NewMedia":return c("gkx")("11968")===!0?a:d("MAWMediaDownloadStatusReducersUtils").handleNewMedias(a,[b.value]);case"NewMedias":return d("MAWMediaDownloadStatusReducersUtils").handleNewMedias(a,b.value);case"SetMediaValidatedResult":o=b.value;h=o.key;i=o.validatedResult;k=h.toString();g=babelHelpers["extends"]({},a.mediaDownloadStatus[k],{validationResult:i});return babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,(j={},j[k]=g,j))});case"NewXMA":return d("MAWMediaDownloadStatusReducersUtils").handleNewXMAs(a,[b.value]);case"NewXMAs":return d("MAWMediaDownloadStatusReducersUtils").handleNewXMAs(a,b.value);case"UpdateMediaStatus_FOR_DEBUG_ONLY":n=b.value;f=n.details;l=n.key;m=n.status;e=l.toString();return babelHelpers["extends"]({},a,{mediaDownloadStatus:babelHelpers["extends"]({},a.mediaDownloadStatus,(o={},o[e]={mainMediaStatus:m,mainMediaStatusDetails:f,previewMediaStatus:m,previewMediaStatusDetails:f},o))});case"SetIsMAWDBinUILoaded":return q?a:babelHelpers["extends"]({},a,{isMAWDBinUILoaded:!0});case"UpdateEBState":return babelHelpers["extends"]({},a,{ebState:b.value.newState});case"UpdateWorkerState":return babelHelpers["extends"]({},a,{workerState:b.value.newState})}return a},u=function(a){if(b("cr:19624")==null)return!1;if(a.tag==="InitOfflineQueueSyncProgress"){var c=a.value;b("cr:19624").initOfflineQueueSyncProgress(c);return!0}if(a.tag==="InitOfflineQueueConsumerSyncProgress"){c=a.value;var e=c.chatJidStatus;c=c.processed;b("cr:19624").initOfflineQueueConsumerSyncProgress(c,e);return!0}if(a.tag==="InitOfflineQueueSyncStart"){d("MAWBridgeInitOfflineQueueSyncStartHandler").call();c=a.value;b("cr:19624").initOfflineQueueSyncStart(c);return!0}if(a.tag==="InitOfflineQueueSyncComplete"){d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call();e=a.value;b("cr:19624").initOfflineQueueSyncComplete(e);return!0}return!1},v=function(a){if(!s)return!1;if(a.tag==="UnArchivedSelfDeviceChangeAlerts"){a=a.value;d("MAWDeviceChangeState-resolver").updateDeviceCount(a);return!0}return!1};function a(a){var b;a=a.children;var c=n(t,(b=d("MAWStateContext.react")).initialState),e=c[0],f=c[1];c=o();c[0];var g=c[1];c=k(function(a){var b=u(a);if(!b){b=v(a);b||g(function(){return f(a)})}},[]);var h=m(function(){return new Set()},[]),i=m(function(){return{state:e,subscriptions:h}},[e,h]),p=w(i),q=k(function(){return p.current},[p]);l(function(){h==null?void 0:h.forEach(function(a){return a(e)})},[e,h]);return j.jsx(b.MAWDispatchContext.Provider,{value:c,children:j.jsx(b.MAWStateContext.Provider,{value:i,children:j.jsx(b.MAWNonRerenderingStateContext.Provider,{value:q,children:a})})})}a.displayName=a.name+" [from "+f.id+"]";function w(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a);b.current=a;return b}g.MAWStateContextProvider=a}),98);
__d("IGDAWSetup.react",["FBLogger","IGDSetIGE2EEEligibility","IGDSetupBridge","MAWCurrentUser","MAWSetupImpl.react","MAWStateContextProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e=j;d("IGDSetIGE2EEEligibility").useUpsertSetIGE2EEEligibilityOnMount();var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xjp7ctv"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MAWCurrentUser").getID(),b[1]=g):g=b[1];b[2]!==a?(f=i.jsx("div",babelHelpers["extends"]({},f,{"data-testid":void 0,children:i.jsx(d("MAWStateContextProvider.react").MAWStateContextProvider,{children:i.jsx(c("MAWSetupImpl.react"),{fbid:g,logout:e,setupBridge:d("IGDSetupBridge").setupBridge,children:a})})})),b[2]=a,b[3]=f):f=b[3];return f}function j(){}g["default"]=a}),98);
__d("LSIssueAttachmentBackupTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] Beginning execution."),a[5]!==void 0?c.resolve(d[1]=a[5]):c.sequence([function(a){return d[27]=c.i64.random(),d[28]=c.i64.to_string(d[27]),d[28]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,637738637]),d[28],!0,void 0):c.resolve()},function(a){return d[1]=d[28]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,637738637]),d[1],"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17],a}]))})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?(d[27]=c.i64.to_string(d[2]),d[27]!==void 0?c.sequence([function(e){return d[28]=c.createArray(),d[63]=(d[28].push(d[27]),d[28]),d[63]=(d[28].push(a[0]),d[28]),d[29]=c.toJSON(d[28]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[27]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(e){return d[38]=new c.Map(),d[38].set("attachment_index_key",d[33]==null?"":d[33]),d[38].set("delivery_object_id",a[0]),d[38].set("device_id",d[3]),d[38].set("mailbox_partial_id",d[37]==null?"":d[37]),d[38].set("media_type",a[2]),d[38].set("product_type",a[1]),d[38].set("trace_id",d[1]),d[39]=new c.Map(),d[39].set("otid",a[3]),d[39].set("server_thread_key",a[6]),d[39].set("timestamp",void 0),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(e){return d[38].set("salt_partial_id",d[43]==null?"":d[43]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return d[38].set("thread_partial_id",d[47]==null?"":d[47]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return d[38].set("message_partial_id",d[51]==null?"":d[51]),d[52]=c.createArray(),d[63]=(d[52].push(a[3]),d[52]),d[63]=(d[52].push(a[0]),d[52]),d[53]=c.toJSON(d[52]),d[38].set("raw_identifiers",d[39]),d[38].set("backup_id",d[27]),d[38].set("thread_id",a[4]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[38].set("salt_partial_access_token",d[57]==null?"":d[57]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[38].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!0):c.resolve()},function(a){return d[62]=c.toJSON(d[38]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_upload",c.i64.cast([0,50012]),d[62],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[29]="Missing backup_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))},function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])):c.sequence([function(a){return d[28]="Missing device_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}]):c.sequence([function(a){return d[28]="Missing ocmf_client_state_blob for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])},function(a){return d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentBackupTaskStoredProcedure",["LSIssueAttachmentBackupTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentBackupTask"),e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.traceId,e.serverThreadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1],a}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping thread remove since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping thread remove since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueThreadRemove"),e.actThreadId,e.sortKey,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAsyncEBMediaDownloadPromise",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){var b=a.messageId,c=a.objectId,d=a.plaintextHash;a=a.threadId;var e=g.get(c);g.set(c,e!=null?[].concat(e,[{messageId:b,plaintextHash:d,threadId:a}]):[{messageId:b,plaintextHash:d,threadId:a}])}function b(a){return(a=g.get(a))==null?void 0:a.pop()}f.setMediaDownloadPayload=a;f.retrieveMediaDownloadPayload=b}),66);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["EBIsEbEnabled","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){if(!(yield d("EBIsEbEnabled").isEbEnabledLS(a)))return;yield c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}});return i.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeEphemeralSettingsUpdatedForUIHandler",["MAWChatJid","MAWEphemeralSettingsUpdate","Promise","asyncToGeneratorRuntime","cr:17100"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("MAWChatJid").toThreadKeyMaybe(a,c.chatJid));return e!=null?d("MAWEphemeralSettingsUpdate").updateEphemeralSettingsWithTxn(a,c.ephemeralSettingArgs.ephemeralExpirationInSec,yield b("cr:17100").castUnixTimeToMillisTime(c.ephemeralSettingArgs.ephemeralLastUpdatedOrSetTimestamp),c.isEphemeralSettingReset,e,!1,c.author):(h||(h=b("Promise"))).resolve()});return i.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeResignAttachmentCDNUrlHandler",["I64","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","MAWAsyncEBMediaDownloadPromise","MAWBridgeFireAndForget","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h,i="-8";function a(a,b){var e,f=b.traceId,g=(e=b.skipLegacyMediaDownloadFlow)!=null?e:!1;function j(a,b,c){!g&&f!=null&&d("MAWBridgeFireAndForget").fireAndForget("backend","addMediaDownloadQpl",{annotations:c!=null?c:void 0,pointName:b,qplInstanceKey:f,qplType:a})}j("point","resign_cdn_url_bridge_handler_start");return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeResignAttachmentCDNUrlHandler",function(a,e){e={backupEntFbid:(h||(h=d("I64"))).of_string(i),deliveryObjectId:b.deliveryObjectId,mediaType:b.mediaType,messageId:b.messageId,productType:b.productType,serverThreadKey:h.to_string(e),sortOrder:h.of_float(b.sortOrder),threadId:b.threadId,traceId:f.toString()};b.skipLegacyMediaDownloadFlow!==!0&&d("MAWAsyncEBMediaDownloadPromise").setMediaDownloadPayload({messageId:b.msgId,objectId:b.deliveryObjectId,plaintextHash:b.plaintextHash,threadId:b.threadId});j("point","resign_cdn_url_issue_attachment_task",{string:{taskTraceId:e.traceId}});return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(a),e).then(function(){j("point","resign_cdn_url_issue_attachment_task_end")})["catch"](function(a){j("fail","resign_cdn_url_issue_attachment_task_fail",{string:{error:a.toString()}})})})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadAttachmentHandler",["I64","LSDataTraceCheckPoint","LSFactory","LSIntEnum","LSIssueAttachmentBackupTaskStoredProcedure","LSRequestId","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","MAWTraceUtils","Promise","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e){var f;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();var g=(f=e.traceId)!=null?f:c("LSRequestId").generate();f=e.mediaType;if(f==="document"){d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return(j||(j=b("Promise"))).resolve()}return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeUploadAttachmentHandler",function(a,f){var k=(i||(i=d("I64"))).to_string(f),l=d("MAWTimeUtils").isTimestampNewerThanXDays(e.ts,30);return d("MAWEncryptedBackupUtils").getBackupTenancy(a,g).then(function(f){var i=e.productType;if(f!=null&&l)if(g!=null){d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:e.deliveryObjectId,flow:"old",mediaType:e.mediaType,messageId:e.messageId,threadId:e.threadId,traceId:g});return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:i,serverThreadKey:k,threadId:e.threadId,traceId:g})}else return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:i,serverThreadKey:k,threadId:e.threadId});else{d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);d("MAWEBFrontendQPLLogger").endFlowUploadAttachmentBackup(g,!1,"old");return(j||(j=b("Promise"))).resolve()}})})}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","Promise","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){i(e.messages,"upload_tracking_bridge_batch_handler");e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(e of e.messages)yield d("MAWBridgeUploadMessageHandler").call(a,e);return(h||(h=b("Promise"))).resolve()});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWFTSMergeCutoverSearchResults",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var c,e;c=(i||(i=d("I64"))).add((c=a.matchCount)!=null?c:(i||(i=d("I64"))).of_string("1"),(c=b.matchCount)!=null?c:(i||(i=d("I64"))).of_string("1"));b=i.max((e=a.messageTimestampMs)!=null?e:(i||(i=d("I64"))).minus_one,(e=b.messageTimestampMs)!=null?e:(i||(i=d("I64"))).minus_one);return babelHelpers["extends"]({},a,{contextLine:h._(/*BTDS*/"_j{\"*\":\"{number} mensajes coincidentes\",\"_1\":\"1 mensaje coincidente\"}",[h._plural(i.to_int32(c),"number")]).toString(),matchCount:c,matchLengths:void 0,matchOffsets:void 0,messageId:void 0,messageTimestampMs:(i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).minus_one)?void 0:b})}g.mergeCutoverSearchResults=a}),226);
__d("MAWFTSUniversalSearchQPLLogger",["QPLUserFlow","emptyFunction","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={hasStarted:!1,instanceKey:5e3},i=c("qpl")._(25301522,"2409");function a(){h.hasStarted&&j();h.instanceKey++;h.hasStarted=!0;c("QPLUserFlow").start(i,{annotations:{bool:{isInThread:!1}},instanceKey:h.instanceKey});return h.instanceKey}function j(a){if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;h.hasStarted=!1;c("QPLUserFlow").endCancel(i,{instanceKey:h.instanceKey})}function b(a){var b=a.annotations,d=a.instanceKey;a=a.point;if(!h.hasStarted||d!=null&&h.instanceKey!==d)return;c("QPLUserFlow").addPoint(i,a,{instanceKey:h.instanceKey});b!=null&&k({annotations:b,instanceKey:h.instanceKey})}function k(a){var b=a.annotations;a=a.instanceKey;if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;c("QPLUserFlow").addAnnotations(i,b,{instanceKey:h.instanceKey})}function d(a){if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;h.hasStarted=!1;c("QPLUserFlow").endSuccess(i,{annotations:{"int":{result_count:h.currentResultCount}},instanceKey:h.instanceKey})}e={getCurrentInstanceKey:function(){return h.instanceKey},qplAddAnnotations:k,qplAddPoint:b,qplCancel:j,qplMarkFirstResultShowUp:c("emptyFunction"),qplStart:a,qplSuccess:d,updateCurrentResultCount:c("emptyFunction")};f=e;g["default"]=f}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a.tables,b,c,d)})}g["default"]=a}),98);
__d("MAWOfflineQueueState",["MAWOfflineQueueThreadStatus","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=[];f={offlineQueueCount:0,offlineQueueProgressDownloaded:0,offlineQueueProgressProcessed:0,offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing,offlineQueueThreadStatus:{}};var i=babelHelpers["extends"]({},f),j={getSnapshot:function(){return i},subscribe:function(a){h.push(a);return function(){h=h.filter(function(b){return b!==a})}}};function a(a){i.offlineQueueCount!==a&&(i=babelHelpers["extends"]({},i,{offlineQueueCount:a}),h.forEach(function(a){return a()}))}function b(a){i.offlineQueueProgressDownloaded!==a&&(i=babelHelpers["extends"]({},i,{offlineQueueProgressDownloaded:a}),h.forEach(function(a){return a()}))}function c(a,b){b=d("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(b,i.offlineQueueThreadStatus);if(i.offlineQueueThreadStatus===b&&i.offlineQueueProgressProcessed===a)return;i=babelHelpers["extends"]({},i,{offlineQueueProgressProcessed:a,offlineQueueThreadStatus:b});h.forEach(function(a){return a()})}function e(a){a=d("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(a,i.offlineQueueThreadStatus);if(i.offlineQueueThreadStatus==a&&i.offlineQueueSyncState===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete)return;i=babelHelpers["extends"]({},i,{offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete,offlineQueueThreadStatus:a});h.forEach(function(a){return a()})}g.EMPTY_STATE=f;g.offlineQueueState=j;g.initOfflineQueueSyncStart=a;g.initOfflineQueueSyncProgress=b;g.initOfflineQueueConsumerSyncProgress=c;g.initOfflineQueueSyncComplete=e}),98);
__d("escapeRegExp",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}f["default"]=a}),66);
__d("MWContentSearchUtils",["fbt","I64","LSIntEnum","LSMessageSearchType","MAWVault","escapeRegExp","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=c("gkx")("1798");function l(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function m(a,b){a=l(a).split(" ");var d=l(b),e=[],f=[];a.forEach(function(a){var b=new RegExp(c("escapeRegExp")(a),"gi");b=d.matchAll(b);b=Array.from(b);b=b.map(function(a){return a.index});var g=b.map(function(b){return a.length});f.push.apply(f,b);e.push.apply(e,g)});return{matchLengths:e.join(","),matchOffsets:f.join(",")}}function a(a,b,e,f){if(e!=null&&(b===1||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE)))){f=d("MAWVault").isVaulted(e)?d("MAWVault").unvault(e):e;e=m(a,f);return babelHelpers["extends"]({contextLine:f},e)}else return{contextLine:h._(/*BTDS*/"_j{\"*\":\"{number} mensajes coincidentes\",\"_1\":\"1 mensaje coincidente\"}",[h._plural(b,"number")]).toString(),matchLengths:void 0,matchOffsets:void 0}}function b(a,b){return a===1&&b!=null?b:void 0}function e(a,b){return a===1&&b!=null?b:void 0}function f(a){return a!=null?(i||(i=d("I64"))).of_float(a):void 0}function n(a,b){a=(i||(i=d("I64"))).of_float(-a);return b==null?a:i.min(a,b)}function o(a,b){if(!k||a.messageTimestampMs==null||b.messageTimestampMs==null)if((i||(i=d("I64"))).gt(a.globalIndex,b.globalIndex))return 1;else if((i||(i=d("I64"))).lt(a.globalIndex,b.globalIndex))return-1;else return 0;else if((i||(i=d("I64"))).lt(a.messageTimestampMs,b.messageTimestampMs))return 1;else if((i||(i=d("I64"))).gt(a.messageTimestampMs,b.messageTimestampMs))return-1;else return 0}g.getContextLineAndMatches=a;g.getMessageOtid=b;g.getMessageId=e;g.getMessageTimestamp=f;g.getGlobalIndex=n;g.searchResultsCompareFn=o}),226);
__d("MAWUniversalMessageSearch",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSMessagingThreadTypeUtil","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWFTSMergeCutoverSearchResults","MAWFTSUniversalSearchQPLLogger","MWContentSearchUtils","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime","groupBy","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),l=new Map(),m=c("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MAWUniversalMessageSearch");function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield a.message_search_queries.put(babelHelpers["extends"]({hasNextPage:!1,query:b,threadKeyV2:(j||(j=d("I64"))).one,type_:k},c))});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(j||(j=d("I64"))).to_string(b.threadKey);b.matchCount!=null&&l.set(c,(j||(j=d("I64"))).to_float(b.matchCount));c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.message_search_results).getKeyRange(k,b.query,b.threadKey)));if(c==null)yield a.message_search_results.put(babelHelpers["extends"]({},b));else{var e=d("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(c,b);yield a.message_search_results.upsert([k,c.query,c.threadKey,c.globalIndex],babelHelpers["extends"]({},e,{globalIndex:b.globalIndex}))}});return q.apply(this,arguments)}function a(a,b){var c;c=(c=l.get((j||(j=d("I64"))).to_string(a)))!=null?c:0;c+=b;l.set((j||(j=d("I64"))).to_string(a),c)}function e(){l.clear()}function r(a,b){return!d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)?null:(b=l.get((j||(j=d("I64"))).to_string(a)))!=null?b:null}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){l.clear();yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n(a,g,{resultCount:(j||(j=d("I64"))).zero,status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":142");c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"search_local_result_start"});var o=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:g,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));o=o.map(function(a){if(a.recordType==="msg"){a.matchedTerms;a.recordType;a=babelHelpers.objectWithoutPropertiesLoose(a,["matchedTerms","recordType"]);return babelHelpers["extends"]({},a)}}).filter(Boolean);o=c("groupBy")(o,function(a){return a.chatJid});var q=Object.values(o);c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{"int":{numResult:q.length}},point:"search_local_result_end"});c("promiseDone")((h||(h=b("Promise"))).all(q.map(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h,i){var l=h[0].chatJid;yield c("waitForMiActMappingForUniversalSearch")(a,l);var n=(yield d("MWSearchThreadUtils").getThreadDataForSearchResult(a,l,e,k));if(n==null)return;var o=n.profilePicUrl,q=n.secondaryProfilePicUrl,r=n.threadDisplayName,s=n.threadKey;n=n.threadType;var t=h.sort(function(a,b){return b.sortOrderMs-a.sortOrderMs})[0],u=h.length===1&&t.msg==null?{id:t.externalId,sortOrderMs:t.sortOrderMs}:null,v={displayName:r,globalIndex:d("MWContentSearchUtils").getGlobalIndex(t.sortOrderMs),matchCount:(j||(j=d("I64"))).of_int32(h.length),profilePicUrl:o,query:g,secondaryProfilePicUrl:q,threadKey:s,threadType:n,type_:k};if(u==null)yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield p(a,babelHelpers["extends"]({},v,{},d("MWContentSearchUtils").getContextLineAndMatches(g,h.length,t==null?void 0:(a=t.msg)==null?void 0:a.content,k),{messageId:d("MWContentSearchUtils").getMessageId(h.length,t==null?void 0:(a=t.msg)==null?void 0:a.msgId),messageOtid:d("MWContentSearchUtils").getMessageOtid(h.length,t==null?void 0:t.externalId),messageTimestampMs:d("MWContentSearchUtils").getMessageTimestamp(t==null?void 0:t.sortOrderMs)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":243");else{c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+i+"_start"});r=(yield m.load().then(function(b){b=b.issueQueryAsPromiseForSearchResult;return b(a,l,[u],"viewerId")}));if(r!=null&&r.length!==0){var w=r[0];c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+i+"_end"});yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield p(a,babelHelpers["extends"]({},v,{},d("MWContentSearchUtils").getContextLineAndMatches(g,h.length,t==null?void 0:(a=t.msg)==null?void 0:a.content,k),{messageOtid:w.externalId,messageTimestampMs:w.sortOrderMs!=null?(j||(j=d("I64"))).of_float(w.sortOrderMs):void 0}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":285")}else c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{bool:{failedFetchingMissingMessage:!0}},point:"fetch_missing_message_"+i+"_end"})}});return function(a,b){return h.apply(this,arguments)}}())),function(){c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{"int":{numResult:q.length}},point:"issue_secure_search_query_end"}),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n(a,g,{hasNextPage:!1,resultCount:(j||(j=d("I64"))).of_int32(q.length),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":325"))},function(a){c("FBLogger")("maw_fts_search").mustfix("Error while searching in secure threads. Err: %s",a==null?void 0:a.message)})});return t.apply(this,arguments)}g.updateSecureMsgMatchCountForThread=a;g.clearSecureMsgMatchCountForThread=e;g.getSecureMsgsMatchCountForThread=r;g.search=s}),98);
__d("isEBSearchEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);
__d("MWInboxSecureContentSearch",["I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MAWFTSMergeCutoverSearchResults","MAWMiActOnActThreadReadyDeferred","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","groupBy","isEBSearchEnabled","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MWInboxSecureContentSearch"),l=c("justknobx")._("2605");function a(a,c,e){return(j||(j=b("Promise"))).all([d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(e.tables.contacts)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a))]).then(function(a){var b=a[0];a[1];a=b.filter(function(a){a[0];a=a[1];a=(h||(h=d("I64"))).equal(a.id,c);return!a}).map(function(a){a[0];a=a[1];return a});return d("ReQL").firstAsync(a)})}function m(a,c){return d("MAWChatJid").toThreadKeyMaybe(c,a.chatJid).then(function(e){return e==null?(j||(j=b("Promise"))).resolve([null,a]):(j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.threads).getKeyRange(e)),j.resolve(a)])})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b))));return a});return o.apply(this,arguments)}function p(a,b){var e=b.query;b=b.threadKey;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.message_search_results).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,b))}function q(a,e,g,k,l,o,q,r){r===void 0&&(r=c("LSSearchRequestStatusType").COMPLETE);var s=function(f){return m(a,f).then(function(a){var m=a[0];if(m==null)return;var q=a[1],s=q.msg;if(s==null)return;if(q!=null)return(j||(j=b("Promise"))).all([d("MWSearchThreadUtils").getThreadPics(m,l,o),d("MWSearchThreadUtils").getThreadParticipants(m,o),(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))?n(o,s.sender):(j||(j=b("Promise"))).resolve(null),(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))?p(f,{query:g,threadKey:m.threadKey}):(j||(j=b("Promise"))).resolve(null)]).then(function(a){var n=a[0],o=n[0];n=n[1];var p=a[1],t=a[2];a=a[3];(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))&&d("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(m.threadKey,e);p=babelHelpers["extends"]({},d("MWContentSearchUtils").getContextLineAndMatches(g,e,s.content,k),{displayName:d("MWSearchThreadUtils").getThreadDisplayName(l,m,p,t,k),globalIndex:(h||(h=d("I64"))).of_float(-q.sortOrderMs),matchCount:h.of_int32(e),messageId:s.msgId,messageOtid:q.externalId,messageTimestampMs:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))&&e>1?void 0:(h||(h=d("I64"))).of_string(""+q.sortOrderMs),profilePicUrl:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&t!=null?t.profilePictureUrl:o,query:g,secondaryProfilePicUrl:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&t!=null?t.profilePictureFallbackUrl:n,threadKey:m.threadKey,threadType:m.threadType,type_:k});if((h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))||a==null)o=f.message_search_results.put(p);else{t=d("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(a,p);o=f.message_search_results.upsert([k,a.query,a.threadKey,a.globalIndex],babelHelpers["extends"]({},t,{globalIndex:p.globalIndex}))}return(j||(j=b("Promise"))).all([f.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:g,resultCount:h.of_int32(e),status:(i||(i=d("LSIntEnum"))).ofNumber(r),threadKeyV2:m.threadKey,type_:k}),o]).then(c("emptyFunction"))})})};return q!=null?s(q):o.runInTransaction(function(a){return s(a)},"readwrite",void 0,void 0,f.id+":284")}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){f!=null&&f.flow.qplAddPoint({instanceKey:f.instanceKey,point:"search_local_result_start"});c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:c,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));return(j||(j=b("Promise"))).all(c.map(function(b){if(b.recordType==="msg"){b.matchedTerms;b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["matchedTerms","recordType"]);return d("MAWChatJid").toThreadKeyMaybe(a.tables,c.chatJid).then(function(a){return[c,a]})}}).filter(Boolean)).then(function(a){a=e!=null?a.filter(function(a){a[0];a=a[1];return a!=null&&(h||(h=d("I64"))).equal(a,e)}):a.filter(function(a){a[0];a=a[1];return a!=null});var b=null;e!=null&&(b={"int":{numResult:a.length}});f!=null&&f.flow.qplAddPoint({annotations:babelHelpers["extends"]({},b),instanceKey:f.instanceKey,point:"search_local_result_end"});return a})});return s.apply(this,arguments)}function e(a,e,f,g){d("MAWUniversalMessageSearch").clearSecureMsgMatchCountForThread();return r(f,a,void 0,g).then(function(k){k=Object.values(c("groupBy")(k,function(a){a[0];a=a[1];return a==null?"":(h||(h=d("I64"))).to_string(a)}));g!=null&&g.flow.qplAddAnnotations({annotations:{"int":{numResult:k.length}}});return k.map(function(b){var g=b[0];if(g!==null){g=g[0];return q(g,b.length,a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return(j||(j=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(j||(j=b("Promise"))).resolve())})}function t(a,e,f,g,h,k){return(j||(j=b("Promise"))).all(g.map(function(b){return q(b,h,f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k,a,e)})).then(c("emptyFunction"))}function u(a,e,f,g,h){return(j||(j=b("Promise"))).all(f.map(function(b){return q(b,g,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),h,a)})).then(c("emptyFunction"))}function v(a,e,g,m,n){return m.runInTransaction(function(b){return b.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:a,resultCount:(h||(h=d("I64"))).of_int32(0),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING),threadKeyV2:e,type_:i.ofNumber(c("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,f.id+":463").then(function(b){return r(m,a,e,n)}).then(function(o){var p=o.length,r=o.filter(function(a){var b=a[0];a[1];return b.msg!=null}).length,s=r,t=function(){var f=o.map(function(a){a=a[0];return a}).filter(function(a){return a.msg==null});if(f.length===0)return(j||(j=b("Promise"))).resolve();f=f.slice(0,l);n.flow.qplAddPoint({annotations:{"int":{numRequestedMessages:f.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_start"});return c("MAWMiActOnActThreadReadyDeferred")(m,e,"MWMessageSearchInput.react",function(c,e){var i=f.map(function(a){return{id:a.externalId,sortOrderMs:a.sortOrderMs}});return k.load().then(function(c){var f=c.issueQueryAsPromiseForSearchResult,k=(h||(h=d("I64"))).to_string(g);c=f(m,e,i,k);return c==null?(j||(j=b("Promise"))).resolve():c.then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b;if(b.length!==i.length){n.flow.qplAddPoint({annotations:{"int":{numRemainingMessages:i.length-b.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_partial"});var d=i.filter(function(a){return!c.some(function(b){return b.externalId===a.id})});if(d.length>0){d=(yield f(m,e,d,k));d!=null&&(c=[].concat(b,d))}}s=r+c.length;n.flow.qplAddPoint({annotations:{"int":{numRespondedMessages:c.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_end"});return u(m,a,c,s,g)});return function(a){return c.apply(this,arguments)}}())})})};return(j||(j=b("Promise"))).all([o.map(function(b){b=b[0];return q(b,p,a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),g,m,void 0,c("LSSearchRequestStatusType").PENDING)}).reduce(function(a,d){return(j||(j=b("Promise"))).all([a,d]).then(c("emptyFunction"))},j.resolve()),c("isEBSearchEnabled")()?t():(j||(j=b("Promise"))).resolve()]).then(function(b){return m.runInTransaction(function(b){return b.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:a,resultCount:(h||(h=d("I64"))).of_int32(s),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:e,type_:i.ofNumber(c("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,f.id+":618")}).then(function(a){return(j||(j=b("Promise"))).resolve()})})}g.getThreadOtherParticipantContact=a;g.searchSecureDatabaseThreads=e;g.addBridgeSearchMsgsToSearchResult=t;g.addMessagesToSearchResult=u;g.searchSecureDatabaseMessages=v}),98);
__d("addMAWBridgeSearchMessagesToUniversalSearch",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ReQL","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("LSIntEnum")).ofNumber(c("LSMessageSearchType").THREAD);function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,k,l){var m;d("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(g,k.length);var n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.message_search_results).getKeyRange(j,h,g))),o=n==null;m=(i||(i=d("I64"))).to_int32((m=n==null?void 0:n.matchCount)!=null?m:(i||(i=d("I64"))).zero);var p=m+k.length;m=(yield d("MWSearchThreadUtils").getThreadDataByThreadKey(a,g,i.of_string(d("MAWCurrentUser").getID()),j));if(m==null)return;var q=m.profilePicUrl,r=m.secondaryProfilePicUrl,s=m.threadDisplayName,t=m.threadType,u=n==null?void 0:n.globalIndex,v=d("MWContentSearchUtils").getGlobalIndex(k[0].sortOrderMs,n==null?void 0:n.globalIndex),w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;yield a.message_search_results.upsert([j,h,g,u!=null?u:v],babelHelpers["extends"]({},d("MWContentSearchUtils").getContextLineAndMatches(h,p,(b=k[0].msg)==null?void 0:b.content,j),{displayName:s,globalIndex:v,matchCount:(i||(i=d("I64"))).of_int32(p),messageTimestampMs:d("MWContentSearchUtils").getMessageTimestamp(k[0].sortOrderMs),profilePicUrl:q,query:h,secondaryProfilePicUrl:r,threadKey:g,threadType:t,type_:j}));o&&(yield a.message_search_queries.put(babelHelpers["extends"]({},l,{resultCount:(i||(i=d("I64"))).add(l.resultCount,i.one)})))});return function(b){return a.apply(this,arguments)}}();c("gkx")("11537")?c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield w(a)});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":116")):e!=null&&(yield w(e))});return k.apply(this,arguments)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometGHLFeedFallbackContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFallbackEnabled:!0,isInNewsFeed:!1,setIsFallbackEnabled:function(){}});g["default"]=b}),98);
__d("CometGHLScrambledLabelMitigationLoggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({trackingData:null});g["default"]=b}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};a=b("cr:1801726")!=null?b("cr:1801726"):{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h,getBlockedDebugOwlElements:function(){return new Map()}};c=a;g["default"]=c}),98);
__d("GHLGating",["Random","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("gkx")("23204")};b=function(){return!1};e=function(){return c("gkx")("23209")};f=function(){return c("gkx")("23181")};var h=function(){return c("gkx")("23182")},i=function(){return c("gkx")("23210")},j=function(){return c("gkx")("23174")},k=function(){return c("gkx")("21000")},l=function(){return c("gkx")("23176")},m=function(){return c("gkx")("23177")},n=function(){return c("gkx")("23180")},o=function(){return d("Random").intBetween(c("justknobx")._("2436"),c("justknobx")._("2437"))},p=function(){return c("justknobx")._("1731")},q=function(){return c("justknobx")._("592")},r=function(){return c("justknobx")._("593")},s=function(){return 1};c("justknobx")._("4525");g.getSvgTextFontSizeFix=a;g.getCometFooterDisplayCheck=b;g.getCometAriaLabelledBysOnRHC=e;g.getCometDeferDOMAriaLabel=f;g.getCometAriaLabelledBys=h;g.getCometDeferDOMLink=i;g.getCometDebugAdvanced=j;g.getCometGhlContentVisibility=k;g.getUseInjectedStylexLikeCSS=l;g.getScramblerOrderStylesInClass=m;g.getScramblerNodeRandomizePlaceholderClasses=n;g.getWidthRandomizerInPx=o;g.getSvgExtraLayersNumofLayers=p;g.getFakeElementBeforeElementCount=q;g.getFakeElementAfterElementCount=r;g.getExtraElementsForFeedCount=s}),98);
__d("GHLMitigationsCounter",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i="ghl_mitigation_counter";function a(a,b){b&&(h||(h=d("ODS"))).bumpEntityKey(4294,i,a);return b}g.GHL_ODS_MITIGATION_COUNTER_IDENTITY=i;g.incrementMitigationCounterAndReturn=a}),98);
__d("GHLMitigationsGating",["GHLMitigationsCounter","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("shim_randomize_placeholder",c("justknobx")._("684")&&c("gkx")("23184"))};b=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_element_wrapper_for_links",c("justknobx")._("922")&&c("gkx")("23185"))};e=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right",c("justknobx")._("222")&&c("gkx")("23186"))};f=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("insert_empty_div_element_after_h3",c("justknobx")._("669")&&c("gkx")("23188"))};var h=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left",c("justknobx")._("1051")&&c("gkx")("23189"))},i=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_el_wrapper_for_story_title",c("justknobx")._("706")&&c("gkx")("23190"))},j=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right_with_div",c("justknobx")._("1175")&&c("gkx")("23191"))},k=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left_with_div",c("justknobx")._("1211")&&c("gkx")("23192"))},l=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_width_with_div",c("justknobx")._("1212")&&c("gkx")("23193"))},m=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_extra_layer",c("justknobx")._("794")&&c("gkx")("23195"))},n=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_multiple_layers",c("justknobx")._("843")&&c("gkx")("23196"))},o=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_segments",c("justknobx")._("1070")&&c("gkx")("23197"))},p=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text",c("justknobx")._("783")&&c("gkx")("23198"))},q=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_text_new",c("justknobx")._("1749")&&c("gkx")("23199"))},r=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("parent_style_randomizer",c("justknobx")._("2217")&&c("gkx")("2750"))},s=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_use_tspan",c("justknobx")._("1141")&&c("gkx")("23200"))},t=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("mock_footer_rel_attribute",c("justknobx")._("2382")&&c("gkx")("3356"))},u=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_elements_hidden_by_position",c("justknobx")._("2644")&&c("gkx")("4192"))},v=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_random_text_breakdown",c("justknobx")._("3332")&&c("gkx")("6934"))},w=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_canvas",c("justknobx")._("3337")&&c("gkx")("5043"))},x=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("sponsored_label_extra_span",c("justknobx")._("3371")&&c("gkx")("8287"))},y=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fallback_to_scrambler",c("justknobx")._("3326")&&c("gkx")("7396"))},z=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_remove_extra_span",c("justknobx")._("3604")&&c("gkx")("9104"))},A=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("scrambled_label_mitigation_logger",c("justknobx")._("3609")&&c("gkx")("9144"))},B=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_extra_class",c("justknobx")._("3752")&&c("gkx")("10278"))},C=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("marketplace_link_shim_and_aria_labelledby",c("justknobx")._("3935")&&c("gkx")("11471"))},D=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_nested_div_span",!!c("justknobx")._("3926")&&c("gkx")("11412"))},E=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_element_wrapper_for_feed",c("justknobx")._("4040")&&c("gkx")("12009"))},F=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("override_delay_label_placement",c("justknobx")._("4079")&&c("gkx")("12184"))},G=function(){return c("justknobx")._("4525")>0&&c("gkx")("14400")},H=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_random_element_wrapper",c("justknobx")._("4529")&&c("gkx")("14419"))},I=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_should_populate_attributionsrc_onhover",c("justknobx")._("4648")&&c("gkx")("15092"))},J=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("marketplace_link_shim_and_use_span",c("justknobx")._("4694")&&c("gkx")("15340"))},K=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_height_fix",c("justknobx")._("4860")&&c("gkx")("7127"))},L=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("rhc_should_add_additional_class",c("justknobx")._("88")&&c("gkx")("577"))};g.getIsGHLShimRandomizePlaceholderEnabled=a;g.getIsGHLRandomElementWrapperForLinksEnabled=b;g.getIsGHLRandomElementWrapperForStoryTitleEnabled=i;g.getIsGHLEmptyDivElementAfterH3Enabled=f;g.getIsGHLParentStyleRandomizationEnabled=r;g.getIsGHLSVGStyleMarginRightEnabled=e;g.getIsGHLSVGStyleMarginLeftEnabled=h;g.getIsGHLSVGStyleMarginRightWithDivEnabled=j;g.getIsGHLSVGStyleMarginLeftWithDivEnabled=k;g.getIsGHLSVGStyleWidthtWithDivEnabled=l;g.getIsGHLSVGExtraLayerEnabled=m;g.getIsGHLSVGMultipleLayersEnabled=n;g.getIsGHLSVGTextSegmentsEnabled=o;g.getIsGHLSVGTextEnabled=p;g.getIsGHLCanvasTextEnabled=q;g.getIsGHLSVGTextUseTspanEnabled=s;g.getIsGHLMockFooterRelAttributeEnabled=t;g.getIsGHLFakeElementHiddenByPositionEnabled=u;g.getIsGHLCanvasRandomTextBreakdownEnabled=v;g.getIsGHLFakeCanvasEnabled=w;g.getIsGHLSponsoredLabelExtraSpanEnabled=x;g.getIsGHLFallbackToScramblerEnabled=y;g.getIsGHLRhcRemoveExtraSpanEnabled=z;g.getIsGHLScrambledLabelMitigationLoggerEnabled=A;g.getIsGHLRHCExtraClassEnabled=B;g.getIsGHLMarketplaceLinkShimAndAriaLabelledbyEnabled=C;g.getIsGHLFakeNestedDivSpanEnabled=D;g.getIsGHLRandomElementWrapperForFeedEnabled=E;g.getIsGHLOverrideDelayLabelPlacementEnabled=F;g.getIsGHLExtraElementsForFeedEnabled=G;g.getIsSvgTextRandomElementWrapperEnabled=H;g.getIsGHLRhcShouldPopulateAttributionsrcOnhoverEnabled=I;g.getIsGHLMarketplaceLinkShimAndUseSpanEnabled=J;g.getIsGHLSVGHeightFixEnabled=K;g.getIsGHLRHCAdditionalClassEnabled=L}),98);
__d("GhlMitigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2288");b=d("FalcoLoggerInternal").create("ghl_mitigation",a);e=b;g["default"]=e}),98);
__d("useGHLScrambledLabelMitigationLogger",["CometGHLFeedFallbackContext","CometGHLScrambledLabelMitigationLoggerContext","GHLMitigationsGating","GhlMitigationFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a){var b=i(c("CometGHLFeedFallbackContext")),e=b.isFallbackEnabled,f=d("GHLMitigationsGating").getIsGHLFallbackToScramblerEnabled(),g=k(!1);b=i(c("CometGHLScrambledLabelMitigationLoggerContext"));var h=b.trackingData;j(function(){if(a===null||!d("GHLMitigationsGating").getIsGHLScrambledLabelMitigationLoggerEnabled()||g.current===!0||e&&f)return;c("GhlMitigationFalcoEvent").log(function(){return{mitigation:a,xt:h}});g.current=!0},[e,f,a,h])}g["default"]=a}),98);
__d("GHLRandomElementWrapper",["Random","react","useGHLScrambledLabelMitigationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],k=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=k%10+5;var l=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var m=l+"-"+d;window.customElements&&window.customElements.define(m,b(l),{"extends":"span"});function a(a){var b=a.children,d=a.elementTag,e=a.mitigationToLog,f=a.useClassStyles;f=f===void 0?!1:f;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var g=j[k%j.length],h=a?{display:"inline"}:null,l={0:"",1:"x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t"}[!!f<<0];d==="div"&&!f&&!a&&(l="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");d==="randomSpan"?window.customElements?f=m:f="span":f=d;a=g[1];for(d=0;d<a;d++)b=i.jsx(f,{className:l,style:h,children:b});b=i.jsx(f,{children:b});d=g[0];for(a=0;a<d;a++)b=i.jsx(f,{className:l,style:h,children:b});c("useGHLScrambledLabelMitigationLogger")(e);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGTextUtils",["GHLGating","GHLMitigationsGating"],(function(a,b,c,d,e,f,g){"use strict";a=d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled();b=d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled();c=function(a){switch(a){case"14px":return 4;case"15px":return 6;default:return 0}};e=function(a){var b=d("GHLGating").getSvgTextFontSizeFix();return b?["13px",a-2]:["12px",a-3]};f=function(a){switch(a){case"14px":case"15px":return!0;default:return!1}};g.anyMarginLeftStylingEnabled=a;g.anyMarginRightStylingEnabled=b;g.getCTAExtraWidth=c;g.getFixedFontSize=e;g.getIsCTAText=f}),98);
__d("GHLSVGElementContainer.react",["GHLMitigationsGating","GHLSVGTextUtils","filterObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=[d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled(),d("GHLMitigationsGating").getIsGHLSVGStyleWidthtWithDivEnabled()];var j=b[0],k=b[1],l=b[2],m=b[3],n=b[4];function a(a){var b=a.domID,e=a.fontSize,f=a.height,g=a.randomizedWidth,h=a.width;f=c("filterObject")({height:f+(e==="15px"||d("GHLMitigationsGating").getIsGHLSVGHeightFixEnabled()?1:0)+"px",overflow:"visible",paddingLeft:e==="15px"?"4px":null,paddingTop:e==="15px"?"1px":null},Boolean);var o={marginRight:"-"+(g-h)+"px",width:g+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};g={marginLeft:"-"+(g-h)+"px",width:h+(g-h)+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};e=j?[null,o]:k?[o,null]:l?[null,g]:m?[g,null]:n?[{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"},null]:[null,{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"}];o=e[0];g=e[1];h=i.jsx("svg",{"data-testid":void 0,style:babelHelpers["extends"]({},f,{},g),children:i.jsx("use",{xlinkHref:"#"+b,xmlnsXlink:"http://www.w3.org/1999/xlink"})});return o==null?h:i.jsx("div",{style:o,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGText.react",["BasePortal.react","ExecutionEnvironment","GHLGating","GHLMitigationsGating","GHLRandomElementWrapper","GHLSVGElementContainer.react","GHLSVGTextUtils","cr:6269","react","useGHLScrambledLabelMitigationLogger","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useLayoutEffect,l=e.useRef,m=e.useState,n=null,o=function(){(h||(h=c("ExecutionEnvironment"))).canUseDOM&&n===null&&(n=document.createElement("div"),n.setAttribute("style","position: absolute; top: -10000px;"),document.body&&document.body.appendChild(n));return n},p=1,q="SvgT";function a(a){var e=a.fontSize,f=a.setGhlRandomizers;a=a.text;var g=m(0),h=g[0],i=g[1];g=m(0);var n=g[0],r=g[1],s=c("useStable")(function(){return d("GHLGating").getWidthRandomizerInPx()});g=c("useStable")(function(){return q+p++});var t=c("useStable")(function(){return q+p++}),u=l(null);k(function(){var a;a=(a=u.current)==null?void 0:a.getBoundingClientRect();(a==null?void 0:a.height)!=null&&(a==null?void 0:a.width)!=null&&(i(a.height),r(a.width),f&&f({display:"inline-block",marginRight:-s+"px",width:a.width+s+"px"}))},[e,f,a,s]);var v=n+s;c("useGHLScrambledLabelMitigationLogger")("ste");var w=d("GHLMitigationsGating").getIsSvgTextRandomElementWrapperEnabled()?j.jsx(c("GHLRandomElementWrapper"),{elementTag:"span",mitigationToLog:"strewe",children:j.jsx(c("GHLSVGElementContainer.react"),{domID:g,fontSize:e,height:h,randomizedWidth:v,width:n})}):j.jsx(c("GHLSVGElementContainer.react"),{domID:g,fontSize:e,height:h,randomizedWidth:v,width:n});h=d("GHLSVGTextUtils").getFixedFontSize(h);var x=h[0];h=h[1];var y=""+(d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()?t:g);e={fill:"currentColor",fontSize:e!=null?e:x,overflow:"visible"};x={x:d("GHLSVGTextUtils").anyMarginLeftStylingEnabled&&!d("GHLSVGTextUtils").anyMarginRightStylingEnabled?v-n:void 0,y:h};return j.jsxs(j.Fragment,{children:[j.jsxs(c("BasePortal.react"),{target:o(),children:[d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()&&j.jsx("svg",{id:g,children:j.jsx("use",{xlinkHref:"#"+t,xmlnsXlink:"http://www.w3.org/1999/xlink"})}),j.jsx("svg",{style:{overflow:"visible"},children:d("GHLMitigationsGating").getIsGHLSVGTextUseTspanEnabled()&&b("cr:6269")?j.jsx(b("cr:6269"),{originalText:a,textElementID:y,textLength:n,textRef:u,textStyle:e,xPosition:x.x,yPosition:x.y}):j.jsx("text",{id:y,ref:u,style:e,textLength:n,x:x.x,y:x.y,children:a})})]}),w]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSAdsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e,f,g,h,j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M3.712 9.664a2.327 2.327 0 0 0-1.629 2.86h0a2.327 2.327 0 0 0 2.86 1.628s6.964-1.91 13.146-.022l-3.06-11.154C10.677 7.754 3.713 9.664 3.713 9.664Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.952",x2:"22",y1:"7.348",y2:"7.061"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"18.988",x2:"19.752",y1:"4.404",y2:"3.631"}),h=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.765",x2:"21.816",y1:"10.882",y2:"11.157"}),j=i.jsx("path",{d:"M8.384 13.522a28.836 28.836 0 0 0 3.171 6.636l-3.107.866a28.343 28.343 0 0 1-3.255-6.93",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j):(e=b[0],f=b[1],g=b[2],h=b[3],j=b[4]);b[5]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g,h,j]})),b[5]=a,b[6]=e):e=b[6];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSBusinessPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M20.102 10.853v8.96a1.333 1.333 0 0 1-1.333 1.334H5.436a1.333 1.333 0 0 1-1.333-1.333v-8.961",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("path",{d:"M9.658 21.147V16.31a1.333 1.333 0 0 1 1.333-1.333h2.223a1.333 1.333 0 0 1 1.333 1.333v4.837M2.1 8.372a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),g=i.jsx("path",{d:"M17.1 8.372a2.5 2.5 0 0 0 5 0V6.158l-2.685-3.305H4.785L2.1 6.158v2.214",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSCircleAddPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSDevicePhonePanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M17.749 2.465a2.668 2.668 0 0 0-1.1-1.102A3.635 3.635 0 0 0 14.771 1H9.23a3.63 3.63 0 0 0-1.877.363A2.676 2.676 0 0 0 6.25 2.465a3.591 3.591 0 0 0-.362 1.88v15.31a3.591 3.591 0 0 0 .362 1.88 2.675 2.675 0 0 0 1.1 1.102A3.63 3.63 0 0 0 9.229 23h5.542a3.591 3.591 0 0 0 1.88-.363 2.67 2.67 0 0 0 1.098-1.102 3.591 3.591 0 0 0 .362-1.88V4.345a3.591 3.591 0 0 0-.362-1.88Zm-1.638 17.19c0 .702-.067.827-.126.939a.666.666 0 0 1-.279.28c-.11.06-.235.126-.935.126H9.23c-.7 0-.824-.066-.934-.126a.663.663 0 0 1-.28-.28c-.059-.112-.126-.237-.126-.939V4.345c0-.701.067-.827.126-.938a.664.664 0 0 1 .28-.281C8.407 3.066 8.53 3 9.23 3h.155a1.104 1.104 0 0 0 .113.483 1.115 1.115 0 0 0 1.003.603v.01h3v-.01a1.099 1.099 0 0 0 .51-.11 1.113 1.113 0 0 0 .6-.976h.161c.699 0 .825.067.934.126a.667.667 0 0 1 .28.28c.059.112.126.238.126.94Z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSGlassesOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M7.514 9.453a10.622 10.622 0 0 0-3.759.464.774.774 0 0 0-.435.894l.533 2.133a2.195 2.195 0 0 0 2.328 1.653l.913-.083a2.195 2.195 0 0 0 1.918-1.608l.625-2.293a.609.609 0 0 0-.373-.73 7.691 7.691 0 0 0-1.75-.43ZM1.034 11.4l.505.253.44 1.76a4.126 4.126 0 0 0 4.377 3.108l.912-.083a4.126 4.126 0 0 0 3.607-3.024s.237-1.01.373-1.327c.262-.608 1.242-.608 1.504 0 .137.316.373 1.327.373 1.327a4.126 4.126 0 0 0 3.607 3.024l.913.083a4.126 4.126 0 0 0 4.376-3.109l.44-1.76.505-.252a.966.966 0 0 0 .534-.863V9.483a.966.966 0 0 0-.731-.937l-2.07-.517-.218-.073a9.624 9.624 0 0 0-4.167-.428c-.957.059-1.91.227-2.838.506l-.543.163a3.248 3.248 0 0 1-1.867 0l-.542-.163a12.553 12.553 0 0 0-2.837-.506 9.624 9.624 0 0 0-4.168.428l-.217.073-2.07.517a.966.966 0 0 0-.732.937v1.054c0 .365.207.7.534.863Zm19.212-1.482a10.622 10.622 0 0 0-3.76-.465 7.692 7.692 0 0 0-1.75.43.609.609 0 0 0-.373.73l.625 2.293a2.195 2.195 0 0 0 1.919 1.608l.913.083a2.195 2.195 0 0 0 2.327-1.653l.534-2.133a.774.774 0 0 0-.435-.893Z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMailPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("rect",{fill:"none",height:"17.273",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"20",x:"2",y:"3.364"}),f=i.jsx("polyline",{fill:"none",points:"2 7.155 12.002 13.81 22 7.157",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMediaAccountOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M32.2 25.5c5.3 0 9.7-4.3 9.7-9.7s-4.3-9.7-9.7-9.7c-5.3 0-9.7 4.3-9.7 9.7s4.4 9.7 9.7 9.7zm0-16.4a6.7 6.7 0 1 1 0 13.4 6.7 6.7 0 0 1 0-13.4zm5.6 19.5H26.6c-5.6 0-10.2 4.6-10.2 10.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-4 3.2-7.2 7.2-7.2h11.3c4 0 7.2 3.2 7.2 7.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c-.1-5.6-4.7-10.2-10.3-10.2zM14.6 24l3.6-2.9c.5-.4.8-1.1.5-1.8s-.8-1.1-1.5-1.2l-4.6-.3-1.6-4.2c-.3-.6-.9-1.1-1.6-1.1-.7 0-1.3.4-1.6 1.1l-1.7 4.3-4.6.3c-.7.1-1.3.5-1.5 1.2s0 1.4.5 1.8L4.2 24l-1.1 4.5c-.2.7.1 1.4.7 1.8.6.4 1.3.4 1.9 0l3.8-2.5 3.8 2.5c.3.2.6.3.9.3.3 0 .7-.1 1-.3.6-.4.8-1.1.7-1.8L14.6 24zm-3.3-1.1.8 3-2.6-1.7-2.6 1.7.8-3-2.4-2 3.1-.2 1.2-3 1.2 3 3.1.2-2.6 2z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSMetaGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"m15.795 5.206 1.897.854c.11.05.199.138.248.248l.854 1.897a.5.5 0 0 0 .912 0l.854-1.897a.494.494 0 0 1 .248-.248l1.897-.854a.5.5 0 0 0 0-.912l-1.897-.854a.494.494 0 0 1-.248-.248l-.854-1.897a.5.5 0 0 0-.912 0l-.853 1.896a.5.5 0 0 1-.25.25l-1.896.853a.5.5 0 0 0 0 .912Zm7.643 5.596a1.504 1.504 0 0 0-1.644-1.34 1.5 1.5 0 0 0-1.34 1.644A8.8 8.8 0 0 1 20.5 12c0 4.687-3.813 8.5-8.5 8.5S3.5 16.687 3.5 12 7.313 3.5 12 3.5c.302 0 .6.016.895.046a1.5 1.5 0 0 0 .304-2.984C12.805.522 12.405.5 12 .5 5.66.5.5 5.66.5 12S5.66 23.5 12 23.5 23.5 18.34 23.5 12c0-.405-.021-.805-.062-1.198Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSSavePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M20 22a.999.999 0 0 1-.687-.273L12 14.815l-7.313 6.912A1 1 0 0 1 3 21V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumeNonePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSWhatsappLogoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M15.662.263A15.166 15.166 0 0 1 26.06 4.48a15.048 15.048 0 0 1 4.653 10.381 15.164 15.164 0 0 1-3.77 10.568 15.063 15.063 0 0 1-11.37 5.138c-2.273 0-4.526-.513-6.567-1.495l-7.93 1.764a.116.116 0 0 1-.138-.13l1.34-8.019a15.181 15.181 0 0 1-1.85-6.837A15.052 15.052 0 0 1 4.555 5.012 15.061 15.061 0 0 1 15.586.263h.075Zm-.085 2.629c-.12 0-.242.002-.364.005-6.902.198-12.356 5.975-12.158 12.877.06 2.107.654 4.176 1.717 5.982l.231.392-.993 5.441 5.385-1.271.407.212a12.527 12.527 0 0 0 6.13 1.402c6.901-.198 12.356-5.974 12.158-12.876-.195-6.78-5.773-12.164-12.513-12.164ZM10.34 8.095c.253.008.507.015.728.032.271.019.57.04.836.683.315.763.996 2.668 1.085 2.86.09.194.146.418.011.668-.134.25-.203.407-.4.623-.196.216-.414.484-.59.649-.197.184-.4.384-.19.771.21.388.934 1.657 2.033 2.7 1.413 1.34 2.546 1.783 2.996 1.993a.998.998 0 0 0 .415.112c.162 0 .292-.068.415-.193.237-.24.95-1.071 1.25-1.454.156-.2.299-.271.453-.271.123 0 .255.045.408.107.345.137 2.185 1.115 2.56 1.317.374.202.625.305.715.466.09.162.066.924-.278 1.803-.344.878-1.922 1.688-2.621 1.73-.205.012-.406.04-.668.04-.634 0-1.621-.166-3.865-1.133-3.817-1.643-6.136-5.683-6.318-5.942-.182-.26-1.489-2.111-1.432-3.983C7.94 9.8 8.951 8.91 9.311 8.54c.345-.355.74-.445.996-.445h.032Z",fill:"currentColor",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 31 31",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSecureShareSheetHeader.react",["IGDSBox.react","IGDSDialogHeader.react","IGDSIconButton.react","IGDSTextVariants.react","IGDSXFilledIcon.react","PolarisDirectStrings","PolarisGenericStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onCloseClick;var e;b[0]!==a?(e=a?i.jsx(c("IGDSBox.react"),{padding:4,children:i.jsx(c("IGDSIconButton.react"),{onClick:a,children:i.jsx(c("IGDSXFilledIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,size:18})})}):void 0,b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(d("IGDSTextVariants.react").IGDSTextLabelEmphasized,{children:d("PolarisDirectStrings").SHARE_TITLE}),b[2]=a):a=b[2];b[3]!==e?(a=i.jsx(c("IGDSDialogHeader.react"),{endAdornment:e,truncateText:!0,children:a}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("IGDSecureShareSheetDialogPlaceholder.react",["IGDSBox.react","IGDSDialogPlaceholder.react","IGDSListItemPlaceholder.react","IGDSecureShareSheetHeader.react","react","react-compiler-runtime","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dialogContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.onClose;var e=c("useMatchMedia")("(max-width: 736px)");e=e?"fullscreen":"large";var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDSecureShareSheetHeader.react"),{}),b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("IGDSBox.react"),{marginTop:4,children:Array(3).fill(null).map(k)}),b[1]=g):g=b[1];b[2]!==a||b[3]!==e?(f=i.jsxs(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,fixedWidth:!0,innerContentXStyle:j.dialogContainer,onClose:a,size:e,children:[f,g]}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function k(a,b){return i.jsx(c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:b,paddingX:6,paddingY:2,size:"medium"},"igd_secure_sharesheet_dialog_placeholder_"+b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDShareSheetOnSubmitFactory",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,h,i){var j=e.instamadilloRecipients;e=e.openRecipients;e!=null&&e.size>0&&a(e,f,h,i);e=[];if(j!=null&&j.size>0)for(j of j.values()){var k=j.candidate;e.push(c(k.id,k.isDisappearingModeSettingOn,d(k),f,h,i))}yield (g||(g=b("Promise"))).allSettled(e)});return function(a,b,c,d){return e.apply(this,arguments)}}()}f["default"]=a}),66);
__d("IgWearablesPivotPageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4228");b=d("FalcoLoggerInternal").create("ig_wearables_pivot_page",a);e=b;g["default"]=e}),98);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3374");b=d("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e=b;g["default"]=e}),98);
__d("InstagramAdImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1282");b=d("FalcoLoggerInternal").create("instagram_ad_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1283");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression",a);e=b;g["default"]=e}),98);
__d("InstagramMediaMetricsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2312");b=d("FalcoLoggerInternal").create("instagram_media_metrics",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicCarouselImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4535");b=d("FalcoLoggerInternal").create("instagram_organic_carousel_impression",a);e=b;g["default"]=e}),98);
__d("InstagramOrganicImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1115");b=d("FalcoLoggerInternal").create("instagram_organic_impression",a);e=b;g["default"]=e}),98);
__d("InstagramWellbeingCommentCoverEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3719");b=d("FalcoLoggerInternal").create("instagram_wellbeing_comment_cover_event",a);e=b;g["default"]=e}),98);
__d("PolarisAIProfileDisclaimerDialog.react",["CometPlaceholder.react","IGDSBox.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisAIProfileDisclaimerDialog.react"));function a(a){var b=d("react-compiler-runtime").c(6),e=a.aiUserIGID;a=a.cacheKey;var f;b[0]!==e?(f={ai_user_igid:e},b[0]=e,b[1]=f):f=b[1];e=f;f=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative"}),b[2]=e):e=b[2];e=e;b[3]!==f||b[4]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{appId:"com.bloks.www.ai_profile.dislaimer.web.async_controller",loadingFallback:e,params:f},a)}),b[3]=f,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisAdBlockerMitigationGatingHelpers",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25304")&&c("justknobx")._("931")}g.shouldUseSVGTextMitigation=a}),98);
__d("PolarisAIProfileTransparencyLabel.react",["GHLSVGText.react","PolarisAIProfileDisclaimerDialog.react","PolarisAdBlockerMitigationGatingHelpers","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={clickable:{cursor:"x1ypdohk",$$css:!0},root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.aiUserIGID,f=a.label;a=a.xstyle;var g;b[0]!==f?(g=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{fontSize:"12",text:f.toString()}):f,b[0]=f,b[1]=g):g=b[1];b[2]!==g?(f=j.jsx(j.Fragment,{children:g}),b[2]=g,b[3]=f):f=b[3];g=f;f=k(0);var i=f[0],m=f[1];b[4]!==i?(f=function(){m(i+1)},b[4]=i,b[5]=f):f=b[5];f=f;var n;b[6]!==a?(n=(h||(h=c("stylex"))).props(l.root,a,l.clickable),b[6]=a,b[7]=n):n=b[7];b[8]!==g||b[9]!==f||b[10]!==n?(a=j.jsx("span",babelHelpers["extends"]({},n,{onClick:f,role:"link",tabIndex:0,children:g})),b[8]=g,b[9]=f,b[10]=n,b[11]=a):a=b[11];b[12]!==e||b[13]!==i?(g=i>0&&j.jsx(c("PolarisAIProfileDisclaimerDialog.react"),{aiUserIGID:e,cacheKey:i}),b[12]=e,b[13]=i,b[14]=g):g=b[14];b[15]!==a||b[16]!==g?(f=j.jsxs(j.Fragment,{children:[a,g]}),b[15]=a,b[16]=g,b[17]=f):f=b[17];n=f;return n}g["default"]=a}),98);
__d("PolarisAppAttributionText.react",["fbt","IGDSExternalLinkPanoOutline24Icon.react","IGDSTextVariants.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisViewpointReact.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useRef,l=h._(/*BTDS*/"Compartir");function a(a){var b=d("react-compiler-runtime").c(13),e=a.appId,f=a.appName,g=a.mediaId;a=a.showIcon;var h=a===void 0?!1:a,i=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[function(a){a.percentVisible>=1&&!i.current&&(c("polarisLogAction")("thirdPartyAppAttributionImpression"),i.current=!0)}],b[0]=a):a=b[0];a=a;a=a;var n;b[1]!==e||b[2]!==g?(n=d("PolarisLinkBuilder").buildClipsAppPageLink(e,g),b[1]=e,b[2]=g,b[3]=n):n=b[3];b[4]!==f||b[5]!==h?(g=function(a){return j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1q0g3np"},{ref:a,children:[h===!0&&j.jsx("div",babelHelpers["extends"]({className:"x2fvf9"},{children:j.jsx(c("IGDSExternalLinkPanoOutline24Icon.react"),{alt:l,size:12})})),j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{breakWord:!0,zeroMargin:!0,children:j.jsx("div",babelHelpers["extends"]({className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft"},{"data-testid":void 0,children:j.jsx("span",{children:f})}))})]}))},b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==e||b[8]!==g?(a=j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:e,children:g}),b[7]=e,b[8]=g,b[9]=a):a=b[9];b[10]!==n||b[11]!==a?(e=j.jsx(c("PolarisFastLink.react"),{href:n,onClick:m,children:a}),b[10]=n,b[11]=a,b[12]=e):e=b[12];return e}function m(){c("polarisLogAction")("thirdPartyAppAttributionClick")}g["default"]=a}),226);
__d("PolarisPostContextFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostContextFragment",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostModalContext_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContextImpl_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalContextImpl_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostModalEntrypointLazy_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazyComponent_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalEntrypointLazyComponent_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostFastAboutThisAccountModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAdDebugToolModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastDeleteModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastEmbedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAdInfoTransparencyModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastGenAITransparencyModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastGenAITransparencyZeroClickModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastHideAdModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastReportModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastReportAdModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastShareSheet_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastTaggedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastUnfollowModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastWAISTModal_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazy_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalEntrypointLazy_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastAboutThisAccountModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalEntrypointLazyComponent_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastDeleteModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastEmbedModal_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsModal_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalEntrypointLazy.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FBLogger","IGRouter_DO_NOT_USE.react","JSResourceForInteraction","PolarisPostModalEntrypointLazyComponent_media.graphql","PolarisPostModalEntrypointLazy_media.graphql","hero-tracing","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");e=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAboutThisAccountModal.react").__setRef("PolarisPostModalEntrypointLazy.react"));f=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAboutThisAccountModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react"));var l=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastCopyModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastDeleteModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastDeleteModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastEmbedModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastEmbedModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFavoritesModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastHideAdModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastHideAdModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastOptionsModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastOptionsModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportAdModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastReportAdModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastShareSheet.react").__setRef("PolarisPostModalEntrypointLazy.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastShareSheet.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),B=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTaggedModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),C=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastTaggedModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),D=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastUnfollowModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),E=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastUnfollowModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),F=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdDebugToolModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),G=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastWAISTModal.react").__setRef("PolarisPostModalEntrypointLazy.react")),H=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastWAISTModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),I=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastGenAITransparencyModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),J=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastGenAITransparencyZeroClickModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),K=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastAdInfoTransparencyModal.next.react").__setRef("PolarisPostModalEntrypointLazy.react")),L=new Map([["aboutThisAccount",e],["copy",l],["delete",m],["embed",o],["hideAd",r],["options",t],["report",v],["reportAd",x],["share",z],["tagged",B],["unfollow",D],["whyAmISeeingThisAd",G]]),M=new Map([["aboutThisAccount",f],["adInfo",K],["delete",n],["embed",p],["genAITransparency",I],["genAITransparencyZeroClick",J],["hideAd",s],["report",w],["reportAd",y],["share",A],["tagged",C],["unfollow",E],["viewAdDebugTool",F],["whyAmISeeingThisAd",H]]),N=new Map([["favorites",q]]),O=new Map([["optionsV2",u]]);function a(a){var e,f=d("react-compiler-runtime").c(13),g=a.interactionUUID,i=a.media,j=a.location,l=a.onClose,m=a.openModal;a=a.post;i=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalEntrypointLazy_media.graphql"),i);e=(e=i==null?void 0:i.pk)!=null?e:a==null?void 0:a.id;if(e==null)throw c("FBLogger")("instagram_web").mustfixThrow("Both media fragment and post cannot be null");var n="PostModalEntrypoint: Open "+m+" Modal";e=m+"-"+e;var o;f[0]!==j||f[1]!==i||f[2]!==l||f[3]!==m||f[4]!==a?(o=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(P,{location:j,media:i,onClose:l,openModal:m,post:a})}),f[0]=j,f[1]=i,f[2]=l,f[3]=m,f[4]=a,f[5]=o):o=f[5];f[6]!==e||f[7]!==o?(j=k.jsx(c("CometErrorBoundary.react"),{children:o},e),f[6]=e,f[7]=o,f[8]=j):j=f[8];f[9]!==g||f[10]!==n||f[11]!==j?(i=k.jsx(d("hero-tracing").HeroInteraction,{interactionDesc:n,interactionUUID:g,children:j}),f[9]=g,f[10]=n,f[11]=j,f[12]=i):i=f[12];return i}function P(a){var e=d("react-compiler-runtime").c(24),f=a.media,g=a.location,h=a.onClose,j=a.openModal;a=a.post;f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostModalEntrypointLazyComponent_media.graphql"),f);var l;e[0]!==j?(l=N.get(j),e[0]=j,e[1]=l):l=e[1];l=l;if(l){var m;e[2]!==l||e[3]!==h?(m=k.jsx(l,{onClose:h}),e[2]=l,e[3]=h,e[4]=m):m=e[4];return m}e[5]!==j?(l=M.get(j),e[5]=j,e[6]=l):l=e[6];m=l;if(m&&f){e[7]!==m||e[8]!==f||e[9]!==h?(l=k.jsx(m,{media:f,onClose:h}),e[7]=m,e[8]=f,e[9]=h,e[10]=l):l=e[10];return l}e[11]!==j?(m=O.get(j),e[11]=j,e[12]=m):m=e[12];l=m;if(l&&f){e[13]!==l||e[14]!==f||e[15]!==h?(m=k.jsx(l,{media:f,onClose:h}),e[13]=l,e[14]=f,e[15]=h,e[16]=m):m=e[16];return m}e[17]!==j?(l=L.get(j),e[17]=j,e[18]=l):l=e[18];f=l;if(!f||a==null)throw c("FBLogger")("instagram_web").mustfixThrow('Failed to find a modal for "%s"',j);e[19]!==f||e[20]!==g||e[21]!==h||e[22]!==a?(m=k.jsx(f,{location:g,onClose:h,post:a}),e[19]=f,e[20]=g,e[21]=h,e[22]=a,e[23]=m):m=e[23];return m}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostModalContext.react",["CometPlaceholder.react","CometRelay","InteractionTracing","PolarisLoadingModal.react","PolarisPostModalContextImpl_media.graphql","PolarisPostModalEntrypointLazy.react","PolarisUA","emptyFunction","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useContext;k.useMemo;var n=k.useState;function o(){return d("PolarisUA").isMobile()?null:j.jsx(c("PolarisLoadingModal.react"),{})}o.displayName=o.name+" [from "+f.id+"]";var p=l({openModal:null,setOpenModal:null});function a(a){var e=d("react-compiler-runtime").c(12),f=a.children,g=a.media;a=a.post;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalContextImpl_media.graphql"),g);var i=n(null),k=i[0],l=i[1];i=n(null);var q=i[0],r=i[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(a){a!=null&&l(c("InteractionTracing").startInteraction({interactionClass:"fluid",qplEvent:c("qpl")._(27465367,"758"),tracePolicy:"polaris.post_fast."+a.toLowerCase(),traceType:"INTERACTION"})),r(a)},e[0]=i):i=e[0];var s=i;e[1]!==q?(i={openModal:q,setOpenModal:s},e[1]=q,e[2]=i):i=e[2];i=i;i=i;var t=!!m(p).setOpenModal;if(t)return f;e[3]!==k||e[4]!==g||e[5]!==q||e[6]!==a?(t=q&&j.jsx(c("CometPlaceholder.react"),{fallback:o(),children:j.jsx(c("PolarisPostModalEntrypointLazy.react"),{interactionUUID:k,media:g,onClose:function(){return s(null)},openModal:q,post:a})}),e[3]=k,e[4]=g,e[5]=q,e[6]=a,e[7]=t):t=e[7];e[8]!==f||e[9]!==i||e[10]!==t?(k=j.jsxs(p.Provider,{value:i,children:[f,t]}),e[8]=f,e[9]=i,e[10]=t,e[11]=k):k=e[11];return k}function e(){return m(p).setOpenModal||c("emptyFunction")}function q(){return m(p).openModal}g.PostModalContext=a;g.useSetPostModal=e;g.useCurrentlyOpenModal=q}),98);
__d("PolarisPostModalContext_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostModalContext_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalContextImpl_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostModalContext.next.react",["CometRelay","PolarisPostModalContext.react","PolarisPostModalContext_media.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(3),e=a.children;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostModalContext_media.graphql"),a);var f;c[0]!==e||c[1]!==a?(f=j.jsx(d("PolarisPostModalContext.react").PostModalContext,{media:a,children:e},a.pk),c[0]=e,c[1]=a,c[2]=f):f=c[2];return f}g["default"]=a}),98);
__d("usePolarisIsOnPostPage",["useCurrentRouteEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h="post";function a(){var a=c("useCurrentRouteEntityKey")();a=a==null?void 0:a.entity_type;return a===h}g["default"]=a}),98);
__d("PolarisPostContext.react",["CometRelay","PolarisPostContextFragment.graphql","PolarisPostModalContext.next.react","PolarisUA","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisIsOnPostPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.useState,l=j.createContext({analyticsContext:"postPage",availableAudioTracks:[],controller:null,setAvailableAudioTracks:function(a){},setController:function(a){},setTargetAudioTrack:function(a){},shouldCapHeight:!0,targetAudioTrack:null});function a(a){var e=d("react-compiler-runtime").c(17),f=a.analyticsContext,g=a.children,i=a.currentSidecarIndex;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostContextFragment.graphql"),a);var m=c("usePolarisIsOnFeedPage")(),n=c("usePolarisIsOnPostPage")(),o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];o=k(o);var p=o[0];o=o[1];var q=k(null),r=q[0];q=q[1];var s=k(null),t=s[0];s=s[1];var u;e[1]!==m||e[2]!==n?(u=m||n&&d("PolarisUA").isMobile(),e[1]=m,e[2]=n,e[3]=u):u=e[3];e[4]!==f||e[5]!==p||e[6]!==t||e[7]!==i||e[8]!==u||e[9]!==r?(m={analyticsContext:f,availableAudioTracks:p,controller:t,currentSidecarIndex:i,setAvailableAudioTracks:o,setController:s,setTargetAudioTrack:q,shouldCapHeight:u,targetAudioTrack:r},e[4]=f,e[5]=p,e[6]=t,e[7]=i,e[8]=u,e[9]=r,e[10]=m):m=e[10];n=m;o=n;e[11]!==g||e[12]!==a?(s=j.jsx(c("PolarisPostModalContext.next.react"),{queryReference:a,children:g}),e[11]=g,e[12]=a,e[13]=s):s=e[13];e[14]!==o||e[15]!==s?(q=j.jsx(l.Provider,{value:o,children:s}),e[14]=o,e[15]=s,e[16]=q):q=e[16];return q}g.PolarisPostContext=l;g.PolarisPostContextProvider=a}),98);
__d("PolarisAudioAttributionText.react",["fbt","IGDSMetaGenAiPanoFilled24Icon.react","IGDSMiddleDot.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisClipsConstants","PolarisClipsHelpers","PolarisFastLink.react","PolarisIGCorePressable.react","PolarisLinkBuilder","PolarisPostContext.react","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=c("JSResourceForInteraction")("PolarisVideoVariantSelector.react").__setRef("PolarisAudioAttributionText.react");function a(a){var b=a.audioArtist,e=a.audioID,f=a.audioName,g=a.isMediaOwnerOriginalSound,i=a.isMutedAudio,n=a.isOverMedia;n=n===void 0?!1:n;var o=a.isOwnerPrivate,p=a.muteAudioReason,q=a.onDisabledClipsAudioAttributionClick;a=k(d("PolarisPostContext.react").PolarisPostContext);var r=a.availableAudioTracks,s=a.controller,t=a.targetAudioTrack,u=c("gkx")("7221")&&r.some(function(a){return a.lang!==null&&a.role==="dub"})&&s!=null;a=c("useCometLazyDialog")(m);var v=a[0],w=a[1];l(function(){u&&w()},[v,w,u]);if(!d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:b,audioName:f,isMediaOwnerOriginalSound:g}))return null;if(u&&s!=null){a=h._(/*BTDS*/"Traducci\u00f3n con Meta AI");a=j.jsxs("div",{style:{alignItems:"center",display:"flex"},children:[g===!0?j.jsx("div",{style:{paddingRight:6},children:j.jsx(c("IGDSMetaGenAiPanoFilled24Icon.react"),{alt:a,size:12})}):null,j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:n?"textOnMedia":"primaryText",children:g===!0?j.jsx("span",{children:a}):j.jsxs("span",{children:[b,j.jsx(c("IGDSMiddleDot.react"),{color:n?"textOnMedia":"primaryText"}),a]})})]});var x=function(){v({availableAudioTracks:r,controller:s,targetAudioTrack:t})};return j.jsx(c("PolarisIGCorePressable.react"),{onPress:x,children:a})}x=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:n?"textOnMedia":"primaryText",zeroMargin:!0,children:j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xh8yej3"},{"data-testid":void 0,children:g===!0?j.jsx("span",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft"},{children:f})):j.jsxs("span",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft"},{children:[b,j.jsx(c("IGDSMiddleDot.react"),{color:n?"textOnMedia":"primaryText"}),f]}))}))});var y=g===!0&&o===!0;a=function(){q&&q(y?d("PolarisClipsConstants").AUDIO_PAGE_DOES_NOT_EXIST_PRIVATE_USER:String(p))};return e!=null?y||i?j.jsx(c("PolarisIGCorePressable.react"),{onPress:a,children:x}):j.jsx(c("PolarisFastLink.react"),{className:"xh8yej3",href:d("PolarisLinkBuilder").buildClipsAudioPageLink(e),children:x}):x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisBoostMultiBoostStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._(/*BTDS*/"_j{\"post\":\"Actualmente tienes un anuncio activo para esta publicaci\\u00f3n\",\"story\":\"Actualmente tienes un anuncio activo para esta historia\",\"reel\":\"Actualmente tienes un anuncio activo para este reel\"}",[h._enum(a,{post:"post",story:"story",reel:"reel"})])}function b(a){return h._(/*BTDS*/"_j{\"post\":\"Repite la promoci\\u00f3n con una nueva configuraci\\u00f3n y compara tus anuncios. Puedes poner en circulaci\\u00f3n varios anuncios para esta publicaci\\u00f3n al mismo tiempo.\",\"story\":\"Repite la promoci\\u00f3n con una nueva configuraci\\u00f3n y compara tus anuncios. Puedes poner en circulaci\\u00f3n varios anuncios para esta historia al mismo tiempo.\",\"reel\":\"Repite la promoci\\u00f3n con una nueva configuraci\\u00f3n y compara tus anuncios. Puedes poner en circulaci\\u00f3n varios anuncios para este reel al mismo tiempo.\"}",[h._enum(a,{post:"post",story:"story",reel:"reel"})])}c=h._(/*BTDS*/"Pon otro anuncio en circulaci\u00f3n a la vez y compara su rendimiento.");d=h._(/*BTDS*/"Ver el estado del anuncios en las herramientas de anuncios");e=h._(/*BTDS*/"Esta publicaci\u00f3n est\u00e1 promocionada.");f=h._(/*BTDS*/"Tienes un anuncio en pausa para esta publicaci\u00f3n.");var i=h._(/*BTDS*/"Ir a las herramientas de anuncios");g.getMultiBoostBannerTitleV2=a;g.getMultiBoostNUXSubtitle=b;g.MULTI_BOOST_BANNER_SUBTITLE=c;g.MULTI_BOOST_AD_TOOLS_LINK=d;g.MULTI_BOOST_ABOVE_FOOTER_TITLE=e;g.MULTI_BOOST_ABOVE_FOOTER_PAUSED_TITLE=f;g.MULTI_BOOST_ABOVE_FOOTER_ALT_ICON=i}),226);
__d("PolarisBoostMultiBoostUtils.react",["qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["PENDING","CREATING","ACTIVE","PAUSED","boosted_eligible","boosted_eligible_paused"],i=["clips_has_music_with_copyright","story_has_music_with_copyright","carousel_or_image_eligible_by_music_selection"];function a(a,b){return!h.includes(a)||i.includes(b)?!1:c("qex")._("3128")===!0}g.isEligibleForMultiBoostWebWithinBoostFlow=a}),98);
__d("PolarisClickEventLoggerProvider.react",["InstagramMediaMetricsFalcoEvent","InstagramWebAdEventsAuditFalcoEvent","PolarisClickEventLoggerContext.react","PolarisContainerModuleUtils","polarisOnlyHandleSingleClick","react","react-compiler-runtime","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(a,b,c,d,e,f){k(a,b,c,d,e,f)});function k(a,b,d,e,f,g){var h={dest_uri:a,event_trace_id:e!=null?e:c("uuidv4")(),gesture_type:f,pigeon_reserved_keyword_module:g,tracking:d,tracking_nodes:b};a=b.some(function(a){return a.type===10||a.type===69});if(a&&d.length>0&&d[0]!=null){var i=JSON.parse(d[0]);c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:i.tracking_token,event:"media_metrics_profile"}})}c("InstagramMediaMetricsFalcoEvent").logImmediately(function(){return h})}function a(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.ignoreDoubleClick;var f=a===void 0?!1:a;a=c("usePolarisAnalyticsContext")();var g;b[0]!==a?(g=d("PolarisContainerModuleUtils").getContainerModule(a),b[0]=a,b[1]=g):g=b[1];var h=g;b[2]!==h||b[3]!==f?(a=function(a,b,c,d,e){f?j(a,b,c,d,e,h):k(a,b,c,d,e,h)},b[2]=h,b[3]=f,b[4]=a):a=b[4];g=a;b[5]!==e||b[6]!==g?(a=i.jsx(c("PolarisClickEventLoggerContext.react").Provider,{value:g,children:e}),b[5]=e,b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("PolarisStoriesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";f=h._(/*BTDS*/"Tu historia");var i=h._(/*BTDS*/"Historias"),j=h._(/*BTDS*/"Toca para reproducir");function a(a){return h._(/*BTDS*/"\u00bfVer como {story viewer username}?",[h._param("story viewer username",a)])}function b(a){return h._(/*BTDS*/"{story owner username} sabr\u00e1 que has visto su historia.",[h._param("story owner username",a)])}var k=h._(/*BTDS*/"Ver historia"),l=h._(/*BTDS*/"Mejores amigos"),m=h._(/*BTDS*/"Solo mejores amigos");function c(a){return h._(/*BTDS*/"Solo las personas que {story owner username} ha a\u00f1adido a su lista de mejores amigos pueden ver la foto.",[h._param("story owner username",a)])}function d(a){return h._(/*BTDS*/"Solo las personas que {story owner username} ha a\u00f1adido a esta lista de mejores amigos pueden ver el v\u00eddeo.",[h._param("story owner username",a)])}var n=h._(/*BTDS*/"HISTORIA EXCLUSIVA"),o=h._(/*BTDS*/"Solo suscriptores");function e(a){return h._(/*BTDS*/"Solo los suscriptores de {story owner username} pueden ver esta historia.",[h._param("story owner username",a)])}var p=h._(/*BTDS*/"Cerrar"),q=h._(/*BTDS*/"Esta historia ya no est\u00e1 disponible");g.YOUR_STORY_TEXT=f;g.STORIES_TEXT=i;g.TAP_TO_PLAY_TEXT=j;g.viewStoryTitleText=a;g.viewStorySubtitleText=b;g.VIEW_STORY=k;g.CLOSE_FRIENDS=l;g.CLOSE_FRIENDS_ONLY=m;g.CLOSE_FRIENDS_INFO_PHOTO=c;g.CLOSE_FRIENDS_INFO_VIDEO=d;g.EXCLUSIVE_STORY=n;g.EXCLUSIVE_STORY_ONLY=o;g.EXCLUSIVE_STORY_INFO=e;g.ALT_TEXT_CLOSE_ICON=p;g.STORY_EXPIRED_TEXT=q}),226);
__d("PolarisCloseFriendsLabel.react",["IGDSBox.react","IGDSStarPanoFilledIcon.react","IGDSTextVariants.react","PolarisIGCoreButton.react","PolarisStoriesStrings","PolarisWebStorage","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState,m="close_friends_expanded_count";function a(a){var b=d("react-compiler-runtime").c(23),e=a.onClick;a=a.textSize;a=a===void 0?"small":a;var f,g;if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){var h;f=c("PolarisWebStorage").getLocalStorage();g=parseInt;h=(h=(h=f)==null?void 0:h.getItem(m))!=null?h:0;b[0]=f;b[1]=g;b[2]=h}else f=b[0],g=b[1],h=b[2];var n=g(h,10);g=l(!1);var o=g[0],p=g[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return n<3},b[3]=h):h=b[3];g=l(h);h=g[0];var q=g[1],r=k(null);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){p(!0),q(!0),window.clearTimeout(r.current)},b[4]=g):g=b[4];g=g;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){p(!1)},b[5]=s):s=b[5];s=s;var t,u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){var a,b=n+1;(a=f)==null?void 0:a.setItem(m,String(b))},u=[n,f],b[6]=t,b[7]=u):(t=b[6],u=b[7]);j(t,u);b[8]!==o?(t=function(){r.current=window.setTimeout(function(){o||q(!1)},1500)},u=[o],b[8]=o,b[9]=u,b[10]=t):(u=b[9],t=b[10]);j(t,u);b[11]!==a?(t=a==="small"?i.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:d("PolarisStoriesStrings").CLOSE_FRIENDS}),b[11]=a,b[12]=t):t=b[12];u=t;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1wyv8x2 xjwep3j x1t39747 x1wcsgtt x1pczhz8"},b[13]=a):a=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(t=i.jsx(c("IGDSStarPanoFilledIcon.react"),{alt:"Close Friends Icon",color:"web-always-white",size:12}),b[14]=t):t=b[14];var v;b[15]!==h||b[16]!==u?(v=h&&i.jsx("span",babelHelpers["extends"]({className:"xwklpps"},{children:u})),b[15]=h,b[16]=u,b[17]=v):v=b[17];b[18]!==v?(h=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:"100%",paddingX:2,paddingY:2,position:"relative",width:"100%",children:[t,v]})})),b[18]=v,b[19]=h):h=b[19];b[20]!==e||b[21]!==h?(u=i.jsx("div",{onMouseEnter:g,onMouseLeave:s,children:i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:h})}),b[20]=e,b[21]=h,b[22]=u):u=b[22];return u}g["default"]=a}),98);
__d("PolarisCoauthorSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisFollowButtonContainer.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisLogAction","qex","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(4);a=a.user;var e;b[0]!==a.id||b[1]!==a.relationship||b[2]!==a.username?(e=i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:"UNKNOWN__POLARIS_USER_BUTTON_SECTION",borderless:!1,isFollowing:a.relationship,isInline:!0,userId:a.id,username:a.username,useSmallText:!1}),b[0]=a.id,b[1]=a.relationship,b[2]=a.username,b[3]=e):e=b[3];return e}function k(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function l(a){var b=d("react-compiler-runtime").c(2);a=a.user;a=a.fullName;if(a==null)return null;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:a})}),b[0]=a,b[1]=e):e=b[1];return e}function m(a){var b,e=d("react-compiler-runtime").c(28),f=a.onClick;a=a.user;var g=a.profilePictureUrl,h=a.username;b=((b=c("usePolarisViewer")())==null?void 0:b.id)===a.id;var m;e[0]!==b||e[1]!==a?(m=!b&&c("qex")._("384")?i.jsx(j,{user:a}):null,e[0]=b,e[1]=a,e[2]=m):m=e[2];e[3]!==g||e[4]!==h?(b=i.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),e[3]=g,e[4]=h,e[5]=b):b=e[5];e[6]!==f?(g=function(){f()},e[6]=f,e[7]=g):g=e[7];var n;e[8]!==h?(n=d("PolarisLinkBuilder").buildUserLink(h),e[8]=h,e[9]=n):n=e[9];var o;e[10]!==a?(o=i.jsx(l,{user:a}),e[10]=a,e[11]=o):o=e[11];var p;e[12]!==n||e[13]!==o?(p=i.jsx(c("PolarisFastLink.react"),{href:n,children:o}),e[12]=n,e[13]=o,e[14]=p):p=e[14];e[15]!==h?(n=d("PolarisLinkBuilder").buildUserLink(h),e[15]=h,e[16]=n):n=e[16];e[17]!==a?(o=i.jsx(k,{user:a}),e[17]=a,e[18]=o):o=e[18];e[19]!==n||e[20]!==o?(h=i.jsx(c("PolarisFastLink.react"),{href:n,children:o}),e[19]=n,e[20]=o,e[21]=h):h=e[21];e[22]!==m||e[23]!==b||e[24]!==g||e[25]!==p||e[26]!==h?(a=i.jsx(c("IGDSListItem.react"),{addOnEnd:m,addOnStart:b,onPress:g,subtitle:p,testid:void 0,title:h}),e[22]=m,e[23]=b,e[24]=g,e[25]=p,e[26]=h,e[27]=a):a=e[27];return a}function n(a){var b=d("react-compiler-runtime").c(6),e=a.coauthors,f=a.mediaId;a=a.mediaOwner;var g;b[0]!==f?(g=function(){c("polarisLogAction")("coauthorSheetItemClick",{mediaId:f,source:"CoauthorSheetItems"})},b[0]=f,b[1]=g):g=b[1];var h=g;if(b[2]!==e||b[3]!==h||b[4]!==a){g=[].concat(e);g.unshift(a);g=g.map(function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(m,{onClick:h,user:a},a.id)});b[2]=e;b[3]=h;b[4]=a;b[5]=g}else g=b[5];return g}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("coauthorSheetImpression",{mediaId:this.props.mediaId,numCoauthors:this.props.coauthors.length,source:"CoauthorSheet"})};e.render=function(){var a=this.props,b=a.coauthors,e=a.mediaId,f=a.mediaOwner,g=a.onClose;a=a.title;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:g,title:a,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(n,{coauthors:b,mediaId:e,mediaOwner:f})})})};return b}(i.PureComponent);g.Username=k;g.CoauthorSheetItem=m;g.CoauthorSheetItems=n;g.CoauthorSheet=a}),98);
__d("PolarisCoauthorCountWithSheet.react",["fbt","IGDSTextVariants.react","PolarisCoauthorSheet.react","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Colaboradores");function l(a){return h._(/*BTDS*/"{num_coauthors} personas m\u00e1s",[h._param("num_coauthors",a)])}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={isCoauthorSheetOpen:!1},b.$1=function(){b.props.onClick!=null&&b.props.onClick(),b.props.disableSheet!==!0&&b.setState({isCoauthorSheetOpen:!0})},b.$2=function(){b.setState({isCoauthorSheetOpen:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisFastLink.react"),{onClick:this.$1,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryText",children:l(this.props.coauthors.length)})}),this.state.isCoauthorSheetOpen&&j.jsx(d("PolarisCoauthorSheet.react").CoauthorSheet,{coauthors:this.props.coauthors,mediaId:this.props.mediaId,mediaOwner:this.props.mediaOwner,onClose:this.$2,title:k})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisCommentButton.react",["fbt","IGDSCommentPanoOutlineIcon.react","IGDSIconButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Comentar");function a(a){var b=d("react-compiler-runtime").c(11),e=a.className,f=a["data-testid"],g=a.onClick;a=a.onHoverStart;var h;b[0]!==g?(h=function(a){a.preventDefault(),g(a)},b[0]=g,b[1]=h):h=b[1];h=h;var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:k,color:"ig-secondary-text",size:24}),b[2]=i):i=b[2];var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:k,color:"ig-primary-text",size:24}),b[3]=l):l=b[3];b[4]!==h||b[5]!==a?(i=j.jsx(c("IGDSIconButton.react"),{hover:i,onClick:h,onHoverStart:a,children:l}),b[4]=h,b[5]=a,b[6]=i):i=b[6];b[7]!==e||b[8]!==f||b[9]!==i?(l=j.jsx("span",{className:e,"data-testid":void 0,children:i}),b[7]=e,b[8]=f,b[9]=i,b[10]=l):l=b[10];return l}g["default"]=a}),226);
__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon.react","IGDSText.react","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisReactRedux.react","react","react-compiler-runtime","usePartialViewImpression","usePolarisLocalStorageState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(4),e;b[0]!==a?(e=function(){a()},b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e?(f={onImpressionStart:e},b[2]=e,b[3]=f):f=b[3];return c("usePartialViewImpression")(f)}function a(a){var b=d("react-compiler-runtime").c(30),e=a.onClick,f=a.postId;a=a.xstyle;var g=d("PolarisReactRedux.react").useDispatch(),i=l(!1),p=i[0],q=i[1];i=l(!1);var r=i[0],s=i[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){return s(!0)},b[0]=i):i=b[0];i=n(i);var t=d("usePolarisLocalStorageState").useLocalStorageState("covered_comments_nux_counter",0),u=t[0],v=t[1],w;b[1]!==u?(t=function(){u<=2&&q(!0)},w=[u],b[1]=u,b[2]=t,b[3]=w):(t=b[2],w=b[3]);k(t,w);b[4]!==f||b[5]!==v||b[6]!==r||b[7]!==p?(t=function(){r&&(v(o),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_cta_impression"}}),p&&c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_nux_impression"}}))},b[4]=f,b[5]=v,b[6]=r,b[7]=p,b[8]=t):t=b[8];b[9]!==g||b[10]!==f||b[11]!==v||b[12]!==r||b[13]!==p?(w=[r,g,f,p,v],b[9]=g,b[10]=f,b[11]=v,b[12]=r,b[13]=p,b[14]=w):w=b[14];k(t,w);b[15]!==e||b[16]!==f||b[17]!==p?(g=function(){c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",media_id:f,step:p?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}}),e()},b[15]=e,b[16]=f,b[17]=p,b[18]=g):g=b[18];t=g;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:h._(/*BTDS*/"Ver comentarios ocultos"),color:"ig-secondary-text",size:15}),b[19]=w):w=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:h._(/*BTDS*/"Ver comentarios ocultos")}),b[20]=g):g=b[20];b[21]!==t?(w=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[w,j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("BaseButton.react"),{onClick:t,xstyle:m.viewHiddenCommentsButton,children:g})})]}),b[21]=t,b[22]=w):w=b[22];b[23]!==p?(g=p&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:h._(/*BTDS*/"Estos comentarios se han ocultado porque pueden ser enga\u00f1osos, resultar ofensivos o contener spam. Aun as\u00ed, las personas pueden tocar para verlos.")}),b[23]=p,b[24]=g):g=b[24];b[25]!==i||b[26]!==g||b[27]!==w||b[28]!==a?(t=j.jsxs(c("IGDSBox.react"),{containerRef:i,direction:"column",xstyle:a,children:[w,g]}),b[25]=i,b[26]=g,b[27]=w,b[28]=a,b[29]=t):t=b[29];return t}function o(a){return a+1}g["default"]=a}),226);
__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsState","PolarisLegacyGraphQLPaginationUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="17953756669066153",i=24,j=1;function a(){return d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return((a=a.commentLikeLists[b])!=null?a:d("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},onError:function(a,b,c){return{commentId:c,fetch:b,type:"COMMENT_LIKE_LISTS__REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.comment).edge_liked_by;return{commentId:d,count:b==null?void 0:b.count,fetch:a,pageInfo:b==null?void 0:b.page_info,type:"COMMENT_LIKE_LISTS_REQUEST_UPDATED",users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node})}},pageSize:i,pagesToPreload:j,queryId:h,queryParams:function(a){return{comment_id:a}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("PolarisCommentLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisCommentLikedByListContainer.react").__setRef("PolarisCommentLikedByListContainerLazy.react"));function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisCommentLikedByListDialog.entrypointutils",[],(function(a,b,c,d,e,f){"use strict";a=24;f.PAGE_SIZE=a}),66);
__d("PolarisCommentLikedByListDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10011809218875677"}),null);
__d("PolarisCommentLikedByListDialogQuery$Parameters",["PolarisCommentLikedByListDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisCommentLikedByListDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_media__comment_id__comment_likers_connection"]},name:"PolarisCommentLikedByListDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisCommentLikedByListDialogRoot.entrypoint",["JSResourceForInteraction","PolarisCommentLikedByListDialog.entrypointutils","PolarisCommentLikedByListDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisCommentLikedByListDialogQuery:{options:{},parameters:c("PolarisCommentLikedByListDialogQuery$Parameters"),variables:{comment_id:a.routeProps.commentId,first:d("PolarisCommentLikedByListDialog.entrypointutils").PAGE_SIZE}}}}},root:c("JSResourceForInteraction")("PolarisCommentLikedByListDialogRoot.react").__setRef("PolarisCommentLikedByListDialogRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCommentsSectionText.react",["IGDSBox.react","IGDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.commentsDivider,f=a.marginStart;a=a.text;var g;b[0]!==a?(g=i.jsx(c("IGDSText.react"),{color:"secondaryText",children:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=i.jsx(c("IGDSBox.react"),{marginBottom:5,marginStart:f,marginTop:2,children:g}),b[2]=f,b[3]=g,b[4]=a):a=b[4];f=e!=null&&e;b[5]!==a||b[6]!==f?(g=i.jsxs(c("IGDSBox.react"),{marginBottom:1,children:[a,f]}),b[5]=a,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("PolarisCommentsSortContext.react",["PolarisSortCommentsUtil","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({commentsSortOrder:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP,isImmersiveViewer:!1,setCommentsSortOrder:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(7),c=a.children,e=a.commentsSortOrder,f=a.isImmersiveViewer;a=a.setCommentsSortOrder;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={commentsSortOrder:e,isImmersiveViewer:f,setCommentsSortOrder:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;f=e;b[4]!==c||b[5]!==f?(a=i.jsx(j.Provider,{value:f,children:c}),b[4]=c,b[5]=f,b[6]=a):a=b[6];return a}g.PolarisCommentsSortContext=j;g.PolarisCommentsSortContextProvider=a}),98);
__d("PolarisCommentsStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Ocultado por Instagram");g.COVERED_COMMENTS=a}),226);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){return a!=null?a.sendTextMessage(c,d,e,f,h):(g||(g=b("Promise"))).reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisEligibleForCommissionUnit.react",["fbt","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={root:{color:"x5n08af",fontSize:"x1pg5gke",lineHeight:"x152skdk",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.xstyle;var e;b[0]!==a?(e=(i||(i=c("stylex"))).props(l.root,a),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cumple los requisitos para recibir comisi\u00f3n"),b[2]=a):a=b[2];b[3]!==e?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:a})),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("PolarisFacepile.next.react",["CometErrorBoundary.react","CometPressable.react","IGDSBox.react","IGDSConstants","Locale","PolarisUserAvatar.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={avatar:{boxSizing:"x1afcbsf",$$css:!0},avatarContainer:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},opaqueBorder:{borderTopColor:"x1yhmmig",borderInlineEndColor:"xpcrz0c",borderBottomColor:"xyb01ml",borderInlineStartColor:"x1vpptxl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0},overlapRight:{marginInlineEnd:"xv9t0rm",$$css:!0},transparentBorder:{backgroundColor:"x1k74hu9",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.avatarSize,f=a.border,g=a.onClick,h=a.userProfilePicUrls;a=e===void 0?"extraSmall":e;var l=f===void 0?"opaque":f;if(h.length===0)return null;var m=c("IGDSConstants").AVATAR_SIZES[a];if(b[0]!==m||b[1]!==l||b[2]!==g||b[3]!==h){b[5]!==m||b[6]!==l||b[7]!==g||b[8]!==h.length?(e=function(a,b){var d={height:m+"px",order:String(c("Locale").isRTL()?b+1:h.length-(b+1)),width:m+"px"};return i.jsx(c("CometPressable.react"),{onPress:g,style:d,xstyle:[j.avatarContainer,b>0&&j.overlapRight],children:i.jsx(c("CometErrorBoundary.react"),{fallback:k,children:i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:m,xstyle:[j.avatar,l==="opaque"&&j.opaqueBorder,l==="transparent"&&j.transparentBorder]})})},a)},b[5]=m,b[6]=l,b[7]=g,b[8]=h.length,b[9]=e):e=b[9];f=[].concat(h).reverse().map(e);b[0]=m;b[1]=l;b[2]=g;b[3]=h;b[4]=f}else f=b[4];b[10]!==f?(a=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"end",children:f}),b[10]=f,b[11]=a):a=b[11];return a}function k(a){return null}g["default"]=a}),98);
__d("PolarisFeedCardProvider.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({isCaptionMoreClicked:!1,isCarouselCardVisible:!1,isMediaRendered:null,setIsCaptionMoreClicked:c("emptyFunction"),setIsCarouselCardVisible:c("emptyFunction"),setIsMediaRendered:null});function a(a){var b=d("react-compiler-runtime").c(7);a=a.children;var c=j(null),e=c[0];c=c[1];var f=j(!1),g=f[0];f=f[1];var h=j(!0),l=h[0];h=h[1];b[0]!==g||b[1]!==l||b[2]!==e?(f={isCaptionMoreClicked:g,isCarouselCardVisible:l,isMediaRendered:e,setIsCaptionMoreClicked:f,setIsCarouselCardVisible:h,setIsMediaRendered:c},b[0]=g,b[1]=l,b[2]=e,b[3]=f):f=b[3];h=f;c=h;b[4]!==a||b[5]!==c?(g=i.jsx(k.Provider,{value:c,children:a}),b[4]=a,b[5]=c,b[6]=g):g=b[6];return g}g.PolarisFeedCardContext=k;g.PolarisFeedCardProvider=a}),98);
__d("PolarisFeedLikeHeart.react",["PolarisInteractionsStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("title",{children:d("PolarisInteractionsStrings").LIKE_TEXT}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("svg",{"aria-label":d("PolarisInteractionsStrings").LIKE_TEXT,viewBox:"0 0 48 48",width:128,children:[b,i.jsx("defs",{children:i.jsxs("linearGradient",{gradientTransform:"rotate(35)",id:"ig_heart_gradient",children:[i.jsx("stop",{offset:"0%",stopColor:"#FF7A00"}),i.jsx("stop",{offset:"40%",stopColor:"#FF0169"}),i.jsx("stop",{offset:"100%",stopColor:"#D300C5"})]})}),i.jsx("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z",fill:"url(#ig_heart_gradient)"})]}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("PolarisFollowChainingListPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={cardHeight:196,cardWidth:152},k=263,l={card:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxSizing:"x9f619",marginInlineEnd:"x2fvf9",$$css:!0},cardContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x123j3cw",$$css:!0},cardGlimmer:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x1p19avt",width:"x1ozfbi4",$$css:!0},container:{paddingBottom:"xx6bls6",$$css:!0},seeAllGlimmer:{height:"x1qx5ct2",width:"x1247r65",$$css:!0},startingContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,width:"xh8yej3",$$css:!0},titleGlimmer:{height:"x1qx5ct2",width:"xrostsh",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(c("IGDSBox.react"),{xstyle:l.startingContainer,children:[i.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:l.titleGlimmer}),i.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:l.seeAllGlimmer})]}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(c("IGDSBox.react"),{height:k,xstyle:l.container,children:[b,i.jsx(c("IGDSBox.react"),{xstyle:l.cardContainer,children:[2,3,4].map(m)})]}),a[1]=b):b=a[1];return b}function m(a){return i.jsx(c("IGDSBox.react"),{alignItems:"center",height:j.cardHeight,position:"relative",width:j.cardWidth,xstyle:l.card,children:i.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:l.cardGlimmer})},a)}m.displayName=m.name+" [from "+f.id+"]";g.PolarisFollowChainingListPlaceholder=a}),98);
__d("PolarisInvitedCoauthorsSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function k(a){var b=d("react-compiler-runtime").c(2);a=a.user;a=a.fullName;if(a==null)return null;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:a})}),b[0]=a,b[1]=e):e=b[1];return e}function l(a){var b=d("react-compiler-runtime").c(29),e=a.onClick;a=a.user;var f=a.profilePictureUrl,g=a.username,h;b[0]!==f||b[1]!==g?(h=i.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:f,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:g}),b[0]=f,b[1]=g,b[2]=h):h=b[2];b[3]!==g?(f=d("PolarisLinkBuilder").buildUserLink(g),b[3]=g,b[4]=f):f=b[4];var l;b[5]!==f?(l={url:f},b[5]=f,b[6]=l):l=b[6];b[7]!==e?(f=function(){e()},b[7]=e,b[8]=f):f=b[8];var m;b[9]!==g?(m=d("PolarisLinkBuilder").buildUserLink(g),b[9]=g,b[10]=m):m=b[10];var n;b[11]!==a?(n=i.jsx(k,{user:a}),b[11]=a,b[12]=n):n=b[12];var o;b[13]!==m||b[14]!==n?(o=i.jsx(c("PolarisFastLink.react"),{href:m,children:n}),b[13]=m,b[14]=n,b[15]=o):o=b[15];b[16]!==g?(m=d("PolarisLinkBuilder").buildUserLink(g),b[16]=g,b[17]=m):m=b[17];b[18]!==a?(n=i.jsx(j,{user:a}),b[18]=a,b[19]=n):n=b[19];b[20]!==m||b[21]!==n?(g=i.jsx(c("PolarisFastLink.react"),{href:m,children:n}),b[20]=m,b[21]=n,b[22]=g):g=b[22];b[23]!==h||b[24]!==g||b[25]!==l||b[26]!==f||b[27]!==o?(a=i.jsx(c("IGDSListItem.react"),{addOnStart:h,linkProps:l,onPress:f,subtitle:o,title:g}),b[23]=h,b[24]=g,b[25]=l,b[26]=f,b[27]=o,b[28]=a):a=b[28];return a}function m(a){var b=d("react-compiler-runtime").c(5),e=a.invitedCoauthors,f=a.mediaId;b[0]!==f?(a=function(){c("polarisLogAction")("invitedCoauthorsSheetItemClick",{mediaId:f,source:"InvitedCoauthorsSheetItems"})},b[0]=f,b[1]=a):a=b[1];var g=a;if(b[2]!==g||b[3]!==e){a=[].concat(e);a=a.map(function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(l,{onClick:g,user:a},a.id)});b[2]=g;b[3]=e;b[4]=a}else a=b[4];return a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("invitedCoauthorsSheetImpression",{mediaId:this.props.mediaId,numCoauthors:this.props.invitedCoauthors.length,source:"InvitedCoauthorsSheet"})};e.render=function(){var a=this.props,b=a.invitedCoauthors,e=a.mediaId,f=a.onClose;a=a.title;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:f,title:a,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(m,{invitedCoauthors:b,mediaId:e})})})};return b}(i.PureComponent);g.Username=j;g.InvitedCoauthorsSheetItem=l;g.InvitedCoauthorsSheetItems=m;g.InvitedCoauthorsSheet=a}),98);
__d("PolarisInvitedCoauthorsCountWithSheet.react",["fbt","IGDSTextVariants.react","PolarisFastLink.react","PolarisInvitedCoauthorsSheet.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Esperando respuesta");function l(a){return h._(/*BTDS*/"{num_coauthors} personas m\u00e1s",[h._param("num_coauthors",a)])}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={isCoauthorSheetOpen:!1},b.$1=function(){b.props.onClick!=null&&b.props.onClick(),b.props.disableSheet!==!0&&b.setState({isCoauthorSheetOpen:!0})},b.$2=function(){b.setState({isCoauthorSheetOpen:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisFastLink.react"),{onClick:this.$1,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryText",children:l(this.props.coauthors.length-1)})}),this.state.isCoauthorSheetOpen&&j.jsx(d("PolarisInvitedCoauthorsSheet.react").InvitedCoauthorsSheet,{invitedCoauthors:this.props.coauthors,mediaId:this.props.mediaId,onClose:this.$2,title:k})]})};return b}(j.PureComponent);g["default"]=a}),226);
__d("PolarisLikeAnimation.react",["cx","PolarisFeedLikeHeart.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=30,l=-30;function a(a){var b=d("react-compiler-runtime").c(1);a=a.likeEventCount;var e=Math.floor(Math.random()*(k-l+1))+l;if(a>0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{className:"_aa7p",children:j.jsx("span",{className:"x1q3qbx4 xqz12i x4hg4is x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xdj266r x11t971q xat24cr xvc5jky xg01cxk xexx8yu xyri2b x18d9i69 x1c1uobl x47corl x1f85oc2 x11njtxf x1q1rmc8",style:{"--random-rotation-deg":e+"deg"},children:j.jsx(c("PolarisFeedLikeHeart.react"),{})})}),b[0]=a):a=b[0];return a}return null}g["default"]=a}),98);
__d("PolarisLikeButton.react",["invariant","CometVisualCompletionAttributes","IGDSHeartFilledIcon.react","IGDSHeartPanoOutlineIcon.react","IGDSIconButton.react","PolarisInteractionsStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.color;b=b===void 0?"ig-primary-icon":b;var e=a.handleClick,f=a.isHovered,g=a.isLiked,h=a.likeChangeCount,i=a.onMouseEnter,k=a.padding,l=a.setIsHovered,m=a.shadow;m=m===void 0?!1:m;a=a.size;return j.jsx(c("IGDSIconButton.react"),{hover:g?null:j.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:b==="ig-secondary-icon"?"ig-stroke":"ig-secondary-icon",shadow:m,size:a}),onClick:e,padding:k,children:j.createElement("span",babelHelpers["extends"]({},{0:{},1:{className:"x1ykxiw6 x1ahuga x4hg4is x3oybdh"}}[!!(h>0)<<0],{key:h,onMouseEnter:function(){i==null?void 0:i(),l!=null&&l(!0)},onMouseLeave:function(){l!=null&&l(!1)}}),g?j.jsx(c("IGDSHeartFilledIcon.react"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:m,size:a}):j.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:f===!0?"ig-secondary-icon":b,shadow:m,size:a}))})}k.displayName=k.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={likeChangeCount:-1,prevIsLiked:null},b.$2=function(a){a.preventDefault(),b.props.onChange(!b.props.isLiked)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}b.getDerivedStateFromProps=function(a,b){return a.isLiked!==b.prevIsLiked?{likeChangeCount:b.likeChangeCount+1,prevIsLiked:a.isLiked}:null};var d=b.prototype;d.focus=function(){this.$1||h(0,51544),this.$1.focus()};d.render=function(){var a=this.props,b=a.className,d=a.color,e=a["data-testid"];e=a.isHovered;var f=a.isLiked,g=a.onMouseEnter,h=a.padding;h=h===void 0?8:h;var i=a.setIsHovered,l=a.shadow;a=a.size;a=a===void 0?24:a;return j.jsx("span",{className:b,"data-testid":void 0,onMouseEnter:function(){g==null?void 0:g(),i!=null&&i(!0)},onMouseLeave:function(){i!=null&&i(!1)},children:j.jsx("div",babelHelpers["extends"]({className:"x1ypdohk"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsx(k,{color:d,handleClick:this.$2,isHovered:e,isLiked:f,likeChangeCount:this.state.likeChangeCount,onMouseEnter:g,padding:h!=null?h:0,shadow:l,size:a})}))})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisLikedByListActions",["FBLogger","PolarisInstapi","PolarisRelationshipActionGetRelationshipInfoForUserIds","PolarisUserModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{searchInput:b,shortcode:a,type:"LIKED_BY_LIST_SEARCH_INPUT_SET"}}function e(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{e=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/likers/",{path:{media_id:a}}));e=(e=(e=e.data.users)==null?void 0:e.map(function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()}))!=null?e:[];var f=e.map(function(a){return a.id});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(f));b({mediaId:a,type:"LIKED_BY_LIST_NATIVE_REQUEST_UPDATED",users:e})}catch(a){c("FBLogger")("ig_web").catching(a)}});return function(a,b){return e.apply(this,arguments)}}()}g.setSearchInput=a;g.requestNativeLikedByList=e}),98);
__d("PolarisLikedByListButton.react",["IGDSText.react","PolarisFastLink.react","PolarisUA","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.code,g=a.inModal,h=a.onClick;a=a.onMouseEnter;var j=c("usePolarisViewer")();f="/p/"+f+"/liked_by/";var k;b[0]!==g||b[1]!==j?(k=!j&&g!==!0||d("PolarisUA").isDesktop(),b[0]=g,b[1]=j,b[2]=k):k=b[2];b[3]!==e?(g=i.jsx(c("IGDSText.react"),{weight:"semibold",zeroMargin:!0,children:e}),b[3]=e,b[4]=g):g=b[4];b[5]!==h||b[6]!==a||b[7]!==f||b[8]!==k||b[9]!==g?(j=i.jsx(c("PolarisFastLink.react"),{href:f,onClick:h,onMouseEnter:a,shouldOpenModal:k,children:g}),b[5]=h,b[6]=a,b[7]=f,b[8]=k,b[9]=g,b[10]=j):j=b[10];return j}g["default"]=a}),98);
__d("PolarisLikedByListDialogContentWrapper.react",["IGDSBox.react","IGDSThemeConstantsHelpers","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height"),k=200;function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{flex:"grow",maxHeight:j,minHeight:k,overflow:"hidden",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g.CONTAINER_MAX_HEIGHT=j;g.CONTAINER_MIN_HEIGHT=k;g.PolarisLikedByListDialogContentWrapper=a}),98);
__d("PolarisLikedByListDialogHeader.react",["fbt","IGDSDialogHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Me gusta");function a(a){var b=d("react-compiler-runtime").c(2);a=a.onClose;var e;b[0]!==a?(e=j.jsx(c("IGDSDialogHeader.react"),{onClose:a,children:k}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("PolarisLikedByListDialogPlaceholder.react",["IGDSDialogPlaceholder.react","IGDSListItemPlaceholder.react","PolarisLikedByListDialogContentWrapper.react","PolarisLikedByListDialogHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.onClose;var e;b[0]!==a?(e=i.jsx(c("PolarisLikedByListDialogHeader.react"),{onClose:a}),b[0]=a,b[1]=e):e=b[1];var f,g,h,j;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var k;f=i.jsx(k=c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:0});g=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:1});h=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:2});j=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:3});k=i.jsx(k,{color:"elevatedHighlightBackground",fullWidth:!0,index:4});b[2]=f;b[3]=g;b[4]=h;b[5]=j;b[6]=k}else f=b[2],g=b[3],h=b[4],j=b[5],k=b[6];b[7]!==e?(f=i.jsx(d("PolarisLikedByListDialogContentWrapper.react").PolarisLikedByListDialogContentWrapper,{children:i.jsxs(i.Fragment,{children:[e,f,g,h,j,k]})}),b[7]=e,b[8]=f):f=b[8];b[9]!==a||b[10]!==f?(g=i.jsx(c("IGDSDialogPlaceholder.react"),{onClose:a,children:f}),b[9]=a,b[10]=f,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("PolarisLikedByListVariant",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Modal","Page"]);c=a;f["default"]=c}),66);
__d("PolarisLikerStringEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({INELIGIBLE:-1,EMPTY:0,NONE:1,SINGLE:2,MULTIPLE:3,NO_TOP_LIKERS:4,DAISY_OFF:5});a=function(a){switch(a){case-1:return g.INELIGIBLE;case 0:return g.EMPTY;case 1:return g.NONE;case 2:return g.SINGLE;case 3:return g.MULTIPLE;case 4:return g.NO_TOP_LIKERS;case 5:return g.DAISY_OFF;default:return g.INELIGIBLE}};f.LikerStringEnum=g;f.getLikerStringEnum=a}),66);
__d("PolarisLikedByTextDaisy.react",["fbt","IGDSText.react","InstagramODS","PolarisLikedByListButton.react","PolarisLikerStringEnum","PolarisUserLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(5);a=a.username;var e;b[0]!==a?(e=j.jsx(c("IGDSText.react"),{weight:"semibold",children:a}),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e||b[3]!==a?(f=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:a,children:e}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function l(a){var b=d("react-compiler-runtime").c(6),e=a.code,f=a.inModal,g=a.onClick;a=a.onMouseEnter;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Consulta los Me gusta"),b[0]=i):i=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a?(i=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:f,onClick:g,onMouseEnter:a,children:i}),b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}function m(a){var b=d("react-compiler-runtime").c(7),e=a.code,f=a.inModal,g=a.onClick,i=a.onMouseEnter,k=a.others;a=a.primary;var l;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==k||b[5]!==a?(l=h._(/*BTDS*/"Les gusta a {usernames} y {other users}",[h._param("usernames",a),h._param("other users",j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:f,onClick:g,onMouseEnter:i,children:k}))]),b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=k,b[5]=a,b[6]=l):l=b[6];return l}function a(a){var b=d("react-compiler-runtime").c(26),e=a.code,f=a.inModal,g=a.onClick,i=a.onMouseEnter,n=a.relayLikerStringEnum;a=a.topLikers;if(n===d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE||n===d("PolarisLikerStringEnum").LikerStringEnum.EMPTY||n===d("PolarisLikerStringEnum").LikerStringEnum.DAISY_OFF)return null;if(n===d("PolarisLikerStringEnum").LikerStringEnum.NO_TOP_LIKERS){var o;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i?(o=j.jsx(l,{code:e,inModal:f,onClick:g,onMouseEnter:i}),b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=o):o=b[4];return o}if(a==null||a.length===0){c("InstagramODS").incr("web.yis.liker_string_enum.disagreement");b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==i?(o=j.jsx(l,{code:e,inModal:f,onClick:g,onMouseEnter:i}),b[5]=e,b[6]=f,b[7]=g,b[8]=i,b[9]=o):o=b[9];return o}b[10]!==a[0]?(i=j.jsx(k,{username:a[0]}),b[10]=a[0],b[11]=i):i=b[11];o=i;if(n===d("PolarisLikerStringEnum").LikerStringEnum.NONE){b[12]!==o?(a=h._(/*BTDS*/"Le gusta a {username}",[h._param("username",o)]),b[12]=o,b[13]=a):a=b[13];return a}if(n===d("PolarisLikerStringEnum").LikerStringEnum.SINGLE){b[14]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"otra persona"),b[14]=i):i=b[14];a=i;b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==o?(i=j.jsx(m,{code:e,inModal:f,onClick:g,others:a,primary:o}),b[15]=e,b[16]=f,b[17]=g,b[18]=o,b[19]=i):i=b[19];return i}if(n===d("PolarisLikerStringEnum").LikerStringEnum.MULTIPLE){b[20]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"otras personas"),b[20]=a):a=b[20];i=a;b[21]!==e||b[22]!==f||b[23]!==g||b[24]!==o?(n=j.jsx(m,{code:e,inModal:f,onClick:g,others:i,primary:o}),b[21]=e,b[22]=f,b[23]=g,b[24]=o,b[25]=n):n=b[25];return n}return null}g["default"]=a}),226);
__d("PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24177762811807576"}),null);
__d("PolarisLikedByTextDaisyReduxQuery.graphql",["PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],c=[{kind:"Variable",name:"id",variableName:"mediaId"}],d={alias:null,args:null,kind:"ScalarField",name:"hidden_likes_string_variant",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisLikedByTextDaisyReduxQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisLikedByTextDaisyReduxQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("PolarisLikedByTextDaisyReduxQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["fetch__XDTMediaDict"]},name:"PolarisLikedByTextDaisyReduxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisLikedByTextDaisyRedux.react",["CometRelay","InstagramODS","PolarisLikedByTextDaisy.react","PolarisLikedByTextDaisyReduxQuery.graphql","PolarisLikerStringEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState;function a(a){var e=d("react-compiler-runtime").c(12),f=a.code,g=a.inModal,i=a.mediaId,m=a.onClick,n=a.onMouseEnter;a=a.topLikers;var o=d("CometRelay").useRelayEnvironment(),p=l(d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE),q=p[0],r=p[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h!==void 0?h:h=b("PolarisLikedByTextDaisyReduxQuery.graphql"),e[0]=p):p=e[0];var s=p,t;e[1]!==o||e[2]!==i?(p=function(){var a=d("CometRelay").fetchQuery(o,s,{mediaId:i},{fetchPolicy:"store-or-network"}).subscribe({next:function(a){a=d("PolarisLikerStringEnum").getLikerStringEnum(a==null?void 0:(a=a.fetch__XDTMediaDict)==null?void 0:a.hidden_likes_string_variant);a===d("PolarisLikerStringEnum").LikerStringEnum.INELIGIBLE&&c("InstagramODS").incr("web.yis.liker_string_enum.redux_ineligible");r(a)}});return function(){a.unsubscribe()}},t=[o,i,s],e[1]=o,e[2]=i,e[3]=p,e[4]=t):(p=e[3],t=e[4]);k(p,t);e[5]!==f||e[6]!==g||e[7]!==q||e[8]!==m||e[9]!==n||e[10]!==a?(p=j.jsx(c("PolarisLikedByTextDaisy.react"),{code:f,inModal:g,onClick:m,onMouseEnter:n,relayLikerStringEnum:q,topLikers:a}),e[5]=f,e[6]=g,e[7]=q,e[8]=m,e[9]=n,e[10]=a,e[11]=p):p=e[11];return p}g["default"]=a}),98);
__d("PolarisLikedByText.react",["fbt","IGDSButton.react","IGDSText.react","InstagramODS","PolarisBigNumber.react","PolarisFastLink.react","PolarisLikedByListButton.react","PolarisLikedByTextDaisy.react","PolarisLikedByTextDaisyRedux.react","PolarisLinkBuilder","PolarisPostUtils","PolarisUserLink.react","PolarisUserLinkWithHoverCard.react","gkx","justknobx","nullthrows","polarisLogAction","react","react-compiler-runtime","useCurrentRoute","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(5);a=a.user;var e=a.id,f;b[0]!==a.username?(f=c("nullthrows")(a.username),b[0]=a.username,b[1]=f):f=b[1];b[2]!==f||b[3]!==a.id?(e=j.jsx(c("PolarisUserLinkWithHoverCard.react"),{userId:e,username:f}),b[2]=f,b[3]=a.id,b[4]=e):e=b[4];return e}var l=function(){c("polarisLogAction")("likeCountClick")};function a(a){var b=d("react-compiler-runtime").c(78),e=a.code,f=a.hideCounts,g=a.inModal,i=a.mediaId,m=a.onClick,n=a.onLike,o=a.onMouseEnter,p=a.relayLikerStringEnum,q=a.topLikers,r=a.totalCount;a=a.users;var s=c("usePolarisViewer")(),t=c("useCurrentRoute")();t=t==null?void 0:t.url;var u;b[0]!==a||b[1]!==s?(u=d("PolarisPostUtils").getOrderedUsersForLikedByList(a,s),b[0]=a,b[1]=s,b[2]=u):u=b[2];u=u;var v=f&&c("gkx")("9133");if(v){if(p!=null){b[3]!==e||b[4]!==g||b[5]!==m||b[6]!==o||b[7]!==p||b[8]!==q?(v=j.jsx(c("PolarisLikedByTextDaisy.react"),{code:e,inModal:g,onClick:m,onMouseEnter:o,relayLikerStringEnum:p,topLikers:q}),b[3]=e,b[4]=g,b[5]=m,b[6]=o,b[7]=p,b[8]=q,b[9]=v):v=b[9];return v}else if(i!=null){b[10]!==e||b[11]!==g||b[12]!==i||b[13]!==m||b[14]!==o||b[15]!==q?(p=j.jsx(c("PolarisLikedByTextDaisyRedux.react"),{code:e,inModal:g,mediaId:i,onClick:m,onMouseEnter:o,topLikers:q}),b[10]=e,b[11]=g,b[12]=i,b[13]=m,b[14]=o,b[15]=q,b[16]=p):p=b[16];return p}c("InstagramODS").incr("web.yis.liker_string_enum.irretrieveable")}if(r===1){b[17]!==r?(v=h._(/*BTDS*/"{count} Me gusta",[h._param("count",r)]),b[17]=r,b[18]=v):v=b[18];i=v}else if(f){b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"otros Me gusta"),b[19]=p):p=b[19];i=p}else{b[20]!==r?(v=h._(/*BTDS*/"{count} Me gusta",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{supportSSR:c("justknobx")._("4812"),value:r}))]),b[20]=r,b[21]=v):v=b[21];i=v}p=r!==0&&a.length===0&&!f;if(p){b[22]!==e||b[23]!==g||b[24]!==i||b[25]!==m||b[26]!==o?(v=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:m,onMouseEnter:o,children:i}),b[22]=e,b[23]=g,b[24]=i,b[25]=m,b[26]=o,b[27]=v):v=b[27];return v}else if(r===0){if(s){b[28]!==n?(a=h._(/*BTDS*/"S\u00e9 el primero en {like this}",[h._param("like this",j.jsx(c("IGDSButton.react"),{display:"block",label:h._(/*BTDS*/"indicar que te gusta esto"),onClick:n,variant:"secondary_link"}))]),b[28]=n,b[29]=a):a=b[29];return a}b[30]!==t?(p=d("PolarisLinkBuilder").buildLoginLink(t,{source:"post_likers"}),b[30]=t,b[31]=p):p=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Inicia sesi\u00f3n"),b[32]=v):v=b[32];b[33]!==p?(s=j.jsx(c("PolarisFastLink.react"),{href:p,children:v}),b[33]=p,b[34]=s):s=b[34];n=s;b[35]!==n?(a=h._(/*BTDS*/"{Log in} para indicar que te gusta esto",[h._param("Log in",n)]),b[35]=n,b[36]=a):a=b[36];return a}else if(r===1&&f){if(q!=null&&q.length===1){t=q[0];b[37]!==t?(v=j.jsx(c("IGDSText.react"),{weight:"semibold",children:t}),b[37]=t,b[38]=v):v=b[38];b[39]!==t||b[40]!==v?(p=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:t,children:v}),b[39]=t,b[40]=v,b[41]=p):p=b[41];s=p;b[42]!==s?(n=h._(/*BTDS*/"Le gusta a {username}",[h._param("username",s)]),b[42]=s,b[43]=n):n=b[43];return n}else if(u.length===1){b[44]!==u[0]?(a=h._(/*BTDS*/"Le gusta a {username}",[h._param("username",j.jsx(k,{user:u[0]}))]),b[44]=u[0],b[45]=a):a=b[45];return a}}else if((u.length>=1||f&&q!=null&&q.length>=1)&&(r>=2||r===-1)){if(f)if(u.length===2&&r===2){b[46]!==u[0]?(t=j.jsx(k,{user:u[0]}),b[46]=u[0],b[47]=t):t=b[47];v=t;b[48]!==u[1]?(p=j.jsx(k,{user:u[1]}),b[48]=u[1],b[49]=p):p=b[49];s=p}else{b[50]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"personas m\u00e1s"),b[50]=n):n=b[50];a=n;b[51]!==e||b[52]!==g||b[53]!==m||b[54]!==o?(t=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:m,onMouseEnter:o,children:a}),b[51]=e,b[52]=g,b[53]=m,b[54]=o,b[55]=t):t=b[55];s=t;if(q!=null&&q.length>=1){p=q[0];b[56]!==p?(n=j.jsx(c("IGDSText.react"),{weight:"semibold",children:p}),b[56]=p,b[57]=n):n=b[57];b[58]!==p||b[59]!==n?(t=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:p,children:n}),b[58]=p,b[59]=n,b[60]=t):t=b[60];v=t}else{b[61]!==u[0]?(q=j.jsx(k,{user:u[0]}),b[61]=u[0],b[62]=q):q=b[62];v=q}}else{b[63]!==r?(p=r>2?h._(/*BTDS*/"{count} personas m\u00e1s",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:r-1}))]):h._(/*BTDS*/"una persona m\u00e1s"),b[63]=r,b[64]=p):p=b[64];a=p;b[65]!==e||b[66]!==g||b[67]!==a||b[68]!==m||b[69]!==o?(n=j.jsx(c("PolarisLikedByListButton.react"),{code:e,inModal:g,onClick:m,onMouseEnter:o,children:a}),b[65]=e,b[66]=g,b[67]=a,b[68]=m,b[69]=o,b[70]=n):n=b[70];s=n;b[71]!==u[0]?(t=j.jsx(k,{user:u[0]}),b[71]=u[0],b[72]=t):t=b[72];v=t}b[73]!==v||b[74]!==s?(q=h._(/*BTDS*/"Les gusta a {username} y {other users}",[h._param("username",v),h._param("other users",s)]),b[73]=v,b[74]=s,b[75]=q):q=b[75];return q}if(f)return null;b[76]!==i?(r=j.jsx(c("IGDSButton.react"),{display:"block",label:i,onClick:l,variant:"secondary_link"}),b[76]=i,b[77]=r):r=b[77];return r}g["default"]=a}),226);
__d("PolarisLineClampText.react",["fbt","FDSLineClamp.react","IGDSText.react","PolarisIGCorePressable.react","PolarisIGCoreText","PolarisUserText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=2,m=1e4;function a(a){var b=d("react-compiler-runtime").c(29),e,f,g,i,n,o;b[0]!==a?(i=a.lines,f=a.prependElement,e=a.color,n=a.headlineTag,o=a.value,g=babelHelpers.objectWithoutPropertiesLoose(a,["lines","prependElement","color","headlineTag","value"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=n,b[6]=o):(e=b[1],f=b[2],g=b[3],i=b[4],n=b[5],o=b[6]);a=i===void 0?l:i;i=n===void 0?"h1":n;n=k(!1);var p=n[0],q=n[1];b[7]!==e||b[8]!==i||b[9]!==g||b[10]!==o?(n=j.jsx(c("PolarisUserText.react"),babelHelpers["extends"]({},g,{color:e,display:"inline",headlineTag:i,size:"body",value:o})),b[7]=e,b[8]=i,b[9]=g,b[10]=o,b[11]=n):n=b[11];i=n;g=e==="ig-text-on-media"?"textOnMedia":"secondaryText";b[12]!==p?(o=function(){return q(!p)},b[12]=p,b[13]=o):o=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(n={display:"inline"},b[14]=n):n=b[14];a=p?m:a;var r;b[15]!==f||b[16]!==a||b[17]!==i?(r=j.jsxs(c("FDSLineClamp.react"),{lines:a,children:[f,i]}),b[15]=f,b[16]=a,b[17]=i,b[18]=r):r=b[18];b[19]!==p||b[20]!==g?(f=!p&&j.jsx(c("IGDSText.react"),{color:g,textAlign:"start",zeroMargin:!0,children:h._(/*BTDS*/"m\u00e1s")}),b[19]=p,b[20]=g,b[21]=f):f=b[21];b[22]!==o||b[23]!==r||b[24]!==f?(a=j.jsxs(c("PolarisIGCorePressable.react"),{onPress:o,style:n,children:[r,f]}),b[22]=o,b[23]=r,b[24]=f,b[25]=a):a=b[25];b[26]!==e||b[27]!==a?(i=j.jsx(c("PolarisIGCoreText"),{color:e,display:"inline",zeroMargin:!0,children:a}),b[26]=e,b[27]=a,b[28]=i):i=b[28];return i}g["default"]=a}),226);
__d("PolarisLocationLink.react",["PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.className;a=a.location;var e=(a==null?void 0:a.hasPublicPage)===!0&&!!a.id;return e?i.jsx(c("PolarisFastLink.react"),{className:b,href:d("PolarisLinkBuilder").buildLocationLink({id:(e=a.id)!=null?e:"",slug:a.slug}),children:(e=a.name)!=null?e:""}):i.jsx("span",{className:b,children:(e=a.name)!=null?e:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserTagIndicator.react",["IGDSBox.react","IGDSUserPanoFilledIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.absolute,f=a.endAndornment,g=a.onClick,h=a.onMouseEnter;a=a.visible;e=e===void 0?!1:e;a=a===void 0?!0:a;var j;b[0]!==e||b[1]!==a?(j={0:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn xg01cxk x1n2onr6 x13dflua x19991ni"},2:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn xg01cxk x13dflua x19991ni x1ey2m1c x1o0tod x10l6tqk"},1:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn x1n2onr6 x13dflua x19991ni x1hc1fzr"},3:{className:"xwepwai x12ol6y4 x180vkcf x1khw62d x709u02 x972fbf x10w94by x1qhh985 x14e42zd x1ypdohk x14vqqas xbmvrgn xod5an3 x1diwwjn x13dflua x19991ni x1ey2m1c x1o0tod x10l6tqk x1hc1fzr"}}[!!e<<1|!!a<<0],b[0]=e,b[1]=a,b[2]=j):j=b[2];e=f!=null?3:2;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("IGDSUserPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").TAG_TEXT,color:"web-always-white",size:12}),b[3]=a):a=b[3];b[4]!==f||b[5]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",paddingX:e,paddingY:2,position:"relative",children:[a,f]}),b[4]=f,b[5]=e,b[6]=a):a=b[6];b[7]!==g||b[8]!==h||b[9]!==a?(f=i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,onMouseEnter:h,children:a}),b[7]=g,b[8]=h,b[9]=a,b[10]=f):f=b[10];b[11]!==j||b[12]!==f?(e=i.jsx("div",babelHelpers["extends"]({},j,{children:f})),b[11]=j,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),98);
__d("PolarisLoggedOutUserTagIndicator.react",["PolarisConfig","PolarisUA","PolarisUserTagIndicator.react","react","react-compiler-runtime","useCurrentRoute","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(11),e=a.onClick,f=a.onMouseEnter;a=a.visible;a=a===void 0?!0:a;var g=c("useCurrentRoute")(),h=c("usePolarisLoggedOutIntentEntryPointDialog")(),j=h[0],k=h[1],l=(h=g==null?void 0:g.url)!=null?h:"/";b[0]!==l||b[1]!==e||b[2]!==j?(g=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()?j==null?void 0:j({nextUrl:l,source:"post_tagged"}):e!=null&&e()},b[0]=l,b[1]=e,b[2]=j,b[3]=g):g=b[3];h=g;b[4]!==k||b[5]!==f?(g=function(){d("PolarisUA").isDesktop&&!d("PolarisConfig").isLoggedOutFRXEligible()?k==null?void 0:k():f!=null&&f()},b[4]=k,b[5]=f,b[6]=g):g=b[6];g=g;var m;b[7]!==h||b[8]!==g||b[9]!==a?(m=i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:h,onMouseEnter:g,visible:a}),b[7]=h,b[8]=g,b[9]=a,b[10]=m):m=b[10];return m}g["default"]=a}),98);
__d("PolarisUserTagSheet.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisLinkBuilder","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(9);a=a.user;var e=a.isVerified;a=a.username;if(a===void 0)return null;var f;b[0]!==a?(f=i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e&&i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=i.jsx(c("IGDSBox.react"),{marginStart:2,children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function k(a){var b=d("react-compiler-runtime").c(17),e=a.onClick;a=a.user;var f=a.fullName,g=a.profilePictureUrl,h=a.username,k;b[0]!==g||b[1]!==h?(k=i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:h}),b[0]=g,b[1]=h,b[2]=k):k=b[2];b[3]!==h?(g=d("PolarisLinkBuilder").buildUserLink(h),b[3]=h,b[4]=g):g=b[4];b[5]!==g?(h={url:g},b[5]=g,b[6]=h):h=b[6];b[7]!==e?(g=function(){e()},b[7]=e,b[8]=g):g=b[8];var l;b[9]!==a?(l=i.jsx(j,{user:a}),b[9]=a,b[10]=l):l=b[10];b[11]!==f||b[12]!==k||b[13]!==h||b[14]!==g||b[15]!==l?(a=i.jsx(c("IGDSListItem.react"),{addOnStart:k,linkProps:h,onPress:g,subtitle:f,testid:void 0,title:l}),b[11]=f,b[12]=k,b[13]=h,b[14]=g,b[15]=l,b[16]=a):a=b[16];return a}function l(a){var b=d("react-compiler-runtime").c(7),e=a.mediaId;a=a.usertags;var f;b[0]!==e?(f=function(){c("polarisLogAction")("userTagSheetItemClick",{mediaId:e,source:"UserTagSheetItems"})},b[0]=e,b[1]=f):f=b[1];var g=f;if(b[2]!==g||b[3]!==a){b[5]!==g?(f=function(a){a=c("nullthrows")(a);a=a.user;return i.jsx(k,{onClick:g,user:a},a.id)},b[5]=g,b[6]=f):f=b[6];f=a.map(f);b[2]=g;b[3]=a;b[4]=f}else f=b[4];return f}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("userTagSheetImpression",{mediaId:this.props.mediaId,numUsertags:this.props.usertags.length,source:"UserTagSheet"})};e.render=function(){var a=this.props,b=a.mediaId,e=a.onClose,f=a.title;a=a.usertags;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:e,title:f,children:i.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:d("PolarisUA").isMobile()?6:void 0,overflow:"auto",children:i.jsx(l,{mediaId:b,usertags:a})})})};return b}(i.PureComponent);g.Username=j;g.UserTagSheetItem=k;g.UserTagSheetItems=l;g.UserTagSheet=a}),98);
__d("PolarisUserTagIndicatorWithSheet.react",["fbt","PolarisUserTagIndicator.react","PolarisUserTagSheet.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=h._(/*BTDS*/"Etiquetados");function a(a){var b=d("react-compiler-runtime").c(14),e=a.disableSheet,f=a.mediaId,g=a.onClick,h=a.onMouseEnter;a=a.usertags;var i=k(!1),m=i[0],n=i[1];b[0]!==e||b[1]!==g?(i=function(){g==null?void 0:g(),e!==!0&&n(!0)},b[0]=e,b[1]=g,b[2]=i):i=b[2];i=i;var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){n(!1)},b[3]=o):o=b[3];o=o;var p;b[4]!==i||b[5]!==h?(p=j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:i,onMouseEnter:h}),b[4]=i,b[5]=h,b[6]=p):p=b[6];b[7]!==m||b[8]!==f||b[9]!==a?(i=m&&j.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:f,onClose:o,title:l,usertags:a}),b[7]=m,b[8]=f,b[9]=a,b[10]=i):i=b[10];b[11]!==p||b[12]!==i?(h=j.jsxs(j.Fragment,{children:[p,i]}),b[11]=p,b[12]=i,b[13]=h):h=b[13];return h}g["default"]=a}),226);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react","react-compiler-runtime","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.mediaId;a=a.usertags;var f=c("usePolarisLoggedOutIntentEntryPointDialog")(),g=f[0],h=f[1];b[0]!==g?(f=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&(g==null?void 0:g({source:"post_tagged"}))},b[0]=g,b[1]=f):f=b[1];f=f;var j;b[2]!==h?(j=function(){d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&(h==null?void 0:h())},b[2]=h,b[3]=j):j=b[3];j=j;var k;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("PolarisUA").isDesktop(),b[4]=k):k=b[4];b[5]!==f||b[6]!==j||b[7]!==e||b[8]!==a?(k=i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{disableSheet:k,mediaId:e,onClick:f,onMouseEnter:j,usertags:a}),b[5]=f,b[6]=j,b[7]=e,b[8]=a,b[9]=k):k=b[9];return k}g["default"]=a}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon.react","IGDSVolumeOffFilledIcon.react","IGDSVolumePanoFilledIcon.react","PolarisIGCoreButton.react","PolarisIGCoreToast.react","PolarisVideoConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=1500,m="web-always-white",n=12,o=16,p={iconWrapperColor:{backgroundColor:"x18l40ae",$$css:!0}},q=h._(/*BTDS*/"Activar o desactivar audio");function r(a){var b=d("react-compiler-runtime").c(25),e=a.audioState,f=a.inPlayerControls,g=a.isStoryVideo;a=a.onClick;var i=g||f===!0?o:n,k;b[0]!==i?(k={color:m,size:i},b[0]=i,b[1]=k):k=b[1];i=k;var l;bb0:switch(e){case d("PolarisVideoConstants").AUDIO_STATES.on:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Se est\u00e1 reproduciendo audio"),b[2]=k):k=b[2];b[3]!==i?(e=j.jsx(c("IGDSVolumePanoFilledIcon.react"),babelHelpers["extends"]({alt:k},i,{"data-testid":void 0})),b[3]=i,b[4]=e):e=b[4];l=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.off:b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"El audio est\u00e1 silenciado"),b[5]=k):k=b[5];b[6]!==i?(e=j.jsx(c("IGDSVolumeOffFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[6]=i,b[7]=e):e=b[7];l=e;break bb0;case d("PolarisVideoConstants").AUDIO_STATES.none:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"El v\u00eddeo no tiene audio"),b[8]=k):k=b[8];b[9]!==i?(e=j.jsx(c("IGDSVolumeNonePanoFilledIcon.react"),babelHelpers["extends"]({alt:k,"data-testid":void 0},i)),b[9]=i,b[10]=e):e=b[10];l=e}if(l==null)return null;if(g===!0){b[11]!==l||b[12]!==a?(k=j.jsx(c("IGDSIconButton.react"),{"aria-label":q,onClick:a,children:l}),b[11]=l,b[12]=a,b[13]=k):k=b[13];return k}b[14]!==f?(i=f===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{margin:3,padding:2,xstyle:p.iconWrapperColor},b[14]=f,b[15]=i):i=b[15];e=i;g=f===!0?"relative":"absolute";b[16]!==l||b[17]!==e?(k=j.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},e,{shape:"circle",children:l})),b[16]=l,b[17]=e,b[18]=k):k=b[18];b[19]!==a||b[20]!==k?(i=j.jsx(c("PolarisIGCoreButton.react"),{"aria-label":q,borderless:!0,onClick:a,children:k}),b[19]=a,b[20]=k,b[21]=i):i=b[21];b[22]!==g||b[23]!==i?(f=j.jsx(c("IGDSBox.react"),{bottom:!0,position:g,right:!0,children:i}),b[22]=g,b[23]=i,b[24]=f):f=b[24];return f}function a(a){var b=d("react-compiler-runtime").c(16),e=a.absolutePositionToast,f=a.audioState,g=a.forceMuteReason,i=a.inPlayerControls,m=a.isStoryVideo,n=a.onClick;a=e===void 0?!0:e;e=k(!1);var o=e[0],p=e[1];e=!(g==null||g==="");m=m!=null?m:!1;var q;b[0]!==f||b[1]!==n?(q=function(a){n(a),f===d("PolarisVideoConstants").AUDIO_STATES.none&&p(!0)},b[0]=f,b[1]=n,b[2]=q):q=b[2];var s;b[3]!==f||b[4]!==i||b[5]!==m||b[6]!==q?(s=j.jsx(r,{audioState:f,inPlayerControls:i,isStoryVideo:m,onClick:q}),b[3]=f,b[4]=i,b[5]=m,b[6]=q,b[7]=s):s=b[7];b[8]!==a||b[9]!==g||b[10]!==e||b[11]!==o?(i=o&&j.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:a,duration:l,onClose:function(){return p(!1)},wide:!0,children:e?String(g):h._(/*BTDS*/"El v\u00eddeo no tiene sonido")}),b[8]=a,b[9]=g,b[10]=e,b[11]=o,b[12]=i):i=b[12];b[13]!==s||b[14]!==i?(m=j.jsxs(j.Fragment,{children:[s,i]}),b[13]=s,b[14]=i,b[15]=m):m=b[15];return m}g["default"]=a}),226);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","gkx","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(33),e=a.enabled,f=a.isDefaultAudioOnEnabled,g=(i||(i=d("VideoPlayerHooks"))).useController(),h=d("PolarisVolumeControlsManager.react").useVolumeControls(),m=i.usePaused(),n=i.useMuted(),o=c("usePrevious")(n),p=i.useLastMuteReason();a=l(!1);var q=a[0],r=a[1],s=i.useVolume(),t=k(s),u;b[0]!==e||b[1]!==n||b[2]!==p||b[3]!==o||b[4]!==h?(a=function(){e&&o!=null&&o!==n&&p==="user_initiated"&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&h.setAudioState(n?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},u=[e,n,p,o,h],b[0]=e,b[1]=n,b[2]=p,b[3]=o,b[4]=h,b[5]=a,b[6]=u):(a=b[5],u=b[6]);j(a,u);b[7]!==g||b[8]!==e||b[9]!==m||b[10]!==h.audioState?(a=function(){e&&!m&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&g.setMuted(h.audioState==="off","product_initiated")},u=[e,g,m,h.audioState],b[7]=g,b[8]=e,b[9]=m,b[10]=h.audioState,b[11]=a,b[12]=u):(a=b[11],u=b[12]);j(a,u);b[13]!==e||b[14]!==q||b[15]!==f||b[16]!==n||b[17]!==h?(a=function(){e&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&n&&f&&!q&&(h.setAudioState(d("PolarisVideoConstants").AUDIO_STATES.on),r(!0))},u=[e,q,f,n,h,h.audioState],b[13]=e,b[14]=q,b[15]=f,b[16]=n,b[17]=h,b[18]=a,b[19]=u):(a=b[18],u=b[19]);j(a,u);b[20]!==e||b[21]!==p||b[22]!==s||b[23]!==h?(a=function(){c("gkx")("1764")&&e&&t.current!=null&&t.current!==s&&p==="user_initiated"&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&(t.current=s,h.setVolume(s))},u=[e,s,t,p,h],b[20]=e,b[21]=p,b[22]=s,b[23]=h,b[24]=a,b[25]=u):(a=b[24],u=b[25]);j(a,u);b[26]!==g||b[27]!==e||b[28]!==m||b[29]!==h.audioState||b[30]!==h.volume?(a=function(){c("gkx")("1764")&&h.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&e&&!m&&g.setVolume(h.volume)},u=[e,g,m,h.volume,h.audioState],b[26]=g,b[27]=e,b[28]=m,b[29]=h.audioState,b[30]=h.volume,b[31]=u,b[32]=a):(u=b[31],a=b[32]);j(a,u);return h.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisLoggedOutUtils","PolarisRoutePropUtils","PolarisUA","PolarisVideoConstants","VideoPlayerHooks","polarisGetAppPlatform","react","react-compiler-runtime","usePolarisVideoVolumeControls","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(5);a=a.noAudio;var e=c("useRouteReferrer")();e=j(d("PolarisRoutePropUtils").PolarisRoutePropContext).routePropQE.getBool("is_default_audio_on_enabled")&&d("PolarisConfig").isLoggedOutUser()&&d("PolarisUA").isMobile()&&d("PolarisLoggedOutUtils").isLoggedOutCTADismissed()&&(e==null?void 0:e.isBackgroundRoute)!==!0&&(e==null?void 0:e.navigationType)==="initial";var f=(i||(i=d("VideoPlayerHooks"))).useMuted(),g;b[0]!==e?(g=e||!d("polarisGetAppPlatform").isIOS(),b[0]=e,b[1]=g):g=b[1];g=g;var h=g&&!a,k;b[2]!==e||b[3]!==h?(k={enabled:h,isDefaultAudioOnEnabled:e},b[2]=e,b[3]=h,b[4]=k):k=b[4];e=c("usePolarisVideoVolumeControls")(k);if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!g?f?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:e}g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","react-compiler-runtime","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=(i||(i=d("VideoPlayerHooks"))).useController(),f=a.clipsMusicAttributionInfo;a=a.hasAudio;var g=a===!1||(f==null?void 0:f.should_mute_audio)===!0,h;b[0]!==g?(h={noAudio:g},b[0]=g,b[1]=h):h=b[1];var j=c("usePolarisVideoAudioState")(h);b[2]!==j||b[3]!==e?(g=function(){if(j!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=e.getCurrentState();a=a.muted;e.setMuted(!a,"user_initiated")}},b[2]=j,b[3]=e,b[4]=g):g=b[4];h=g;b[5]!==j||b[6]!==f||b[7]!==a||b[8]!==h?(g={audioState:j,clipsMusicAttributionInfo:f,hasAudio:a,toggleAudio:h},b[5]=j,b[6]=f,b[7]=a,b[8]=h,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControls.react","cr:10014","react","react-compiler-runtime","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var g=a.audioState,h=a.clipsMusicAttributionInfo;a=a.toggleAudio;h=g===d("PolarisVideoConstants").AUDIO_STATES.none?h==null?void 0:h.should_mute_audio_reason:void 0;var j;e[0]!==h||e[1]!==a?(j={forceMuteReason:h,onClick:a},e[0]=h,e[1]=a,e[2]=j):j=e[2];h=j;e[3]!==g||e[4]!==f||e[5]!==h||e[6]!==a?(j=b("cr:10014")!=null?i.jsx(b("cr:10014"),babelHelpers["extends"]({backgroundColor:"dark",className:f===!0?void 0:"x1ey2m1c xtijo5x x14vqqas xbmvrgn xod5an3 x1diwwjn x10l6tqk x1vjfegm",isDisabled:g===d("PolarisVideoConstants").AUDIO_STATES.none,size:"small"},h)):i.jsx(c("PolarisVideoVolumeControls.react"),babelHelpers["extends"]({},h,{audioState:g,inPlayerControls:f,onClick:a})),e[3]=g,e[4]=f,e[5]=h,e[6]=a,e[7]=j):j=e[7];return j}g["default"]=a}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.post,f=a.shouldUseVolumeControls;a=a.showVideoControls;if(f===!0){b[0]!==e?(f=i.jsx(c("PolarisPostVideoVolumeControls.react"),{post:e}),b[0]=e,b[1]=f):f=b[1];return f}if(a===!0){b[2]!==e?(f=i.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:i.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:e})}),b[2]=e,b[3]=f):f=b[3];a=f;b[4]!==a?(e=i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:a})}),b[4]=a,b[5]=e):e=b[5];return e}return null}g["default"]=a}),98);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(12),c=a.playButtonShowing,e=a.shouldUnmuteOnPlay,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=j.useLastMuteReason();b[0]!==f?(a=function(){f.pause("user_initiated")},b[0]=f,b[1]=a):a=b[1];a=a;var i;b[2]!==f||b[3]!==g||b[4]!==e?(i=function(){f.play("user_initiated"),e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},b[2]=f,b[3]=g,b[4]=e,b[5]=i):i=b[5];i=i;if(c){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"Reproducir v\u00eddeo"),b[6]=c):c=b[6];b[7]!==i?(c={ariaLabel:c,handler:i,overlayLabel:""},b[7]=i,b[8]=c):c=b[8];return c}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Pausar reel"),b[9]=i):i=b[9];b[10]!==a?(c={ariaLabel:i,handler:a,overlayLabel:""},b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),226);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);
__d("PolarisPostVideoPlaybackOverlay.react",["PolarisPostVideoPlayerControls.react","VideoPlayerInteractionOverlay.react","react","react-compiler-runtime","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.post,f=a.shouldShowOverlay;a=a.showVideoControls;var g=!a,h=c("usePolarisVideoShowPlayButton")()&&!f,j=!g,k;b[0]!==h||b[1]!==j?(k={playButtonShowing:h,shouldUnmuteOnPlay:j},b[0]=h,b[1]=j,b[2]=k):k=b[2];j=c("usePolarisVideoPressInteraction")(k);b[3]!==h?(k=h&&i.jsx("div",babelHelpers["extends"]({className:"xbudbmw x9uk3rv xa2bojp x10l6tqk xwa60dl"},{children:i.jsx("div",{className:"xd0fu7d xiql0sd xi9uto2 x1pqszli xdiogjw x1s7hr1v"})})),b[3]=h,b[4]=k):k=b[4];b[5]!==k||b[6]!==j?(h=i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:j,children:k}),b[5]=k,b[6]=j,b[7]=h):h=b[7];b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==a?(k=!f&&i.jsx(c("PolarisPostVideoPlayerControls.react"),{post:e,shouldUseVolumeControls:g,showVideoControls:a}),b[8]=e,b[9]=f,b[10]=g,b[11]=a,b[12]=k):k=b[12];b[13]!==h||b[14]!==k?(j=i.jsxs(i.Fragment,{children:[h,k]}),b[13]=h,b[14]=k,b[15]=j):j=b[15];return j}g["default"]=a}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisIsLoggedIn","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUserTagIndicatorWithSheet.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.analyticsContext;a=a.post;var f=a.id;a=a.usertags;if(a!=null&&a.length>0&&e!=="reelsTab"){b[0]!==f||b[1]!==a?(e=d("PolarisIsLoggedIn").isLoggedIn()?i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{mediaId:f,usertags:a}):i.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{mediaId:f,usertags:a}),b[0]=f,b[1]=a,b[2]=e):e=b[2];return e}return null}g["default"]=a}),98);
__d("usePolarisShouldFeedMediaBeFullHeight",["usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.analyticsContext;var b=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();return a==="feedPageModal"&&!b}g["default"]=a}),98);
__d("usePolarisShouldCenterCropPosterHeight",["PolarisUA","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=d("react-compiler-runtime").c(6),g=c("usePolarisIsOnFeedPage")();e=(e=b.dimensions)==null?void 0:e.height;b=(b=b.dimensions)==null?void 0:b.width;var h;f[0]!==a||f[1]!==e||f[2]!==b?(h={analyticsContext:a,height:e,width:b},f[0]=a,f[1]=e,f[2]=b,f[3]=h):h=f[3];a=c("usePolarisShouldFeedMediaBeFullHeight")(h);e=g&&!a;f[4]!==e?(b=d("PolarisUA").isMobile()||e,f[4]=e,f[5]=b):b=f[5];return b}g["default"]=a}),98);
__d("usePolarisShowVideoThumbnailAndOverlayLoggedOut",["InstagramODS","PolarisRoutePropUtils","PolarisUA","VideoPlayerHooks","react","react-compiler-runtime","useBoolean","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=c("usePolarisAnalyticsContext")(),f=(i||(i=d("VideoPlayerHooks"))).useVideoPlaybackEnded(),g=i.usePlaying(),h=l(!1),m=h[0],n=h[1];h=l(!1);var o=h[0],p=h[1];h=l(!1);var q=h[0],r=h[1];h=l(!1);var s=h[0],t=h[1],u=i.useSeeking(),v;b[0]!==g?(h=function(){g&&(n(!0),p(!1))},v=[g],b[0]=g,b[1]=h,b[2]=v):(h=b[1],v=b[2]);k(h,v);b[3]!==u?(h=function(){u&&t(!0)},v=[u],b[3]=u,b[4]=h,b[5]=v):(h=b[4],v=b[5]);k(h,v);b[6]!==m||b[7]!==a?(h=function(){m&&!a&&r(!0)},v=[m,a],b[6]=m,b[7]=a,b[8]=h,b[9]=v):(h=b[8],v=b[9]);k(h,v);b[10]!==f?(h=function(){f&&p(!0)},v=[f],b[10]=f,b[11]=h,b[12]=v):(h=b[11],v=b[12]);k(h,v);h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);bb0:{if(e==="reelsTab"){b[13]!==(h==null?void 0:h.routePropQE)?(v=h==null?void 0:h.routePropQE.getBool("show_reels_end_of_video"),b[13]=h==null?void 0:h.routePropQE,b[14]=v):v=b[14];h=v;break bb0}h=!0}var w=h,x;bb1:switch(e){case"reelsTab":case"unifiedHome":x=!1;break bb1;default:x=!0}var y=x,z=c("useBoolean")(!1);b[15]!==o||b[16]!==z||b[17]!==w||b[18]!==y||b[19]!==q?(v=function(){if(!d("PolarisUA").isMobile()||!w||z.value)return;o?(c("InstagramODS").incr("web.lox_end_of_video_upsell.impression.playback_end"),z.setTrue()):q&&y&&(c("InstagramODS").incr("web.lox_end_of_video_upsell.impression.scroll_away"),z.setTrue())},b[15]=o,b[16]=z,b[17]=w,b[18]=y,b[19]=q,b[20]=v):v=b[20];k(v,void 0);b[21]!==o||b[22]!==w||b[23]!==y||b[24]!==q?(h=d("PolarisUA").isMobile()&&(o||q&&y)&&w,b[21]=o,b[22]=w,b[23]=y,b[24]=q,b[25]=h):h=b[25];e=h;v=!m&&!s||o||e;b[26]!==e||b[27]!==v?(h=[e,v],b[26]=e,b[27]=v,b[28]=h):h=b[28];return h}g["default"]=a}),98);
__d("PolarisPostVideoPlayerLoggedOutSurface.react",["CometImage.react","PolarisPostVideoPlaybackOverlay.react","PolarisUA","PolarisVideoIndicatorIcon.react","VideoPlayerHooks","VideoPlayerSurface.react","cr:1816","react","react-compiler-runtime","usePolarisShouldCenterCropPosterHeight","usePolarisShowVideoThumbnailAndOverlayLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect,l={thumbnail:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(22),f=a.analyticsContext,g=a.isVisible,h=a.post;a=a.poster;g=g===void 0?!0:g;var m=(i||(i=d("VideoPlayerHooks"))).useController();g=c("usePolarisShowVideoThumbnailAndOverlayLoggedOut")(!!g);var n=g[0];g=g[1];var o=c("usePolarisShouldCenterCropPosterHeight")(f,h),p,q;e[0]!==m||e[1]!==n?(p=function(){n&&(m.pause("product_initiated"),m.freeze())},q=[n,m],e[0]=m,e[1]=n,e[2]=p,e[3]=q):(p=e[2],q=e[3]);k(p,q);e[4]!==o||e[5]!==h||e[6]!==a||e[7]!==g?(p=g&&h.src!=null&&j.jsx(c("CometImage.react"),{src:a!=null?a:h.src,xstyle:o||d("PolarisUA").isDesktop()?l.thumbnail:void 0}),e[4]=o,e[5]=h,e[6]=a,e[7]=g,e[8]=p):p=e[8];e[9]!==h||e[10]!==n?(q=j.jsx(c("PolarisPostVideoPlaybackOverlay.react"),{post:h,shouldShowOverlay:n,showVideoControls:!1}),e[9]=h,e[10]=n,e[11]=q):q=e[11];e[12]!==f||e[13]!==h?(o=j.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:f,post:h}),e[12]=f,e[13]=h,e[14]=o):o=e[14];e[15]!==n?(a=n&&b("cr:1816")&&j.jsx(b("cr:1816"),{}),e[15]=n,e[16]=a):a=e[16];e[17]!==p||e[18]!==q||e[19]!==o||e[20]!==a?(g=j.jsxs(c("VideoPlayerSurface.react"),{children:[p,q,o,a]}),e[17]=p,e[18]=q,e[19]=o,e[20]=a,e[21]=g):g=e[21];return g}g["default"]=a}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","react","react-compiler-runtime","usePolarisShouldCenterCropPosterHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.analyticsContext,f=a.children;a=a.post;e=c("usePolarisShouldCenterCropPosterHeight")(e,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xg10s4p x1n2onr6 xh8yej3",b[0]=e):e=b[0];a=a+"%";var g;b[1]!==a?(g={paddingBottom:a},b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xyzq4qe x5yr21d x10l6tqk xh8yej3"},b[3]=a):a=b[3];b[4]!==f?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:f})),b[4]=f,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=i.jsx("div",{className:e,style:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisLoggedOutVideo.react",["PolarisPostVideoPlayerLoggedOutSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e,f=d("react-compiler-runtime").c(32),g,h,j,k,l;f[0]!==a?(g=a.analyticsContext,h=a.post,j=a.poster,l=a.seoWebCrawlerLookasideUrl,k=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","post","poster","seoWebCrawlerLookasideUrl"]),f[0]=a,f[1]=g,f[2]=h,f[3]=j,f[4]=k,f[5]=l):(g=f[1],h=f[2],j=f[3],k=f[4],l=f[5]);if(f[6]!==h){a=(a=d("PolarisVideoHelpers").getSDVideoSrcFromPost(h))!=null?a:h.videoUrl;f[6]=h;f[7]=a}else a=f[7];a=a;var m;f[8]!==h?(m=d("PolarisVideoHelpers").getHDVideoSrcFromPost(h),f[8]=h,f[9]=m):m=f[9];m=m;var n=h.accessibilityCaption,o;f[10]!==h?(o=d("PolarisVideoHelpers").getDashInfoFromPost(h),f[10]=h,f[11]=o):o=f[11];b=(b=h.dimensions)==null?void 0:b.height;e=(e=h.dimensions)==null?void 0:e.width;l=(l=l)!=null?l:a;var p;f[12]!==g||f[13]!==h||f[14]!==j||f[15]!==k?(p=i.jsx(c("PolarisPostVideoPlayerLoggedOutSurface.react"),babelHelpers["extends"]({analyticsContext:g,post:h,poster:j},k)),f[12]=g,f[13]=h,f[14]=j,f[15]=k,f[16]=p):p=f[16];f[17]!==m||f[18]!==h.accessibilityCaption||f[19]!==h.id||f[20]!==j||f[21]!==a||f[22]!==o||f[23]!==b||f[24]!==e||f[25]!==l||f[26]!==p?(k=i.jsx(c("PolarisVideo.react"),{alt:n,autoplay:!0,dashInfo:o,hdSrc:m,loopCount:0,mediaId:h.id,originalHeight:b,originalWidth:e,poster:j,sdSrc:a,seoWebCrawlerLookasideUrl:l,children:p}),f[17]=m,f[18]=h.accessibilityCaption,f[19]=h.id,f[20]=j,f[21]=a,f[22]=o,f[23]=b,f[24]=e,f[25]=l,f[26]=p,f[27]=k):k=f[27];f[28]!==g||f[29]!==h||f[30]!==k?(n=i.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:g,post:h,children:k}),f[28]=g,f[29]=h,f[30]=k,f[31]=n):n=f[31];return n}g["default"]=a}),98);
__d("PolarisMediaOverlayCommunityNote_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayCommunityNote_media",selections:[{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"headline_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaOverlayCommunityNote",["fbt","CometPressable.react","CometRelay","IGDSBox.react","IGDSText.react","JSResourceForInteraction","PolarisMediaOverlayCommunityNote_media.graphql","PolarisMediaOverlayInfoTypes","PolarisTruncatedText.react","isStringNotNullAndNotWhitespaceOnly","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{backgroundColor:"xnz67gz",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",flexDirection:"xdt5ytf",marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",width:"xh8yej3",$$css:!0},instaOverlayGray:{backgroundColor:"xfhu54g",$$css:!0}},m=c("JSResourceForInteraction")("PolarisInformTreatmentCommunityNoteDetailsDialog.react").__setRef("PolarisMediaOverlayCommunityNote"),n=h._(/*BTDS*/"ver m\u00e1s"),o=h._(/*BTDS*/"Algunas personas han a\u00f1adido una nota de la comunidad");function a(a){var e=d("react-compiler-runtime").c(43),f=a.chracterLimit,g=a.communityNoteButtonsProp,h=a.maxLines,j=a.queryReference,q=a.showMoreText,r=a.size;a=a.useInstaOverlayGrayBackground;f=f===void 0?120:f;h=h===void 0?2:h;q=q===void 0?!0:q;a=a===void 0?!1:a;j=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaOverlayCommunityNote_media.graphql"),j);var s=c("useIGDSLazyDialog")(m),t=s[0];if(e[0]!==g||e[1]!==(j==null?void 0:(s=j.media_overlay_info)==null?void 0:s.buttons)){s=(j==null?void 0:(s=j.media_overlay_info)==null?void 0:(s=s.buttons)==null?void 0:s.find(p))||g;e[0]=g;e[1]=j==null?void 0:(g=j.media_overlay_info)==null?void 0:g.buttons;e[2]=s}else s=e[2];var u=s;if(!u)return null;if(e[3]!==u.headline_text){g=(j=u.headline_text)!=null?j:o.toString();e[3]=u.headline_text;e[4]=g}else g=e[4];var v=g;s=u.text;j=u.secondary_text;e[5]!==v||e[6]!==u.action_url||e[7]!==u.secondary_text||e[8]!==u.text||e[9]!==t?(g=function(){var a;t({body:(a=u==null?void 0:u.text)!=null?a:"",heading:v,metadata:(a=u==null?void 0:u.secondary_text)!=null?a:"",uri:(a=u==null?void 0:u.action_url)!=null?a:""})},e[5]=v,e[6]=u.action_url,e[7]=u.secondary_text,e[8]=u.text,e[9]=t,e[10]=g):g=e[10];g=g;r=r==="small"?"footnote":"body";var w=a&&l.instaOverlayGray,x;e[11]!==w?(x=[l.content,w],e[11]=w,e[12]=x):x=e[12];e[13]!==v||e[14]!==r||e[15]!==a?(w=c("isStringNotNullAndNotWhitespaceOnly")(v)&&k.jsx(c("IGDSText.react"),{color:a?"webAlwaysWhite":void 0,size:r,weight:"semibold",children:v}),e[13]=v,e[14]=r,e[15]=a,e[16]=w):w=e[16];var y;e[17]!==j||e[18]!==r||e[19]!==a?(y=c("isStringNotNullAndNotWhitespaceOnly")(j)&&k.jsx(c("IGDSText.react"),{color:a?"secondaryTextOnMedia":"secondaryText",size:r,weight:"normal",children:j}),e[17]=j,e[18]=r,e[19]=a,e[20]=y):y=e[20];e[21]!==w||e[22]!==y?(j=k.jsxs(c("IGDSBox.react"),{direction:"row",children:[w,"\xa0",y]}),e[21]=w,e[22]=y,e[23]=j):j=e[23];w=a?"web-always-white":void 0;e[24]!==q||e[25]!==r||e[26]!==a?(y=q?k.jsx(c("IGDSText.react"),{color:a?"secondaryTextOnMedia":"secondaryText",size:r,children:n}):null,e[24]=q,e[25]=r,e[26]=a,e[27]=y):y=e[27];e[28]!==s||e[29]!==f||e[30]!==h||e[31]!==w||e[32]!==y||e[33]!==r?(q=k.jsx(c("PolarisTruncatedText.react"),{color:w,isCaption:!0,limit:f,numLines:h,size:r,truncatedElem:y,value:s}),e[28]=s,e[29]=f,e[30]=h,e[31]=w,e[32]=y,e[33]=r,e[34]=q):q=e[34];e[35]!==g||e[36]!==j||e[37]!==q||e[38]!==x?(a=k.jsxs(c("CometPressable.react"),{onPress:g,xstyle:x,children:[j,q]}),e[35]=g,e[36]=j,e[37]=q,e[38]=x,e[39]=a):a=e[39];s=a;e[40]===Symbol["for"]("react.memo_cache_sentinel")?(f={width:"100%"},e[40]=f):f=e[40];e[41]!==s?(h=k.jsx("div",{style:f,children:s}),e[41]=s,e[42]=h):h=e[42];return h}function p(a){return a.button_type===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_TYPES.COMMUNITY_NOTE}g["default"]=a}),226);
__d("PolarisMediaVideo.react",["cr:6866"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6866")}),98);
__d("PolarisNoCommentsPlaceholder.react",["fbt","IGDSBox.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Todav\u00eda no hay comentarios."),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Inicia la conversaci\u00f3n."),a[1]=e):e=a[1];e=e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSBox.react"),{marginBottom:2,children:j.jsx(d("IGDSTextVariants.react").IGDSTextHeadline2,{textAlign:"center",children:b})}),a[2]=b):b=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",children:[b,j.jsx(c("IGDSBox.react"),{marginTop:2,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:e})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("PolarisPCManagerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("PolarisProfileClickEventLoggerProvider.react",["PolarisProfileClickEventLoggerContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.onProfileClick;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("PolarisProfileClickEventLoggerContext.react").Provider,{value:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("PolarisPartnershipAdAvatar.react",["IGDSBox.react","PolarisClickEventLoggerProvider.react","PolarisProfileClickEventLoggerProvider.react","PolarisSponsoredPostContext.react","PolarisUserAvatar.react","PolarisUserHoverCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b,e,f,g=d("react-compiler-runtime").c(25),h=a.firstIdentity;a=a.secondIdentity;var k=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);k=k.onSecondaryProfileClick;var l=!a.is_unpublished;b=(b=a.id)!=null?b:"";e=(e=a.username)!=null?e:"";var m=!a.is_unpublished;f=(f=a.profile_pic_url)!=null?f:"";a=(a=a.username)!=null?a:"";var n;g[0]!==m||g[1]!==f||g[2]!==a?(n=i.jsx(c("PolarisUserAvatar.react"),{isLink:m,profilePictureUrl:f,size:24,username:a}),g[0]=m,g[1]=f,g[2]=a,g[3]=n):n=g[3];g[4]!==l||g[5]!==b||g[6]!==e||g[7]!==n?(m=i.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:l,userId:b,username:e,children:n}),g[4]=l,g[5]=b,g[6]=e,g[7]=n,g[8]=m):m=g[8];g[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1qjc9v5 xvbhtw8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x11dcrhx xdj266r x14z9mp xat24cr x1lziwak x4p5aij x1ccui7m x1j85h84 x18pi947 x10l6tqk xfr5jun x11njtxf"},g[9]=f):f=g[9];a=!h.is_unpublished;b=(l=h.username)!=null?l:"";e=!h.is_unpublished;l=(n=h.profile_pic_url)!=null?n:"";n=(n=h.username)!=null?n:"";var o;g[10]!==e||g[11]!==l||g[12]!==n?(o=i.jsx(c("PolarisUserAvatar.react"),{isLink:e,profilePictureUrl:l,size:24,username:n}),g[10]=e,g[11]=l,g[12]=n,g[13]=o):o=g[13];g[14]!==h.id||g[15]!==a||g[16]!==b||g[17]!==o?(e=i.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:a,userId:h.id,username:b,children:o}),g[14]=h.id,g[15]=a,g[16]=b,g[17]=o,g[18]=e):e=g[18];g[19]!==k||g[20]!==e?(l=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",children:i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:k,children:e})})})})),g[19]=k,g[20]=e,g[21]=l):l=g[21];g[22]!==l||g[23]!==m?(n=i.jsxs(c("IGDSBox.react"),{alignItems:"end",height:32,position:"relative",width:32,children:[m,l]}),g[22]=l,g[23]=m,g[24]=n):n=g[24];return n}g["default"]=a}),98);
__d("PolarisPartnershipAdHeader.react",["cx","fbt","IGDSTextVariants.react","PolarisClickEventLoggerProvider.react","PolarisProfileClickEventLoggerProvider.react","PolarisSponsoredPostContext.react","PolarisUserHoverCard.react","PolarisUserLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=a.firstIdentity;a=a.secondIdentity;var f=l(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);f=f.onSecondaryProfileClick;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:i._(/*BTDS*/"{primary identity name} {=m2} {secondary identity name}",[i._param("primary identity name",k.jsx(c("PolarisClickEventLoggerProvider.react"),{children:k.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:f,children:k.jsx(m,{identity:e})})})),i._param("secondary identity name",k.jsx(m,{identity:a})),i._implicitParam("=m2",k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:i._(/*BTDS*/"y")}))])}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function m(a){var b=d("react-compiler-runtime").c(5);a=a.identity;var e;b[0]!==a.full_name||b[1]!==a.id||b[2]!==a.is_unpublished||b[3]!==a.username?(e=a.is_unpublished===!0?k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:k.jsx("span",{className:"_aaqs",children:a.full_name})}):k.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!a.is_unpublished,userId:a.id,username:a.username,children:k.jsx(c("PolarisUserLink.react"),{username:a.username})}),b[0]=a.full_name,b[1]=a.id,b[2]=a.is_unpublished,b[3]=a.username,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("PolarisUserTagInner.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),c=a.isPointingUp,e=a.pointerStyle;a=a.username;var f;b[0]!==c?(f={0:{className:"x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},2:{className:"x17nu0il xqm4iv x1o3jo1z xburx9h xv5lvn5 x8u93l6 x972fbf xjibb99 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},1:{className:"x1qhh985 x1o3jo1z xburx9h xv5lvn5 x8u93l6 xccvetk x1kr8tdy xdsb8wn x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"},3:{className:"x17nu0il x1qhh985 x1o3jo1z xburx9h xv5lvn5 x8u93l6 xccvetk x1kr8tdy xdsb8wn x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xqtp20y xbudbmw xw01apr x10l6tqk xnalus7"}}[!!c<<1|!!!c<<0],b[0]=c,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(c=i.jsx("div",babelHelpers["extends"]({},f,{style:e})),b[2]=e,b[3]=f,b[4]=c):c=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xdj266r xbmvrgn xat24cr x1diwwjn xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[5]=e):e=b[5];b[6]!==a?(f=i.jsx("span",babelHelpers["extends"]({},e,{children:a})),b[6]=a,b[7]=f):f=b[7];b[8]!==c||b[9]!==f?(e=i.jsxs(i.Fragment,{children:[c,f]}),b[8]=c,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("PolarisUserTag.react",["cx","PolarisFastLink.react","PolarisUserTagInner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(23),e=a.action,f=a.className,g=a.forwardedRef,h=a.isPointingUp,i=a.isShowingTags,k=a.pointerStyle,m=a.style;a=a.user;var n=l;a=a.username;if(e!=null){var o;b[0]!==e||b[1]!==h||b[2]!==k||b[3]!==a?(o=j.jsx("div",{className:"_aa1q",children:n(h,k,a,e)}),b[0]=e,b[1]=h,b[2]=k,b[3]=a,b[4]=o):o=b[4];b[5]!==f||b[6]!==g||b[7]!==m||b[8]!==o?(e=j.jsx("div",{className:f,ref:g,style:m,children:o}),b[5]=f,b[6]=g,b[7]=m,b[8]=o,b[9]=e):e=b[9];return e}o="_aa1q";e="/"+a+"/";b[10]!==h||b[11]!==k||b[12]!==a?(n=n(h,k,a),b[10]=h,b[11]=k,b[12]=a,b[13]=n):n=b[13];b[14]!==i||b[15]!==e||b[16]!==n?(h=j.jsx(c("PolarisFastLink.react"),{canTabFocus:i,className:o,href:e,children:n}),b[14]=i,b[15]=e,b[16]=n,b[17]=h):h=b[17];b[18]!==f||b[19]!==g||b[20]!==m||b[21]!==h?(k=j.jsx("div",{className:f,ref:g,style:m,children:h}),b[18]=f,b[19]=g,b[20]=m,b[21]=h,b[22]=k):k=b[22];return k}function l(a,b,d,e){return j.jsxs("span",{className:"_aa1p",children:[j.jsx(c("PolarisUserTagInner.react"),{isPointingUp:a,pointerStyle:b,username:d}),e]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(6),c,e;b[0]!==a?(e=a.ref,c=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);b[3]!==c||b[4]!==e?(a=j.jsx(k,babelHelpers["extends"]({},c,{forwardedRef:e})),b[3]=c,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("PolarisPhotoWithIndicator.react",["cx","PolarisBatchDOM","PolarisEventLoop","PolarisIsLoggedIn","PolarisLoggedOutUserTagIndicator.react","PolarisPhoto.react","PolarisUA","PolarisUserTag.react","PolarisUserTagIndicator.react","joinClasses","polarisOnlyHandleSingleClick","react","react-compiler-runtime","useCurrentRoute","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=.04,l=2e3,m=-50,n={horizontalOffset:m,isPointingUp:!0},o=.85,p=6;function q(a,b){b=b+k/2;var c=b>a,d=b>1-a;c=c||d;return c?d?m+(m-100*k)*(1-(1-a)/b):m-(m-100*k)*(1-a/b):m}var r=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b.call.apply(b,[this].concat(e))||this,a.state={isShowingIndicator:!0,isShowingTags:!1,tagAdjustments:new Map()},a.$3=new Map(),a.$11=function(){a.setState({isShowingIndicator:!1}),a.$8()},a.$7=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(){if(!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop()){a.$12();return}var b=a.props,c=b.alwaysShowIndicator;b=b.usertags;var e=a.state.isShowingTags;if(b&&b.length>0){b=!e;a.$8();a.setState({isShowingIndicator:b||c,isShowingTags:b})}}),a.$13=function(){if(!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop()){a.props.onLoggedOutIntentMouseEnter();return}},babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var e=a.prototype;e.componentDidUpdate=function(a){a.isVisible&&!this.props.isVisible?this.$4():!a.isVisible&&this.props.isVisible&&this.$5()};e.componentDidMount=function(){this.$6()};e.componentWillUnmount=function(){this.$7.cancel(),this.$8()};e.$9=function(a){return{height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth}};e.$6=function(){var a=this;d("PolarisBatchDOM").mutate(function(){if(!a.$2)return;var b=a.$9(a.$2),c=new Map();a.$3.forEach(function(d,e){d=a.$9(d);var f=d.top/b.height<=o,g=d.width/b.width/2;d=d.left/b.width;d=q(d,g);c.set(e,{horizontalOffset:d,isPointingUp:f})});a.setState({tagAdjustments:c})})};e.$10=function(){this.$1||(this.$1=c("PolarisEventLoop").setTimeout(this.$11,l))};e.$8=function(){this.$1&&(c("PolarisEventLoop").clearTimeout(this.$1),this.$1=null)};e.$12=function(){var a=this.props.onLoggedOutIntentClick;a("post_tagged")};e.$5=function(){!this.state.isShowingTags&&!this.props.alwaysShowIndicator&&this.$10()};e.$4=function(){this.state.isShowingTags||(this.$8(),this.setState({isShowingIndicator:!0}))};e.$14=function(){var a=this;return!this.props.usertags?null:this.props.usertags.map(function(b,d){var e=s(b,d);d=a.state.tagAdjustments.get(e)||n;var f={left:b.x*100+"%",marginTop:(d.isPointingUp?p:-p)+"px",top:b.y*100+"%",transform:"translate(\n          "+d.horizontalOffset+"%,\n          "+(d.isPointingUp?0:-100)+"%\n        ) scale("+(a.state.isShowingTags?1:0)+")"},g={left:-d.horizontalOffset+"%"};return j.jsx(c("PolarisUserTag.react"),{className:"_aa1y",isPointingUp:d.isPointingUp,isShowingTags:a.state.isShowingTags,pointerStyle:g,ref:function(b){b!=null&&a.$3.set(e,b)},style:f,user:b.user},e)})};e.$15=function(){var a=this.props.isFocused,b=this.state.isShowingIndicator;return d("PolarisIsLoggedIn").isLoggedIn()?j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$7,visible:b||a}):j.jsx(c("PolarisLoggedOutUserTagIndicator.react"),{onClick:this.$7,onMouseEnter:this.$13,visible:b||a})};e.render=function(){var a=this,b=this.props,d=b.accessibilityCaption,e=b.className,f=b.onPhotoRendered,g=b.rich,h=b.src;b=b.srcSet;var i=this.state,k=i.isShowingIndicator;i=i.isShowingTags;d={accessibilityCaption:d,dimensions:this.props.dimensions,imgXstyle:this.props.imgXstyle,likeEventCount:this.props.likeEventCount,postId:this.props.postId};return j.jsxs("div",{className:c("joinClasses")(e,"_aa1z"+(i?" _aa1-":"")+(k?" _aa1_":"")),ref:function(b){return a.$2=b},children:[j.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},d,{className:c("joinClasses")("_aa20",e),onClick:this.$7,onPhotoRendered:f,rich:g,src:h,srcSet:b})),this.$15(),this.$14()]})};return a}(j.Component);r.defaultProps={alwaysShowIndicator:!1};function s(a,b){return"usertag-"+(a&&a.user&&a.user.username)+"-"+b}function a(a){var b=d("react-compiler-runtime").c(9),e=c("useCurrentRoute")(),f=c("usePolarisLoggedOutIntentEntryPointDialog")(),g=f[0],h=f[1];b[0]!==(e==null?void 0:e.url)||b[1]!==g?(f=function(a){var b;g==null?void 0:g({nextUrl:(b=e==null?void 0:e.url)!=null?b:"/",source:a})},b[0]=e==null?void 0:e.url,b[1]=g,b[2]=f):f=b[2];f=f;var i;b[3]!==h?(i=function(){h==null?void 0:h()},b[3]=h,b[4]=i):i=b[4];i=i;var k;b[5]!==f||b[6]!==i||b[7]!==a?(k=j.jsx(r,babelHelpers["extends"]({},a,{onLoggedOutIntentClick:f,onLoggedOutIntentMouseEnter:i})),b[5]=f,b[6]=i,b[7]=a,b[8]=k):k=b[8];return k}g.EDGE_THRESHOLD=k;g.TAG_ORIENTATION_CHANGE_POINT=o;g.TAG_POINTER_HEIGHT=p;g.getHorizontalOffset=q;g.PhotoWithIndicator=a}),98);
__d("PolarisPostAboveFooterSection.react",["fbt","IGDSChevronIcon.react","IGDSInfoOutlineIcon.react","IGDSListItem.react","IGDSTextVariants.react","PolarisAdToolsUtils","PolarisBoostMultiBoostStrings","react","react-compiler-runtime","usePolarisBoostSharedContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.analyticsContext;a=a.boostedStatus;var f=c("usePolarisBoostSharedContext")(),g=f.logger,i=l(!1),m;b[0]!==g?(f=function(){i.current||(g==null?void 0:g.logViewComponent("multi_boost_profile_view_banner","profile_self_view"),i.current=!0)},m=[g],b[0]=g,b[1]=f,b[2]=m):(f=b[1],m=b[2]);k(f,m);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_ALT_ICON,color:"ig-tertiary-icon",direction:"next",size:16}),b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSInfoOutlineIcon.react"),{alt:h._(/*BTDS*/"M\u00e1s informaci\u00f3n"),size:16}),b[4]=m):m=b[4];var n;b[5]!==e||b[6]!==g?(n=function(){d("PolarisAdToolsUtils").navigateToAdTools(e),g==null?void 0:g.logTapComponent("multi_boost_profile_view_banner","profile_self_view")},b[5]=e,b[6]=g,b[7]=n):n=b[7];a=a==="boosted_eligible_paused"?d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_PAUSED_TITLE:d("PolarisBoostMultiBoostStrings").MULTI_BOOST_ABOVE_FOOTER_TITLE;var o;b[8]!==a?(o=j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:a}),b[8]=a,b[9]=o):o=b[9];b[10]!==n||b[11]!==o?(a=j.jsx(c("IGDSListItem.react"),{addOnEnd:f,addOnStart:m,onPress:n,title:o}),b[10]=n,b[11]=o,b[12]=a):a=b[12];return a}g["default"]=a}),226);
__d("PolarisPostCommentPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","PolarisIGTheme.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={avatarGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",flexShrink:"x2lah0s",height:"x10w6t97",marginInlineEnd:"x1xegmmw",width:"x1td3qas",$$css:!0},darkModeBackgroundColor:{backgroundColor:"x1c9t90q",$$css:!0},noAnimate:{opacity:"x159chl0",$$css:!0},subtextGlimmer:{height:"x1kpxq89",maxWidth:"xazcve0",$$css:!0},textGlimmer:{height:"x1kpxq89",marginBottom:"x12nagc",maxWidth:"x1ncir08",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.animate,f=a.index;a=a.marginTop;e=e===void 0?!0:e;a=a===void 0?6:a;var g=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,h=e?void 0:0,k=g&&j.darkModeBackgroundColor,l=!e&&j.noAnimate,m;b[0]!==k||b[1]!==l?(m=[j.avatarGlimmer,k,l],b[0]=k,b[1]=l,b[2]=m):m=b[2];b[3]!==f||b[4]!==h||b[5]!==m?(k=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:h,xstyle:m}),b[3]=f,b[4]=h,b[5]=m,b[6]=k):k=b[6];l=e?void 0:0;h=g&&j.darkModeBackgroundColor;m=!e&&j.noAnimate;var n;b[7]!==m||b[8]!==h?(n=[j.textGlimmer,h,m],b[7]=m,b[8]=h,b[9]=n):n=b[9];b[10]!==f||b[11]!==n||b[12]!==l?(m=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:l,xstyle:n}),b[10]=f,b[11]=n,b[12]=l,b[13]=m):m=b[13];h=e?void 0:0;n=g&&j.darkModeBackgroundColor;l=!e&&j.noAnimate;b[14]!==n||b[15]!==l?(g=[j.subtextGlimmer,n,l],b[14]=n,b[15]=l,b[16]=g):g=b[16];b[17]!==f||b[18]!==h||b[19]!==g?(e=i.jsx(c("IGDSGlimmer.react"),{index:f,iteration:h,xstyle:g}),b[17]=f,b[18]=h,b[19]=g,b[20]=e):e=b[20];b[21]!==m||b[22]!==e?(n=i.jsxs(c("IGDSBox.react"),{flex:"grow",children:[m,e]}),b[21]=m,b[22]=e,b[23]=n):n=b[23];b[24]!==a||b[25]!==n||b[26]!==k?(l=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:a,children:[k,n]}),b[24]=a,b[25]=n,b[26]=k,b[27]=l):l=b[27];return l}g["default"]=a}),98);
__d("PolarisPostCommentsContainerPlaceholder.react",["IGDSBox.react","PolarisPostCommentPlaceholder.react","range","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.animate,f=a.indexOffset,g=a.marginStart,h=a.marginTop,j=a.numRows;a=a.xStyle;var k=e===void 0?!0:e,l=f===void 0?0:f;e=g===void 0?2:g;var m=h===void 0?6:h;f=j===void 0?8:j;b[0]!==k||b[1]!==l||b[2]!==m||b[3]!==f?(g=f>0&&c("range")(0,f).map(function(a){return i.jsx(c("PolarisPostCommentPlaceholder.react"),{animate:k,index:l+a,marginTop:a===0?m:void 0},a)}),b[0]=k,b[1]=l,b[2]=m,b[3]=f,b[4]=g):g=b[4];b[5]!==e||b[6]!==g||b[7]!==a?(h=i.jsx(c("IGDSBox.react"),{marginStart:e,xstyle:a,children:g}),b[5]=e,b[6]=g,b[7]=a,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("PolarisPostFastCommentPrimitive.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisIGCoreText","PolarisIsLoggedIn","PolarisTruncatedText.react","PolarisUserLinkWithHoverCard.react","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.isAuthorUnpublished,f=a.isAuthorVerified,g=a.isCaption,h=a.onMoreClick,j=a.text,k=a.userId;a=a.username;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var l=c("usePolarisAnalyticsContext")(),m;b[0]!==e||b[1]!==f||b[2]!==k||b[3]!==a?(m=e===!0?null:i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",userId:k,username:a}),f&&i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),i.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]}),b[0]=e,b[1]=f,b[2]=k,b[3]=a,b[4]=m):m=b[4];e=m;b[5]!==l||b[6]!==g||b[7]!==h||b[8]!==j?(f=!d("PolarisIsLoggedIn").isLoggedIn()&&g===!1?i.jsx(c("PolarisTruncatedText.react"),{analyticsContext:l,isCaption:g,limit:40,value:j}):i.jsx(c("PolarisTruncatedText.react"),{analyticsContext:l,isCaption:g,onMoreClick:h,value:j}),b[5]=l,b[6]=g,b[7]=h,b[8]=j,b[9]=f):f=b[9];b[10]!==e||b[11]!==f?(k=i.jsxs(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:[e,f]}),b[10]=e,b[11]=f,b[12]=k):k=b[12];return k}g["default"]=a}),98);
__d("PolarisPostFastCrawlerComment.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisIGCoreText","PolarisLineClampText.react","PolarisUserLinkWithHoverCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.headlineTag,f=a.isAuthorUnpublished,g=a.isAuthorVerified,h=a.text,j=a.userId;a=a.username;e=e===void 0?"h1":e;f=f===void 0?!1:f;g=g===void 0?!1:g;var k;b[0]!==f||b[1]!==g||b[2]!==j||b[3]!==a?(k=f===!0?null:i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",userId:j,username:a}),g&&i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),i.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]}),b[0]=f,b[1]=g,b[2]=j,b[3]=a,b[4]=k):k=b[4];f=k;b[5]!==f||b[6]!==e||b[7]!==h?(g=i.jsx(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:i.jsx(c("PolarisLineClampText.react"),{headlineTag:e,prependElement:f,value:h})}),b[5]=f,b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("PolarisPostImpressionTrackingNode.react",["PolarisPCManagerContext.react","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=4;function l(a){return("0"+parseInt(a,16).toString()).slice(-2)}function m(a){if(a.charAt(0)==="#")return a;a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return a===null?null:"#"+l(a[1])+l(a[2])+l(a[3])}function a(a){var b=d("react-compiler-runtime").c(11),e=a.carouselInfo,f=a.children,g=a.childrenRef,h=a.componentType,l=a.elementId,n=a.numCarouselCards,o=a.trackingNode,p=j(c("PolarisPCManagerContext.react"));b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==n||b[5]!==p||b[6]!==o?(a={onImpressionStart:function(){if(p==null||g.current==null)return;var a=g.current.getBoundingClientRect(),b=a.height,c=a.width,d=a.x;a=a.y;b={component_type:h,height:b,view_rendering_component_type:"react",view_tracking_node_name:o,width:c,x_pos:d,y_pos:a};if(h==="image"){d=(c=g.current)==null?void 0:c.querySelector("img");a=d==null?void 0:d.src;c=d==null?void 0:d.complete;e!=null&&(b=babelHelpers["extends"]({},b,{},e));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a})}else if(h==="video"){c=(d=g.current)==null?void 0:d.querySelector("video");a=c==null?void 0:c.src;d=c==null?void 0:c.duration;c=(c==null?void 0:c.readyState)===k;e!=null&&(b=babelHelpers["extends"]({},b,{},e));b=babelHelpers["extends"]({},b,{has_fully_rendered:c,media_urls:a,video_duration_sec:d})}else if(h==="text"){c=window.getComputedStyle(g.current,null);a=parseInt(c.getPropertyValue("font-size"),10).toString();d=(d=g.current)==null?void 0:d.innerText;var f=parseInt(c.getPropertyValue("line-height"),10);c=m(c.getPropertyValue("color"));b=babelHelpers["extends"]({},b,{font_line_height:f,font_size:a,text_color:c,text_string:d})}else h==="carousel"&&(b=babelHelpers["extends"]({},b,{number_of_cards:String(n)}));p.setComponentData(o,l,b)}},b[0]=e,b[1]=g,b[2]=h,b[3]=l,b[4]=n,b[5]=p,b[6]=o,b[7]=a):a=b[7];a=c("usePartialViewImpression")(a);var q;b[8]!==f||b[9]!==a?(q=i.jsx("div",{ref:a,children:f}),b[8]=f,b[9]=a,b[10]=q):q=b[10];return q}g["default"]=a}),98);
__d("usePolarisTrackingDataURLParams",["PolarisTrackingCodeContext","PolarisTrackingConstants","PolarisTrackingNodesContext","encodeTrackingNode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(8),b=i(c("PolarisTrackingCodeContext")),e=i(c("PolarisTrackingNodesContext"));if(b.length===0||e.length===0){var f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[0]=f):f=a[0];return f}a[1]!==e?(f=e.map(k).join(""),a[1]=e,a[2]=f):f=a[2];e=f;a[3]!==b?(f=b.map(j),a[3]=b,a[4]=f):f=a[4];b=f;if(a[5]!==e||a[6]!==b){f=(f={},f[d("PolarisTrackingConstants").TRACKING_CODE_PARAM]=b,f[d("PolarisTrackingConstants").TRACKING_NODE_PARAM]=e,f);a[5]=e;a[6]=b;a[7]=f}else f=a[7];return f}function j(a){return(a=a==null?void 0:a.trackingToken)!=null?a:""}function k(a){return c("encodeTrackingNode")(a.type)}g["default"]=a}),98);
__d("usePolarisOffsiteTrackingDataURLParams",["isPolarisAdLink","react-compiler-runtime","usePolarisTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(1),e=c("usePolarisTrackingDataURLParams")();if(a==null||!c("isPolarisAdLink")(a)){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];return a}return e}g["default"]=a}),98);
__d("PolarisPostFooterCTA.react",["cx","IGDSBox.react","IGDSChevronIcon.react","PolarisAdsGatingHelpers","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisIGTheme.react","PolarisPostImpressionTrackingNode.react","PolarisPostUtils","PolarisUA","isStringNullOrEmpty","react","react-compiler-runtime","useMergeRefs","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(69),e=a.ctaAdditionalAnimation,f=a.ctaDominantColor,g=a["data-testid"],h=a.disableAnimation,i=a.externalURL,l=a.forceBottomBorder,m=a.fullWidth,n=a.height,o=a.icon,p=a.isActive,q=a.isForAd,r=a.isForPersistentCta,s=a.isForSidecar,t=a.leadGenFormID,u=a.onClick,v=a.ref,w=a.secondaryText,x=a.showChevron,y=a.showRoundedBorder,z=a.text,A=a.textAlign;a=a.textThemedColor;e=e===void 0?d("PolarisPostUtils").PostFooterCTAAnimationStyle.NONE:e;x=x===void 0?!1:x;y=y===void 0?!1:y;A=A===void 0?"center":A;var B=d("PolarisIGTheme.react").useTheme(),C;b[0]!==f?(C=f!=null&&d("PolarisAdsGatingHelpers").allowWebAds(),b[0]=f,b[1]=C):C=b[1];C=C;var D;b[2]!==o?(D=o!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"none",position:"relative",children:o}),j.jsx(c("IGDSBox.react"),{marginEnd:3,position:"relative"})]}):null,b[2]=o,b[3]=D):D=b[3];o=D;b[4]!==C||b[5]!==z?(D=C?j.jsx("span",babelHelpers["extends"]({className:"x9bdzbf"},{children:z})):j.jsx(j.Fragment,{children:z}),b[4]=C,b[5]=z,b[6]=D):D=b[6];z=D;D=C?"web-always-white":a!=null?a:"ig-primary-text";var E;b[7]!==D||b[8]!==x?(E=x?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{flex:"grow",height:"100%",marginEnd:7,position:"relative",right:!0}),j.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:D,"data-testid":void 0,direction:"next",size:16})]}):null,b[7]=D,b[8]=x,b[9]=E):E=b[9];D=E;x=B.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;if(x!=null){b[10]!==x?(E={color:x},b[10]=x,b[11]=E):E=b[11];b[12]!==E||b[13]!==z?(B=j.jsx("span",{style:E,children:z}),b[12]=E,b[13]=z,b[14]=B):B=b[14];z=B}a=null;if(!c("isStringNullOrEmpty")(w)){b[15]!==w||b[16]!==A?(x=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:j.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",textAlign:A,children:w})}),b[15]=w,b[16]=A,b[17]=x):x=b[17];a=x}E="_aarz"+(p&&!r?" _aar-":"")+(r?" _alv8":"")+(h?"":" _aar_")+(C?" _aceq":"");b[18]!==f||b[19]!==C?(B=C?{background:f}:null,b[18]=f,b[19]=C,b[20]=B):B=b[20];b[21]!==A||b[22]!==z?(w=j.jsx(c("PolarisIGCoreText"),{size:"body",textAlign:A,weight:"semibold",children:z}),b[21]=A,b[22]=z,b[23]=w):w=b[23];b[24]!==a||b[25]!==w?(x=j.jsxs(c("IGDSBox.react"),{flex:"shrink",position:"relative",children:[w,a]}),b[24]=a,b[25]=w,b[26]=x):x=b[26];b[27]!==D||b[28]!==o||b[29]!==x?(h=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"start",position:"relative",width:"100%",children:[o,x,D]}),b[27]=D,b[28]=o,b[29]=x,b[30]=h):h=b[30];b[31]!==B||b[32]!==h||b[33]!==E?(f=j.jsx("div",{className:E,"data-testid":void 0,style:B,children:h}),b[31]=B,b[32]=h,b[33]=E,b[34]=f):f=b[34];A=f;z=c("usePolarisOffsiteTrackingDataURLParams")(i);if(i!=null){b[35]!==A||b[36]!==i||b[37]!==t||b[38]!==u||b[39]!==z?(a=j.jsx(c("PolarisExternalLink.react"),{className:"_ad63","data-testid":void 0,href:i,leadGenFormID:t,onClick:u,queryParams:z,children:A}),b[35]=A,b[36]=i,b[37]=t,b[38]=u,b[39]=z,b[40]=a):a=b[40];A=a}else if(u!=null){b[41]===Symbol["for"]("react.memo_cache_sentinel")?(w={__className:"_ad63"},b[41]=w):w=b[41];b[42]!==u?(D=function(){return u()},b[42]=u,b[43]=D):D=b[43];b[44]!==A||b[45]!==D?(o=j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:w,onClick:D,children:A}),b[44]=A,b[45]=D,b[46]=o):o=b[46];A=o}x=s!==!0&&q!==!0;b[47]===Symbol["for"]("react.memo_cache_sentinel")?(B=d("PolarisUA").isDesktop(),b[47]=B):B=b[47];h=B;b[48]!==l?(E=(l===!0||d("PolarisUA").isMobile())&&!h,b[48]=l,b[49]=E):E=b[49];f=E;i=k(null);t=c("useMergeRefs")(v,i);z="_aart"+(p?" _aaru":"")+(r?" _alv9":"")+(s===!0?" _aarv":"")+(m===!0?" _aarw":"")+(m===!0&&l===!0?" _aarx":"")+(h&&!C?" _ai7q":"")+(y?" _alva":"")+(y&&!r?" _aikk":"")+(e===d("PolarisPostUtils").PostFooterCTAAnimationStyle.POP_IN?" _alwd":"")+(e===d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP?" _al_y":"");b[50]!==n?(a=n!=null?{height:n+"px"}:{},b[50]=n,b[51]=a):a=b[51];w=p&&x?"_aary":"";b[52]!==w?(D=j.jsx("div",{className:w}),b[52]=w,b[53]=D):D=b[53];b[54]!==l||b[55]!==m||b[56]!==p||b[57]!==f?(o=f&&j.jsx("div",{className:"_aas0"+(l===!0&&m===!0?" _aas1":""),children:j.jsx("div",{className:p?"_aary":""})}),b[54]=l,b[55]=m,b[56]=p,b[57]=f,b[58]=o):o=b[58];b[59]!==A||b[60]!==g||b[61]!==t||b[62]!==z||b[63]!==a||b[64]!==D||b[65]!==o?(q=j.jsxs("div",{className:z,"data-testid":void 0,ref:t,style:a,children:[D,A,o]}),b[59]=A,b[60]=g,b[61]=t,b[62]=z,b[63]=a,b[64]=D,b[65]=o,b[66]=q):q=b[66];B=q;if(d("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){b[67]!==B?(E=j.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:i,componentType:"text",elementId:"ctaText",trackingNode:"CTA",children:B}),b[67]=B,b[68]=E):E=b[68];return E}return B}g["default"]=a}),98);
__d("PolarisSponsoredLabel.react",["GHLSVGText.react","PolarisAdBlockerMitigationGatingHelpers","PolarisAdsGatingHelpers","PolarisPostImpressionTrackingNode.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l={root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a["data-testid"],f=a.label;a=a.xstyle;var g;b[0]!==f?(g=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{fontSize:"12",text:f.toString()}):f,b[0]=f,b[1]=g):g=b[1];b[2]!==g?(f=j.jsx(j.Fragment,{children:g}),b[2]=g,b[3]=f):f=b[3];g=f;f=k(null);var i;b[4]!==a?(i=(h||(h=c("stylex"))).props(l.root,a),b[4]=a,b[5]=i):i=b[5];a=e!=null?e:"sponsored-label";b[6]!==g||b[7]!==i||b[8]!==a?(e=j.jsx("span",babelHelpers["extends"]({},i,{"data-testid":void 0,children:g})),b[6]=g,b[7]=i,b[8]=a,b[9]=e):e=b[9];g=e;if(d("PolarisAdsGatingHelpers").enableStoryPostImpressionLogging()){b[10]!==g?(i=j.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:f,componentType:"text",elementId:"sponsoredLabel",trackingNode:"SPONSORED_LABEL",children:j.jsx("div",{ref:f,children:g})}),b[10]=g,b[11]=i):i=b[11];return i}return g}g["default"]=a}),98);
__d("PolarisSponsorsUnit.react",["fbt","IGDSText.react","IgBrandedContentEventFalcoEvent","PolarisEngagementLogger","PolarisUserLink.react","react","react-compiler-runtime","stylex","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={white:{color:"x1mzvbuk",fontSize:"x1pg5gke",lineHeight:"x152skdk",":visited_color":"x1dorbz4",":visited_fontSize":"x1tb0csp",":visited_lineHeight":"x19wia3t",$$css:!0}};function a(a){var b=a.color,d=b===void 0?"primary":b,e=a.loggingData;b=a.maxLines;var f=a.size,g=f===void 0?"body":f,i=a.source,j=a.sponsors;f=j.map(function(a){return k.jsx(n,{color:d,loggingData:e,size:g,sponsor:a},a.id)});l(function(){c("IgBrandedContentEventFalcoEvent").log(function(){var a;return{event_name:"paid_partnership_label_impression",event_source:i,media_id:e==null?void 0:e.mediaId,sponsor_ig_id:(a=j[0])==null?void 0:a.id}})},[]);var m;switch(f.length){case 0:c("vulture")("_Z8yx7CrqeSuTAztDiDfmrn4Sbk=");m=h._(/*BTDS*/"Colaboraci\u00f3n pagada");break;case 1:c("vulture")("7MHMZ1Y_MBSq7aB_G5EnEd6A3xk=");m=h._(/*BTDS*/"Colaboraci\u00f3n pagada con {username of sponsor}",[h._param("username of sponsor",f[0])]);break;case 2:default:m=h._(/*BTDS*/"Colaboraci\u00f3n pagada con {username of sponsor 1}, {username of sponsor 2}",[h._param("username of sponsor 1",f[0]),h._param("username of sponsor 2",f[1])]);break}return k.jsx(c("IGDSText.react"),{color:d==="white"?"textOnMedia":"primaryText",maxLines:b,size:g,testid:void 0,children:m})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(8),e=a.color,f=a.loggingData,g=a.size;a=a.sponsor;var h=e==="white"&&m.white,j;b[0]!==h?(j=(i||(i=c("stylex")))(h),b[0]=h,b[1]=j):j=b[1];h=e==="white"?"ig-text-on-media":void 0;e=f!=null?o:void 0;b[2]!==g||b[3]!==a.username||b[4]!==j||b[5]!==h||b[6]!==e?(f=k.jsx(c("PolarisUserLink.react"),{className:j,color:h,onClick:e,size:g,username:a.username}),b[2]=g,b[3]=a.username,b[4]=j,b[5]=h,b[6]=e,b[7]=f):f=b[7];return f}function o(){return d("PolarisEngagementLogger").logOrganicBrandProfile()}g["default"]=a}),226);
__d("PolarisTagAvatar.react",["PolarisFastLink.react","PolarisLinkBuilder","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{backgroundColor:"xnz67gz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxSizing:"x9f619",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"x3fla8b","::after_borderInlineEndColor":"xw4awpz","::after_borderBottomColor":"x2lkfoj","::after_borderInlineStartColor":"x1mbuvrt","::after_borderStartStartRadius":"xrw4ojt","::after_borderStartEndRadius":"xg6frx5","::after_borderEndEndRadius":"xw872ko","::after_borderEndStartRadius":"xhgbb2x","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"xoiy6we","::after_borderInlineEndWidth":"x16ouz9t","::after_borderBottomWidth":"x1qj619r","::after_borderInlineStartWidth":"xsrjr5h","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_insetInlineEnd":"x1unh1gc","::after_insetInlineStart":"x1iygr5g","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_top":"x1m1drc7",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.isLink,f=a.profilePictureUrl,g=a.size,i=a.tagName;a=a.xstyle;e=e===void 0?!0:e;g=g===void 0?30:g;var l;b[0]!==g?(l={height:g,width:g},b[0]=g,b[1]=l):l=b[1];g=l;b[2]!==a?(l=(h||(h=c("stylex"))).props(k.root,a),b[2]=a,b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==i?(a=e?j.jsx(c("PolarisFastLink.react"),{className:"x4gyw5p",href:d("PolarisLinkBuilder").buildTagLink(i),style_DEPRECATED:g,children:j.jsx("img",babelHelpers["extends"]({alt:""},{className:"x5yr21d x11njtxf xh8yej3"},{src:f}))}):j.jsx("img",babelHelpers["extends"]({alt:""},{className:"x5yr21d x11njtxf xh8yej3"},{src:f})),b[4]=e,b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];b[9]!==g||b[10]!==l||b[11]!==a?(e=j.jsx("div",babelHelpers["extends"]({},l,{"data-testid":void 0,style:g,children:a})),b[9]=g,b[10]=l,b[11]=a,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("WearablesAppAttributionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({HORIZON:"horizon",META_QUEST:"meta_quest",STELLA:"stella",HAMMERHEAD:"hammerhead",ICONIC_ENTRYPOINTS:"iconic_entrypoints",WORLD_PAGES:"world_pages",ICONIC_ENTRYPOINTS_AND_WORLD_PAGES:"iconic_entrypoints_and_world_pages",GREATWHITE:"greatwhite",MAKO:"mako",PYLADES:"pylades",VR_OFF_PLATFORM_GROWTH:"vr_off_platform_growth",IMPLIED_WEARABLES_DEVICE:"implied_wearables_device",INVISIBLE_WATERMARK:"invisible_watermark",AUDIO_WATERMARK:"audio_watermark"});c=a;f["default"]=c}),66);
__d("usePolarisWearablesAppAttributionLogger.react",["IgWearablesPivotPageFalcoEvent","WearablesAppAttributionType","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b,e,f,g,h,j){var k=d("react-compiler-runtime").c(10),l=i;if(k[0]!==g){var m;m=(m=g==null?void 0:g.toUpperCase())!=null?m:"";k[0]=g;k[1]=m}else m=k[1];var n=m,o=String(h),p=j?String(j):null;k[2]!==b||k[3]!==f||k[4]!==e||k[5]!==n||k[6]!==p||k[7]!==o||k[8]!==a?(g=function(){c("IgWearablesPivotPageFalcoEvent").log(function(){return{pivot_page_event_name:b,source_media_author_id:f!=null?f:"",source_media_id:e!=null?e:"",source_media_product_type:n,source_media_surface:o,sub_surface:p,wearable_device:l(a)}})},k[2]=b,k[3]=f,k[4]=e,k[5]=n,k[6]=p,k[7]=o,k[8]=a,k[9]=g):g=k[9];return g}function i(a){a=c("WearablesAppAttributionType").cast(a);if(a==null)return null;switch(a){case"hammerhead":c("vulture")("tZZb5EMHvPmmWMvHQG6zWeOXPVo=");return"ray_ban_meta";case"stella":c("vulture")("H-zp7RT9cyAUcDaUO9ub_6qgauU=");return"ray_ban_stories";case"implied_wearables_device":c("vulture")("hiO0u6UizZhj0zbI4rE3yyPHpBs=");return"implied_wearables_device";case"greatwhite":c("vulture")("U6Ggqv3c5LVWznNn_vXT7ZbNKAA=");return"great_white";case"mako":return"mako";case"pylades":return"pylades";case"invisible_watermark":c("vulture")("Q6YyPLaufg8249JyjBsh1uQ92bs=");return"invisible_watermark";case"audio_watermark":c("vulture")("4_HpNsbCiwp0MjLv5yoBb94TzHE=");return"audio_watermark";default:c("vulture")("TZvBaQrTvgqkZ9-x04dwUh76qdc=");return null}}g["default"]=a}),98);
__d("PolarisWearablesAppAttributionText.react",["CometPressable.react","IGDSGlassesOutline24Icon.react","IGDSTextVariants.react","PolarisRoutes","qex","react","react-compiler-runtime","usePartialViewImpression","usePolarisWearablesAppAttributionLogger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useRef,k=b.useState,l={root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(23),e=a.attributionCtaActionUrl,f=a.attributionTitle,g=a.mediaAuthorId,h=a.mediaId,m=a.mediaProductType,n=a.mediaSurface;a=a.wearableDevice;var o=c("usePolarisWearablesAppAttributionLogger.react")(a,"attribute_click",h,g,m,n),p=c("usePolarisWearablesAppAttributionLogger.react")(a,"attribute_impression",h,g,m,n),q=k(!1),r=q[0],s=q[1],t=j(!1);b[0]!==p?(q={onImpressionStart:function(){if(!t.current){var a;p();s((a=c("qex")._("526"))!=null?a:!1);t.current=!0}}},b[0]=p,b[1]=q):q=b[1];q=c("usePartialViewImpression")(q);var u;b[2]!==g||b[3]!==h||b[4]!==m||b[5]!==n||b[6]!==a?(u={mediaAuthorId:g,mediaId:h,mediaProductType:m,mediaSurface:n,wearableDevice:a},b[2]=g,b[3]=h,b[4]=m,b[5]=n,b[6]=a,b[7]=u):u=b[7];g=r?d("PolarisRoutes").WEARABLES_PIVOT_PAGE_PATH:e;b[8]!==u||b[9]!==g?(h={passthroughProps:u,url:g},b[8]=u,b[9]=g,b[10]=h):h=b[10];b[11]!==o?(m=function(){o()},b[11]=o,b[12]=m):m=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x78zum5 x1q0g3np"},a=i.jsx("div",babelHelpers["extends"]({className:"x2fvf9"},{children:i.jsx(c("IGDSGlassesOutline24Icon.react"),{alt:"",size:12})})),b[13]=n,b[14]=a):(n=b[13],a=b[14]);b[15]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft"},b[15]=r):r=b[15];b[16]!==f?(e=i.jsxs("div",babelHelpers["extends"]({},n,{children:[a,i.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{breakWord:!0,zeroMargin:!0,children:i.jsx("div",babelHelpers["extends"]({},r,{children:i.jsx("span",{children:f})}))})]})),b[16]=f,b[17]=e):e=b[17];b[18]!==q||b[19]!==h||b[20]!==m||b[21]!==e?(u=i.jsx(c("CometPressable.react"),{linkProps:h,onPress:m,overlayDisabled:!0,ref:q,xstyle:l.root,children:e}),b[18]=q,b[19]=h,b[20]=m,b[21]=e,b[22]=u):u=b[22];return u}g["default"]=a}),98);
__d("PolarisPostHeader.react",["cx","fbt","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisAIProfileTransparencyLabel.react","PolarisAppAttributionText.react","PolarisAudioAttributionText.react","PolarisAvatarWithStoriesContainer.react","PolarisClickEventLoggerProvider.react","PolarisClipsHelpers","PolarisCloseFriendsLabel.react","PolarisCoauthorCountWithSheet.react","PolarisEligibleForCommissionUnit.react","PolarisFeedPageConstants","PolarisFollowButtonContainer.react","PolarisHashtagLink.react","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisLocationLink.react","PolarisPanavisionQEHelpers","PolarisPartnershipAdAvatar.react","PolarisPartnershipAdHeader.react","PolarisProfileClickEventLoggerProvider.react","PolarisReactRedux.react","PolarisSponsoredLabel.react","PolarisSponsoredPostContext.react","PolarisSponsorsUnit.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTrackingNodeProvider.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils.react","PolarisUA","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLink.react","PolarisWearablesAppAttributionText.react","URI","err","gkx","nullthrows","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutShowIncreasedFeatureWalls","usePolarisMinimalContent","usePolarisPageID","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useEffect,o=b.useState,p={hoverCardWrapper:{flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},q=i._(/*BTDS*/"y");function r(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioArtist:d,audioName:c,isMediaOwnerOriginalSound:b,isOriginalSound:(d=a==null?void 0:a.uses_original_audio)!=null?d:!1}}function s(a){var b=d("react-compiler-runtime").c(19),e=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta),f=c("usePolarisPageID")(),g=d("usePolarisMinimalContent").usePolarisMinimalContent(),h=c("usePolarisLoggedOutShowIncreasedFeatureWalls")(),i,k;b[0]!==a.username||b[1]!==e?(i=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username)),k=new(j||(j=c("URI")))(i).setQueryData(e).toString(),b[0]=a.username,b[1]=e,b[2]=i,b[3]=k):(i=b[2],k=b[3]);e=k;b[4]!==a.id?(k={triggeringUserId:a.id},b[4]=a.id,b[5]=k):k=b[5];k=c("usePolarisLoggedOutIntentEntryPointDialog")(k);var l=k[0],n=k[1],o=c("usePolarisLoggedOutIntentAction")();k=f==="postPage";if(k&&g){b[6]!==o||b[7]!==a.username?(f={onClick:function(){o({source:"post_username_click",username:a.username})}},b[6]=o,b[7]=a.username,b[8]=f):f=b[8];return f}if(k&&h()){b[9]!==i||b[10]!==l?(g=function(){l==null?void 0:l({nextUrl:i,source:"post_username_click"})},b[9]=i,b[10]=l,b[11]=g):g=b[11];b[12]!==n?(f=function(){n==null?void 0:n()},b[12]=n,b[13]=f):f=b[13];b[14]!==g||b[15]!==f?(k={onClick:g,onMouseEnter:f},b[14]=g,b[15]=f,b[16]=k):k=b[16];return k}b[17]!==e?(h={href:e},b[17]=e,b[18]=h):h=b[18];return h}function t(a){var b=d("react-compiler-runtime").c(13),e=a.owner;a=a.shouldEllipsisText;a=a===void 0?!1:a;var f=s(e),g=f.href,h=f.onClick;f=f.onMouseEnter;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x78zum5"},b[0]=i):i=b[0];var j;b[1]!==a?(j={0:{},1:{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft"}}[!!!!a<<0],b[1]=a,b[2]=j):j=b[2];b[3]!==e.username?(a=c("nullthrows")(e.username),b[3]=e.username,b[4]=a):a=b[4];b[5]!==j||b[6]!==a?(e=l.jsx("div",babelHelpers["extends"]({},j,{children:a})),b[5]=j,b[6]=a,b[7]=e):e=b[7];b[8]!==g||b[9]!==h||b[10]!==f||b[11]!==e?(j=l.jsx("div",babelHelpers["extends"]({},i,{children:l.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",fullWidth:!0,href:g,onClick:h,onMouseEnter:f,children:e})})),b[8]=g,b[9]=h,b[10]=f,b[11]=e,b[12]=j):j=b[12];return j}function u(a){var b=d("react-compiler-runtime").c(12),e=a.clipsAudioAttributionInfo,f=a.onDisabledClipsAudioAttributionClick;a=a.owner;e=e;var g;b[0]!==e||b[1]!==a.username?(g=r(e,a.username),b[0]=e,b[1]=a.username,b[2]=g):g=b[2];g=g;var h=g.audioArtist,i=g.audioName;g=g.isMediaOwnerOriginalSound;var j=e==null?void 0:e.audio_id;a=a.isPrivate===!0;var k=(e==null?void 0:e.should_mute_audio)===!0;e=e==null?void 0:e.should_mute_audio_reason;var m;b[3]!==h||b[4]!==j||b[5]!==i||b[6]!==g||b[7]!==k||b[8]!==a||b[9]!==e||b[10]!==f?(m=l.jsx(c("PolarisAudioAttributionText.react"),{audioArtist:h,audioID:j,audioName:i,isMediaOwnerOriginalSound:g,isMutedAudio:k,isOwnerPrivate:a,muteAudioReason:e,onDisabledClipsAudioAttributionClick:f}),b[3]=h,b[4]=j,b[5]=i,b[6]=g,b[7]=k,b[8]=a,b[9]=e,b[10]=f,b[11]=m):m=b[11];return m}function v(a){var b=d("react-compiler-runtime").c(6),e=a.clipsAttributionInfo;a=a.mediaID;e=e;var f=e==null?void 0:e.attribution_app_name;e=e==null?void 0:e.attribution_app_id;if(f!=null&&e!=null){var g;b[0]!==e?(g=e.toString(),b[0]=e,b[1]=g):g=b[1];b[2]!==f||b[3]!==a||b[4]!==g?(e=l.jsx(c("PolarisAppAttributionText.react"),{appId:g,appName:f,mediaId:a}),b[2]=f,b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}return null}function w(a){var b=d("react-compiler-runtime").c(7),e=a.mediaAuthorId,f=a.mediaId,g=a.mediaProductType,h=a.wearableDevice;a=a.wearablesAttributionInfo;var i=a==null?void 0:a.attribution_title;a=a==null?void 0:a.attribution_cta_action_url;if(i!=null){var j;b[0]!==a||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h?(j=l.jsx(c("PolarisWearablesAppAttributionText.react"),{attributionCtaActionUrl:a,attributionTitle:i,mediaAuthorId:e,mediaId:f,mediaProductType:g,mediaSurface:"feed",wearableDevice:h}),b[0]=a,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=j):j=b[6];return j}return null}function x(a){var b=d("react-compiler-runtime").c(64),e=a.audioAttributionText,f=a.clipsAttributionInfo,g=a.clipsAudioAttributionInfo,h=a.followHashtagInfo,j=a.isSponsored,k=a.location,m=a.mediaId,n=a.mediaProductType,o=a.owner,p=a.showEligibleForCommissions,q=a.showOrganicPPL,s=a.sponsoredLabel,t=a.sponsors,u=a.transparencyLabelOwner;a=a.wearablesAttributionInfo;var x=c("usePolarisIsOnAdsActivityPage")(),y;b[0]!==m||b[1]!==u?(y=u!=null&&d("PolarisTransparencyUtils.react").shouldShowTransparencyLabel(u)&&u.transparencyProductEnabled===!0&&l.jsx(c("PolarisTransparencyLabel.react"),{mediaId:m,screen:"feed",user:u}),b[0]=m,b[1]=u,b[2]=y):y=b[2];y=y;var z;b[3]!==(u==null?void 0:u.aiAgentOwnerUsername)||b[4]!==(u==null?void 0:u.id)?(z=(u==null?void 0:u.aiAgentOwnerUsername)!=null?l.jsx(c("PolarisAIProfileTransparencyLabel.react"),{aiUserIGID:u==null?void 0:u.id,label:i._(/*BTDS*/"IA de {ai persona owner username}",[i._param("ai persona owner username",u==null?void 0:u.aiAgentOwnerUsername)])}):null,b[3]=u==null?void 0:u.aiAgentOwnerUsername,b[4]=u==null?void 0:u.id,b[5]=z):z=b[5];u=z;b[6]!==m||b[7]!==q||b[8]!==t?(z=q&&l.jsx(c("PolarisSponsorsUnit.react"),{loggingData:{mediaId:m},source:"feed_timeline",sponsors:t||[]}),b[6]=m,b[7]=q,b[8]=t,b[9]=z):z=b[9];q=z;b[10]!==h||b[11]!==o.username?(t=h&&l.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(o.username)}),b[10]=h,b[11]=o.username,b[12]=t):t=b[12];z=t;b[13]!==p?(h=p&&l.jsx(c("PolarisEligibleForCommissionUnit.react"),{}),b[13]=p,b[14]=h):h=b[14];t=h;b[15]!==k?(p=k&&l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",display:"truncated",zeroMargin:!0,children:l.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",location:c("nullthrows")(k)})}),b[15]=k,b[16]=p):p=b[16];h=p;if(b[17]!==f||b[18]!==g||b[19]!==x||b[20]!==j||b[21]!==m||b[22]!==n||b[23]!==o.id||b[24]!==o.username||b[25]!==s||b[26]!==a){p=r(g,o.username);var A;b[30]!==f||b[31]!==m?(A=l.jsx(v,{clipsAttributionInfo:f,mediaID:m}),b[30]=f,b[31]=m,b[32]=A):A=b[32];A=A;var B=o==null?void 0:o.id,C=a==null?void 0:a.attribution_type,D;b[33]!==m||b[34]!==n||b[35]!==C||b[36]!==B||b[37]!==a?(D=l.jsx(w,{mediaAuthorId:B,mediaId:m,mediaProductType:n,wearableDevice:C,wearablesAttributionInfo:a}),b[33]=m,b[34]=n,b[35]=C,b[36]=B,b[37]=a,b[38]=D):D=b[38];C=D;if(j===!0&&s==null&&!x)throw c("err")("Unexpected: a feed ad is being rendered without a sponsored label");B=d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:p.audioArtist,audioName:p.audioName,isMediaOwnerOriginalSound:p.isMediaOwnerOriginalSound})&&(!p.isOriginalSound||a==null);b[17]=f;b[18]=g;b[19]=x;b[20]=j;b[21]=m;b[22]=n;b[23]=o.id;b[24]=o.username;b[25]=s;b[26]=a;b[27]=A;b[28]=B;b[29]=C}else A=b[27],B=b[28],C=b[29];D=B;p=a!=null&&f==null&&k==null&&!D;g="_aaql";b[39]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"x78zum5 xdt5ytf"},b[39]=x):x=b[39];b[40]!==s?(j=s!=null&&l.jsx(c("PolarisSponsoredLabel.react"),{label:s}),b[40]=s,b[41]=j):j=b[41];b[42]!==t||b[43]!==u||b[44]!==z||b[45]!==q||b[46]!==j||b[47]!==y?(m=l.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{zeroMargin:!0,children:l.jsxs("div",babelHelpers["extends"]({},x,{children:[u,y,q,j,t,z]}))}),b[42]=t,b[43]=u,b[44]=z,b[45]=q,b[46]=j,b[47]=y,b[48]=m):m=b[48];b[49]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x78zum5"},b[49]=n):n=b[49];b[50]!==e||b[51]!==h||b[52]!==D?(o=D?e:l.jsx("div",{className:"_aaqm",children:h}),b[50]=e,b[51]=h,b[52]=D,b[53]=o):o=b[53];b[54]!==f?(B=f!=null&&l.jsx(c("IGDSMiddleDot.react"),{color:"primaryText"}),b[54]=f,b[55]=B):B=b[55];a=p&&C;b[56]!==A||b[57]!==o||b[58]!==B||b[59]!==a?(k=l.jsxs("div",babelHelpers["extends"]({},n,{children:[o,B,A,a]})),b[56]=A,b[57]=o,b[58]=B,b[59]=a,b[60]=k):k=b[60];b[61]!==m||b[62]!==k?(s=l.jsxs("div",{className:g,children:[m,k]}),b[61]=m,b[62]=k,b[63]=s):s=b[63];return s}function y(a){var b=d("react-compiler-runtime").c(44),e=a.analyticsContext,f=a.coauthorProducers,g=a.followHashtagInfo,h=a.headerAvatarSize,i=a.isPartnershipAd,j=a.isTagAvatarLink,k=a.onTagAvatarShowRing,m=a.owner;a=a.sponsors;var n;b[0]!==e?(n=function(){return e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT?"reel_feed_timeline_item_header":"reel_feed_timeline"},b[0]=e,b[1]=n):n=b[1];n=n;if(g){var o=g.name;g=g.profile_pic_url;var p;b[2]!==j||b[3]!==o||b[4]!==g?(p=g!=null&&g.length>0&&l.jsx(c("PolarisTagAvatar.react"),{isLink:j,profilePictureUrl:g,tagName:o}),b[2]=j,b[3]=o,b[4]=g,b[5]=p):p=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:"_aaqo",children:"#"}),b[6]=j):j=b[6];b[7]!==p?(g=l.jsxs(l.Fragment,{children:[p,j]}),b[7]=p,b[8]=g):g=b[8];b[9]!==o||b[10]!==k||b[11]!==g?(j=l.jsx(c("PolarisAvatarWithStoriesContainer.react"),{animateOnLoad:!0,entrypoint:"reel_feed_timeline",onShowRing:k,size:30,tagName:o,children:g}),b[9]=o,b[10]=k,b[11]=g,b[12]=j):j=b[12];return j}if(f==null?void 0:f.length){p=f[0];b[13]!==p.profilePictureUrl||b[14]!==p.username?(o=l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:p.profilePictureUrl,size:24,username:p.username}),b[13]=p.profilePictureUrl,b[14]=p.username,b[15]=o):o=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x1qjc9v5 xvbhtw8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x11dcrhx xdj266r x14z9mp xat24cr x1lziwak x4p5aij x1ccui7m x1j85h84 x18pi947 x10l6tqk xfr5jun x11njtxf"},b[16]=k):k=b[16];b[17]!==m.profilePictureUrl||b[18]!==m.username?(g=l.jsx("div",babelHelpers["extends"]({},k,{children:l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",children:l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:m.profilePictureUrl,size:24,username:m.username})})})),b[17]=m.profilePictureUrl,b[18]=m.username,b[19]=g):g=b[19];b[20]!==o||b[21]!==g?(j=l.jsxs(c("IGDSBox.react"),{alignItems:"end",height:32,position:"relative",width:32,children:[o,g]}),b[20]=o,b[21]=g,b[22]=j):j=b[22];return j}if(c("gkx")("5712")&&i&&(a==null?void 0:a.length)===1){f=m.fullName||"";p=m.isUnpublished||!1;k=m.profilePictureUrl||"";o=m.username||"";b[23]!==m.id||b[24]!==f||b[25]!==p||b[26]!==k||b[27]!==o?(g={full_name:f,id:m.id,is_unpublished:p,profile_pic_url:k,username:o},b[23]=m.id,b[24]=f,b[25]=p,b[26]=k,b[27]=o,b[28]=g):g=b[28];j=g;i=a[0];b[29]!==j||b[30]!==i?(f=l.jsx(c("PolarisPartnershipAdAvatar.react"),{firstIdentity:j,secondIdentity:i}),b[29]=j,b[30]=i,b[31]=f):f=b[31];return f}p=!m.isUnpublished;k=m.id;g=(o=m.username)!=null?o:"";a=!m.isUnpublished;j=m.profilePictureUrl;i=n();b[32]!==h||b[33]!==m.id||b[34]!==m.profilePictureUrl||b[35]!==m.username||b[36]!==a||b[37]!==i?(f=l.jsx(c("PolarisUserAvatarWithStories.react"),{isLink:a,profilePictureUrl:j,showRingWhenSeen:!1,size:h,storyEntrypoint:i,userId:m.id,username:m.username}),b[32]=h,b[33]=m.id,b[34]=m.profilePictureUrl,b[35]=m.username,b[36]=a,b[37]=i,b[38]=f):f=b[38];b[39]!==m.id||b[40]!==p||b[41]!==g||b[42]!==f?(o=l.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:p,userId:k,username:g,children:f}),b[39]=m.id,b[40]=p,b[41]=g,b[42]=f,b[43]=o):o=b[43];return o}function z(a){var b=d("react-compiler-runtime").c(66),e=a.adTitle,f=a.analyticsContext,g=a.coauthorProducers,h=a.followHashtagInfo,i=a.mediaId,j=a.owner,k=a.postHeaderMode,m=a.shouldEllipsisText,o=a.showVerifiedBadge;a=a.sponsors;var r=d("PolarisReactRedux.react").useDispatch(),s,u;b[0]!==g||b[1]!==r?(s=function(){var a=[].concat(g!=null?g:[]);r({type:"PROFILE_PAGE_USERS_LOADED",users:a})},u=[r,g],b[0]=g,b[1]=r,b[2]=s,b[3]=u):(s=b[2],u=b[3]);n(s,u);if(h){b[4]!==h.name?(s=l.jsx(d("IGDSTextVariants.react").IGDSTextBody,{zeroMargin:!0,children:l.jsx(c("PolarisHashtagLink.react"),{className:"_aaqr",tag:h.name})}),b[4]=h.name,b[5]=s):s=b[5];return s}if(c("gkx")("5712")&&k.PartnershipAd){if((a==null?void 0:a.length)!==1)return null;u=j.fullName||"";h=j.isUnpublished||!1;s=j.profilePictureUrl||"";var v=j.username||"",w;b[6]!==j.id||b[7]!==u||b[8]!==h||b[9]!==s||b[10]!==v?(w={full_name:u,id:j.id,is_unpublished:h,profile_pic_url:s,username:v},b[6]=j.id,b[7]=u,b[8]=h,b[9]=s,b[10]=v,b[11]=w):w=b[11];u=w;h=a[0];b[12]!==u||b[13]!==h?(s=l.jsx(c("PolarisPartnershipAdHeader.react"),{firstIdentity:u,secondIdentity:h}),b[12]=u,b[13]=h,b[14]=s):s=b[14];return s}if(j.isUnpublished===!0){if(e!=null&&e.trim().length!==0){b[15]!==e?(v=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:e})}),b[15]=e,b[16]=v):v=b[16];return v}w=j.fullName!=null&&j.fullName!==""?j.fullName:j.username;b[17]!==w?(a=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:w})}),b[17]=w,b[18]=a):a=b[18];return a}if(k.DisplayFBPage===!0&&(e!=null&&e.trim().length!==0)){b[19]!==e?(u=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:e})}),b[19]=e,b[20]=u):u=b[20];return u}if(g==null?void 0:g.length){b[21]!==g?(h=g!=null?g:[],b[21]=g,b[22]=h):h=b[22];b[23]!==h?(s=h.map(A),b[23]=h,b[24]=s):s=b[24];v=s;a=(w=j.fullName)!=null?w:"";e=(k=j.isVerified)!=null?k:!1;h=(u=j.profilePictureUrl)!=null?u:"";w=(s=j.username)!=null?s:"";b[25]!==j.id||b[26]!==a||b[27]!==e||b[28]!==h||b[29]!==w?(k={user:{fullName:a,id:j.id,isVerified:e,profilePictureUrl:h,username:w}},b[25]=j.id,b[26]=a,b[27]=e,b[28]=h,b[29]=w,b[30]=k):k=b[30];u=k;s=g[0];a=!j.isUnpublished;h=(e=j.username)!=null?e:"";b[31]!==j||b[32]!==m?(w=l.jsx(t,{owner:j,shouldEllipsisText:m}),b[31]=j,b[32]=m,b[33]=w):w=b[33];b[34]!==j.id||b[35]!==a||b[36]!==h||b[37]!==w?(k=l.jsx(c("IGDSBox.react"),{xstyle:p.hoverCardWrapper,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:a,userId:j.id,username:h,children:w})}),b[34]=j.id,b[35]=a,b[36]=h,b[37]=w,b[38]=k):k=b[38];b[39]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx("span",{className:"_aaqv"}),b[39]=e):e=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:l.jsxs(d("IGDSTextVariants.react").IGDSTextBody,{children:[e,q,l.jsx("span",{className:"_aaqv"})]})}),b[40]=a):a=b[40];if(b[41]!==f||b[42]!==g.length||b[43]!==s||b[44]!==v||b[45]!==i||b[46]!==u||b[47]!==m){w=g.length>1?l.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:l.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:l.jsx(c("PolarisCoauthorCountWithSheet.react"),{analyticsContext:f,coauthors:v,mediaId:i,mediaOwner:u})})}):l.jsx(c("IGDSBox.react"),{xstyle:p.hoverCardWrapper,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!s.isUnpublished,userId:s.id,username:(h=s.username)!=null?h:"",children:l.jsx(t,{owner:s,shouldEllipsisText:m})})});b[41]=f;b[42]=g.length;b[43]=s;b[44]=v;b[45]=i;b[46]=u;b[47]=m;b[48]=w}else w=b[48];b[49]!==k||b[50]!==w?(e=l.jsx("div",{className:"_aaqt _aaqu",children:l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"start",zeroMargin:!0,children:l.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",children:[k,a,w]})})}),b[49]=k,b[50]=w,b[51]=e):e=b[51];return e}h=!j.isUnpublished;s=(f=j.username)!=null?f:"";b[52]!==j||b[53]!==m?(v=l.jsx(t,{owner:j,shouldEllipsisText:m}),b[52]=j,b[53]=m,b[54]=v):v=b[54];b[55]!==j.id||b[56]!==h||b[57]!==s||b[58]!==v?(i=l.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:h,userId:j.id,username:s,children:v})}),b[55]=j.id,b[56]=h,b[57]=s,b[58]=v,b[59]=i):i=b[59];b[60]!==j.isVerified||b[61]!==o?(u=o===!0&&j.isVerified===!0&&l.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[60]=j.isVerified,b[61]=o,b[62]=u):u=b[62];b[63]!==i||b[64]!==u?(a=l.jsx("div",{className:"_aaqt",children:l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:[i,u]})}),b[63]=i,b[64]=u,b[65]=a):a=b[65];return a}function A(a){var b;return{user:{fullName:(b=a.fullName)!=null?b:"",id:a.id,isVerified:(b=a.isVerified)!=null?b:!1,profilePictureUrl:(b=a.profilePictureUrl)!=null?b:"",username:(b=a.username)!=null?b:""}}}function a(a){var b=d("react-compiler-runtime").c(47),e=a.adTitle,f=a.analyticsContext,g=a.clipsAttributionInfo,h=a.clipsAudioAttributionInfo,i=a.coauthorProducers,j=a.displayFBPageName,k=a.followHashtagInfo,n=a.headerAvatarSize,p=a.inModal,q=a.isAffiliate,r=a.isPaidPartnership,s=a.isSharedToCloseFriends,t=a.isSponsored,v=a.location,w=a.mediaId,A=a.mediaProductType,C=a.onDisabledClipsAudioAttributionClick,D=a.owner,E=a.postedAt,F=a.reducedAvatarMargin,G=a.shouldEllipsisText,H=a.shouldShowFollowButton,I=a.showVerifiedBadge,J=a.sidebarVariantOptionsButton,K=a.sponsoredLabel,L=a.sponsors,M=a.transparencyLabelOwner,N=a.wearablesAttributionInfo;a=o(!0);var O=a[0],P=a[1],Q=!k&&r&&K==null,R=L!=null&&L.length>0&&K!=null,S=!k&&!r&&q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){P(!1)},b[0]=a):a=b[0];var T=a;b[1]!==h||b[2]!==C||b[3]!==D?(r=l.jsx(u,{clipsAudioAttributionInfo:h,onDisabledClipsAudioAttributionClick:C,owner:D}),b[1]=h,b[2]=C,b[3]=D,b[4]=r):r=b[4];var U=r;q=c("usePolarisIsOnFeedPage")();a=c("usePolarisIsOnAdsActivityPage")();b[5]!==p||b[6]!==a||b[7]!==q?(C=(q||a)&&p!==!0&&d("PolarisUA").isDesktop(),b[5]=p,b[6]=a,b[7]=q,b[8]=C):C=b[8];var V=C,W=V;r=m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);p=r.onProfileClick;b[9]!==j||b[10]!==R?(a={DisplayFBPage:j,PartnershipAd:R},b[9]=j,b[10]=R,b[11]=a):a=b[11];var X=a;b[12]!==e||b[13]!==f||b[14]!==U||b[15]!==g||b[16]!==h||b[17]!==i||b[18]!==W||b[19]!==k||b[20]!==n||b[21]!==V||b[22]!==R||b[23]!==s||b[24]!==t||b[25]!==O||b[26]!==v||b[27]!==w||b[28]!==A||b[29]!==D||b[30]!==X||b[31]!==E||b[32]!==F||b[33]!==G||b[34]!==H||b[35]!==S||b[36]!==Q||b[37]!==I||b[38]!==J||b[39]!==K||b[40]!==L||b[41]!==M||b[42]!==N?(q=l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:230,children:function(a){return l.jsxs("header",{className:"_aaqw"+(V?" _aaqx":"")+(W?" _aggb":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5a":""),"data-testid":void 0,ref:a,children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:69,children:function(a){return l.jsx("div",{ref:a,children:l.jsx(y,{analyticsContext:f,coauthorProducers:i,followHashtagInfo:k,headerAvatarSize:n,isPartnershipAd:R,isTagAvatarLink:O,onTagAvatarShowRing:T,owner:D,sponsors:L})})}}),l.jsxs("div",{className:"_aaqy"+(J&&!V?" _aaqz":"")+(J&&V?" _aaq-":"")+(F===!0?" _aaq_":"")+(d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _ap5c":""),children:[l.jsxs("div",{className:"_aar0"+(H?" _ad95":"")+(J?" _aar1":""),children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:10,children:function(a){return l.jsx("div",babelHelpers["extends"]({className:"x78zum5 x6ikm8r x10wlt62"},{ref:a,children:l.jsx(z,{adTitle:e,analyticsContext:f,coauthorProducers:i,followHashtagInfo:k,mediaId:w,owner:D,postHeaderMode:X,shouldEllipsisText:G,showVerifiedBadge:I,sponsors:L})}))}}),!t&&E!=null&&W&&l.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:l.jsx("div",{className:"_ajqd",children:l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",zeroMargin:!0,children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),l.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:E})]})})}),H&&!s&&l.jsxs("div",{className:"_aar2",children:[l.jsx("div",{className:"_aar3",children:l.jsx(c("IGDSMiddleDot.react"),{color:W?"secondaryText":void 0})}),l.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:f,borderless:!0,"data-testid":void 0,isInline:!0,userId:D.id,username:(a=D.username)!=null?a:""})]})]}),l.jsx(x,{audioAttributionText:U,clipsAttributionInfo:g,clipsAudioAttributionInfo:h,followHashtagInfo:k,isSponsored:t,location:v,mediaId:w,mediaProductType:A,owner:D,showEligibleForCommissions:S,showOrganicPPL:Q,sponsoredLabel:K,sponsors:L,transparencyLabelOwner:M,wearablesAttributionInfo:N})]}),s&&l.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:B})]})}}),b[12]=e,b[13]=f,b[14]=U,b[15]=g,b[16]=h,b[17]=i,b[18]=W,b[19]=k,b[20]=n,b[21]=V,b[22]=R,b[23]=s,b[24]=t,b[25]=O,b[26]=v,b[27]=w,b[28]=A,b[29]=D,b[30]=X,b[31]=E,b[32]=F,b[33]=G,b[34]=H,b[35]=S,b[36]=Q,b[37]=I,b[38]=J,b[39]=K,b[40]=L,b[41]=M,b[42]=N,b[43]=q):q=b[43];b[44]!==p||b[45]!==q?(C=l.jsx(c("PolarisClickEventLoggerProvider.react"),{children:l.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:p,children:q})}),b[44]=p,b[45]=q,b[46]=C):C=b[46];return C}function B(){}g["default"]=a}),226);
__d("PolarisPostIdContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({mediaIdUFI:null,postId:null});function a(a){var b=d("react-compiler-runtime").c(6),c=a.children,e=a.mediaIdUFI;a=a.postId;var f;b[0]!==e||b[1]!==a?(f={mediaIdUFI:e,postId:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];e=f;a=e;b[3]!==c||b[4]!==a?(f=i.jsx(j.Provider,{value:a,children:c}),b[3]=c,b[4]=a,b[5]=f):f=b[5];return f}g.PolarisPostIdContext=j;g.PolarisPostIdContextProvider=a}),98);
__d("PolarisPostMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","IGDSInfoPanoOutlineIcon.react","IGDSMisinformationPanoOutline24Icon.react","JSResourceForInteraction","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisPostFooterCTA.react","justknobx","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostMediaOverlayInfoFooterCTA.react"));function o(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function p(a){var b=a.entityID,c=a.onLoggedImpression;o(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION);c!=null&&c(b)}function q(a){o(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function r(a,b){q(a),b()}function s(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;var f=b.action_url;b=b.text_color;e=e!=null?h._(/*BTDS*/"{text}",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return f==="com.instagram.misinformation.fact_check_sheet.action"&&c("justknobx")._("2450")?j.jsx(c("IGDSMisinformationPanoOutline24Icon.react"),{alt:e,color:b!=null?b:"ig-primary-icon",size:24}):j.jsx(c("IGDSInfoPanoOutlineIcon.react"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return j.jsx(c("PolarisIGCoreIcon.react"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a){var b=d("react-compiler-runtime").c(44),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=m(!1);var g=a[0],h=a[1];a=m(0);var i=a[0],l=a[1];a=e;var o=a.bannerInfo,q=a["data-testid"],u=a.disableImpressionLogging,v=a.entityID,w=a.forceBottomBorder,x=a.fullWidth;a=a.isForSidecar;var y=o.animationInfo,z=o.bannerButton;o=o.text;var A=y.canAnimateSlideIn,B=y.isHidden;y=z.action;var C=z.action_url,D=z.has_chevron,E=z.is_text_centered,F=z.secondary_text;z=z.text_color;var G=y===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?C:void 0,H=t(e),I=H!==v,J;b[3]!==u||b[4]!==g||b[5]!==B||b[6]!==I||b[7]!==e?(H=function(){(I||g===!1)&&u!==!0&&B!==!0?(p(e),h(!0)):I&&h(!1)},J=[u,B,I,g,e,h],b[3]=u,b[4]=g,b[5]=B,b[6]=I,b[7]=e,b[8]=H,b[9]=J):(H=b[8],J=b[9]);k(H,J);b[10]!==y||b[11]!==i||b[12]!==e?(H=y!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return r(e,function(){return l(i+1)})}:void 0,b[10]=y,b[11]=i,b[12]=e,b[13]=H):H=b[13];J=H;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(H=function(){l(0)},b[14]=H):H=b[14];H=H;var K=e.analyticsContext||"",L;b[15]!==v||b[16]!==K?(L={media_id:v,module:K},b[15]=v,b[16]=K,b[17]=L):L=b[17];v=L;K=v;L=!A;b[18]!==e?(v=s(e),b[18]=e,b[19]=v):v=b[19];A=!B;D=D!=null?D:!1;E=E===!0?"center":"left";var M;b[20]!==q||b[21]!==G||b[22]!==w||b[23]!==x||b[24]!==a||b[25]!==J||b[26]!==f||b[27]!==F||b[28]!==A||b[29]!==D||b[30]!==E||b[31]!==L||b[32]!==v||b[33]!==o||b[34]!==z?(M=j.jsx(c("PolarisPostFooterCTA.react"),{"data-testid":void 0,disableAnimation:L,externalURL:G,forceBottomBorder:w,fullWidth:x,icon:v,isActive:A,isForSidecar:a,onClick:J,ref:f,secondaryText:F,showChevron:D,text:o,textAlign:E,textThemedColor:z}),b[20]=q,b[21]=G,b[22]=w,b[23]=x,b[24]=a,b[25]=J,b[26]=f,b[27]=F,b[28]=A,b[29]=D,b[30]=E,b[31]=L,b[32]=v,b[33]=o,b[34]=z,b[35]=M):M=b[35];b[36]!==y||b[37]!==C||b[38]!==i||b[39]!==K?(q=y===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&i>0&&C!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(n,{appId:C,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:H},params:K},i)}),b[36]=y,b[37]=C,b[38]=i,b[39]=K,b[40]=q):q=b[40];b[41]!==M||b[42]!==q?(G=j.jsxs(j.Fragment,{children:[M,q]}),b[41]=M,b[42]=q,b[43]=G):G=b[43];return G}function t(a){var b=a.entityID,c=l();k(function(){c.current=b},void 0);return c.current}g["default"]=a}),226);
__d("PolarisPostModalRenderingContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isInModal:!1});function a(){return i(j)}g.PolarisPostModalRenderingContext=j;g.usePolarisPostModalRenderingContext=a}),98);
__d("usePolarisShowFooterCTA",["PolarisPostUtils","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,c,e){return i(function(){if(e===!0)return null;if(a==null)return null;var f=a.isSidecar,g=null,h=null;if(f===!0){var i=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,b);i!=null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromSidecarChild(i,c[i.id]===!0),h!=null&&(g=i))}g==null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,c[a.id]===!0),h!=null&&(g=a));return g==null||h==null?null:{bottomBannerInfo:h,isParentPostSidecar:f,itemWithBanner:g}},[b,c,e,a])}g["default"]=a}),98);
__d("PolarisPostOverlayInfoFooterCTA.react",["CometRelay","PolarisPostMediaOverlayInfoFooterCTA.react","PolarisRelayEnvironment","react","react-compiler-runtime","usePolarisShowFooterCTA"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(8),e=a.analyticsContext,f=a.bottomBannerInfo,g=a.dynamicFooterRef,h=a.idsWithDisabledMediaOverlayInfoImpressionLogging,j=a.isParentPostSidecar,k=a.itemWithBannerID;a=a.onLogOverlayImpression;var l=f.hasMediaCover;l=l||h[k]===!0;b[0]!==e||b[1]!==f||b[2]!==l||b[3]!==g||b[4]!==j||b[5]!==k||b[6]!==a?(h=i.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:c("PolarisRelayEnvironment"),children:i.jsx(c("PolarisPostMediaOverlayInfoFooterCTA.react"),{analyticsContext:e,bannerInfo:f,"data-testid":void 0,disableImpressionLogging:l,entityID:k,isForSidecar:j,onLoggedImpression:a,ref:g})}),b[0]=e,b[1]=f,b[2]=l,b[3]=g,b[4]=j,b[5]=k,b[6]=a,b[7]=h):h=b[7];return h}function a(a){var b=d("react-compiler-runtime").c(8),e,f,g,h;b[0]!==a?(e=a.currentSidecarIndex,f=a.idsWithClearedBlurOverlays,h=a.rootPost,g=babelHelpers.objectWithoutPropertiesLoose(a,["currentSidecarIndex","idsWithClearedBlurOverlays","rootPost"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=c("usePolarisShowFooterCTA")(h,e,f);b[5]!==a||b[6]!==g?(h=a!=null?i.jsx(j,babelHelpers["extends"]({bottomBannerInfo:a.bottomBannerInfo,isParentPostSidecar:a.isParentPostSidecar,itemWithBannerID:a.itemWithBanner.id},g)):null,b[5]=a,b[6]=g,b[7]=h):h=b[7];return h}g.PolarisPostOverlayInfoFooterCTARenderer=j;g.PolarisPostOverlayInfoFooterCTA=a}),98);
__d("PolarisPostPageGatedContentAPIReasonFallback.react",["PolarisHttpGatedContentPage.react","PolarisHttpGatedContentPageWithShell.react","react","react-compiler-runtime","useGatedContentInfo","usePolarisGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.error,f=a.fullpage;a=a.postId;f=f===void 0?!0:f;var g;b[0]!==a?(g={query:{content_type:"MEDIA",target_id:a}},b[0]=a,b[1]=g):g=b[1];g=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",g);g=d("useGatedContentInfo").useGatedContentInfo(g);if(g==null)throw e;e=f?c("PolarisHttpGatedContentPageWithShell.react"):c("PolarisHttpGatedContentPage.react");b[2]!==e||b[3]!==g||b[4]!==a?(f=i.jsx(e,{entityId:a,gatedContentInfo:g}),b[2]=e,b[3]=g,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("PolarisPostTimestamp.react",["IGDSText.react","PolarisFastLink.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisTimestamp.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.code,f=a.isVideo,g=a.postedAt,h=a.productType;a=a.username;var j;b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==a?(j=d("PolarisLinkBuilder").buildUsernameMediaLink(a,e,{isVideo:f,productType:h}),b[0]=e,b[1]=f,b[2]=h,b[3]=a,b[4]=j):j=b[4];e=j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f={navigation_source:"polaris_timestamp"},b[5]=f):f=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x1p4m5qa",b[6]=h):h=b[6];b[7]!==g?(a=i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:i.jsx(c("PolarisTimestamp.react"),{className:h,isLong:!0,value:g})}),b[7]=g,b[8]=a):a=b[8];b[9]!==e||b[10]!==a?(j=i.jsx(c("PolarisIGCoreText"),{display:"block",zeroMargin:!0,children:i.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:e,traceParams:f,children:a})}),b[9]=e,b[10]=a,b[11]=j):j=b[11];return j}g["default"]=a}),98);
__d("PolarisPostToastProvider.react",["react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.useContext,k=d.useMemo,l=d.useRef,m=d.useState,n={ActionText:null,BodyText:null,actionHref:"/",positionStyles:{absolutePositionStyles:{},width:0},postToastContainerElem:null,setActionHref:function(){},setActionText:function(){},setBodyText:function(){},setPositionStyles:function(){},setShowToast:function(){},showToast:!1},o=i.createContext(n);function a(){return j(o)}function b(a){var b=a.ActionText,c=a.BodyText,d=a.actionHref,e=a.setActionHref,f=a.setActionText,g=a.setBodyText;a=a.setShowToast;e(d);f(b);g(c);a(!0)}function e(a){var b=a.children;a=a.ref;var d=m(null),e=d[0],f=d[1];d=m(null);var g=d[0],h=d[1];d=m("");var j=d[0],p=d[1];d=m(n.positionStyles);var q=d[0],r=d[1];d=m(!1);var s=d[0],t=d[1],u=l(null);d=c("useMergeRefs")(u,a);a=k(function(){return{ActionText:e,BodyText:g,actionHref:j,positionStyles:q,postToastContainerElem:u.current,setActionHref:p,setActionText:f,setBodyText:h,setPositionStyles:r,setShowToast:t,showToast:s}},[e,g,j,q,s]);return i.jsx(o.Provider,{value:a,children:b(d)})}e.displayName=e.name+" [from "+f.id+"]";d=e;g.usePostToastContext=a;g.showPostToast=b;g.PostToastProvider=d}),98);
__d("PolarisPostTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.isVideo===!0)return"video";return a.sidecarChildren&&a.sidecarChildren.length>0?"sidecar":"photo"}f.getPostType=a}),66);
__d("PolarisPostViewInsights.react",["fbt","CometPlaceholder.react","CometRouteParams","IGDSButton.react","JSResourceForInteraction","PolarisLinkBuilder","QuickPerformanceLogger","lazyLoadComponent","qex","qpl","react","react-compiler-runtime","useCometRouterDispatcher","useCometRouterState","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostViewInsights.react"));function o(a){switch(a){case"com.instagram.insights.media_refresh.videos.ad_bottom_sheet.action":c("vulture")("7l5rY32QVdq-eCD3CAzNcuV8uCQ=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.videos.bottom_sheet.action":c("vulture")("LX-vsgHyqzB9y-Uv3C3Yr5tIQa0=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.clips.ad_bottom_sheet.action":c("vulture")("fq4tvnGuHKa8kHQcGSoebUlXHmo=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;case"com.instagram.insights.media_refresh.clips.bottom_sheet.action":c("vulture")("UlWm4Cm8PYWtthX5uhCc7mbWzBA=");(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;default:c("vulture")("TR9QY86o7EcTmYb4Is0yUw-sRhc="),(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39124994,"1612"),0)}}function a(a){var b=d("react-compiler-runtime").c(21),e=a.bloksAppId,f=a.mediaId;a=d("CometRouteParams").useRouteParams();var g=a.show_insights;a=m(Boolean(g));var i=a[0],j=a[1],p=c("useCometRouterDispatcher")(),q=c("useCometRouterState")(),r;b[0]!==g?(a=function(){j(Boolean(g))},r=[g],b[0]=g,b[1]=a,b[2]=r):(a=b[1],r=b[2]);l(a,r);b[3]!==f?(a={media_id:f},b[3]=f,b[4]=a):a=b[4];r=a;a=r;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(){return j(!1)},b[5]=r):r=b[5];r=r;var s;b[6]!==e||b[7]!==p||b[8]!==f||b[9]!==(q==null?void 0:q.main)?(s=function(){var a;a=(a=c("qex")._("1542"))!=null?a:!1;a?p==null?void 0:p.go(d("PolarisLinkBuilder").buildImmersiveMediaInsightsLink(String(f)),{passthroughProps:{fallbackUrl:q==null?void 0:q.main.route.url},target:"self"}):(j(!0),o(e))},b[6]=e,b[7]=p,b[8]=f,b[9]=q==null?void 0:q.main,b[10]=s):s=b[10];s=s;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Ver insights"),b[11]=t):t=b[11];b[12]!==s?(t=k.jsx(c("IGDSButton.react"),{display:"block",label:t,onClick:s,variant:"primary_link"}),b[12]=s,b[13]=t):t=b[13];b[14]!==e||b[15]!==a||b[16]!==i?(s=i?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(n,{appId:e,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:r},loadingFallback:k.jsx("div",{}),params:a})}):null,b[14]=e,b[15]=a,b[16]=i,b[17]=s):s=b[17];b[18]!==t||b[19]!==s?(r=k.jsxs("section",{children:[t,s]}),b[18]=t,b[19]=s,b[20]=r):r=b[20];return r}g["default"]=a}),226);
__d("PolarisPostViews.react",["cx","fbt","CometVisualCompletionAttributes","IGDSTextVariants.react","PolarisBigNumber.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function m(a){return a===1?i._(/*BTDS*/"{count} reproducci\u00f3n",[i._param("count",a)]):i._(/*BTDS*/"{count} reproducciones",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a===1?i._(/*BTDS*/"{count} Me gusta",[i._param("count",a)]):i._(/*BTDS*/"{count} Me gusta",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=d("react-compiler-runtime").c(11),c=a.likeCount;a=a.onClose;var e;b[0]!==a?(e=k.jsx("div",{className:"_aaur",onClick:a,role:"button",tabIndex:"0"}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:"_aaus"}),b[2]=a):a=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"_aaut"}),b[3]=f):f=b[3];var g="_aauu",h;b[4]!==c?(h=n(c),b[4]=c,b[5]=h):h=b[5];b[6]!==h?(c=k.jsx("div",{className:g,children:h}),b[6]=h,b[7]=c):c=b[7];b[8]!==e||b[9]!==c?(g=k.jsxs("div",{children:[e,a,f,c]}),b[8]=e,b[9]=c,b[10]=g):g=b[10];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.analyticsContext,f=a.likeCount;a=a.viewCount;var g=l(!1),h=g[0],i=g[1];b[0]!==e||b[1]!==h?(g=function(){h||c("polarisLogAction")("viewCountClick",{source:e}),i(!h)},b[0]=e,b[1]=h,b[2]=g):g=b[2];g=g;var j="_aauv",n="_aauw",p;b[3]!==a?(p=m(a),b[3]=a,b[4]=p):p=b[4];b[5]!==p?(a=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{zeroMargin:!0,children:p}),b[5]=p,b[6]=a):a=b[6];b[7]!==g||b[8]!==a?(p=k.jsx("span",babelHelpers["extends"]({className:n,onClick:g,role:"button",tabIndex:"0"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:a})),b[7]=g,b[8]=a,b[9]=p):p=b[9];b[10]!==g||b[11]!==f||b[12]!==h?(n=h&&k.jsx(o,{likeCount:f,onClose:g}),b[10]=g,b[11]=f,b[12]=h,b[13]=n):n=b[13];b[14]!==p||b[15]!==n?(a=k.jsxs("div",{className:j,children:[p,n]}),b[14]=p,b[15]=n,b[16]=a):a=b[16];return a}g["default"]=a}),226);
__d("PolarisProfessionalConversionCardTypeConfigs.react",["fbt","ix","IGCoreImage.react","IGDSAdsPanoOutlineIcon.react","IGDSBox.react","IGDSBusinessPanoOutlineIcon.react","IGDSDeviceDesktopPanoOutlineIcon.react","IGDSDevicePhonePanoOutlineIcon.react","IGDSInsightsPanoOutlineIcon.react","IGDSMailPanoOutlineIcon.react","IGDSMediaAccountOutlineIcon.react","IGDSMessagesOutlineIcon.react","IGDSUserPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisFastLink.react","PolarisProfessionalConversionUtils","PolarisUserAvatar.react","react","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=64,m=40,n=24,o=4,p={subtitle:h._(/*BTDS*/"Elige la categor\u00eda que mejor describa lo que haces. Tendr\u00e1s la opci\u00f3n de mostrar u ocultar esta informaci\u00f3n en tu perfil."),title:h._(/*BTDS*/"Selecciona una categor\u00eda")},q={subtitle:h._(/*BTDS*/"Esta informaci\u00f3n se mostrar\u00e1 en tu perfil de manera p\u00fablica para que sea m\u00e1s f\u00e1cil contactar contigo. Puedes editar o suprimir la informaci\u00f3n cuando quieras."),title:h._(/*BTDS*/"Revisa tu informaci\u00f3n de contacto")},r=h._(/*BTDS*/"Ahora dispones de m\u00e1s herramientas para conectar con tu audiencia en Instagram.");function s(a){return a!=null||a!==void 0?h._(/*BTDS*/"Ve a la aplicaci\u00f3n para m\u00f3viles para obtener insights sobre los seguidores de {username}, mostrar y editar botones de contacto, llegar a los clientes con promociones y mucho m\u00e1s.",[h._param("username",a)]):h._(/*BTDS*/"Ve a la aplicaci\u00f3n para m\u00f3viles para obtener insights sobre tus seguidores, mostrar y editar botones de contacto, llegar a los clientes con promociones y mucho m\u00e1s.")}var t=h._(/*BTDS*/"Administra tu nueva cuenta empresarial en el ordenador con {=m1}",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._(/*BTDS*/"Business Suite.")}))]),u=h._(/*BTDS*/"Administra tu nueva cuenta de creador en el ordenador con {=m1}",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._(/*BTDS*/"Business Suite.")}))]),v={secondary_subtitle:h._(/*BTDS*/"A continuaci\u00f3n, a\u00f1ade WhatsApp a tu perfil."),subtitle:r,title:h._(/*BTDS*/"Tu cuenta de creador de Instagram est\u00e1 lista")};r={secondary_subtitle:h._(/*BTDS*/"A continuaci\u00f3n, a\u00f1ade WhatsApp a tu perfil."),subtitle:r,title:h._(/*BTDS*/"Tu cuenta empresarial de Instagram est\u00e1 lista")};var w={subtitle:h._(/*BTDS*/"Cuando vuelvas a cambiar a una cuenta personal, las insights en la aplicaci\u00f3n se desactivar\u00e1n y las de todo tu contenido, incluido el contenido y las insights para las promociones, se suprimir\u00e1n de forma permanente."),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")},x={subtitle:h._(/*BTDS*/"Si cambias a una cuenta personal, perder\u00e1s el acceso a las insights de todo tu contenido, incluidos los anuncios. Tambi\u00e9n perder\u00e1s el acceso a las herramientas de Meta para empresas, como Meta Business Suite y el Administrador de anuncios. Adem\u00e1s, se cancelar\u00e1 tu suscripci\u00f3n a Meta Verified para esta cuenta."),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")},y={subtitle:h._(/*BTDS*/"Cuando vuelvas a cambiar a una cuenta personal, las insights en la aplicaci\u00f3n se desactivar\u00e1n y las de todo tu contenido, incluidas las promociones, se suprimir\u00e1n de forma permanente. Tu suscripci\u00f3n a Meta Verified tambi\u00e9n se cancelar\u00e1 en esta cuenta."),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")};function a(a){return{subtitle:h._(/*BTDS*/"Cuando cambies de nuevo a una cuenta personal, las insights en la aplicaci\u00f3n se desactivar\u00e1n y las de todo tu contenido, incluidas las promociones, se eliminar\u00e1n de forma permanente. Si no vuelves a una cuenta profesional en un plazo de {grace period expiry days} d\u00edas, se cancelar\u00e1 tu suscripci\u00f3n a Meta Verified para esta cuenta.",[h._param("grace period expiry days",a)]),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")}}var z={subtitle:h._(/*BTDS*/"Si cambias a una cuenta personal, perder\u00e1s el acceso a las insights en la aplicaci\u00f3n y a las insights de todo tu contenido, incluidas las promociones. Adem\u00e1s, se cancelar\u00e1 la suscripci\u00f3n a Meta Verified para esta cuenta."),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")};function b(a){return{subtitle:h._(/*BTDS*/"Al cambiar a una cuenta personal, perder\u00e1s el acceso a las insights en la aplicaci\u00f3n y a las insights de todo tu contenido, incluidas las promociones. Si no vuelves a una cuenta profesional en un plazo de {grace period expiry days} d\u00edas, se cancelar\u00e1 tu suscripci\u00f3n a Meta Verified para esta cuenta.",[h._param("grace period expiry days",a)]),title:h._(/*BTDS*/"\u00bfCambiar a cuenta personal?")}}var A={subtitle:h._(/*BTDS*/"Si cambias a una cuenta de creador, tu cuenta de Instagram se volver\u00e1 p\u00fablica. Cualquier persona podr\u00e1 ver tu contenido, y se aprobar\u00e1n todas las solicitudes para seguirte que est\u00e9n pendientes."),title:h._(/*BTDS*/"\u00bfCambiar a una cuenta de creador?")},B={subtitle:h._(/*BTDS*/"Tu perfil y tu contenido en Instagram ser\u00e1n p\u00fablicos. Cualquier persona podr\u00e1 ver tu contenido en los resultados de los motores de b\u00fasqueda, aunque puedes desactivar esta opci\u00f3n en cualquier momento desde la configuraci\u00f3n en Privacidad de la cuenta. Ya no tendr\u00e1s que aprobar a los seguidores y todas las solicitudes pendientes se aprobar\u00e1n autom\u00e1ticamente."),title:h._(/*BTDS*/"\u00bfCambiar a una cuenta profesional?")},C={subtitle:h._(/*BTDS*/"Si cambias a una cuenta empresarial, tu cuenta de Instagram se volver\u00e1 p\u00fablica. Cualquier persona podr\u00e1 ver tu contenido, y se aprobar\u00e1n todas las solicitudes para seguirte que est\u00e9n pendientes."),title:h._(/*BTDS*/"\u00bfCambiar a una cuenta empresarial?")},D={subtitle:h._(/*BTDS*/"Tu perfil y tu contenido en Instagram ser\u00e1n p\u00fablicos. Cualquier persona podr\u00e1 ver tu contenido en los resultados de los motores de b\u00fasqueda, aunque puedes desactivar esta opci\u00f3n en cualquier momento desde la configuraci\u00f3n en Privacidad de la cuenta. Ya no tendr\u00e1s que aprobar a los seguidores y todas las solicitudes pendientes se aprobar\u00e1n autom\u00e1ticamente."),title:h._(/*BTDS*/"\u00bfCambiar a una cuenta profesional?")},E={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSMediaAccountOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de creador de contenido multimedia"),size:n})}),subtitle:h._(/*BTDS*/"La mejor opci\u00f3n para personajes p\u00fablicos, productores de contenido, artistas e influencers."),title:h._(/*BTDS*/"Creador")},F={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSBusinessPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de cuenta empresarial"),size:n})}),subtitle:h._(/*BTDS*/"La mejor opci\u00f3n para minoristas, empresas locales, marcas, organizaciones y proveedores de servicios."),title:h._(/*BTDS*/"Empresa")};function e(a){var b=(a==null?void 0:a.username)||"";a=(a=a==null?void 0:a.profilePictureUrlHd)!=null?a:"/images/instagram/xig/anonymousUser.jpg?__d=www";return{icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:l,username:b})}),subtitle:h._(/*BTDS*/"Con una cuenta profesional, puedes acceder a insights sobre tus seguidores y el rendimiento de tu cuenta, nuevas formas de contactar y mucho m\u00e1s."),title:h._(/*BTDS*/"Consigue una cuenta profesional gratuita")}}function f(a){switch(a){case d("PolarisProfessionalConversionUtils").InterestAccount.media_creator:c("vulture")("KWrlYVnip1ukUh8clpJ1CLex6wo=");return{subtitle:h._(/*BTDS*/"Seg\u00fan la categor\u00eda que has seleccionado, podr\u00edas necesitar una cuenta de creador. Puedes editar esta opci\u00f3n cuando quieras."),title:h._(/*BTDS*/"\u00bfEres creador?")};case d("PolarisProfessionalConversionUtils").InterestAccount.business:c("vulture")("_A2J0oNrvwGSN_VZyehubSkI94I=");return{subtitle:h._(/*BTDS*/"Seg\u00fan la categor\u00eda que has seleccionado, podr\u00edas necesitar una cuenta empresarial. Puedes editar esta selecci\u00f3n cuando quieras."),title:h._(/*BTDS*/"\u00bfTienes una empresa?")};default:return{subtitle:null,title:h._(/*BTDS*/"\u00bfQu\u00e9 categor\u00eda te identifica mejor?")}}}var G=[{icon:k.jsx(c("IGDSUserPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de usuario"),size:n}),subtitle:h._(/*BTDS*/"Puedes elegir ocultar o mostrar la informaci\u00f3n de contacto y los botones en tu perfil."),title:h._(/*BTDS*/"Controles de perfiles flexibles")},{icon:k.jsx(c("IGDSMessagesOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de mensajes"),altDeprecated:h._(/*BTDS*/"Icono de mensajes directos"),size:n}),subtitle:h._(/*BTDS*/"La nueva bandeja de entrada hace que sea m\u00e1s f\u00e1cil administrar las solicitudes de mensajes y conectar con los fans."),title:h._(/*BTDS*/"Mensajer\u00eda simplificada")},{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de insights"),size:n}),subtitle:h._(/*BTDS*/"Obt\u00e9n insights m\u00e1s avanzadas y llega a m\u00e1s personas con tus promociones."),title:h._(/*BTDS*/"M\u00e1s herramientas de crecimiento")}];function H(a){return[{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de insights"),size:n}),subtitle:h._(/*BTDS*/"Obt\u00e9n insights sobre tus seguidores y consulta el rendimiento de tus publicaciones."),title:h._(/*BTDS*/"Obt\u00e9n informaci\u00f3n sobre tus seguidores")},{icon:k.jsx(c("IGDSAdsPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de anuncios"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._(/*BTDS*/"Crea promociones en Instagram para llegar a m\u00e1s clientes y consolidar tu empresa."):h._(/*BTDS*/"Crea promociones en Instagram para llegar a m\u00e1s personas y consolidar tu comunidad."),title:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._(/*BTDS*/"Llega a tus clientes"):h._(/*BTDS*/"Llega a m\u00e1s personas")},{icon:k.jsx(c("IGDSMailPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de correo electr\u00f3nico"),size:n}),subtitle:h._(/*BTDS*/"A\u00f1ade un bot\u00f3n de contacto a tu perfil para que las personas puedan contactar contigo f\u00e1cilmente."),title:h._(/*BTDS*/"Conseguir nuevas opciones de contactos")}]}function I(a,b){return[{icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de tel\u00e9fono m\u00f3vil"),size:n}),subtitle:s(b)},{icon:k.jsx(c("IGDSDeviceDesktopPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de ordenador"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.media_creator?u:t}]}var J=h._(/*BTDS*/"Se ha producido un error. Vuelve a intentarlo m\u00e1s tarde."),K=h._(/*BTDS*/"Si quieres mostrar un bot\u00f3n de contacto en tu perfil, tienes que a\u00f1adir tu informaci\u00f3n de contacto."),L=h._(/*BTDS*/"Has cambiado a una cuenta personal");function M(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"Tu categor\u00eda comercial en Instagram no se admite en WhatsApp."),title:h._(/*BTDS*/"No se puede a\u00f1adir WhatsApp a tu perfil")}}function N(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"Permite que las personas que visitan tu perfil se pongan en contacto contigo en WhatsApp con facilidad."),title:h._(/*BTDS*/"A\u00f1ade WhatsApp a tu perfil")}}var O=h._(/*BTDS*/"Instagram"),P=h._(/*BTDS*/"WhatsApp"),Q=" \xb7 ";function R(a){return{icon:k.jsx(k.Fragment,{}),subtitle:h._(/*BTDS*/"Este perfil ya tiene un n\u00famero de WhatsApp como opci\u00f3n de contacto. Si decides continuar, +{whatsapp phone } reemplazar\u00e1 a este n\u00famero.",[h._param("whatsapp phone ",a)]),title:h._(/*BTDS*/"Ya se ha a\u00f1adido WhatsApp")}}function S(a,b){return{icon:k.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de WhatsApp"),size:m}),subtitle:h._(/*BTDS*/"{whatsapp business name}",[h._param("whatsapp business name",a)]),title:h._(/*BTDS*/"+{whatsapp phone }",[h._param("whatsapp phone ",b)])}}function T(a,b,d){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a!=null?a:"",size:m,username:b!=null?b:""}),subtitle:h._(/*BTDS*/"{instagram business category}",[h._param("instagram business category",d)]),title:h._(/*BTDS*/"{instagram business name}",[h._param("instagram business name",b)])}}function U(a){return{icon:k.jsx(c("IGCoreImage.react"),{alt:h._(/*BTDS*/"Marca de verificaci\u00f3n de \u00e9xito en Instagram"),src:{light:i("162687")}}),subtitle:h._(/*BTDS*/"WhatsApp es ahora una opci\u00f3n de contacto en tu perfil de {whatsapp business name}.",[h._param("whatsapp business name",a)]),title:h._(/*BTDS*/"WhatsApp a\u00f1adido")}}var V={icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Icono de tel\u00e9fono m\u00f3vil"),size:n}),subtitle:h._(/*BTDS*/"Ve a la aplicaci\u00f3n de Instagram para a\u00f1adir otros botones de contacto, crear promociones y obtener insights de tus seguidores.")};g.ICON_SIZE=n;g.DIVIDER_PADDING=o;g.CATEGORY_SELECTION_CARD_CONFIGS=p;g.CONTACT_INFO_CARD_CONFIGS=q;g.getConfirmationBody=s;g.CREATOR_CONFIRMATION_CARD_CONFIGS=v;g.BUSINESS_CONFIRMATION_CARD_CONFIGS=r;g.SWITCHBACK_PERSONAL_CARD_CONFIGS=w;g.SWITCHBACK_PERSONAL_CARD_LOSE_ACCESS_CONFIGS=x;g.SWITCHBACK_PERSONAL_CARD_FOR_MV4B_CONFIGS=y;g.getSwitchbackPersonalCardForMv4BConfigsWithGracePeriod=a;g.SWITCHBACK_PERSONAL_CARD_WITH_LOSE_ACCESS_CONTENT_FOR_MV4B_CONFIGS=z;g.getSwitchbackPersonalCardWithLoseAccessContentForMv4BConfigsWithGracePeriod=b;g.CREATOR_PRIVACY_CARD_CONFIGS=A;g.CREATOR_PRIVACY_CARD_CONFIGS_V2=B;g.BUSINESS_PRIVACY_CARD_CONFIGS=C;g.BUSINESS_PRIVACY_CARD_CONFIGS_V2=D;g.CREATOR_CARD_CONFIGS=E;g.BUSINESS_CARD_CONFIGS=F;g.getGenericCardConfigs=e;g.getAccountSelectionCardConfigs=f;g.CREATOR_VALUE_PROPS=G;g.getBusinessOrGenericValueProps=H;g.getConfirmationValueProps=I;g.CONVERSION_ERROR=J;g.CONVERSION_NO_CONTACT_INFO_ERROR=K;g.SWITCHED_TO_PERSONAL_ACCOUNT=L;g.getAddWhatsAppCategoryModalConfigs=M;g.getAddWhatsAppPageHeaderConfigs=N;g.INSTAGRAM=O;g.WHATSAPP=P;g.INTERPUNCT=Q;g.getAddWhatsAppPagePrelinkedWhatsAppConfigs=R;g.getAddWhatsAppPageBodyWhatsAppConfigs=S;g.getAddWhatsAppPageBodyInstagramConfigs=T;g.getWhatsAppLinkCompletionHeaderConfigs=U;g.WHATSAPP_LINK_COMPLETION_BODY_CONFIGS=V}),226);
__d("PolarisStepIndicator.react",["cx","joinClasses","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="horizontal",l="vertical",m="default",n="immersiveViewer",o="overlay",p="overlayShadow";function a(a){var b=d("react-compiler-runtime").c(11),e=a.className,f=a.direction,g=a.numSteps,h=a.selectedStep;a=a.style;f=f===void 0?k:f;a=a===void 0?m:a;var i=f===l;f=f===k;var q=a===m,r=a===o,s=a===p;i="_acvz"+(i?" _acnd":"")+(f?" _acnc":"")+(q?" _acne":"")+(r?" _acng":"")+(s?" _acnh":"")+(a===n?" _any_":"");b[0]!==e||b[1]!==i?(f=c("joinClasses")(e,i),b[0]=e,b[1]=i,b[2]=f):f=b[2];if(b[3]!==g||b[4]!==h){b[6]!==h?(q=function(a,b){return j.jsx("div",{className:"_acnb"+(b===h?" _acnf":"")},"step"+b)},b[6]=h,b[7]=q):q=b[7];r=new Array(g).fill(0).map(q);b[3]=g;b[4]=h;b[5]=r}else r=b[5];b[8]!==f||b[9]!==r?(s=j.jsx("div",{className:f,children:r}),b[8]=f,b[9]=r,b[10]=s):s=b[10];return s}g["default"]=a}),98);
__d("PolarisSidecar_DEPRECATED.react",["IGDSBox.react","PolarisPagerButton.react","PolarisResponsiveBlock.react","PolarisSizing","PolarisStepIndicator.react","PolarisVirtualHSnapScroll.react","getPolarisKeyCommandConfig","polarisLogAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=400;a=1;var k=1,l=a+k,m={areaClick:null,pagerClick:"click",scroll:"scroll",swipe:null};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.state={hoveredOver:!1,mediaWidth:b.props.initialMediaWidthGuess||0,sidecarChildIndex:b.props.initialCarouselIndex||0},b.$1=null,b.$2=!1,b.$3={},b.$4=function(a){var c=b.props,d=c.initialCarouselIndex;c=c.numSidecarChildren;b.$1=a;if(d!=null&&d>0&&d<c&&b.$2===!1){(a=b.$1)==null?void 0:a.snapToIndex(d);b.$2=!0}b.props.onSetScrollRef&&b.props.onSetScrollRef(b.$1)},b.$5=function(a){b.$2=a},b.$6=function(a){return Math.min(Math.pow(Math.abs(a),.75)*3,j)},b.$9=function(a){b.setState({mediaWidth:a})},b.$10=function(a){a=a.interactionType;a=m[a];a!=null&&!b.$3[a]&&(c("polarisLogAction")("sidecarEngagement",{source:" hscroll",type:a}),b.$3[a]=!0);b.props.onInteract&&b.props.onInteract()},b.$11=function(){var a=b.props,c=a.numSidecarChildren,d=a.onChildIndexChange,e=b.state.sidecarChildIndex,f=(a=(a=b.$1)==null?void 0:a.getCurrentIndex())!=null?a:0;f!==e&&f>=0&&f<c&&b.setState({sidecarChildIndex:f},function(){d&&d(e,f,c)})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.$7=function(){this.setState({hoveredOver:!0})};e.$8=function(){this.setState({hoveredOver:!1})};e.$12=function(){var a;return i.jsx(c("PolarisStepIndicator.react"),{className:"x6s0dn4 x1oozmrk x1f889gz xrr41r3 xl56j7k x47corl x10l6tqk",numSteps:this.props.numSidecarChildren,selectedStep:this.state.sidecarChildIndex,style:(a=this.props.stepIndicatorStyle)!=null?a:"overlay"})};e.$13=function(){var a=this.props,b=a.dimensions;a=a.numSidecarChildren;if(a===0)return null;a=b.toSorted(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(!a)return null;b=d("PolarisSizing").getHeightPercent(a);a={paddingBottom:b+"%"};return i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x1lliihq xdt5ytf x2lah0s xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6"},{style:a}))};e.$14=function(a){var b=this;return a==="immersiveViewer"?[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToNextIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToNext()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToPrevIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToPrev()})]:[]};e.render=function(){var a=this,b=this.props,e=b.autoScrollOnFocus,f=b.initialCarouselIndex,g=b.mediaFooter;b=b.numSidecarChildren;var h=this.state.mediaWidth,j=this.$12(),m=!this.props.hoverTriggeredPager,n=this.$14(this.props.stepIndicatorStyle);return i.jsxs("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s x1o0tod xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x13vifvy x11njtxf"},{onMouseEnter:function(){a.$7()},onMouseLeave:function(){a.$8()},ref:this.props.containerRef,children:[i.jsxs(c("PolarisResponsiveBlock.react"),{className:"x1lliihq x1n2onr6",onResize:this.$9,children:[this.$13(),h>0&&i.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:i.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:this.$6,autoScrollOnFocus:e,initialIndex:f!=null?f:0,initialNextPagerVisibleGuess:f!=null&&f<b,initialPreviousPagerVisibleGuess:f!=null&&f>0,initialVisibleItemsGuess:l,itemWidth:h,navigationCommands:n,onInteract:this.$10,onVisibilityChange:this.$11,overscan:this.props.renderAllSidecarChildren===!0?b:k,pagerDisabled:!m&&!this.state.hoveredOver,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.sidecar,scrollRef:this.$4,setScrollRefMounted:this.$5,children:this.props.renderSidecarChildren(this.state.mediaWidth,this.state.sidecarChildIndex)})})]}),g,j]}))};return b}(i.PureComponent);e=b;g._Sidecar=b;g.Sidecar=e}),98);
__d("PolarisThreadedCommentsLoadMoreButton.react",["fbt","IGDSBox.react","IGDSCircleAddPanoOutlineIcon.react","IGDSSpinner.react","PolarisIGCoreSVGIconButton.react","PolarisIsLoggedIn","PolarisUA","react","react-compiler-runtime","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Cargar m\u00e1s comentarios");function a(a){var b=d("react-compiler-runtime").c(17),e=a.commentsIsFetching,f=a.handleLoadMoreCommentsClick,g=a.marginBottom,h=a.marginTop,i=a.url;a=c("usePolarisLoggedOutIntentEntryPointDialog")();var l=a[0],m=a[1];b[0]!==f||b[1]!==i||b[2]!==l?(a=function(a){a.preventDefault(),d("PolarisUA").isDesktop()&&!d("PolarisIsLoggedIn").isLoggedIn()?l==null?void 0:l({contentReportingLink:i,nextUrl:i,source:"post_comment_view_all"}):f(i)},b[0]=f,b[1]=i,b[2]=l,b[3]=a):a=b[3];var n=a;b[4]!==m?(a=function(){d("PolarisUA").isDesktop()&&!d("PolarisIsLoggedIn").isLoggedIn()&&(m==null?void 0:m())},b[4]=m,b[5]=a):a=b[5];a=a;var o;b[6]!==e||b[7]!==n||b[8]!==a?(o=!e&&j.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:function(a){return n(a)},onMouseEnter:a,children:j.jsx(c("IGDSCircleAddPanoOutlineIcon.react"),{alt:k})}),b[6]=e,b[7]=n,b[8]=a,b[9]=o):o=b[9];b[10]!==e?(a=e&&j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"}),b[10]=e,b[11]=a):a=b[11];b[12]!==g||b[13]!==h||b[14]!==o||b[15]!==a?(e=j.jsxs(c("IGDSBox.react"),{justifyContent:"center",marginBottom:g,marginTop:h,minHeight:40,position:"relative",children:[o,a]}),b[12]=g,b[13]=h,b[14]=o,b[15]=a,b[16]=e):e=b[16];return e}g["default"]=a}),226);
__d("PolarisTrackingCodeProvider.react",["PolarisTrackingCodeContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.isSponsored,g=a.m_pk;a=a.trackingToken;var h=j(c("PolarisTrackingCodeContext")),k;b[0]!==f||b[1]!==g||b[2]!==a?(k=a.length===0?null:{isSponsored:f,m_pk:g,trackingToken:a},b[0]=f,b[1]=g,b[2]=a,b[3]=k):k=b[3];f=k;b[4]!==h||b[5]!==f?(g=[f].concat(h),b[4]=h,b[5]=f,b[6]=g):g=b[6];a=g;k=a;b[7]!==e||b[8]!==k?(h=i.jsx(c("PolarisTrackingCodeContext").Provider,{value:k,children:e}),b[7]=e,b[8]=k,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("PolarisVideoLogger",["FBLogger","InstagramODS","PolarisIsLoggedIn","PolarisLogger","PolarisNavChain","PolarisPigeonLogger","pageID"],(function(a,b,c,d,e,f,g){"use strict";e={audioDisabled:"video_audio_disabled",audioEnabled:"video_audio_enabled",bufferingFinished:"video_buffering_finished",bufferingStarted:"video_buffering_started",exited:"video_exited",failedPlaying:"video_failed_playing",formatChanged:"video_format_changed",fullViewedTime:"video_full_viewed_time",paused:"video_paused",playingUpdate:"video_playing_update",seek:"video_seek",shouldStart:"video_should_start",startedPlaying:"video_started_playing",viewabilityChanged:"instagram_video_viewability_changed",viewed:"video_viewed",viewedTime:"video_viewed_time"};function h(a){var b=a.carouselParentId,e=a.id,f=a.isAd,g=a.isDashEligible,h=a.navChain,i=a.ownerId,j=a.playbackFormat,k=a.trackingToken,l=babelHelpers.objectWithoutPropertiesLoose(a,["carouselParentId","id","isAd","isDashEligible","navChain","ownerId","playbackFormat","trackingToken"]);a=d("PolarisLogger").getExtra(a);a=a.ig_userid;i=i||"";e=e||"";b=b!=null?{carousel_media_id:e+"_"+i,m_pk:b+"_"+i}:{m_pk:e+"_"+i};return babelHelpers["extends"]({},l,{},b,{a_i:f===!0?"ad":"organic",a_pk:i,is_dash_eligible:g,nav_chain:h!=null?h:(e=c("PolarisNavChain").getInstance())==null?void 0:e.getNavChainForSend(),pk:a,playback_format:j,time_spent_id:c("pageID"),tracking_token:k})}function a(a){return a!=null?Number(a.toFixed(2)):null}function b(b,e,a){if(!d("PolarisIsLoggedIn").isLoggedIn())return;var g=h(e);if(g.tracking_token==null){c("FBLogger")("ig_web").mustfix("Video: can't log event without a tracking token!");return}e.isAd===!0&&c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.ads."+a+"."+b);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(b,g,{module:a}))}g.VIDEO_EVENTS=e;g.normalizeVideoEvent=a;g.logVideoEvent=b}),98);
__d("XPolarisMobileAllCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p/{shortcode}/comments/",Object.freeze({enable_persistent_cta:!1}),void 0);b=a;g["default"]=b}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){if(j(a))return h;var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(k)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(l)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(l)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){for(var b of a.children){var c;if(((c=b.dataset)==null?void 0:c.virtualized)==="true")return!Boolean(a.style.display)}return!1},k=function(a){return a.offsetHeight+a.offsetWidth>0},l=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("polarisAdsSelectors.react",["PolarisContainerModuleUtils","PolarisReactRedux.react","PolarisReportConstants","polarisCreateSelectorWithArg","polarisStorySelectors","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisSponsoredStoryLoggingParams","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=c("polarisCreateSelectorWithArg"))(function(a){return a.ads.feed},function(a){return function(b){return a.get(b)}}),j=h(function(a){return a.ads.feed},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}}),k=h(function(a){return a.ads.story},function(a){return function(b){return a.findKey(function(a){return a.ad_id===b})}});function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){if(a==null)return null;c=i(c,a);return b(c)},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){if(a==null)return null;c=l(c,a);return b(c)},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function e(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){return b(c.stories.currentTrayOrder.indexOf(a))},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}var l=h(function(a){return a.ads.story},function(a){return function(b){return a.get(b)}});function m(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==a||c[1]!==b?(e=function(c){if(b===d("PolarisReportConstants").FRXLocation.FEED)return j(c,a);else if(b===d("PolarisReportConstants").FRXLocation.STORY)return k(c,a);return null},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function n(a,b,c){var e=d("react-compiler-runtime").c(4),f;e[0]!==c||e[1]!==b||e[2]!==a?(f=function(e){if(a==null)return null;var f=null;b===d("PolarisReportConstants").FRXLocation.FEED?f=i(e,a):b===d("PolarisReportConstants").FRXLocation.STORY&&(f=l(e,a));return c(f)},e[0]=c,e[1]=b,e[2]=a,e[3]=f):f=e[3];return d("PolarisReactRedux.react").useSelector(f)}function f(a,b){var e,f=d("react-compiler-runtime").c(17),g=(e=m(a,b))!=null?e:a;e=n(g,b,o);f[0]!==g?(a=function(a){return a.posts.byId.get(g)},f[0]=g,f[1]=a):a=f[1];a=d("PolarisReactRedux.react").useSelector(a);var h=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentReel);h=c("usePolarisSponsoredStoryLoggingParams")(h,a);a=h.adInsertedPosition;var i=h.mpk,j=h.reelId,k=h.sessionReelCounter,l=h.traySession;h=h.viewerSession;var p;f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p={},f[2]=p):p=f[2];p=p;if(b===d("PolarisReportConstants").FRXLocation.STORY){f[3]!==a||f[4]!==j||f[5]!==k||f[6]!==l||f[7]!==h?(b={ad_inserted_position:a,reel_id:j,session_reel_counter:k,tray_session_id:l,viewer_session_id:h},f[3]=a,f[4]=j,f[5]=k,f[6]=l,f[7]=h,f[8]=b):b=f[8];p=b}a=c("usePolarisViewer")();j=c("usePolarisAnalyticsContext")();f[9]!==j?(k=d("PolarisContainerModuleUtils").getContainerModule(j),f[9]=j,f[10]=k):k=f[10];l=k;h=a==null?void 0:a.id;f[11]!==e||f[12]!==l||f[13]!==i||f[14]!==p||f[15]!==h?(b=babelHelpers["extends"]({m_pk:i,pigeon_reserved_keyword_module:l,pk:h,source_of_action:l,tracking_token:e},p),f[11]=e,f[12]=l,f[13]=i,f[14]=p,f[15]=h,f[16]=b):b=f[16];return b}function o(a){return a==null?void 0:a.tracking_token}g.useFeedAdInfo=a;g.useStoryAdInfo=b;g.useStoryAdPosition=e;g.useAdPostIDFromAdIDForFRX=m;g.useAdInfoForFRX=n;g.useFRXReportAdLoggingParams=f}),98);
__d("usePolarisSponsoredStoryLoggingParams",["PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","polarisStorySelectors","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=d("react-compiler-runtime").c(41),g=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,k),l;f[0]!==(a==null?void 0:a.id)?(l=function(b){return b.stories.currentTrayOrder.indexOf(a==null?void 0:a.id)},f[0]=a==null?void 0:a.id,f[1]=l):l=f[1];l=c("usePolarisSelector")(l);var m;f[2]!==l?(m=l.toString(),f[2]=l,f[3]=m):m=f[3];l=m;m=(m=a==null?void 0:a.isSponsored)!=null?m:!1;var n=c("usePolarisSelector")(j),o=c("usePolarisAnalyticsContext")(),p;f[4]!==o?(p=d("PolarisContainerModuleUtils").getContainerModule(o),f[4]=o,f[5]=p):p=f[5];o=p;p=d("polarisRelationshipSelectors.react").useRelationship((p=b==null?void 0:b.ownerId)!=null?p:"");var q;f[6]!==p?(q=p!=null?d("PolarisViewpointActionUtils").getFollowStatus(p):null,f[6]=p,f[7]=q):q=f[7];p=q;f[8]!==(a==null?void 0:a.id)?(q=function(b){return d("polarisStorySelectors").getGapToPreviousAd(b,a==null?void 0:a.id)},f[8]=a==null?void 0:a.id,f[9]=q):q=f[9];q=c("usePolarisSelector")(q);var r;f[10]!==b?(r=b!=null?d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString():null,f[10]=b,f[11]=r):r=f[11];r=r;if(f[12]!==b){var s;s=b!=null?d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,(s=b.owner)==null?void 0:s.id):null;f[12]=b;f[13]=s}else s=f[13];s=s;var t=b==null?void 0:b.owner;t=t==null?void 0:t.id;if(f[14]!==(b==null?void 0:b.postedAt)){var u;u=b==null?void 0:(u=b.postedAt)==null?void 0:u.toString();f[14]=b==null?void 0:b.postedAt;f[15]=u}else u=f[15];u=u;var v=a==null?void 0:a.id;if(f[16]!==(a==null?void 0:(e=a.itemIds)==null?void 0:e.length)){var w;e=a==null?void 0:(e=a.itemIds)==null?void 0:e.length.toString();f[16]=a==null?void 0:(w=a.itemIds)==null?void 0:w.length;f[17]=e}else e=f[17];w=e;e=a==null?void 0:a.type;var x;f[18]!==e?(x=d("PolarisStoriesLoggingUtils").getTypeForLogging(e),f[18]=e,f[19]=x):x=f[19];e=x;var y;f[20]===Symbol["for"]("react.memo_cache_sentinel")?(x=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData(),y=x.reelCounter.toString(),f[20]=x,f[21]=y):(x=f[20],y=f[21]);y=y;b=d("polarisAdsSelectors.react").useStoryAdInfo(b==null?void 0:b.id,i);var z=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent);z=z.traySession;var A=c("usePolarisSelector")(h),B=c("usePolarisViewer")();B=B==null?void 0:B.id;f[22]!==g||f[23]!==o||f[24]!==p||f[25]!==q||f[26]!==m||f[27]!==r||f[28]!==s||f[29]!==t||f[30]!==u||f[31]!==v||f[32]!==w||f[33]!==e||f[34]!==l||f[35]!==n||f[36]!==b||f[37]!==z||f[38]!==B||f[39]!==A?(x={adId:g,adInsertedPosition:l,containerModule:o,followStatus:p,gapToLastAd:q,isReelSponsored:m,loggingData:x,mediaType:r,mpk:s,ownerId:t,postedAt:u,reelId:v,reelSize:w,reelType:e,reelViewerPosition:l,sessionReelCounter:y,storyAdInjectionData:n,trackingToken:b,traySession:z,viewerId:B,viewerSession:A},f[22]=g,f[23]=o,f[24]=p,f[25]=q,f[26]=m,f[27]=r,f[28]=s,f[29]=t,f[30]=u,f[31]=v,f[32]=w,f[33]=e,f[34]=l,f[35]=n,f[36]=b,f[37]=z,f[38]=B,f[39]=A,f[40]=x):x=f[40];return x}function h(a){return a.stories.viewerSession}function i(a){return a==null?void 0:a.tracking_token}function j(a){return a.ads.storyAdInjectionData}function k(a){return a==null?void 0:a.ad_id}g["default"]=a}),98);
__d("polarisGetXDTMediaDict",["igMapTypenameToRelayID"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=c("igMapTypenameToRelayID")("XDTMediaDict",b,null);return a.get(b)}g["default"]=a}),98);
__d("polarisVideoUtils",["PolarisContainerModuleUtils","PolarisIsLoggedIn","PolarisRelationshipTypes","PolarisVideoConstants","PolarisVideoLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a==null?void 0:(a=a.followedByViewer)==null?void 0:a.state)===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING?"following":"not_following"}function b(a,b){if(a===d("PolarisVideoConstants").AUDIO_STATES.none)return!0;return b!==!0?!1:a!==d("PolarisVideoConstants").AUDIO_STATES.on}function c(a){return a==="feed"||a==="feedPage"||a==="followingFeedPage"||a==="favoritesFeedPage"||a==="pastPostsFeedPage"}function e(a,b,c){d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisVideoLogger").logVideoEvent(b,c,d("PolarisContainerModuleUtils").getContainerModule(a))}g.getFollowingStatus=a;g.getShouldMuteAudio=b;g.isFeed=c;g.logVideoEventWrapper=e}),98);
__d("useIGDSecureShareSheetInteractionLogger",["MessengerWebUXLogger","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.messageLength,c=a.recipientIDs,d=a.shareType;a=a.source;d={shareType:d,source:a};c!=null&&(d.recipientIDs=JSON.stringify(c));b!=null&&(d.messageLength=b.toString());return d}function a(a,b){var e=d("react-compiler-runtime").c(5),f;e[0]!==a?(f=h(a),e[0]=a,e[1]=f):f=e[1];var g;e[2]!==a.flowInstanceId||e[3]!==f?(g={eventName:"igd_sharesheet_impression",extraData:f,flowInstanceId:a.flowInstanceId},e[2]=a.flowInstanceId,e[3]=f,e[4]=g):g=e[4];return c("MessengerWebUXLogger").useImpressionLoggerRef(g,b)}function b(){var a=d("react-compiler-runtime").c(2),b=c("MessengerWebUXLogger").useInteractionLogger(),e;a[0]!==b?(e=function(a,c){b==null?void 0:b({eventName:a,extraData:h(c),flowInstanceId:c.flowInstanceId})},a[0]=b,a[1]=e):e=a[1];return e}g.useLogShareSheetImpressionRef=a;g.useLogShareSheetInteraction=b}),98);
__d("usePolarisNavigateToLogin",["PolarisLinkBuilder","react","react-compiler-runtime","usePolarisDynamicIpadUpsell","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutPostIntentTapBehavior","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b,e){var f=d("react-compiler-runtime").c(18),g=e===void 0?!1:e,h=c("usePolarisLoggedOutIntentAction")();e=c("usePolarisLoggedOutBlockingEntryPointDialog")();var i=e[0],j=e[1];e=c("usePolarisLoggedOutIntentEntryPointDialog")();var k=e[0],l=e[1],m=d("usePolarisLoggedOutPostIntentTapBehavior").usePolarisLoggedOutPostIntentTapBehavior(),n=d("usePolarisDynamicIpadUpsell").usePolarisDesktopExcludingIpad();f[0]!==n||f[1]!==i||f[2]!==h||f[3]!==k||f[4]!==b||f[5]!==a||f[6]!==m||f[7]!==g?(e=function(e){var f;bb6:switch(e){case"comment":c("vulture")("9tR5LNIAstdXGXPJpwGlPMboWkE=");f="post_feedback_comment";break bb6;case"direct":c("vulture")("FdzkvwMPjHb2x6ZJmnPM6-jinns=");f="post_feedback_direct";break bb6;case"like":c("vulture")("fDgkWH1h63qtqzpr-2OY3XSuNtY=");f="post_feedback_like";break bb6;case"save":default:f="post_feedback_save"}if(n)k==null?void 0:k({nextUrl:d("PolarisLinkBuilder").buildMediaLink(a),source:f});else if(g===!0){e=m();e!=null?(f==="post_feedback_comment"&&(f="post_comment_view_all"),h({source:f})):i==null?void 0:i({nextUrl:d("PolarisLinkBuilder").buildMediaLink(a),source:f})}else h({source:f,username:b})},f[0]=n,f[1]=i,f[2]=h,f[3]=k,f[4]=b,f[5]=a,f[6]=m,f[7]=g,f[8]=e):e=f[8];e=e;var o;f[9]!==n||f[10]!==j||f[11]!==l||f[12]!==m||f[13]!==g?(o=function(){n?l==null?void 0:l(!0):g===!0&&m()==null&&(j==null?void 0:j(!0))},f[9]=n,f[10]=j,f[11]=l,f[12]=m,f[13]=g,f[14]=o):o=f[14];o=o;var p;f[15]!==e||f[16]!==o?(p=[e,o],f[15]=e,f[16]=o,f[17]=p):p=f[17];return p}g["default"]=a}),98);
__d("usePolarisPost",["PolarisReactRedux.react","nullthrows","polarisPostSelectors","polarisUserSelectors","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=function(c){c=d("polarisPostSelectors").getPostById(c,a);return b(c)},c[0]=b,c[1]=a,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var e=d("react-compiler-runtime").c(3),f;e[0]!==b||e[1]!==a?(f=function(e){var f=d("polarisPostSelectors").getPostById(e,a);e=d("polarisUserSelectors").getUserByIdOrThrows(e,c("nullthrows")((e=f.owner)==null?void 0:e.id));return b(f,e)},e[0]=b,e[1]=a,e[2]=f):f=e[2];return d("PolarisReactRedux.react").useSelector(f)}g.usePost=a;g.usePostAndOwner=b}),98);
__d("usePolarisPostSetURLSidecarIndex",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a){var b=new URLSearchParams(window.location.search);if(a===b.get("img_index"))return;b.set("img_index",String(a));window.history.replaceState(babelHelpers["extends"]({},history.state),"","?"+b.toString())}g["default"]=a}),98);
__d("usePolarisPostShowSavedToastHandler",["fbt","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisSavedPostsTypes","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),b=d("PolarisPostToastProvider.react").usePostToastContext(),e=c("usePolarisViewer")(),f;a[0]!==b||a[1]!==(e==null?void 0:e.username)?(f=function(){var a;d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},b,{ActionText:h._(/*BTDS*/"Ver tus publicaciones guardadas"),BodyText:h._(/*BTDS*/"Se ha guardado tu publicaci\u00f3n."),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink((a=e==null?void 0:e.username)!=null?a:"",d("PolarisSavedPostsTypes").ALL_POSTS_SAVED_COLLECTION_PATH,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION)}))},a[0]=b,a[1]=e==null?void 0:e.username,a[2]=f):f=a[2];e==null?void 0:e.username;return f}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{return c(a)}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,d,e,f){e===void 0&&(e=function(){});f===void 0&&(f=function(){});var g=b.getOperationLogger(d).start();e(g);a.then(function(a){f(g),g.log()},function(a){f(g),g.setError(a),g.log()})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,d+" logger")})}g.executeOperationAndLog=a;g.monitorPromiseAndLogOperation=b}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$52=new Map(),this.$1=a}var b=a.prototype;b.start=function(){var a=Date.now();this.setClientTimeBegin(a);this.setClientTimeEnd(null);this.setClientTimeDuration(null);return this};b.log=function(){var a=Date.now(),b=this.getClientTimeBegin(),c=this.getClientTimeEnd();(b==null||b===0)&&(b=a,this.setClientTimeBegin(b));(c==null||c===0)&&(c=a,this.setClientTimeEnd(c));this.setClientTimeDuration(c-b)};b.setError=function(a){this.$2=a;return this};b.setPerSessionSampleRate=function(a){this.$3=a;return this};b.setAppendTarget=function(a){this.$47=a;return this};b.setOneObserved=function(a){this.$44=a;return this};b.setOneReqWave=function(a){this.$45=a;return this};b.setOneResWave=function(a){this.$46=a;return this};b.setIsP2pPlayback=function(a){this.$43=a;return this};b.setResult=function(a){this.$4=a;return this};b.setType=function(a){this.$5=a;return this};b.setClientTimeBegin=function(a){this.$6=a;return this};b.setClientTimeDuration=function(a){this.$7=a;return this};b.setClientTimeEnd=function(a){this.$8=a;return this};b.setSegmentCount=function(a){this.$15=a;return this};b.setTimeToFirstByte=function(a){this.$9=a;return this};b.setTimeToLastByte=function(a){this.$10=a;return this};b.setTimeToRequestStart=function(a){this.$11=a;return this};b.setTimeToRequestSent=function(a){this.$12=a;return this};b.setReason=function(a){this.$13=a;return this};b.setResource=function(a){this.$14=a;return this};b.setSegmentStartTime=function(a){this.$16=a;return this};b.setSegmentEndTime=function(a){this.$17=a;return this};b.setLength=function(a){this.$18=a;return this};b.setLiveheadPosition=function(a){this.$19=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$20=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$21=a;return this};b.setManifestType=function(a){this.$22=a;return this};b.setMediaSourceNewDuration=function(a){this.$23=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$24=a;return this};b.setPriorityFloat=function(a){this.$25=a;return this};b.setAppendedBufferMs=function(a){this.$26=a;return this};b.setInitiator=function(a){this.$27=a;return this};b.setPreloadTime=function(a){this.$28=a;return this};b.setConcluder=function(a){this.$29=a;return this};b.setPreviousRepresentationID=function(a){this.$30=a;return this};b.setRepresentationID=function(a){this.$31=a;return this};b.setStreamSwitchReason=function(a){this.$32=a;return this};b.setState=function(a){this.$33=a;return this};b.setContentLengthHeader=function(a){this.$34=a;return this};b.setOriginHitHeader=function(a){this.$36=a;return this};b.setEdgeHitHeader=function(a){this.$37=a;return this};b.setFNAHitHeader=function(a){this.$38=a;return this};b.setCode=function(a){this.$35=a;return this};b.setResponseTimeMsHeader=function(a){this.$39=a;return this};b.setIsTemplatedManifest=function(a){this.$40=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$41=a;return this};b.setPlayerFormat=function(a){this.$42=a;return this};b.setIsRingBufferSample=function(a){this.$48=a;return this};b.setIsOnline=function(a){this.$49=a;return this};b.setProxyStatusHeader=function(a){this.$50=a;return this};b.setPlaybackFbmsParam=function(a){return this};b.setPreferredEdgeLatency=function(a){this.$51=a;return this};b.setUserInfo=function(a){return this};b.setDynamicStatusHeader=function(a){return this};b.setIsMixedCodecManifest=function(a){this.$53=a;return this};b.getPerSessionSampleRate=function(){return this.$3};b.setMediaSourceSourceBuffer=function(a,b){this.$52.set(a,b);return this};b.unsetMediaSourceSourceBuffers=function(){this.$52.clear();return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$4};b.getType=function(){return this.$5};b.getClientTimeBegin=function(){return this.$6};b.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8};b.getTimeToRequestStart=function(){return this.$11};b.getTimeToRequestSent=function(){return this.$12};b.getReason=function(){return this.$13};b.getResource=function(){return this.$14};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$16};b.getSegmentEndTime=function(){return this.$17};b.getLength=function(){return this.$18};b.getLiveheadPosition=function(){return this.$19};b.getManifestType=function(){return this.$22};b.getIsMixedCodecManifest=function(){return this.$53};b.getPriorityFloat=function(){return this.$25};b.getAppendedBufferMs=function(){return this.$26};b.getInitiator=function(){return this.$27};b.getPreloadTime=function(){return this.$28};b.getConcluder=function(){return this.$29};b.getContentLengthHeader=function(){return this.$34};b.getOriginHitHeader=function(){return this.$36};b.getEdgeHitHeader=function(){return this.$37};b.getFNAHitHeader=function(){return this.$38};b.getCode=function(){return this.$35};b.getResponseTimeMsHeader=function(){return this.$39};b.getIsTemplatedManifest=function(){return this.$40};b.getOneObserved=function(){return this.$44};b.getOneReqWave=function(){return this.$45};b.getOneResWave=function(){return this.$46};b.getAppendTarget=function(){return this.$47};b.getIsRingBufferSample=function(){return this.$48};b.getIsOnline=function(){return this.$49};b.getProxyStatusHeader=function(){return this.$50};b.getMediaSourceSourceBuffers=function(){return this.$52};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["cr:3014"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3014")}),98);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzMaybeNativePromiseWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;b===void 0&&(b=!1);d=a.call(this)||this;d.$OzErrorEmitter$p_1=!1;d.$OzErrorEmitter$p_2=!1;d.$OzErrorEmitter$p_3=[];d.emitError=function(a){!d.$OzErrorEmitter$p_1?d.$OzErrorEmitter$p_2?d.$OzErrorEmitter$p_3.push(a):d.$OzErrorEmitter$p_1||c("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter$p_2=b;return d}var d=b.prototype;d.onError=function(a){this.$OzErrorEmitter$p_1=!0;a=this.addListener("error",a);this.$OzErrorEmitter$p_2&&this.$OzErrorEmitter$p_3.length>0&&this.$OzErrorEmitter$p_3.forEach(this.emitError);return a};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=null);this.$1=null;this.$2=new Map();this.$4=!1;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=new(c("oz-player/utils/OzErrorEmitter"))();this.$8=!1;this.$9=null;this.$10=0;this.$11=[];this.$12=[];this.$22=function(a,b){a instanceof c("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed"),b!=null&&a.setReason(b)};this.$19=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."}));var b=f.$5.mediaKeys!=null?c("oz-player/shims/OzMaybeNativePromise").resolve(f.$5.mediaKeys):a.createMediaKeys();b=b.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,f.$3,"drm_create_media_keys",function(){},f.$22);return b};this.$20=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to setMediaKeys()"}));var b=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=f.$5.setMediaKeys(e).then(function(){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed after setMediaKeys() called."}));var a=Array.from(f.$2.values()).find(function(a){return a.getKeySystem()===b.keySystem});if(!a)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+b.keySystem});var g=a.getServerCertificate();return g?e.setServerCertificate(g).then(function(){return{mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_set_media_keys",function(){},f.$22);return a};this.$21=function(a){var b=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){f.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f.$5,"encrypted",function(a){f.$23(b,e,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM encrypted rejection"}))})}));return c("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return f.$23(b,e,{initData:a.data,initDataType:a.type})});a=c("oz-player/shims/OzMaybeNativePromise").all(a);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_request_license",function(){},f.$22);return a};this.$5=b;this.$1=e;this.$3=a.cloneContext().setType("drm_manager")}var b=a.prototype;b.hasContentProtections=function(){return this.$9};b.onError=function(a){return this.$7.onError(a)};b.$13=function(a){this.$7.emitError(a)};b.$14=function(a){var b;b=(b=(b=this.$1)==null?void 0:b.maxStartEMEAttempts)!=null?b:-1;this.$10<b?this.$15():this.$13(a)};b.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};b.getProviderForSchemeId=function(a){return this.$2.get(a)};b.$16=function(a){if(!a)return null;var b=[];for(var c=0;c<a.length;c++){var e=a[c],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=(e=e["cenc:pssh"][0]._)!=null?e:"";e=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}b.push({provider:f,initDatas:g})}}return b};b.$15=function(){try{this.$8=!1,this.startEME(this.$11,this.$12)}catch(b){var a=b;this.$13(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(a),extra:{}}))}};b.startEME=function(a,b){var c=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=b;var e=new Map();this.$17(b,e,"audio");this.$17(a,e,"video");var f;e.forEach(function(a,b){!f?f=c.$18(b,a):f=f["catch"](function(){return c.$18(b,a)})});if(!f){this.$9=!1;return}this.$9=!0;var g=this.$3.getOperationLogger("drm_setup").start();f.then(this.$19).then(this.$20).then(this.$21).then(function(){return g.log()},function(a){a=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keyPromiseChain rejection"});c.$13(a);g.setResult("failed").setError(a).log()})};b.$17=function(a,b,c){var d=this;a.forEach(function(a){var e=d.$16(a.getContentProtectionXml()),f=a.getMimeCodecs();e!=null&&e.forEach(function(a){a=a.provider;var d=a.getKeySystem(),e=b.get(d);e||(e={audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()},b.set(d,e));c==="audio"&&!e.audioCapabilities.has(f)&&e.audioCapabilities.set(f,{contentType:f,robustness:a.getAudioRobustness()});c==="video"&&!e.videoCapabilities.has(f)&&e.videoCapabilities.set(f,{contentType:f,robustness:a.getVideoRobustness()})})})};b.destroy=function(){this.$6.release(),this.$4=!0};b.$18=function(a,b){var e=this,f={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};b=window.navigator.requestMediaKeySystemAccess(a,[f]);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$3,"drm_request_media_key_system_access",function(){},function(b){var d=null;b instanceof c("oz-player/loggings/OzOperationLoggerBase")&&b.getError()&&(d="keySystem: "+a+";domConfig: "+JSON.stringify(f));return e.$22(b,d)});return b};b.$23=function(a,b,e){var f=this,g=a.createSession();this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"message",function(a){f.$24(g,b,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM message rejection"}))})}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"keystatuseschange",function(a){f.$25(g)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keystatuseschange rejection"}))})}));return g.generateRequest(e.initDataType,e.initData)};b.$24=function(a,b,c){var e=this;c=b.getLicenseRequestInfo(c.message.slice(0));var f=this.$3.getOperationLogger("drm_fetch_license").setResource(c.url).start();return window.fetch(c.url,c).then(function(c){c.ok?f.setResult("success").setCode(c.status).log():f.setResult("failed").setCode(c.status).setError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"DRM license fetch HTTP status not OK ("+c.status+")",extra:{code:c.status.toString()}})).log();return c.arrayBuffer().then(function(f){var g=new Uint8Array(f);g=b.parseLicenseResponse(g);if(g==null||g.byteLength===0){var h=g==null?"License is null or undefined.":"License is 0 bytes.";!c.ok?h+=" HTTP status not OK ("+c.status+")":f.byteLength===0&&(h+=" HTTP status OK ("+c.status+"), but response body is 0 bytes");f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No license for "+b.getKeySystem()+" - "+h,extra:{code:c.status.toString(),headers:c.headers,url:c.url}});h=(h=(h=e.$1)==null?void 0:h.throwNoLicenseError)!=null?h:!1;if(h)throw f;else e.$13(f)}else a.update(g)})})};b.$25=function(a){return a.expiration<Date.now()?a.close():c("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();g.OzDrmManager=a}),98);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$11(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.setIsP2pPlayback=function(a){this.$8=a;return this};b.setIsRingBufferSample=function(a){this.$9=a;return this};b.setPerSessionSampleRate=function(a){this.$10=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getIsP2pPlayback=function(){return this.$8};b.getIsRingBufferSample=function(){return this.$9};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$11(a);return a};b.createOperationLogger=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})};b.createLoggerProvider=function(){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})};b.$11=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()==="boolean"&&a.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()==="boolean"&&a.setIsRingBufferSample(this.getIsRingBufferSample())};return a}();g["default"]=a}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function j(a,b){return Math.floor(a).toString().padStart(b,"0")}function k(a,b){b===void 0&&(b=null);var c=function(a){return j(a.getHours(),2)+":"+j(a.getMinutes(),2)+":"+j(a.getSeconds(),2)+" "+j(a.getMilliseconds(),3)},d=b?b.getTime()-a.getTime():0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function l(a){return a==="failed"?i:h}function m(a){return a==null||a===0?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c!=null&&c!==0?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=m(this.getSegmentStartTime()),i=m(this.getSegmentEndTime());l(d)("["+d+"]",this.getOperationName()+": "+k(new Date(a),c),e!=null&&e!==""?"["+e+"]":"",h!=null&&h!==""&&i!=null&&i!==""?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzDevConsolePerfLoggerProvider=a;g.OzDevConsoleOperationLogger=n}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider$p_1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){return new h(a,this.$OzMultiDestinationPerfLoggerProvider$p_1.map(function(b){return b.getOperationLogger(a)}))};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider$p_1)};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger$p_1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.start()});return this};c.setPerSessionSampleRate=function(a){b.prototype.setPerSessionSampleRate.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPerSessionSampleRate(a)});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setType(a)});return this};c.setMediaSourcePreviousDuration=function(a){b.prototype.setMediaSourcePreviousDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourcePreviousDuration(a)});return this};c.setMediaSourceNewDuration=function(a){b.prototype.setMediaSourceNewDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourceNewDuration(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setClientTimeDuration=function(a){b.prototype.setClientTimeDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeDuration(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNumHeader=function(a){b.prototype.setLiveheadSeqNumHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadSeqNumHeader(a)});return this};c.setLiveheadSeqNumMpd=function(a){b.prototype.setLiveheadSeqNumMpd.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadSeqNumMpd(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setFNAHitHeader=function(a){b.prototype.setFNAHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setFNAHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setCode(a)});return this};c.setResponseTimeMsHeader=function(a){b.prototype.setResponseTimeMsHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResponseTimeMsHeader(a)});return this};c.setIsTemplatedManifest=function(a){b.prototype.setIsTemplatedManifest.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsTemplatedManifest(a)});return this};c.setIsLatencyCachupEnabled=function(a){b.prototype.setIsLatencyCachupEnabled.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsLatencyCachupEnabled(a)});return this};c.setPlayerFormat=function(a){b.prototype.setPlayerFormat.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPlayerFormat(a)});return this};c.setIsP2pPlayback=function(a){b.prototype.setIsP2pPlayback.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsP2pPlayback(a)});return this};c.setOneObserved=function(a){b.prototype.setOneObserved.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneObserved(a)});return this};c.setOneReqWave=function(a){b.prototype.setOneReqWave.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneReqWave(a)});return this};c.setOneResWave=function(a){b.prototype.setOneResWave.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneResWave(a)});return this};c.setAppendTarget=function(a){b.prototype.setAppendTarget.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setAppendTarget(a)});return this};c.setIsRingBufferSample=function(a){b.prototype.setIsRingBufferSample.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsRingBufferSample(a)});return this};c.setIsOnline=function(a){b.prototype.setIsOnline.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsOnline(a)});return this};c.setIsMixedCodecManifest=function(a){b.prototype.setIsMixedCodecManifest.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsMixedCodecManifest(a)});return this};c.setProxyStatusHeader=function(a){b.prototype.setProxyStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setProxyStatusHeader(a)});return this};c.setPlaybackFbmsParam=function(a){b.prototype.setPlaybackFbmsParam.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPlaybackFbmsParam(a)});return this};c.setPreferredEdgeLatency=function(a){b.prototype.setPreferredEdgeLatency.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreferredEdgeLatency(a)});return this};c.setUserInfo=function(a){b.prototype.setUserInfo.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setUserInfo(a)});return this};c.setDynamicStatusHeader=function(a){b.prototype.setDynamicStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setDynamicStatusHeader(a)});return this};c.setMediaSourceSourceBuffer=function(a,c){b.prototype.setMediaSourceSourceBuffer.call(this,a,c);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourceSourceBuffer(a,c)});return this};c.unsetMediaSourceSourceBuffers=function(){b.prototype.unsetMediaSourceSourceBuffers.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.unsetMediaSourceSourceBuffers()});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.log()})};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzMultiDestinationPerfLoggerProvider=a}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){var c=a.getClientTimeBegin()||0,d=a.getClientTimeEnd()||0;b.getOperationLogger(a.getOperationName()).setClientTimeBegin(c).setClientTimeDuration(d-c).setClientTimeEnd(d).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",["VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!a)return null;a=parseInt(a.get(b),10);return!isNaN(a)&&isFinite(a)?a:null}function i(a,b,c){if(!a||b===""||c==="")return null;b=(a=a.get(b))!=null?a:"";a=b.split(";");for(b=0;b<a.length;b++){var d=a[b].split(":");if(d.length===2&&d[0]===c){d=parseInt(d[1],10);return isFinite(d)?d:null}}return null}a={getNextValidSegmentId:function(a){return h(a,"x-fb-next-valid-segment-id")},getResponseTimeMs:function(a){return h(a,"x-fb-response-time-ms")},getDvlSegmentPTS:function(a){return h(a,"x-fb-segment-pts-start")},getDvlStatus:function(a){return a==null?void 0:a.get("x-fb-dynamic-status")},getUsableResponseSizeForBandwidthEstimation:function(a){return h(a,"x-fb-dynamic-predictive-response-chunk-size")},getBandwidthMeanEstimate:function(a){var b=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_header_key",""),d=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_key","");return i(a,b,d)},getBandwidthStandardDeviationEstimate:function(a){return h(a,"x-bwe-std-dev")},getTimeToFirstByteMsEstimate:function(a){return h(a,"x-mrtt-ms")}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzNetworkDiagnostics",["oz-player/shims/www/OzNetworkDiagnosticsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzNetworkDiagnosticsWWW")}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=null;this.$5=null;this.$6=new RegExp(/(.*)\.(m4v|m4a)(\?|$)/);this.$7={m4a:{time:0},m4v:{time:0}};this.$8={audio:"m4a",video:"m4v"};this.$9={};a=a.config;this.$3=a}var b=a.prototype;b.getLastSegmentStartPTS=function(){return this.$1};b.getLast200RequestedTime=function(){return this.$5};b.getLast200RequestedUrlDecisionMinTime=function(){var a=[];for(var b in this.$7)a.push(this.$7[b].time);return Math.min.apply(Math,a)};b.getLast200RequestedUrlDecisionTimeByMimeType=function(a){return(a=this.$7[this.$8[a]])==null?void 0:a.time};b.updateWithResponse=function(a,b,d,e){var f;if(!e.headers||e.status!=200)return;this.$5=b;this.$1=(f=c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(e.headers))!=null?f:this.$1;this.$2=c("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(e.headers);this.$10(a,d);(this.$2!=null||this.$2==="200")&&(this.$4=b)};b.$10=function(a,b){a=this.$6.exec(a);if(a!=null){a=a[2];b!=null&&(this.$7[a]={time:b})}};b.shouldRequestDynamicInfo=function(a){if(a!=="video")return!1;this.$11(a);a=this.$12(a);return a!=null&&a<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()};b.$11=function(a){this.$9[a]==null&&(this.$9[a]={segmentCount:0});return this.$9[a].segmentCount=this.$9[a].segmentCount!=null?this.$9[a].segmentCount+1:0};b.$12=function(a){return this.$9[a].segmentCount};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){this.$1=a,this.$2=b,this.$11=c,this.$6=g,this.$3=d,this.$4=e,this.$5=f,this.$7=h,this.$8=i,this.$9=j,this.$10=k,this.$12=l,this.$13=m}var b=a.prototype;b.getContentProtectionXml=function(){return this.$2};b.getID=function(){return this.$11};b.getBandwidth=function(){return this.$10};b.getMimeCodecs=function(){return c("oz-player/parsers/getMIMECodecs")(this.$3,this.$4)};b.getMimeType=function(){return this.$3};b.getCodecs=function(){return this.$4};b.getVariantKey=function(){return this.$5};b.getLang=function(){return this.$6};b.getRole=function(){return this.$7};b.getDisplayLabel=function(){return this.$11};b.getInitSegment=function(){return this.$8};b.getCustomFieldFirstSegment=function(){return this.$12};b.getCustomField=function(a){if(this.$13==null||!this.$13[a])throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$13[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,229),this.$9.updateWith(b.$9)};b.getSegmentByTime=function(a){return this.$9.getSegmentByTime(a)};b.getSegment=function(a){return this.$9.getSegment(a)};b.getPredictedSegmentAfter=function(a){return this.$9.getPredictedSegmentAfter(a)};b.canPredict=function(){return this.$9.canPredict()};b.canApproximateId=function(){return this.$9.canApproximateId()};b.getSegmentAfter=function(a){return this.$9.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$9.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$9.addUpdateListener(a)};b.getTimeRanges=function(){return this.$9.getTimeRanges()};b.blockTimeRange=function(a){this.$9.blockTimeRange(a)};b.getEndingSegment=function(){return this.$9.getEndingSegment()};b.getMaxGopSec=function(){return this.$9.getMaxGopSec()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){c=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;c.$OzVideoRepresentation$p_5=null;c.$OzVideoRepresentation$p_6=null;c.$OzVideoRepresentation$p_7=null;c.$OzVideoRepresentation$p_1=o;c.$OzVideoRepresentation$p_2=p;c.$OzVideoRepresentation$p_4=n;c.$OzVideoRepresentation$p_3=b;if(n!=null){if(n.playbackResolutionMos!=null){d=c.getCustomField("playbackResolutionMos");c.$OzVideoRepresentation$p_7=d!=null?String(d):null}if(n.playbackResolutionCsvqm!=null){e=c.getCustomField("playbackResolutionCsvqm");c.$OzVideoRepresentation$p_6=e!=null?String(e):null}}return c}var c=b.prototype;c.getQualityScoreCurveString=function(a){if(a==="csvqm")return this.$OzVideoRepresentation$p_6;else return this.$OzVideoRepresentation$p_7};c.getWidth=function(){return this.$OzVideoRepresentation$p_1};c.getHeight=function(){return this.$OzVideoRepresentation$p_2};c.getDisplayLabel=function(){if(this.$OzVideoRepresentation$p_5!=null)return this.$OzVideoRepresentation$p_5;var a=this.$OzVideoRepresentation$p_4?this.$OzVideoRepresentation$p_4.qualityLabel:null;a&&(this.$OzVideoRepresentation$p_5=a(this.$OzVideoRepresentation$p_3));(this.$OzVideoRepresentation$p_5==null||this.$OzVideoRepresentation$p_5=="")&&(this.$OzVideoRepresentation$p_5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation$p_5||""};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}function b(a){a=(a.split(";")[0]||"").trim();a=(a.split("/")[1]||"").trim();return a}function c(a){a=a.split('codecs="').pop();return a.split(".")[0].trim()}f.getMimeType=a;f.getContainerType=b;f.getParsedCodecFamily=c}),66);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.$2=c,this.$3=b,this.$4=d}var b=a.prototype;b.registerOnUpdateStartListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updatestart",a)};b.registerOnUpdateEndListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",a)};b.registerOnUpdateListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"update",a)};b.registerOnErrorListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",a)};b.getIsUpdating=function(){return this.$1.updating};b.getBuffered=function(){return this.$1.buffered};b.setAppendWindowEnd=function(a){this.$1.appendWindowEnd=a};b.appendBuffer=function(a,b){var c,e=(c=d("oz-player/utils/OzMimeUtil")).getMimeType(b)!==c.getMimeType(this.$3),f=c.getContainerType(b)!==c.getContainerType(this.$3);c=c.getParsedCodecFamily(b)!==c.getParsedCodecFamily(this.$3);if(e||f||c)if(this.$4){try{this.$1.changeType(b)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({description:'SourceBufferChangeTypeError: Failed to changeType("'+b+'"): '+String(a)+" current MIME Codecs: "+this.$3,type:"OZ_SOURCE_BUFFER_CHANGE_TYPE"})}this.$3=b}else throw d("oz-player/utils/OzErrorUtils").createOzError({description:"SourceBufferChangeTypeError: attempted to call changeType() on a SourceBuffer that does not support it.",type:"OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE"});this.$1.appendBuffer(a)};b.abort=function(){this.$1.abort()};b.remove=function(a,b){this.$1.remove(a,b)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.getBuffered().length;c++)b+=a.getBuffered().end(c)-a.getBuffered().start(c);return b}function b(a){return a.reduce(function(a,b){return a+(b.endTime-b.startTime)},0)}function c(a){return a.getBuffered().length==0?0:a.getBuffered().start(0)}function e(a){var b=null;try{b=a.getBuffered()}catch(a){return 0}return b.length==0?0:b.end(b.length-1)}function f(a){var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});return b}function h(a,b,c){c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));b=c>=0?parseFloat((a[c].endTime-b).toFixed(3)):0;a=c>=0?a.length-1-c:-1;return{bufferAheadSec:b,bufferedOffset:a}}function i(a,b,c){var e=a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,e);e=parseFloat(e.reduce(function(a,c){var e=c.rangeEnd;return e==null?a:a+(d("oz-player/utils/OzNumericalRangeUtil").isWithin(b,c)?e-b:d("oz-player/utils/OzNumericalRangeUtil").isLargerThan(c.rangeStart,b)?e-c.rangeStart:0)},0).toFixed(3));a=c>=0?a.length-1-c:-1;return{bufferAheadSec:e,bufferedOffset:a}}g.getTotalBufferedTime=a;g.getTotalInBufferedRanges=b;g.getStartBufferedTime=c;g.getEndBufferedTime=e;g.convertToBufferedTimeRangeArray=f;g.getBufferAheadInBufferedRanges=h;g.getTotalBufferAheadOfPosition=i}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return function(){var a=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return{startTime:e,endTime:a}}}g.startMeasuringAppendedBuffer=a}),98);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("Deferred")}),98);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDeferredWWW")}),98);
__d("oz-player/utils/OzFakeEventTarget",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.dispatchEvent=function(a){if(this.$1[a]==null)return;this.$1[a].forEach(function(a){return a()})};b.addEventListener=function(a,b){var c=this;this.$1[a]===void 0&&(this.$1[a]=new Set());this.$1[a].add(b);return{remove:function(){c.removeEventListener(a,b)}}};b.removeEventListener=function(a,b){if(!this.$1[a])return;this.$1[a]["delete"](b)};b.destroy=function(){this.$1={}};return a}();f["default"]=a}),66);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzObservedSourceBufferState$p_3=[];e.$OzObservedSourceBufferState$p_6=function(){var a;try{a=e.$OzObservedSourceBufferState$p_1.getBuffered()}catch(a){if(a.name==="InvalidStateError"){e.$OzObservedSourceBufferState$p_3=[];return}else throw a}var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});e.$OzObservedSourceBufferState$p_3=b};e.$OzObservedSourceBufferState$p_1=b;e.$OzObservedSourceBufferState$p_4=d;e.$OzObservedSourceBufferState$p_5();return e}var d=b.prototype;d.$OzObservedSourceBufferState$p_5=function(){var a=this;this.$OzObservedSourceBufferState$p_2.release();this.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$OzObservedSourceBufferState$p_2.addSubscriptions(this.$OzObservedSourceBufferState$p_1.registerOnUpdateEndListener(function(){a.$OzObservedSourceBufferState$p_6(),a.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState$p_1.registerOnErrorListener(this.$OzObservedSourceBufferState$p_6))};d.setSourceBuffer=function(a){this.$OzObservedSourceBufferState$p_1=a,this.$OzObservedSourceBufferState$p_5(),this.$OzObservedSourceBufferState$p_6()};d.getBufferedRanges=function(){return this.$OzObservedSourceBufferState$p_3};d.destroy=function(){a.prototype.destroy.call(this),this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2.engage()};return b}(c("oz-player/utils/OzFakeEventTarget"));g["default"]=a}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"};b=a;f["default"]=b}),66);
__d("oz-player/media_source/SourceBufferManager",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,e,f,g,h){var i=this;h===void 0&&(h=null);this.$4=null;this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=!1;this.$8=[];this.$12=!1;this.$13=!1;this.$14=0;this.$26=function(){if(i.$10.hasError()){i.$13=!1;i.$12=!1;var a=i.$10.getMediaErrorName();a=a!=null?a:"An unknown source buffer error occurred.";var b=i.$10.getErrorCode();b=b!=null?String(b):c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR;a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:b}});i.$4&&i.$4.reject(a);i.$4=null;i.cancelOperationAndCleanQueue()}else if(!i.$13){i.$13=!0;b=i.$10.getVideoNode();a=i.$26;b=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b,"error",a);i.$5.addSubscriptions(b)}};this.$17=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_updateend").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult(i.$12?"failed":"success").log()}a=i.$4;a&&(i.$12?i.$26():(a.resolve(),i.$4&&(i.$4=null)))};this.$18=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_error").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult("failed").log()}i.$12=!0};this.$1=a;this.$2=h;this.$3=b;this.$11=e;this.$16();this.$9=new(c("oz-player/states/OzObservedSourceBufferState"))(this.$3,this.$11);this.$10=f;this.$15=g}var e=a.prototype;e.$16=function(){this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$5.addSubscriptions(this.$3.registerOnUpdateEndListener(this.$17),this.$3.registerOnErrorListener(this.$18))};e.setSourceBuffer=function(a){if(a==null)return;this.cancelOperationAndCleanQueue();this.$3=a;this.$16();this.$9.setSourceBuffer(a)};e.queueData=function(a,b,d,e,f){e===void 0&&(e=null);f===void 0&&(f=0);var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:a,deferred:g,loggerProvider:e,appendTarget:f,mimeCodecs:b,clearSourceBufferRange:d});a=g.getPromise();this.$7||this.$19()["catch"](function(a){});return a};e.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);a&&a.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var b=d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM cancel and clean");this.$8.forEach(function(a){a=a.deferred;a.reject(b)});this.$8=[];try{this.$11.getBool("enable_alternative_audio_tracks")?this.$15()==="open"&&(this.$10.hasError()||this.$3.abort()):this.$15()!=="closed"&&!0&&(this.$10.hasError()||this.$3.abort())}catch(b){var c=b;a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(c).setReason(this.$15?this.$15():null).log()}a=this.$4;a&&a.reject(b);this.$6&&(this.$6.reject(b),this.$6=null)};e.getSourceBufferState=function(){return this.$9};e.$20=function(a,b){a=Math.max(a,0);b>0&&b>a&&this.$3.remove(a,b)};e.$21=function(a,b){a=Math.max(a,0);if(b>0&&b>a){var d=this.$22();this.$20(a,b);return d}return c("oz-player/shims/OzMaybeNativePromise").resolve()};e.clearRangeWithWait=function(a){var c=this;this.cancelOperationAndCleanQueue();return a.reduce(function(a,b){var d=b.fromTime,e=b.toTime;return a.then(function(){return c.$21(d,e)})},(h||(h=b("Promise"))).resolve())};e.$22=function(a){var b=this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=b.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");return b};e.$23=function(a,b,e,f){var g=this,h=function(){var h=g.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),i=!1,j=!0;try{j=!!g.$3.getBuffered()}catch(a){j=!1}try{i=g.$3.getIsUpdating();if(j)g.$3.appendBuffer(a,b);else{h.resolve();return h.getPromise()}}catch(a){j=a;var k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,l=j.name,m=j.message;l==="QuotaExceededError"?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:g.$10.hasError()?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:i?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:l==="InvalidStateError"&&typeof m==="string"&&/SourceBuffer has been removed/.test(m)?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:l==="InvalidStateError"&&(k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);i=d("oz-player/utils/OzErrorUtils").createOzError({type:d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getType():l==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":l==="OZ_SOURCE_BUFFER_CHANGE_TYPE"?"OZ_SOURCE_BUFFER_CHANGE_TYPE":"OZ_SOURCE_BUFFER",description:"SBM#"+g.$1+" appendBuffer("+b+") failed: "+String(m),extra:d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getExtra():{originalError:j,code:k}});g.$4=null;h.reject(i)}l=h.getPromise();e&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(l,e,"append",function(b){var c;b.setLength(a.byteLength);c=(c=f==null?void 0:f.appendTarget)!=null?c:null;b.setAppendTarget(c)});return l};if(this.$3.getIsUpdating())return this.$22(e).then(h)["catch"](function(a){throw a});this.$14+=a.byteLength;return h()};e.$19=function(){var a=this;if(this.$7)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$24("Another unit of queued data is being appended."));var b=this.$8.shift();if(!b){this.$7=!1;return c("oz-player/shims/OzMaybeNativePromise").resolve()}var e=b.data,f=b.mimeCodecs,g=b.deferred,h=b.loggerProvider,i=b.appendTarget,j=b.clearSourceBufferRange;this.$7=!0;var k;b=function(){return e instanceof d("oz-player/shims/OzStreams").OzReadableStream?a.$25(e,f,h,i):a.$23(e,f,h,{appendTarget:i})};j?(k=this.$3.getIsUpdating()?this.$22(h):c("oz-player/shims/OzMaybeNativePromise").resolve(),k=k.then(function(){return a.clearRangeWithWait([{fromTime:j[0],toTime:j[1]}])}).then(b)):k=b();var l=d("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$3,this.$9);return k["catch"](function(a){g.reject(a)}).then(function(){var b=l(),c=b.startTime;b=b.endTime;g.resolve({startTime_UNSAFE:c,endTime_UNSAFE:b,appendedSec:b-c});a.$7=!1;a.$19()["catch"](function(a){})})};e.$25=function(a,b,e,f){var g=this,h=[],i=0,j=a.getReader();a=function a(){var k=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));g.$6=k;j.read().then(function(a){k.resolve(a),g.$6=null})["catch"](function(a){k.reject(a),g.$6=null});return k.getPromise().then(function(d){if(d.done){var j=c("oz-player/utils/ozConcatUint8Arrays")(h);j=j.buffer;h.length=0;i=0;return j.byteLength>0?g.$23(j,b,e,{appendTarget:f}):c("oz-player/shims/OzMaybeNativePromise").resolve()}j=d.value;d=j;if(f>0){j=j instanceof Uint8Array?j:new Uint8Array(j);h.push(j);i+=j.byteLength;if(i>=f){j=c("oz-player/utils/ozConcatUint8Arrays")(h);j=j.buffer;h.length=0;i=0;d=j}}return d&&d.byteLength>=f?g.$23(d,b,e,{appendTarget:f}).then(function(){return a()}):a()},function(a){if(g.$11.getBool("enable_alternative_audio_tracks"))try{g.$15()==="open"&&(g.$10.hasError()||g.$3.abort())}catch(a){a}else try{g.$3.abort()}catch(a){a}if(typeof a==="object"&&d("oz-player/utils/OzErrorUtils").isOzError(a))return c("oz-player/shims/OzMaybeNativePromise").reject(a);if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&a.name==="TypeError"&&typeof a.message==="string"&&a.message.includes("network error")){var e=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{description:"SBM#"+g.$1+" appendReadableStream("+b+") failed: Stream read is interrupted (previously TypeError network error)}",extra:{originalError:a},type:"OZ_NETWORK"});return c("oz-player/shims/OzMaybeNativePromise").reject(e)}e=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{description:"SBM#"+g.$1+" appendReadableStream("+b+") failed: Unexpected error while reading from stream: "+String(a),extra:{originalError:a},type:"OZ_NETWORK"});return c("oz-player/shims/OzMaybeNativePromise").reject(e)})};return a()};e.$24=function(a){var b=this.$2;b!=null&&b.getOperationLogger("source_buffer_invariant").setError(a).setResult("failed").log();return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"SBM invariant: "+a})};e.destroy=function(){var a=this,b=this.$2;b&&b.cloneContext().getOperationLogger("source_buffer_destroy").log();b=this.$4;b&&(!this.$13?(b.reject(d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM destroyed")),this.$4=null,this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()):b.getPromise()["catch"](function(){a.$4=null,a.$5.release(),a.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()}));this.$9.destroy()};e.getDebug=function(){return{SourceBuffer:this.$3}};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW");function a(){return h.load()}g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("setTimeoutAcrossTransitions")}),98);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW")}),98);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}f["default"]=a}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this,e=a.videoNode,f=a.config,g=a.perfLoggerProvider;g=g===void 0?new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]):g;var h=a.isChangeTypeSupported,i=a.useManagedMediaSource,j=a.handleVttCaptionsUpdated,k=a.onClearVideoNodeError;a=a.onRetryVideoElementError;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$6=[];this.$7=new Map();this.$8=[];this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$18=null;this.$19=null;this.$20=new(c("oz-player/utils/OzErrorEmitter"))();this.$22="undetected";this.$23=!1;this.$24=!1;this.$31=function(){b.$34()||(b.$10=!1);if(!b.$35())return;var a=b.$8.shift();a&&(a(b.$2),b.$10=!0)};this.$5=g;this.$11=f;this.$1=e;this.$21=j;this.$16=k;this.$17=a;this.$23=h;this.$24=i;this.$9=new(c("oz-player/media_source/OzMediaErrorProvider"))(this.$1);this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var a;b.$5.getOperationLogger("media_element_error").setError((a=b.$9.getMediaErrorName())!=null?a:void 0).setCode(b.$9.getErrorCode()).setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$8=[];b.$6=[];b.$4.release();b.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();b.$15=b.$15||b.$14||b.$13;a=b.$1.error;var e=(a==null?void 0:a.code)||0,f=!a&&b.$1.poster!=null&&b.$1.poster!=="",g=d("oz-player/utils/OzErrorUtils").createOzError({type:f?"OZ_POSSIBLE_POSTER_LOAD_FAILURE":c("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(e),description:(a==null?void 0:a.message)!=null?a.message:"",extra:{originalError:a,code:String(e)}});if(b.$19!=null){b.$5.getOperationLogger("media_element_error").setError(a).setCode(e).setReason("mitigation_failed").setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$20.emitError(g);return}b.$19=b.$1.currentTime;b.$18==null&&(b.$18=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){b.$18=null,b.$11.getBool("retry_video_element_error")&&(b.$17!=null&&b.$17(g),b.$25())},0))}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){b.$14=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){b.$14=!1,b.$15=!1,b.$19=null,b.$13=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){b.$14=!1,b.$13=!1,b.$15=!!b.$1.error}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){b.$14=!1,b.$13=!1}));this.$2=this.$26();this.$5.getOperationLogger("media_source_new").log();this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){b.$5.getOperationLogger("media_source_open").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){b.$5.getOperationLogger("media_source_ended").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceclose",function(){b.$5.getOperationLogger("media_source_close").log()}));this.$27(this.$2)}var b=a.prototype;b.$26=function(){return this.$24?new ManagedMediaSource():new MediaSource()};b.$27=function(a){var b=this.$1,c=b.src;c!==""&&URL.revokeObjectURL(c);a?(this.$24&&(b.disableRemotePlayback=!0),b.src=URL.createObjectURL(a)):(b.removeAttribute("src"),b.removeAttribute("srcObject"))};b.$25=function(){var a=this;this.$7.forEach(function(a){a.cancelOperationAndCleanQueue()});this.$2=this.$26();this.$27(this.$2);this.$7.forEach(function(a,b){a.setSourceBuffer(null)});var b=this.$28().then(function(){var b=[];a.$7.forEach(function(c,d){var e=a.$29(d).then(function(b){c.setSourceBuffer(b),a.$30(b,d)});b.push(e)});return c("oz-player/shims/OzMaybeNativePromise").all(b)});b.then(function(){a.$16&&a.$16();a.$19!=null&&(a.$1.currentTime=a.$19);if(a.$15){var b=a.$1.play();return b==null?void 0:b["catch"](function(){})}})["catch"](function(b){a.$20.emitError(b)})};b.$28=function(){var a=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen")){if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){d.remove(),b.resolve(),a.$31()});this.$3.addSubscriptions(d);return b.getPromise()}else{if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){e.resolve(),a.$31()}));return e.getPromise()}};b.$29=function(a){var b=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen"))return c("oz-player/shims/OzMaybeNativePromise").resolve().then(function(){return b.$32(a)})["catch"](function(b){b=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+String(b),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw b});else try{return this.$32(a)}catch(b){var e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+(b.message||String(b)),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw e}};b.$32=function(a){var b=this,e;a.includes("vtt")?e=this.$33(a):e=this.$28().then(function(){return new(c("oz-player/media_source/OzMSESourceBufferImpl"))(b.$2.addSourceBuffer(a),a,b.$11,b.$23)});return e.then(function(c){b.$6.push(c);c.registerOnUpdateListener(function(){b.$5.cloneContext().getOperationLogger("source_buffer_update_start").setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).log()});b.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).log();return c})};b.$30=function(a,b){var c=this;this.$4.addSubscriptions(a.registerOnUpdateEndListener(function(){c.$31()}))};b.$33=function(a){var b=this;return c("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(e){if(b.$21!=null){var f=new e({onCaptionsChanged:b.$21,config:b.$11}),g=c("oz-player/shims/ozThrottle")(function(){f.setCurrentVideoTime(b.$1.currentTime)},200);b.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b.$1,"timeupdate",function(){g()}),{remove:function(){g=function(){}}});return f}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): No handleVttCaptionsUpdated callback provided',extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})};b.createSourceBufferManager=function(a,b,e,f){var g=this;return(this.$11.getBool("msm_refactor_wait_for_sourceopen")?this.$29(b).then(function(a){return[void 0,a]}):c("oz-player/shims/OzMaybeNativePromise").all([this.$28(),this.$29(b)])).then(function(e){e[0];e=e[1];var f=new(c("oz-player/media_source/SourceBufferManager"))(a,e,g.$11,g.$9,function(){return g.$2.readyState},g.$5.cloneContext().setType(d("oz-player/utils/OzMimeUtil").getMimeType(b)));g.$30(e,b);g.$7.set(b,f);return f})["catch"](function(b){var e=d("oz-player/utils/OzErrorUtils").isOzError(b)?b.getExtra():void 0,f=e==null?void 0:e.code;f=d("oz-player/utils/OzErrorUtils").isOzError(b)?""+b.getType()+(f!=null?"#"+f:"")+": "+b.getDescription():String(b);f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM#"+a+": "+f+", support AAC-LC="+(g.$2.constructor.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false")+", readyState="+g.$2.readyState,extra:babelHelpers["extends"]({},e,{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()})});throw f})};b.getReadyState=function(){return this.$2.readyState};b.getMediaSource=function(){return this.$2};b.notifyEndOfStream=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){e.resolve()}));this.$8.push(function(c){if(c.readyState==="open"){var e=d.$5.getOperationLogger("end_of_stream");e.setInitiator(a).setReason(b);e.log();c.endOfStream()}});this.$31();return e.getPromise()};b.updateDuration=function(a,b){var e=this,f=this.$2.duration;if(Number.isFinite(f)&&(!b||f>=a))return;this.$8.push(function(b){b.duration!==f&&!(isNaN(b.duration)&&isNaN(f))&&c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"mediaSource duration discrepancy: "+b.duration+" != "+f}),"MediaSourceManager updateDuration","warn");var g=e.$11.getBool("msm_refactor_wait_for_sourceopen")?b.duration!==Infinity&&a<b.duration:a<b.duration;if(g){e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(b.duration).setMediaSourceNewDuration(a).setResult("failed").log();return}e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(b.duration).setMediaSourceNewDuration(a).log();b.duration=a});this.$31();return};b.detach=function(){this.$18&&(c("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null);this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers();this.$27(null);for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$4.release();this.$4.engage();this.$8=[];this.$10=!1;this.$12=!0};b.$35=function(){return!this.$34()&&this.$2.readyState==="open"&&!this.$10&&!this.$12};b.$34=function(){return this.$6.some(function(a){return a.getIsUpdating()})};b.onError=function(a){return this.$20.onError(a)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$5=function(a){a===void 0&&(a=!0);var b=d.$2;if(!b)return;b=b.getTimeRanges();if(!b.length)return;b=b[b.length-1];d.$1.updateDuration(b.endTime,a)};this.$1=a;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=b}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){b.$5(!1)})};b.destroy=function(){this.$3.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({pull:function(b){b.error(a)}})}g["default"]=a}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(a,b,c,d,e,f){"use strict";b=function(b,c){return a.fetch(b,c)};c=function(b,c){return new a.Response(b,c)};f.fetch=b;f.Response=c}),66);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function b(b,e,f,g){if(!d("oz-player/shims/OzFetchAPI").fetch)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"fetch api is missing"});var h=null;if("AbortController"in a&&f!=null&&f!=0){var i=new AbortController();h=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return i.abort()},f);f=babelHelpers["extends"]({},e,{signal:i.signal})}else f=babelHelpers["extends"]({},e);g!=null&&(f=babelHelpers["extends"]({},f,{referrer:g}));return d("oz-player/shims/OzFetchAPI").fetch(b,f).then(function(a){c("oz-player/shims/ozClearTimeout")(h);return a})}g["default"]=b}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return a!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;f=e&&e.prototype;var h=e&&f&&typeof f.append==="function"&&typeof f.entries==="function"&&typeof f.get==="function"&&typeof f.has==="function"?e:d;function b(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var b=new h();a.forEach(function(a,c){b.append(c,a)});return b}c("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}g.OzHTTPHeaders=h;g.maybeConvertHeadersToOzHTTPHeaders=b}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}g["default"]=a}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["asyncToGeneratorRuntime","oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return a;var c=a.getReader();return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){while(!0){var b=(yield c.read());if(b.done)break;a.enqueue(b.value)}a.close()});function d(b){return a.apply(this,arguments)}return d}()})}g["default"]=a}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.body,e=a.ok,f=a.status,g=a.headers;return b!=null?c("oz-player/shims/OzMaybeNativePromise").resolve({ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(b),arrayBuffer:function(){return a.arrayBuffer()}}):a.arrayBuffer().then(function(a){return{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/arrayBuffer2OzReadableStream")(a),arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a)}}})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/networks/FetchWithTimeout","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){f=d?d.networkTimeoutMs:null;g=c("oz-player/networks/FetchWithTimeout")(a,b,f);return g.then(function(a){var b=a.ok,d=a.status,f=a.headers;return e!=null&&!b&&typeof a.text==="function"?a.text().then(function(c){return{ok:b,status:d,headers:f,body:c,arrayBuffer:function(){return a.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a)})}b=a;d=b;g["default"]=d}),98);
__d("oz-player/networks/withRetries",["Promise","asyncToGeneratorRuntime","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){return new(h||(h=b("Promise")))(function(f,g){function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{f(yield a())}catch(a){if(b>0){var i=typeof e==="function"?e(d-b):e;c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){h(b-1)},i)}else g(a)}});return i.apply(this,arguments)}h(d)})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/networks/withRetries","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.config,e=a.url,f=a.http,g=a.overrideOzRequestImplementation,h=a.options,i=a.prefetchCache,j=a.mediaStreamType,k=a.onPerfEntryAvailable,l=a.dataAppendedCallback,m=a.dataAppendedErrorCallback,n=g!=null?function(){return g.apply(void 0,arguments)}:c("oz-player/networks/OzFetchRequestImplementation");a=i?i.getCacheValue(e):null;i=a;a=!1;if(i)a=!0,i=i.then(function(a){if(a.initiator==="FETCH"){var b=a.response,e=b.ok,f=b.status,g=b.headers;return!e&&typeof a.response.text==="function"?a.response.text().then(function(b){return{ok:!1,status:f,headers:g,body:b,arrayBuffer:function(){return a.response.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a.response)}else if(a.initiator==="XHR_REQUEST"){b=c("oz-player/utils/arrayBuffer2OzReadableStream")(a.response);return{body:b,status:200,headers:null,ok:!0,arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a.response)}}}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+a.initiator})})["catch"](function(a){return n(e,f,null,null,j,k,l,m)});else{var o;o=(o=h==null?void 0:h.retryAttempts_SIDX_USE_ONLY)!=null?o:0;if(o>0){var p;p=(p=h==null?void 0:h.retryTimeoutMs_SIDX_USE_ONLY)!=null?p:100;i=c("oz-player/networks/withRetries")(function(){return n(e,f,h,b,j,k,l,m)},o,p)}else i=n(e,f,h,b,j,k,l,m)}return{promise:i,retrievedFromCache:a}}g["default"]=a}),98);
__d("oz-player/utils/OzVideoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";c=1<<31;var g=~c,h=c+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe",OE2:"oe2",ODM:"odm",USS:"uss"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;return a.get(l.OE2)!==null||a.get(l.ODM)!==null||a.get(l.USS)!==null}function b(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=c;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isShortenedExpiryTimestampCdnUrl=a;f.isCdnUrlExpired=b}),66);
__d("oz-player/networks/OzNetworkRequestStream",["Promise","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/OzResourceTimingUtils","oz-player/utils/OzVideoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$8=!1;this.$10="auto";var b=a.debugName,c=a.config,d=a.baseUri,e=a.baseUriDecisionTime,f=a.options,g=a.requestParamCreator,h=a.networkRequestStreamHandlers,i=a.overrideOzRequestImplementation,j=a.prefetchCache,k=a.networkRequestFetchPriority,l=a.networkRequestStreamRetryHandler,m=a.networkRequestUrlRefreshHandler,n=a.dynamicVideoLibrary,o=a.mediaStreamType,p=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;this.$1=b;this.$2=d;this.$3=f;this.$4=g;this.$11=h!=null?h:[];this.$10=k;this.$12=l;this.$13=m;this.$9=i;this.$14=j;this.$15=c;this.$16=n;this.$17=e;this.$18=o;this.$19=p;this.$20=a}var e=a.prototype;e.$21=function(a){var b=this;a=this.$4.createRequestParam(this.$2,a,this.$10);var d=a.uri;a=a.http;d=d.toString();this.$5=d;a=c("oz-player/networks/OzFetchWithCache")({config:this.$15,url:d,http:a,overrideOzRequestImplementation:this.$9,options:this.$3,prefetchCache:this.$14,mediaStreamType:this.$18,onPerfEntryAvailable:function(a){b.$22(a)},dataAppendedCallback:this.$19,dataAppendedErrorCallback:this.$20});var e=a.promise;a=a.retrievedFromCache;this.$8=a;return{requestPromise:e,requestUrl:d}};e.startStream=function(a){var b=this;return this.$23().then(function(){if(b.$15.getBool("video_cdn_url_refresh")&&!d("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(b.$2.toString())&&d("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(b.$2.toString()))return c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") CDN URL expired.",responseStatus:0,responseHeaders:null,requestUrl:b.$2.toString()}));var e=b.$21(a),f=e.requestPromise,g=e.requestUrl,h=g,i=Date.now();return f.then(function(e){var f;(f=b.$16)==null?void 0:f.updateWithResponse(g,i,b.$17,e);b.$7=e;if(b.$12!=null&&e.ok===!1)return b.$12(e,function(){var d=b.$21(a),c=d.requestPromise;d=d.requestUrl;h=d;return c},h)["catch"](function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:h}})});else return e}).then(function(a){var e=[];for(var f=0;f<b.$11.length;f++)try{var g=b.$11[f].onResponse(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}g=a.body;f=a.headers;var i=a.ok;a=a.status;if(!i)return c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") HTTP status not OK",responseStatus:a,responseHeaders:f,requestUrl:h,responseBody:typeof g==="string"?g:void 0}));typeof g!=="string"&&typeof g.getReader==="function"||c("oz-player/shims/ozvariant")(0,3287);i=g;for(a=0;a<e.length;a++)i=i.pipeThrough(e[a]);return i},function(a){var e=[];for(var f=0;f<b.$11.length;f++)try{var g=b.$11[f].onError(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}if(a instanceof TypeError){g=c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") TypeError: "+a.message,responseStatus:0,responseHeaders:null,requestUrl:h}));for(f=0;f<e.length;f++)g=g.pipeThrough(e[f]);return g}throw a})["catch"](function(a){if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw a;if(a.name==="AbortError"){var b=a.message;return c("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:h,message:b})}return c("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:h,message:"Stream processing error. "+a})})})};e.$22=function(a){this.$6=a};e.getLastPerformanceEntry=function(){if(this.$6!=null)return this.$6;return this.$5==null?null:d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(this.$5)};e.getLastRequestUrl=function(){return this.$5};e.getLastResponse=function(){return this.$7};e.retrievedFromCache=function(){return this.$8};e.$23=function(){var a=this;if(this.$15.getBool("video_cdn_url_refresh")&&!d("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(this.$2.toString())&&d("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(this.$2.toString())&&this.$13)return this.$13(this.$2.toString()).then(function(b){b.refreshedUrl!=null&&b.reason==="OK"&&(a.$2=new(c("oz-player/shims/OzURI"))(b.refreshedUrl));return});else return(h||(h=b("Promise"))).resolve()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var b=a.prototype;b.produce=function(a){this.$6(a)};b.signalProducerInterruption=function(){this.$6(new(c("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};b.consume=function(a){var b=this;if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"A buffer can only be consumed by one client at a time"});this.$3=!0;var e=c("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=this.$4.getPromise());return e.then(function(){if(b.$1){if(b.$2[b.$5]===void 0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer has no value at position "+b.$5})}else if(b.$2.length===0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer length must not be 0"});b.$4=null;b.$3=!1;var c=b.$1?b.$7(a):b.$8(a);if(c instanceof Uint8Array)return c;throw c})};b.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};b.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};b.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};b.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();g["default"]=a}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a==null?void 0:a.error(b)}catch(a){}}f["default"]=a}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Upstream has an inconsistent range"})}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(b,d,e,f,g){var j=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=new i();this.$15=!1;this.$16=!1;this.$17=!1;this.startStream=function(){j.$13=!0;var b={startByte:j.$1.startByte,endByte:j.$1.endByte};!j.$15?b.startByte+=j.$8:j.$8&&(j.$3.produce("skip_buffered_bytes"),j.$8=0);var d=j.$4;return j.$2.startStream(b).then(function(b){b.pipeTo(j.$16?d:j.$4).then(function(){j.$12&&j.$12.resolve("stream_done")})["catch"](function(b){j.$12&&!j.$12.isSettled()&&(j.$16&&b===a.STREAM_PAUSED?j.$12.resolve("stream_paused"):j.$12.reject(b))});j.$12=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:j.$12.getPromise()}})};this.$18=b;this.$19=d;this.$1=e;this.$2=f;b=g||{};d=b.fixStreamingUndefinedEndByte;e=b.disableDeferredBufferArrayShift;f=b.enablePausableStreamResumeFromStartDangerously;g=b.fixPausePreReadableStream;b=b.throwErrorWhenAborted;this.$11=!!d;this.$15=!!f;this.$16=!!g;this.$17=!!b;this.$3=new(c("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!e});this.$6=new this.$18({start:function(a){j.$10=a},pull:function(a){if((j.$11&&j.$1.endByte===null&&j.$5||j.$7===j.$20())&&j.$3.isEmpty()){a.close();return c("oz-player/shims/OzMaybeNativePromise").resolve()}var b=function b(){var d=j.$14.hasMoreBytesToSkip()?j.$14.getBytesToSkip():void 0;return j.$3.consume(d).then(function(d){if(j.$14.hasMoreBytesToSkip()){j.$14.setBytesSkipped(d.length);return b()}j.$7+=d.length;var e=j.$20();e!==null&&j.$7>(e||0)&&c("oz-player/utils/ozPipeErrorTo")(j.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){j.$14.setBytesToSkip(j.$7);return b()}throw a})};return b()},cancel:function(a){j.$12&&j.$12.resolve("stream_cancelled"),c("oz-player/utils/ozPipeErrorTo")(j.$9,a)}});this.$4=this.$21()}var b=a.prototype;b.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$21=function(){var a=this;return new this.$19({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,d=b.endByte;b=b.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-b+1&&c("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(b){a.$12&&(a.$17?a.$12.reject(b):a.$12.resolve("stream_aborted")),c("oz-player/utils/ozPipeErrorTo")(a.$10,b)}})};b.getStream=function(){return this.$6};b.pauseStream=function(){c("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$21()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!d("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();a.STREAM_PAUSED="streamPaused";g["default"]=a}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var d=this;this.createRequestParam=function(a,b,e){var f=new(c("oz-player/shims/OzURI"))(a.toString());if(b){a=b.startByte;var g=b.endByte;a===0&&g==null||(f.addQueryData({bytestart:b.startByte}),g!=null&&f.addQueryData({byteend:g}))}if(d.$2){var h=d.$2(f);h&&Object.keys(h).forEach(function(a){var b=h[a];f.addQueryData(a,b)})}a=d.$1&&d.$1(f)?"include":"same-origin";return{uri:f,http:{credentials:a,priority:e}}};this.$1=a;this.$2=b};g["default"]=a}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}f["default"]=a}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a){return a?a.get("x-fb-fna-hit"):null},j=function(a){return a?a.get("x-fb-edge-hit"):null},k=function(a){return a?a.get("x-fb-origin-hit"):null},l=function(a){return a?parseInt(a.get("x-fb-dynamic-latest-segment-id"),10):null},m=function(a,b){b=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,d,e,f,g){d.length&&a.setSegmentCount(d.length),b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setInitiator("fetch").setTimeToRequestSent(Math.round(Math.floor(e))).setLiveheadSeqNumHeader(l(g==null?void 0:g.headers)).setContentLengthHeader(h(g==null?void 0:g.headers)).setEdgeHitHeader(j(g==null?void 0:g.headers)).setOriginHitHeader(k(g==null?void 0:g.headers)).setFNAHitHeader(i(g==null?void 0:g.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(g==null?void 0:g.headers)).setUserInfo({segmentPTSHeader:String(c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(g==null?void 0:g.headers))}).setCode(g==null?void 0:g.status).setLength(f)};b=function(a,b,d,e,f,g,i){b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setLiveheadSeqNumHeader(l(e==null?void 0:e.headers)).setContentLengthHeader(h(e==null?void 0:e.headers)).setEdgeHitHeader(j(e==null?void 0:e.headers)).setOriginHitHeader(k(e==null?void 0:e.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(e==null?void 0:e.headers)).setCode(e==null?void 0:e.status).setLength(d).setClientTimeBegin(f).setClientTimeDuration(g-f).setClientTimeEnd(g).setUserInfo(i!=null&&i>0?{chunkSize:String(i)}:null)};g.setPerformanceLoggingAttributes=m;g.setFetchStreamLoggingAttributes=a;g.setBandwidthSampledLoggingAttributes=b}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$10=null;this.$15="auto";var b=a.config,d=a.prefetchCache,e=a.networkRequestStreamHandlers,f=a.getOverrideOzRequestImplementation,g=a.getShouldIncludeCredentials,h=a.getCustomRequestParametersForURI,i=a.networkRequestFetchPriority;i=i===void 0?"auto":i;var j=a.networkRequestStreamRetryHandler,k=a.networkRequestUrlRefreshHandler,l=a.setCustomFetchStreamLoggingAttributes,m=a.dynamicVideoLibrary,n=a.configureCustomRequestParametersForSegment,o=a.onResourceTimingBufferFull;a=a.bandwidthEstimator;this.$2=b;this.$8=g;this.$9=h;this.$1=new(c("oz-player/networks/RequestParamCreator"))(this.$8,this.$9);this.$3=d;this.$4=e;this.$5=j;this.$6=k;this.$7=f;this.$10=l;this.$11=m;this.$12=n;this.$13=o;this.$14=a;this.$15=i}var b=a.prototype;b.destroy=function(){};b.request=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.requestOptions,h=a.mediaStreamType,i=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var j=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},k=this.$7?this.$7():null,l=this.$16(d[0]);b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:l,baseUriDecisionTime:null,options:g,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,mediaStreamType:h,dataAppendedCallback:i,dataAppendedErrorCallback:a});return this.$17(j,b,e,f,d)};b.createPausableStream=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.mediaStreamType,h=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var i=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},j=null,k=this.$2.getNumber("network_seg_timeout_ms");k>0&&(j={networkTimeoutMs:k});k=this.$7?this.$7():null;var l=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:this.$16(d[0]),baseUriDecisionTime:d[0].getOptions().getSegmentNumDecisionTime(),options:j,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:g,dataAppendedCallback:h,dataAppendedErrorCallback:a});return{pausableStream:this.$18(i,l,e||null,f),loggingPayloads:{getRequestUrl:function(){return l.getLastRequestUrl()||null},segments:d,getResponse:function(){return l.getLastResponse()}}}};b.requestRawUrl=function(a){var b=a.debugName,d=a.url,e=a.options;a=a.loggerProvider;var f=this.$7?this.$7():null;b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:new(c("oz-player/shims/OzURI"))(d),baseUriDecisionTime:null,options:e,networkRequestFetchPriority:this.$15,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:f,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:null,dataAppendedCallback:null,dataAppendedErrorCallback:null});d={startByte:0,endByte:null};return this.$17(d,b,[],a)};b.$18=function(a,b,e,f){b=b;if(e!=null)for(var g=0;g<e.length;g++){var h=e[g];b=h(this.$2,b,f,this.$13)}return new(c("oz-player/networks/OzPausableRangeStream"))(d("oz-player/shims/OzStreams").OzReadableStream,d("oz-player/shims/OzStreams").OzWritableStream,a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:!0})};b.$17=function(a,b,c,e,f){var g=this;f===void 0&&(f=[]);var h=this.$18(a,b,c,e);a=h.startStream();var i=this.$19(a);if(e){c=function(a){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,b.getLastRequestUrl(),f,0,h.getBytesStreamed(),b.getLastResponse());var c=g.$10;c&&c(a,b.getLastRequestUrl(),b.getLastResponse())};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,e,"fetch_stream",c,c)}return{getStream:function(){return h.getStream()},cancel:function(){return h.pauseStream()},getStatusChangePromise:function(){return i}}};b.$19=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return"done"})})};b.$16=function(a){var b=this.$12,d=new(c("oz-player/shims/OzURI"))(a.getURI().toString());if(b){var e=b(a);e&&Object.keys(e).forEach(function(a){var b=e[a];d.addQueryData(a,b)})}return d};b.getBandwidthEstimator=function(){return this.$14};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!c("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$Mpd$p_9=!1;j.$Mpd$p_1=b;j.$Mpd$p_5=g;j.$Mpd$p_2=c;j.$Mpd$p_3=d;j.$Mpd$p_4=e;j.$Mpd$p_6=f;j.$Mpd$p_7=h;j.$Mpd$p_8=i;return j}var c=b.prototype;c.markRefreshed=function(){this.$Mpd$p_10=Date.now()};c.getRefreshDate=function(){return this.$Mpd$p_10};c.updateLocation=function(a){this.$Mpd$p_6=a,this.$Mpd$p_9=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd$p_6};c.getMinimumUpdatePeriod=function(){return this.$Mpd$p_5};c.getVideoRepresentations=function(){return this.$Mpd$p_2};c.getVideoRepresentationsByVariant=function(a){return a.lang===null?this.$Mpd$p_2.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role}):this.$Mpd$p_2.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role})};c.getAudioRepresentationsByVariant=function(a){return a.lang===null?this.$Mpd$p_3.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role}):this.$Mpd$p_3.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role})};c.getAudioRepresentations=function(){return this.$Mpd$p_3};c.getApplicationRepresentations=function(){return this.$Mpd$p_4};c.getCustomField=function(a){var b=this.$Mpd$p_7.get(a);if(!b)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"Custom parser not specified for field "+a});try{return b(this.$Mpd$p_1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd$p_8};c.updateWith=function(a){this.$Mpd$p_9&&(this.$Mpd$p_9=!1,this.$Mpd$p_2.splice(0,this.$Mpd$p_2.length),this.$Mpd$p_3.splice(0,this.$Mpd$p_3.length),this.$Mpd$p_4.splice(0,this.$Mpd$p_4.length)),this.$Mpd$p_1=a.$Mpd$p_1,this.$Mpd$p_11(this.$Mpd$p_2,a.getVideoRepresentations()),this.$Mpd$p_11(this.$Mpd$p_3,a.getAudioRepresentations()),this.$Mpd$p_11(this.$Mpd$p_4,a.getApplicationRepresentations()),this.$Mpd$p_8=a.isStaticMpd(),this.$Mpd$p_5=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd$p_2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_3.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_4.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd$p_11=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$3=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return null};b.getURI=function(){return this.$2};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$3};return a}();a=function(){function a(a,b,d,e,f){this.$2=d,this.$1=b,this.$3=a,e?this.$4=e:this.$4=new(c("oz-player/parsers/OzDefaultSegmentTimelineParser"))(),this.$5=f}var b=a.prototype;b.parseInitializationSegment=function(){var a=d("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new h(new(c("oz-player/shims/OzURI"))(a),this.$5)};b.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$4=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$4};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/networks/OzTransformStream","oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function b(b){var d=this;this.$8=Date.now();this.$9=Date.now();this.$10=0;this.$11=0;this.$12=function(){};this.$13=function(){};this.$14=function(){};this.$16=new(c("oz-player/networks/OzTransformStream"))();this.$19=!1;this.$20=!1;this.$21=null;this.$22=function(a){d.$25();a.length!=null&&(d.$11+=a.length);d.$26();if(d.$18)return;d.$27()};this.$23=function(){if(d.$21!=null&&d.$21>0)return;var b=Date.now()-d.$8,c=d.$1.getLastPerformanceEntry();c&&d.$13(c.responseStart-c.requestStart,c.responseEnd-c.requestStart,d.$11);!c&&a.__isresourcetimingbufferfull&&d.$15&&d.$15();d.$3>0&&b>0&&d.$10===0&&d.$11>=d.$3&&d.$28(d.$11,b)};var e=b.stream,f=b.loggerProvider,g=b.byteCountPerSample,h=b.minimumBytesToSampleOnClose,i=b.minimumSampleDuration,j=b.maximumSampleBandwidth,k=b.useResponseTimeMs,l=b.responseTimeHandicapMs,m=b.ignoreOnStreamWriteSamples;b=b.onResourceTimingBufferFull;this.$1=e;this.$17=f;this.$2=g;this.$3=h;this.$4=i;this.$5=j;this.$6=k;this.$7=l;this.$18=m;this.$16.addListener("writableWrite",this.$22);this.$16.addListener("writableClose",this.$23);this.$15=b}var e=b.prototype;e.getTransformStream=function(){return this.$16};e.onBandwidthSample=function(a){this.$12=a};e.onNavigationTimingSample=function(a){this.$13=a};e.onEstimateFromHeaders=function(a){this.$14=a};e.$24=function(a,b,c){b=b-c;c=this.$17?this.$17.getOperationLogger("bandwidth_sampled"):null;if(c){var e=Date.now(),f=e-b;d("oz-player/utils/OzNetworkRequestLoggingUtils").setBandwidthSampledLoggingAttributes(c,this.$1.getLastRequestUrl(),a,this.$1.getLastResponse(),f,e,this.$21);c.log()}this.$12(a,b)};e.$29=function(a,b,c){if(b-c<=0)return!0;c=a*8/(b/1e3);return b<this.$4&&c>this.$5};e.$28=function(a,b){var d=this.$1.getLastResponse();d=this.$6?c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(d==null?void 0:d.headers)||0:0;this.$29(a,b,d)||this.$24(a,b,Math.max(d-this.$7,0))};e.$25=function(){var a;a=(a=this.$1.getLastResponse())==null?void 0:a.headers;if(this.$20||a==null)return;this.$20=!0;a=c("oz-player/shims/OzNetworkDiagnostics").getBandwidthMeanEstimate(a);a!=null&&this.$14(a)};e.$26=function(){if(this.$19)return;if(this.$21==null){var a=this.$1.getLastResponse();this.$21=c("oz-player/shims/OzNetworkDiagnostics").getUsableResponseSizeForBandwidthEstimation(a==null?void 0:a.headers)||0}this.$21!=null&&this.$21>0&&this.$11>=this.$21&&(this.$19=!0,this.$28(this.$11,Date.now()-this.$9))};e.$27=function(){var a=Date.now(),b=a-this.$8;this.$2>0&&this.$11>=this.$10+this.$2&&!this.$29(this.$11,b,0)&&(this.$24(this.$11-this.$10,b,0),this.$8=a,this.$10=this.$11)};return b}();g["default"]=b}),98);
__d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator",["oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f,g){"use strict";var h=2e5;function a(a,b,d,e,f){return{startStream:function(g){var i=new(c("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:b,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",h),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",25e3),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",10),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",1e8),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1),onResourceTimingBufferFull:f});i.onBandwidthSample(function(a,b){e.addBandwidthSample(a,b)});i.onNavigationTimingSample(function(b,c,d){var f=a.getNumber("time_to_first_byte_ignore_above_threshold_ms",0);(f===0||b<=f)&&e.addNavigationTimingSample(b,c,d)});i.onEstimateFromHeaders(function(a){e.setBandwidthEstimateFromHeaders({meanEstimate:a})});return b.startStream(g).then(function(a){return b.retrievedFromCache()?a:a.pipeThrough(i.getTransformStream())})}}}g.pipeStreamThroughBandwidthEstimator=a}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzNetworkRequestStream","oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e,f,g,h){var i=a==="video";return f instanceof c("oz-player/networks/OzNetworkRequestStream")&&i?d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator").pipeStreamThroughBandwidthEstimator(e.getLegacyConfig(),f,g,b,h):f}}g["default"]=a}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){this.$6=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=1936286840;function a(a,b,e,f){var g=new(c("oz-player/shims/OzDataViewReader"))(new DataView(f.buffer));f=g.readUint32();var i=g.readUint32();if(i!==h)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:'Invalid box type, expected "sidx".'});f==1&&(f=g.readUint64());i=g.readUint8();g.skip(3);g.skip(4);var j=g.readUint32();if(!j)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Invalid timescale."});var k;i==0?(i=g.readUint32(),k=g.readUint32()):(i=g.readUint64(),k=g.readUint64());g.skip(2);var l=g.readUint16(),m=i,n=e+f+k,o=0,p=a.getBool("sidx_parser_memory_optimization"),q=[];i=function(a){var e=g.readUint32(),f=(e&2147483648)>>>31;e=e&2147483647;var h=g.readUint32();g.readUint32();if(f==1)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Heirarchical SIDXs are not supported."});var i=m/j,k=(m+h)/j;a===0&&(o=i);var l=n,r=l+e-1,s=new(c("oz-player/manifests/OzSegmentOptions"))();q.push(p?new(c("oz-player/manifests/OzDataSegment"))(b,i-o,k-o,l,r):{getData:function(){return null},getURI:function(){return b},getTimeRange:function(){return{startTime:i-o,endTime:k-o}},getByteRange:function(){return{startByte:l,endByte:r}},getSequenceNumber:function(){return null},getOptions:function(){return s}});m+=h;n+=e};for(e=0;e<l;e++)i(e);return q}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: updatedWith"})};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();return a.length>0?a[a.length-1]:null};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";var h=440786851,i=408125543,j=357149030,k=2807729,l=17545,m=475249515,n=187,o=179,p=183,q=241,r=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function s(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var t=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new u(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),u=function(){function a(a){this.$1=a,this.$2=new(c("oz-player/shims/OzDataViewReader"))(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new t(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<r.length;b++)if(s(a,r[b]))return!0;return!1};return a}();function v(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==k?b=d.getUint():d.id==l&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function w(a,b,d,e,f,g){a=[];b=b.createParser();var h=-1,i=-1;while(b.hasMoreData()){var j=b.parseElement();if(j.id!=n)continue;j=x(j);if(!j)continue;var k=e*j.unscaledTime;j=d+j.relativeOffset;h>=0&&(i>=0||c("oz-player/shims/ozvariant")(0,4010),a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,j-1)));h=k;i=j}if(h>=0){i>=0||c("oz-player/shims/ozvariant")(0,4010);k=f;a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,null))}return a}function x(a){a=a.createParser();var b=a.parseElement();if(b.id!=o)return null;b=b.getUint();a=a.parseElement();if(a.id!=p)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=q)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function y(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=j)continue;b=c;break}return!b?null:v(b)}function z(a){a=new u(a);var b=a.parseElement();if(b.id!=h)return null;b=a.parseElement();if(b.id!=i)return null;a=b.getOffset();b=y(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=z(d);if(!d)return[];c=new u(c);c=c.parseElement();return c.id!=m?[]:w(a,c,d.segmentOffset,d.timecodeScale,d.duration,b)}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,b,d,e,f,g,h){this.$6=new(c("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(c("oz-player/shims/OzEventEmitter"))(),this.$1=b,this.$2=new(c("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType(f==="video"||f==="audio"?f+";sidx":"sidx"),this.$10=a}var b=a.prototype;b.onError=function(a){return this.$6.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,d=h(b),e=new(c("oz-player/manifests/OzSegmentOptions"))();return this.$10.getBool("sidx_parser_memory_optimization")?new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getData:function(){return null},getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null},getOptions:function(){return e}}};b.parseSegmentsContainer=function(){var a=this,b=this.$11();d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$8,"process_sidx");b["catch"](function(b){a.$6.emitError(b)});return new(c("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9)};b.$12=function(a,b,e){a=new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(a,b.startByte,b.endByte);b=this.$5+";sidx";a=this.$4.request({debugName:"OzSidxSegmentsParser/sidx/"+this.$5,segments:[a],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(b,this.$4.getBandwidthEstimator())],loggerProvider:this.$8,requestOptions:{networkTimeoutMs:null,retryAttempts_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_attempts"),retryTimeoutMs_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_interval_ms")},mediaStreamType:e});b=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpAllData(b)};b.$11=function(){var a=this,b=this.$1.$.indexRange,e=h(b);b=[this.$12(this.$2,e,null)];if(this.$3==="webm"){var f=h(this.$1.Initialization[0].$.range);b.push(this.$12(this.$2,f,null));f=c("oz-player/shims/OzMaybeNativePromise").all(b).then(function(b){var c=b[0];b=b[1];a.$7=d("oz-player/parsers/OzWebmSidxParser").parse(a.$10,a.$2,c,b)})}else f=b[0].then(function(b){a.$7=d("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,e.startByte,b)});return f.then(function(){a.$9.emit("segment_updated")})};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}f.parse=a}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p){this.$9=new(c("oz-player/utils/OzErrorEmitter"))();this.$1=b;this.$2=d;this.$10=f;this.$11=g;this.$13=e;this.$14=a;this.$15=h;this.$3=i;this.$4=j;this.$5=k;this.$6=l!=null?l:null;this.$7=m!=null?m:null;this.$8=n!=null?n:null;this.$16=o;this.$17=p;try{this.$11=this.$11.cloneContext().setRepresentationID(this.parseID())}catch(a){}}var b=a.prototype;b.$18=function(){var a=this,b=this.$12;if(b)return b;if(this.$1.SegmentBase){var e=this.$1.SegmentBase[0],f=this.$1.BaseURL[0]._;if(typeof f!=="string")throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing representation BaseURL",extra:{code:"OZ_RP-9"}});b=new(c("oz-player/parsers/OzSidxSegmentsParser"))(this.$14,e,f,d("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),d("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$10,this.$11);b.onError(function(b){var c;if((c=a.$17)==null?void 0:c.handleError(a.parseID(),b))return;return a.$9.emitError(b)})}else if(this.$1.SegmentTemplate)b=this.$19(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$3)b=this.$19(this.$3[0],{isShared:!0});else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});this.$12=b;return b};b.$19=function(a,b){var e;a=a;b.isShared&&(a=babelHelpers["extends"]({},a,{$:babelHelpers["extends"]({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));b=this.$13.mpdUrl;var f=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;f=f!=null?f:b;if(f==null)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});var g=this.$13.customSegmentTimelineParser;e=(e=this.$13.customRepresentationParsers)==null?void 0:e.initializationBinary;e=e?e(this.$1):null;return new(c("oz-player/parsers/OzSegmentTemplateParser"))(this.$14,a,{baseUrl:f,mpdUrl:b,isStaticMpd:this.$15.manifestType==="static",isTemplatedMpd:this.$15.manifestIsTemplated},g,e)};b.onError=function(a){return this.$9.onError(a)};b.parseInitSegment=function(){return this.$18().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeType=function(){var a;return(a=(a=this.$1.$.mimeType)!=null?a:this.$4)!=null?a:""};b.parseCodecs=function(){var a;return(a=(a=this.$1.$.codecs)!=null?a:this.$5)!=null?a:""};b.parseVariantKey=function(){return this.$6};b.parseLang=function(){return this.$7};b.parseRole=function(){return this.$8};b.parseSegmentsContainer=function(){return this.$18().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$13.customRepresentationParsers?this.$13.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new(c("oz-player/manifests/OzRepresentationBase"))(this.$1,this.$2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$13.customRepresentationParsers)};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o)||this;b.$OzApplicationRepresentationParser$p_1=c;b.$OzApplicationRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=this.$OzApplicationRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser$p_1,this.$OzApplicationRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;b.$OzAudioRepresentation$p_1=d;b.$OzAudioRepresentation$p_2=l;b.$OzAudioRepresentation$p_3={id:d,displayLabel:b.getDisplayLabel(),mimeCodecs:b.getMimeCodecs(),variantKey:g,lang:h,role:i};return b}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation$p_2/a).toFixed(1)+"Kbps"};c.getDisplayLabel=function(){var b=a.prototype.getLang.call(this),c=a.prototype.getRole.call(this);b=b==null?"Default":b;return c==null?b:b+" - "+c};c.getAudioTrack=function(){return this.$OzAudioRepresentation$p_3};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o)||this;b.$OzAudioRepresentationParser$p_1=c;b.$OzAudioRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser$p_1,this.$OzAudioRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)||this;b.$OzVideoRepresentationParser$p_1=c;b.$OzVideoRepresentationParser$p_2=d;b.$OzVideoRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.width,10),d=this.$OzVideoRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser$p_1,this.$OzVideoRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,b,a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/utils/OzIbrUtils",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(b.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});b=b.getNumber("live_audio_ibr_bandwidth_percentage");b=e*b;for(var f=a.length-1;f>=0;f--)if(a[f].getBandwidth()<=b){d.getOperationLogger("audio_ibr_success").setRepresentationID(a[f].getID()).setReason(e.toString()).log();return a[f]}d.getOperationLogger("audio_ibr_no_op").setReason(e.toString()).log();return null};g.getInitialAudioRepresentation=a}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.blockedRepresentationsManager,d=a.config,e=a.drmManager,f=a.enableAlternativeAudioTracks,g=a.initialRepresentationIDs,h=a.networkManager,i=a.ozParserContext,j=a.perfLoggerProvider;a=a.useManagedMediaSource;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=d;this.$1=h;this.$3=j;this.$4=i;this.$6=e;this.$7=g!=null?g:[];this.$8=b!=null?b:null;this.$9=f;this.$10=a!=null?a:!1;this.$11=!0}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){var b=this,e=[];a=a;var f=this.$4.createXmlParser().parse(a);f=f.MPD&&f.MPD.length>0?f.MPD[0]:null;if(!f){var g=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing MPD node; truncated xml ("+Math.min(g,a.length)+"/"+a.length+"): "+a.substring(0,g)})}g=f.Period&&f.Period.length>0?f.Period[0]:null;if(!g){var h=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing Period node; truncated xml ("+Math.min(h,a.length)+"/"+a.length+"): "+a.substring(0,h)})}a=g.AdaptationSet||[];h=this.$12(f);this.$11=h==="static";g=this.$13(f);var i=this.$14(this.$15(a,"video"),{manifestType:h,manifestIsTemplated:g},e),j;this.$9?j=this.$16(this.$15(a,"audio"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}):j=this.$17(this.$18(a,"audio"),c("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var k=[];if(this.$5.getBool("vtt_caption_representation")){a=this.$15(a,"application");k=this.$17(a[0],c("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:h,manifestIsTemplated:g},e)}a=this.$4.mpdUrl;h=new(c("oz-player/manifests/Mpd"))(f,i,j,k,a,this.$19(f),this.$4.customParsers||new Map(),this.$11);if(this.$6){g=this.$6;g.startEME(i,j)}e.forEach(function(a){a.onError(b.$2.emitError)});return h};b.$19=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$12=function(a){return a.$.type||"static"};b.$13=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};b.$18=function(a,b){return a.find(this.$20(b))};b.$15=function(a,b){return a.filter(this.$20(b))};b.$20=function(a){return function(b){if(b.$.mimeType!=null)return b.$.mimeType.indexOf(a)!==-1;b=b.Representation;return b&&b.length>0&&b[0].$.mimeType.indexOf(a)!==-1}};b.$17=function(a,b,c,d){var e=this;if(!a)return[];var f=a.Role;f=f!=null?f:[];f=f[0];var g=f?f.$.value:null;f=a.$.lang;var h=f==="und"?null:f;f=a.$.FBVariantKey;var i=f==="und"?null:f!=null?f:null;return a.Representation.map(function(f){f=new b(e.$5,f,(f=f.ContentProtection)!=null?f:a.ContentProtection,e.$4,e.$1,e.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,i,h,g,e.$7,e.$8);var j=f.parse();d.push(f);return j})};b.$21=function(a){return this.$10?ManagedMediaSource.isTypeSupported(a):MediaSource.isTypeSupported(a)};b.$14=function(a,b,d){var e=this,f=[],g=new Set();a.filter(Boolean).forEach(function(a,h,i){h=h===i.length-1;for(i of a.Representation){var j,k;if(((j=i.$.FBAbrPolicyTags)==null?void 0:j.includes("avoid_on_abr"))&&!h)continue;j=a.Role;j=j!=null?j:[];j=j[0];j=j?j.$.value:null;var l=a.$.lang;l=l==="und"?null:l;var m=a.$.FBVariantKey;m=m==="und"?null:m!=null?m:null;k=new(c("oz-player/parsers/OzVideoRepresentationParser"))(e.$5,i,(k=i.ContentProtection)!=null?k:a.ContentProtection,e.$4,e.$1,e.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,m,l,j,e.$7,e.$8);m=k.parse();d.push(k);if(!e.$21(m.getMimeCodecs())){g.add(m.getMimeCodecs());continue}f.push(m)}});return f.filter(Boolean)};b.$16=function(a,b,e){var f=this,g=[],h=new Set();a=a.filter(Boolean).map(function(a){var d=a.Role;d=d!=null?d:[];d=d[0];d=d?d.$.value:null;var g=a.$.lang;g=g==="und"?null:g;var i=a.$.FBVariantKey;i=i==="und"?null:i!=null?i:null;var j=[];for(var k of a.Representation){var l;l=new(c("oz-player/parsers/OzAudioRepresentationParser"))(f.$5,k,(l=k.ContentProtection)!=null?l:a.ContentProtection,f.$4,f.$1,f.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,i,g,d,f.$7);var m=l.parse();e.push(l);if(!f.$21(m.getMimeCodecs())){h.add(m.getMimeCodecs());continue}j.push(m)}return j});a.forEach(function(a){if(a.length>1){var b=d("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(a,f.$5,f.$3);g.push(b!=null?b:a[0])}else g.push.apply(g,a)});return g.filter(Boolean)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=null;a.forEach(function(a){if(a){var c=a.endTime;c<((c=(c=b)==null?void 0:c.endTime)!=null?c:Infinity)&&(b=a)}});return b}function a(a,b){b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b.map(function(a){a=a.getEndingSegment();return a?a.getTimeRange():null});return g(a)}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}f.getLeastEndTimeTimeRange=g;f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker$p_4=0;d.$OzStreamInterruptChecker$p_5=null;d.$OzStreamInterruptChecker$p_6=!1;d.$OzStreamInterruptChecker$p_2=b;d.$OzStreamInterruptChecker$p_3=c;d.$OzStreamInterruptChecker$p_1=d.$OzStreamInterruptChecker$p_3.getNumber("live_numerical_error_epsilon");return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker$p_2,this.$OzStreamInterruptChecker$p_3),b=a?a.endTime:null,c=!1;b!==null&&(c=b===this.$OzStreamInterruptChecker$p_5);c?this.$OzStreamInterruptChecker$p_4++:(this.$OzStreamInterruptChecker$p_4=0,this.$OzStreamInterruptChecker$p_6&&this.$OzStreamInterruptChecker$p_5!==null&&this.$OzStreamInterruptChecker$p_5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker$p_6=!1);c=this.$OzStreamInterruptChecker$p_3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker$p_6&&c>0&&this.$OzStreamInterruptChecker$p_4>=c&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker$p_6=!0);this.$OzStreamInterruptChecker$p_5=b};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,h,i,j,k,l){var m;m=a.call(this)||this;m.$OzMpdUpdater$p_8=new(c("oz-player/utils/OzErrorEmitter"))();m.$OzMpdUpdater$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();m.$OzMpdUpdater$p_11=!1;m.$OzMpdUpdater$p_16=0;m.$OzMpdUpdater$p_18=0;m.$OzMpdUpdater$p_19=null;m.$OzMpdUpdater$p_21=!0;m.$OzMpdUpdater$p_22=0;m.$OzMpdUpdater$p_26=function(){var a,b=m.$OzMpdUpdater$p_2.getLocation();m.$OzMpdUpdater$p_21=!1;if(b==null||b==="")return;var e=new(c("oz-player/shims/OzURI"))(b),f=String((a=(a=e.getQueryData().ms)!=null?a:e.getQueryData().msdev)!=null?a:e.getQueryData().mstest);if(!m.$OzMpdUpdater$p_12.isPlaying()){m.setupUpdateLoop();return}var g=m.$OzMpdUpdater$p_5.getOperationLogger("update_manifest").start();m.$OzMpdUpdater$p_28(b).then(function(a){var e,h;m.$OzMpdUpdater$p_18=0;m.$OzMpdUpdater$p_29();m.$OzMpdUpdater$p_7=0;if(m.$OzMpdUpdater$p_21)return;var i=babelHelpers["extends"]({},m.$OzMpdUpdater$p_13,{mpdUrl:b});i=new(c("oz-player/parsers/OzMpdParser"))({config:m.$OzMpdUpdater$p_6,ozParserContext:i,networkManager:m.$OzMpdUpdater$p_1,perfLoggerProvider:m.$OzMpdUpdater$p_5,drmManager:m.$OzMpdUpdater$p_14,initialRepresentationIDs:[],blockedRepresentationsManager:null,enableAlternativeAudioTracks:!1,useManagedMediaSource:m.$OzMpdUpdater$p_23});i.onError(function(a){m.$OzMpdUpdater$p_8.emitError(a),g.setError(a).log()});i=i.parse(a);a=m.$OzMpdUpdater$p_2.isStaticMpd();m.$OzMpdUpdater$p_2.updateWith(i);m.$OzMpdUpdater$p_2.markRefreshed();i.isStaticMpd()&&!a&&m.emit("streamTransitionToStatic");i=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6);a=i&&i.endTime!=0?i.endTime:null;i=String((i=(i=m.$OzMpdUpdater$p_2)==null?void 0:i.getCustomField("currentServerTimeMs"))!=null?i:"");e=String((e=(e=m.$OzMpdUpdater$p_2)==null?void 0:e.getCustomField("lastVideoFrameTs"))!=null?e:"");i={currentServerTimeMs:i,ingestLastVideoFrameTs:e,nowMs:String(Date.now())};e=new Set(((e=(e=m.$OzMpdUpdater$p_2)==null?void 0:e.getVideoRepresentations())!=null?e:[]).map(function(a){return a.getCodecs()})).size>1;h=new Set(((h=(h=m.$OzMpdUpdater$p_2)==null?void 0:h.getAudioRepresentations())!=null?h:[]).map(function(a){return a.getCodecs()})).size>1;g.setLiveheadPosition(a).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(m.$OzMpdUpdater$p_2)).setManifestType(m.$OzMpdUpdater$p_2.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(e||h).setIsTemplatedManifest(Boolean(m.$OzMpdUpdater$p_2.getCustomField("isLiveTemplated"))).setPlaybackFbmsParam(f).setUserInfo(i).log();m.$OzMpdUpdater$p_9.notifyMpdUpdated();m.setupUpdateLoop()})["catch"](function(a){m.$OzMpdUpdater$p_29();g.setError(a).log();var c=null;if(d("oz-player/utils/OzErrorUtils").isOzError(a))c=a;else{var e,f=null,h="Caught an unknown error when fetching the manifest.";if(a!=null)if(m.$OzMpdUpdater$p_6.getBool("normalize_mpd_fetch_errors")){var i=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),j=i[0];i[1];c=j}else e=a,f=e.code!=null?String(e.code):null,h=e.name+"; "+e.message+"; "+e.description+";";if(c==null){i={originalError:e,url:b};f!==null&&(i.code=f);c=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK",description:h,extra:i})}}m.$OzMpdUpdater$p_27(c,b)})};var n=e.getMinimumUpdatePeriod();m.$OzMpdUpdater$p_7=0;m.$OzMpdUpdater$p_1=f;m.$OzMpdUpdater$p_2=e;m.$OzMpdUpdater$p_12=g;m.$OzMpdUpdater$p_3=n;m.$OzMpdUpdater$p_5=h.cloneContext().setType("manifest");m.$OzMpdUpdater$p_6=b;m.$OzMpdUpdater$p_13=i;m.$OzMpdUpdater$p_14=j;m.$OzMpdUpdater$p_15=k;m.$OzMpdUpdater$p_23=l;m.$OzMpdUpdater$p_2.addListener("locationUpdated",function(){m.$OzMpdUpdater$p_24(),m.setupUpdateLoop()});m.$OzMpdUpdater$p_9=new(c("oz-player/utils/OzStreamInterruptChecker"))(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6);m.$OzMpdUpdater$p_10.addSubscriptions(m.$OzMpdUpdater$p_9.addListener("streamResumedAt",function(a){m.emit("streamResumedAt",a)}),m.$OzMpdUpdater$p_9.addListener("streamInterruptAt",function(a){m.emit("streamInterruptAt",a)}));return m}var e=b.prototype;e.$OzMpdUpdater$p_24=function(){c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_4=null,this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_21=!0};e.setupUpdateLoop=function(){var a,b=!this.$OzMpdUpdater$p_11;b&&(b=!this.$OzMpdUpdater$p_2.isStaticMpd(),this.$OzMpdUpdater$p_3=this.$OzMpdUpdater$p_2.getMinimumUpdatePeriod());a=this.$OzMpdUpdater$p_17==null&&this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater$p_6.getNumber("manifest_update_frequency_ms")||((a=this.$OzMpdUpdater$p_3)!=null?a:0)*1e3;b&&a&&this.$OzMpdUpdater$p_2.getLocation()&&(this.$OzMpdUpdater$p_4=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater$p_26,a))};e.onError=function(a){return this.$OzMpdUpdater$p_8.onError(a)};e.$OzMpdUpdater$p_27=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater$p_18-1,e=a.getExtra().code;this.$OzMpdUpdater$p_19!==e?(this.$OzMpdUpdater$p_19=e,this.$OzMpdUpdater$p_16=1):this.$OzMpdUpdater$p_16++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater$p_11=!0,c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater$p_16,error:a,isInitialRequest:!1,retry:function(b){c.emit("manifestFetchErrorRetry",a),f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater$p_8.emitError(a)};e.$OzMpdUpdater$p_30=function(a,b){a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_expid",b);return a.toString()};e.$OzMpdUpdater$p_31=function(a){if(!this.$OzMpdUpdater$p_15)return a;a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_tsid","mpd-"+this.$OzMpdUpdater$p_22++);return a.toString()};e.$OzMpdUpdater$p_28=function(a){this.$OzMpdUpdater$p_25();this.$OzMpdUpdater$p_18++;var b=this.$OzMpdUpdater$p_6.getString("cdn_experiment_id");a=b.length===0?a:this.$OzMpdUpdater$p_30(a,b);a=this.$OzMpdUpdater$p_31(a);b=this.$OzMpdUpdater$p_1.requestRawUrl({debugName:"OzMpdUpdater/requestMpd/mpd",url:a,options:{networkTimeoutMs:this.$OzMpdUpdater$p_6.getNumber("mpd_updater_network_request_timeout_ms")},loggerProvider:this.$OzMpdUpdater$p_5});this.$OzMpdUpdater$p_17=Date.now();this.$OzMpdUpdater$p_20=b;a=b.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};e.$OzMpdUpdater$p_25=function(){this.$OzMpdUpdater$p_20&&(this.$OzMpdUpdater$p_20.cancel(),this.$OzMpdUpdater$p_18=0),this.$OzMpdUpdater$p_29()};e.$OzMpdUpdater$p_29=function(){this.$OzMpdUpdater$p_20=null};e.destroy=function(){this.$OzMpdUpdater$p_4&&c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_10.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";b={createHTML:function(a){if(a.startsWith('<?xml version="1.0"?>\n<')||a.startsWith('<?xml version="1.0" encoding="UTF-8"?>\n<')||a.startsWith('\n<MPD xmlns="urn:mpeg:dash:schema:mpd:2011"'))return a;throw c("err")("Violating Trusted Type policies. Only works for XML.")}};var h=c("TrustedTypes").createPolicy("oz-player-xml",b);function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.createHTML.apply(h,[a].concat(c))}g.createTrustedHTMLForDOMParser=a}),98);
__d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy",["oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW"],(function(a,b,c,d,e,f,g){"use strict";g.createTrustedHTMLForDOMParser=d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW").createTrustedHTMLForDOMParser}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}function i(a){var b=h();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(i(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var b=a.prototype;b.parse=function(a){try{var b=h(),c=d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy").createTrustedHTMLForDOMParser(a);c=this.$1.parseFromString(c,"application/xml");var e=c.querySelector("parsererror");if(e){var f=e.querySelector("h3");f=f?f.nextElementSibling:null;f=f?f.innerHTML:e.innerHTML;e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"DOMParser parsererror: "+String(f).trim()+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{}})}f=c.documentElement;f!=null&&(b[f.nodeName]=[i(f)]);return b}catch(b){if(d("oz-player/utils/OzErrorUtils").isOzError(b))throw b;else{e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"XML parse exception: "+String(b)+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{originalError:b}})}}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){e===void 0&&(e=null),this.$3=new(c("oz-player/utils/OzErrorEmitter"))(),this.$4=new Map(),this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=a,this.$2=b,this.$4=d,this.$11=e}var b=a.prototype;b.$12=function(a){var b;this.$5=!0;return(b=this.$8)!=null?b:a.call(this.$1)};b.$13=function(a,b){this.$6=!0,this.$9.push({t:b}),this.$8=b,this.$9.length===1&&this.$14(a)};b.$15=function(a){this.$7=!0;return this.$8!=null?!0:a.call(this.$1)};b.$16=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=[];this.$4.forEach(function(c,d){d=c.clearSourceBufferRange(a,b);e.push(d)});var f=c("oz-player/shims/OzMaybeNativePromise").all(e);f.then(function(){d.resolve()})["catch"](function(a){d.reject(a)});return d.getPromise()};b.$14=function(a){var b=this,e=this.$9.length>0?this.$9[0]:null,f=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(e){var g=e.t;e=this.$1.buffered;var h=e.length,i=e.length<=0,j=-1,k=!1;for(var l=0;j<0&&l<h;++l)j=g-f>=e.start(l)&&g+f<e.end(l)?l:j,k=g<e.start(l)-f;l=j>-1;var m=this.$2.getNumber("clear_buffer_on_seek_nudge_s");l&&j>=0&&j<h&&m>0&&(g=Math.min(g,e.end(j)-m),g=Math.max(g,e.start(j)+m));if(i||l||!k)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("no_clear").log(),a.call(this.$1,g),this.$9.shift(),this.$14(a);else{var n=null;this.$11&&(n=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(g*1e3)).setUserInfo({bufferRangesLength:String(h),nudgeSec:String(m)}).start());j=this.$16(Math.max(g-f,0),e.end(h-1)+f);j.then(function(){n&&n.log(),b.$11&&b.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("after_clear").log(),a.call(b.$1,g),b.$9.shift(),b.$14(a)})["catch"](function(a){n&&n.setError(a).log(),b.$3.emitError(d("oz-player/utils/OzErrorUtils").isOzError(a)?a:d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a?a.name+": "+a.message:"Unknown error while clearing the buffer.",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))})}}else this.$8=null};b.maybeOverwriteVideoCurrentTimeProperty=function(){var a,b,c=this,d=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");d=(a=d)!=null?a:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");a=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");a=(b=a)!=null?b:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var e=d&&typeof d.get==="function"?d.get:null,f=d&&typeof d.set==="function"?d.set:null,g=a&&typeof a.get==="function"?a.get:null;if(e&&f&&g&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return c.$12(e)},set:function(a){c.$13(f,a)},configurable:!0,enumerable:!0});Object.defineProperty(this.$1,"seeking",{get:function(){return c.$15(g)},configurable:!0,enumerable:!0});b=this.$1.currentTime;this.$1.currentTime=b;this.$1.seeking}catch(a){}this.$17(function(){c.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(c.$1,"currentTime",{get:e,set:f,configurable:!0,enumerable:!0}),c.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(c.$1,"seeking",{get:g,configurable:!0,enumerable:!0})})}};b.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6};b.getSeekingPropertyOverwriteSuccess=function(){return this.$7};b.$17=function(a){this.$10=a};b.onError=function(a){return this.$3.onError(a)};b.destroy=function(){try{this.$10&&this.$10()}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=[],this.$2=a,this.$3=b}var b=a.prototype;b.addSample=function(a){var b,c=Math.floor(Date.now()/(1e3*this.$3)),d=c%this.$2;((b=this.$1[d])==null?void 0:b.bucketNumber)!=c&&(this.$1[d]={bucketNumber:0,val:null});this.$1[d]={bucketNumber:c,val:Math.min(a,(b=this.$1[d].val)!=null?b:a)}};b.min=function(){var a=this,b=Date.now(),d=this.$1.filter(function(c){return c!=null&&c.val!=null&&b-a.$2*1e3*a.$3<c.bucketNumber*1e3*a.$3});if(d.length<this.$2)return null;d=d.reduce(function(a,b){if(a==null)return b;var d=b.val;d!=null||c("oz-player/shims/ozvariant")(0,56011);var e=a.val;e!=null||c("oz-player/shims/ozvariant")(0,56011);return d<e?b:a},null);return d==null?void 0:d.val};b.reset=function(){this.$1=[]};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$8=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$9=null;this.$10=!1;this.$11=null;this.$12=null;this.$13=null;this.$14=!0;var d=a.config,e=a.mpd,f=a.playbackState,g=a.bufferingDetector,h=a.video,i=a.loggerProvider;a=a.getUserSelectedPlaybackRate;this.$1=d;this.$2=e;this.$3=f;this.$15=a;d.getNumber("steadystate_minbuffer_buckets")>0&&(this.$7=new(c("oz-player/playback_controls/OzSteadyStateManager"))(this.$1.getNumber("steadystate_minbuffer_buckets"),this.$1.getNumber("steadystate_minbuffer_buckets_sec")));g!=null&&(this.$8.addSubscriptions(g.addListener("enterBuffering",function(a){if(a==="in_play"){b.$9=0;(a=b.$7)==null?void 0:a.reset()}b.$10=!1;(a=b.$6)==null?void 0:a.log();b.$6=null})),this.$8.addSubscriptions(g.addListener("leaveBuffering",function(){b.$9===0&&(b.$9=Date.now()),b.$10=!1})));this.$4=h;this.$5=i;if(this.$16()){this.$8.addSubscriptions((e=c("oz-player/shims/OzDOMEventListener")).listenDOMEvent(this.$4,"timeupdate",c("oz-player/shims/ozThrottle")(function(){b.$17(),b.$18()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),e.listenDOMEvent(this.$4,"waiting",function(){b.$17()}),e.listenDOMEvent(this.$4,"durationchange",function(){b.$17()}),e.listenDOMEvent(this.$4,"seeking",function(){var a;b.$13=Date.now();b.$11=null;(a=b.$7)==null?void 0:a.reset()}),e.listenDOMEvent(this.$4,"playing",function(){b.$13=Date.now(),b.$11=null}),e.listenDOMEvent(h,"pause",function(){var a;return(a=b.$7)==null?void 0:a.reset()}))}}var b=a.prototype;b.enabled=function(){var a=this.$1.getNumber("catchup_timeout_after_buffering_sec");return a===0||this.$9==null||this.$9!==0&&this.$9+a*1e3<=Date.now()};b.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()};b.$19=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()};b.$20=function(){var a;a=(a=this.$7)==null?void 0:a.min();return!this.$21()&&a!=null&&a>this.$1.getNumber("steadystate_minbuffer_sec")};b.getInitialPlayHeadPosition=function(){return this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()};b.getLiveHeadTimeSec=function(){var a=this.$22();return(a==null?void 0:(a=a.getEndingSegment())==null?void 0:a.getTimeRange().endTime)||0};b.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")};b.getPreferredLiveHeadLatencySec=function(){var a=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");a=this.$23(a);this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(a*1e3);return a};b.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")};b.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")};b.shouldEnableCursorBasedCatchup=function(){var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0};b.setEnableCatchup=function(a){var b=this.$14;!this.$14&&a===!0&&(this.$9=null);this.$14=a;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")&&a!==b&&this.$18()};b.$24=function(a,b,c){var d=this.$1.getNumber("playback_speed_min_sharpness_factor");c=a*2/(1+Math.pow(Math.E,-(c-b)*d));return 1-a+c};b.$16=function(){return!this.$1.getBool("playback_speed_latency_adjustment_disabled")&&(this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0)};b.$17=function(){var a,b=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1).bufferAheadSec;(a=this.$7)==null?void 0:a.addSample(b)};b.$18=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),b=a.bufferAheadSec;a=a.bufferedOffset;this.$25(b,a)};b.$25=function(a,b){var c=this.$1.getNumber("playback_speed_enabled_delay_sec"),d=this.$1.getNumber("playback_speed_min_buffer_sec");a>d&&(this.$10=!0);var e=this.$1.getNumber("playback_speed_min_duration_sec"),f=this.$1.getNumber("playback_speed_restore_min_duration_sec"),g=this.$1.getNumber("playback_speed_latency_adjustment_rate"),h=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),i=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate===0){var j;(j=this.$6)==null?void 0:j.log();this.$6=null}else if(this.$14&&this.$10&&a<d&&(g>0||h>0)&&b===0&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){j=h>0?1-h:this.$24(g,d,a);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(j),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(j)}else if(this.$14&&this.$10&&(this.$19()||this.$20())&&i>0&&b===0&&(this.$12==null||this.$12+f*1e3<Date.now())&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){h=1+i;this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(h),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(h)}else if(this.$14===!1||this.$11==null||this.$11+e*1e3<Date.now()){g=this.$4.playbackRate;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")?this.$4.playbackRate=this.$14===!1?this.$15():1:this.$4.playbackRate=1;(d=this.$6)==null?void 0:d.log();this.$6=null;g!==this.$4.playbackRate&&(this.$12=Date.now())}};b.$26=function(a){try{this.$4.playbackRate=a,this.$11=Date.now()}catch(b){(a=this.$6)==null?void 0:a.setError(b).setResult("failed").log();this.$6=null}};b.$22=function(){var a=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return a.length===0?null:a.reduce(function(a,b){var c;return(((c=a.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)>(((c=b.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)?a:b})};b.$23=function(a){var b;if(a<=0)return a;var c=this.$22();b=c==null?void 0:(b=c.getEndingSegment())==null?void 0:b.getTimeRange();if(!b)return a;c=c==null?void 0:(c=c.getSegmentByTime((b==null?void 0:b.endTime)-a))==null?void 0:c.getTimeRange();return!c?a:(b==null?void 0:b.endTime)-(c==null?void 0:c.startTime)};b.destroy=function(){this.$8.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$17=function(){b.$10!=b.$14.isPlaying()&&(b.$14.isPlaying()&&(b.$11=Date.now()),b.$10=b.$14.isPlaying())};var d=a.video,e=a.config,f=a.mpd,g=a.liveheadFallBehindBlockThreshold,h=a.liveheadFallBehindBlockMargin,i=a.playbackState;a=a.perfLoggerProvider;this.$1=e;this.$2=d;this.$3=f;this.$8=g;this.$9=h;this.$14=i;this.$16=a;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$18(d)})};b.$18=function(a){var b;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?a:this.$2.duration;var c=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,e=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=e||this.$12!=c)&&(this.$13=e,this.$12=c,this.$11=Date.now());b=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((b=this.$11)!=null?b:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(b&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&e!==0&&c!==0&&a-this.$2.currentTime>c){b=[];for(c=0;c<this.$2.buffered.length;c++)b.push({startTime:this.$2.buffered.start(c),endTime:this.$2.buffered.end(c)});c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,b);this.$6=this.$2.currentTime+Math.min(c,e);b={startTime:this.$6,endTime:a-e};this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(b.endTime-b.startTime).setUserInfo({blockedRangeStart:String(b.startTime),blockedRangeEnd:String(b.endTime)}).log();this.$3.blockTimeRange(b)}};b.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}f.computeSeekAhead=a}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1.5;function a(a,b,c,e){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,b,e)===-1}function b(a,b,c,e,f){f===void 0&&(f=h);var g=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,g,e);if(c!==-1){g=b[c];return d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,g.endTime)&&g.endTime-a<f}return!1}g.isInGap=a;g.isNearGap=b}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a.perfLoggerProvider,this.$2=a.video,this.$4=a.config}var b=a.prototype;b.markState=function(a,b){var c=d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),e=this.$3;if(e==null){this.$3=c;return}var f=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(c,b.getCurrentTime(),this.$4);e=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,b.getCurrentTime(),this.$4);e.bufferedOffset!==-1&&f.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(a).log();this.$3=c};return a}(),i=function(){function a(a){this.$5=!1,this.$6={},this.$1=a.perfLoggerProvider,this.$2=a.video}var b=a.prototype;b.markState=function(a,b){var c=this;if(this.$2.paused){this.$3=null;this.$4=null;this.$5=!1;this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={});this.$6[a]=this.$6[a]==null?1:this.$6[a]+1;var d=this.$4;if(!this.$5&&!this.$2.paused&&d!=null&&d+1e4<Date.now()){this.$5=!0;var e={};Object.keys(this.$6).forEach(function(a){e[a]=String(c.$6[a])});this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-d).setUserInfo(babelHelpers["extends"]({},e,{},b,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(d-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(a).log()}};return a}();a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzPlayheadManager$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_4=new Set();e.$OzPlayheadManager$p_10=new Set();e.$OzPlayheadManager$p_12=function(a){e.$OzPlayheadManager$p_1.currentTime=a};e.$OzPlayheadManager$p_14=!1;e.$OzPlayheadManager$p_15=!1;e.$OzPlayheadManager$p_16=!0;e.$OzPlayheadManager$p_17=!1;e.$OzPlayheadManager$p_23=function(a,b){b===void 0&&(b=null);if(e.$OzPlayheadManager$p_20!=null?!e.$OzPlayheadManager$p_20.shouldEnableManifestTimeRangeCatchup():!1)return;var c=e.$OzPlayheadManager$p_9;if(c&&c.isEnabled(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8)){c=c.computeNewPlayheadPosition(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8);if(typeof c==="number"){e.$OzPlayheadManager$p_27(c,"live_catch_up_strategy",a,b);return}}c=e.$OzPlayheadManager$p_6.getNumber("auto_seek_playhead_slack");if(c===0)return;var f=e.$OzPlayheadManager$p_5;if(!f)return;var g=e.$OzPlayheadManager$p_7.getCurrentTime(),h=f.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),i=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,h);if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6))&&i!==-1){g=h[i];e.$OzPlayheadManager$p_27(g.rangeStart+c,"jump_over_timeline_gap",a,b)}};var f=b.video,g=b.mpd,j=b.playheadCatchup,k=b.playbackState,l=b.config,m=b.perfLoggerProvider,n=b.seekHandler,o=b.initialPlaybackPosition,p=b.canSupportSkipVideobufferGaps,q=b.liveLatencyManager;b=b.dynamicVideoLibrary;e.$OzPlayheadManager$p_1=f;e.$OzPlayheadManager$p_6=l;e.$OzPlayheadManager$p_7=k;e.$OzPlayheadManager$p_8=g;e.$OzPlayheadManager$p_9=j;e.$OzPlayheadManager$p_11=m;n&&(e.$OzPlayheadManager$p_12=n);e.$OzPlayheadManager$p_17=p;e.$OzPlayheadManager$p_20=q;e.$OzPlayheadManager$p_13=o;e.$OzPlayheadManager$p_21=b;e.$OzPlayheadManager$p_18=new i({video:f,perfLoggerProvider:m});e.$OzPlayheadManager$p_19=new h({video:f,perfLoggerProvider:m,config:l});e.$OzPlayheadManager$p_2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"durationchange",function(){e.setPlaybackPositionOnFirstDurationChange("durationchange",e.$OzPlayheadManager$p_1.duration),e.$OzPlayheadManager$p_23("durationchange"),e.$OzPlayheadManager$p_24("durationchange")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"pause",function(){e.$OzPlayheadManager$p_23("pause")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"play",function(){e.$OzPlayheadManager$p_23("play")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"playing",function(){e.$OzPlayheadManager$p_23("playing")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"waiting",function(){e.$OzPlayheadManager$p_23.bind(babelHelpers.assertThisInitialized(e),"waiting"),e.$OzPlayheadManager$p_24("waiting")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"timeupdate",c("oz-player/shims/ozThrottle")(function(){e.$OzPlayheadManager$p_23("timeupdate"),e.$OzPlayheadManager$p_6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate")&&e.$OzPlayheadManager$p_24("timeupdate")},e.$OzPlayheadManager$p_6.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"seeking",function(){e.$OzPlayheadManager$p_22=Date.now()}));return e}var e=b.prototype;e.$OzPlayheadManager$p_25=function(){return this.$OzPlayheadManager$p_1.playbackRate===0};e.observeSourceBufferState=function(a,b){var d=this;this.$OzPlayheadManager$p_4.has(a)&&c("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager$p_4.add(a);this.$OzPlayheadManager$p_2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager$p_26(a,b),d.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager$p_17&&d.$OzPlayheadManager$p_24("buffer_updated")}))};e.$OzPlayheadManager$p_26=function(a,b){var c=[];this.$OzPlayheadManager$p_4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager$p_10.add(a);a=this.$OzPlayheadManager$p_1.currentTime;a=d("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,c);var e=this.$OzPlayheadManager$p_6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager$p_27(this.$OzPlayheadManager$p_1.currentTime+a,"first_available_buffer","source_buffer",b)};e.setTimeRangeProvider=function(a){var b=this;this.$OzPlayheadManager$p_3.release();this.$OzPlayheadManager$p_3.engage();this.$OzPlayheadManager$p_3.addSubscriptions(a.addUpdateListener(function(){b.$OzPlayheadManager$p_23("time_range_updated")}));this.$OzPlayheadManager$p_5=a;this.$OzPlayheadManager$p_23("time_range_set")};e.resetCurrentTime=function(){this.$OzPlayheadManager$p_15=!1,this.setPlaybackPositionOnFirstDurationChange("reset",this.$OzPlayheadManager$p_1.duration)};e.setPlaybackPositionOnFirstDurationChange=function(a,b){if(this.$OzPlayheadManager$p_13!==0&&!this.$OzPlayheadManager$p_15&&!isNaN(b)&&b!==Infinity){b=this.$OzPlayheadManager$p_13>0?this.$OzPlayheadManager$p_13:b+this.$OzPlayheadManager$p_13;if(this.$OzPlayheadManager$p_20!=null){var c;b=(c=this.$OzPlayheadManager$p_20)==null?void 0:c.getInitialPlayHeadPosition()}this.$OzPlayheadManager$p_15=!0;if(this.$OzPlayheadManager$p_6.getBool("playhead_manager_clamp_initial_playback_position")){c=(c=this.$OzPlayheadManager$p_5)==null?void 0:c.getTimeRanges();c!=null&&c.length>0&&c[0].startTime>b&&(b=c[0].startTime)}this.$OzPlayheadManager$p_27(b,"initial_playback_position",a);this.emit("initialPlaybackPositionSet",b)}};e.$OzPlayheadManager$p_24=function(a){var b,c,e=this;if(!this.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps"))return;if(!this.$OzPlayheadManager$p_17)return;var f=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(f===0)return;var g=this.$OzPlayheadManager$p_7.getCurrentTime(),h=[];for(var i=0;i<this.$OzPlayheadManager$p_1.buffered.length;i++)h.push({startTime:this.$OzPlayheadManager$p_1.buffered.start(i),endTime:this.$OzPlayheadManager$p_1.buffered.end(i)});i=h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});this.$OzPlayheadManager$p_19&&this.$OzPlayheadManager$p_19.markState(a,this.$OzPlayheadManager$p_7);var j=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,i),k=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,g,i),l=this.$OzPlayheadManager$p_16?0:this.$OzPlayheadManager$p_6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),m=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),n=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_numerical_error");b=(b=this.$OzPlayheadManager$p_21)==null?void 0:b.getLastSegmentStartPTS();var o=b!=null?b/1e3:null,p=(c=this.$OzPlayheadManager$p_21)==null?void 0:c.getLast200RequestedUrlDecisionMinTime();c=o!=null?d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,o,i):-1;var q=c>=0?i[c]:null,r=function(b){var c=e.$OzPlayheadManager$p_22==null||p==null||e.$OzPlayheadManager$p_22<p;!c&&b!=null&&e.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setError("ignore_before_seek_main_"+b).setResult("failed").setInitiator(a).setUserInfo({last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(e.$OzPlayheadManager$p_22)}).log();return c};if(o!=null&&this.$OzPlayheadManager$p_25()&&this.$OzPlayheadManager$p_16==!1&&r("buf")){if(o<g&&q!=null&&q.rangeStart<=o&&q.rangeEnd!=null&&q.rangeEnd>o){this.$OzPlayheadManager$p_27(o,"reverse_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}if(q!=null&&c!=k){this.$OzPlayheadManager$p_27(q.rangeStart,"jump_over_buffer_gap_last_dl_range",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}}if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,h,this.$OzPlayheadManager$p_6,n,m)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,h,this.$OzPlayheadManager$p_6,n))&&j!==-1&&(l===0||i[j].rangeStart-g<l)&&(this.$OzPlayheadManager$p_16==!0||r("main"))){o=i[j];this.$OzPlayheadManager$p_6.getBool("enable_alternative_audio_tracks")&&this.$OzPlayheadManager$p_8.isStaticMpd()&&o.rangeStart!==0&&o.rangeEnd===this.$OzPlayheadManager$p_7.getDuration()?this.$OzPlayheadManager$p_27(0,"do_not_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)}):this.$OzPlayheadManager$p_27(o.rangeStart+f,"jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}this.$OzPlayheadManager$p_18&&this.$OzPlayheadManager$p_18.markState(a,{nextBufferedRangeIndex:String(j),limitMaxGapSize:String(l),rangeStart:j!==-1?String(i[j].rangeStart):null,isNearGapThreshold:String(m),numericalError:String(n)})};e.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager$p_16=a};e.destroy=function(){this.$OzPlayheadManager$p_2.release(),this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_4.clear()};e.$OzPlayheadManager$p_27=function(a,b,c,d,e){var f=a-this.$OzPlayheadManager$p_1.currentTime,g=this.$OzPlayheadManager$p_6.getNumber("seek_ahead_epsilon");if(g>0&&Math.abs(f)<=g)return;this.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setLength(Math.round(a*1e3)).setReason(b).setInitiator(c).setType(d).setUserInfo(babelHelpers["extends"]({},e,{seekAdjustment:String(Math.round(f*1e3))})).log();this.$OzPlayheadManager$p_12(a);b==="initial_playback_position"&&(this.$OzPlayheadManager$p_14=!0)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzUuidWWW",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("uuidv4")}),98);
__d("oz-player/shims/OzUuid",["oz-player/shims/www/OzUuidWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzUuidWWW")}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=function(){f.$3.getOperationLogger("pause").setState("paused").log()};this.$5=function(){f.$3.getOperationLogger("playing").setState("playing").log()};this.$1=b;this.$3=e;this.$2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$4),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$5))}var b=a.prototype;b.isPlaying=function(){return!this.$1.paused};b.getCurrentTime=function(){return this.$1.currentTime};b.getCurrentTimeUpdateTime=function(){return Date.now()};b.getDuration=function(){return this.$1.duration};b.addEventListener=function(a,b){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,a,b)};b.destroy=function(){this.$2.release()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}function b(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}f.determinePositionIndexOfVideoFromViewportVertically=a;f.intersectionObserverEntryIsIntersecting=b}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=.5;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker$p_1=[];c.$OzPositionToViewportTracker$p_5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker$p_1.find(function(b){return a.target===b.video});b!=null&&(d("oz-player/utils/OzPositionToViewportUtils").intersectionObserverEntryIsIntersecting(a)?b.position=c.$OzPositionToViewportTracker$p_7(a):c.$OzPositionToViewportTracker$p_1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker$p_1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker$p_6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker$p_2=b;return c}var c=b.prototype;c.$OzPositionToViewportTracker$p_4=function(){if(this.$OzPositionToViewportTracker$p_3!=null)return;this.$OzPositionToViewportTracker$p_3=new IntersectionObserver(this.$OzPositionToViewportTracker$p_5,{rootMargin:this.$OzPositionToViewportTracker$p_2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker$p_2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};c.registerVideo=function(a){this.$OzPositionToViewportTracker$p_1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker$p_4(),this.$OzPositionToViewportTracker$p_3!=null&&this.$OzPositionToViewportTracker$p_3.observe(a)};c.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker$p_1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};c.$OzPositionToViewportTracker$p_6=function(a){return d("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker$p_1,i)};c.$OzPositionToViewportTracker$p_7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};b.getInstance=function(a){h==null&&(h=new b(a));return h};c.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker$p_1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker$p_3!=null?b.$OzPositionToViewportTracker$p_3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker$p_1=c;this.$OzPositionToViewportTracker$p_1.length===0&&this.$OzPositionToViewportTracker$p_3!=null&&(this.$OzPositionToViewportTracker$p_3.disconnect(),this.$OzPositionToViewportTracker$p_3=null)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewport$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport$p_3=b;e.$OzPositionToViewport$p_2=c("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport$p_2.registerVideo(b);e.$OzPositionToViewport$p_1.addSubscriptions(e.$OzPositionToViewport$p_2.addListener("state_changed",function(){e.emit("state_changed")}));return e}var d=b.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport$p_3!=null?this.$OzPositionToViewport$p_2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport$p_3):-1};d.destroy=function(){this.$OzPositionToViewport$p_3!=null&&this.$OzPositionToViewport$p_2.unregisterVideo(this.$OzPositionToViewport$p_3),this.$OzPositionToViewport$p_3=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f){f=Math.min(1,c/d);c=1+(1-f)*e;d=a.getBandwidth()*c;return d>b?g*(b/d):1-(1-g)*d/b}f.getPlaybackConfidence=a}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$15(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h,this.$14=i,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_initialized").setResult("success").setUserInfo({newRepresentationIds:c.map(function(a){return a.getID()}).join(","),newCodecs:c.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:c.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzAbrManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$15=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$16=function(a){a=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(a,this.$12(),this.$11,{resolutionConstraintFactor:this.$1.getNumber("resolution_constraint_factor")});a=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),a);return a};b.getBestRepresentation=function(a){var b;a=(a=a==null?void 0:a.length)!=null?a:null;b=(b=(b=this.$9)==null?void 0:b.getSourceBufferState().getBufferedRanges())!=null?b:null;var e=this.$8.getCurrentTime();e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(e,b);b=d("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,e,c("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(b!=null){this.$10=b;this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}b=Date.now();this.$2=b;var f=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),g=this.$16(this.$6);f=this.$17(g,f,e,a);a=g[0];f=f||a;if(this.$18(e,f)){this.$10="high_buffer";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setPreviousRepresentationID(this.$5.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}a=this.$5;a!==f&&(this.$4=!0,this.$3=b,this.$5=f);this.$10="bandwidth";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("success").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setRepresentationID(f.getID()).setPreviousRepresentationID(a==null?void 0:a.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return f};b.$17=function(a,b,c,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=d("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],b,c,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),e);h>this.$1.getNumber("abr_confidence_threshold")&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};b.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getLastEvaluationReason=function(){return this.$10};b.updateRepresentations=function(a){var b=this,c=this.$6;this.$6=a;var d=this.$6.find(function(a){return a.getDisplayLabel()===b.$5.getDisplayLabel()}),e=this.$5;this.$5=d!=null?d:this.$6[0];this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_representations_updated").setResult("success").setUserInfo({previousRepresentationIds:c.map(function(a){return a.getID()}).join(","),newRepresentationIds:a.map(function(a){return a.getID()}).join(","),newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(this.$5.getID()).setPreviousRepresentationID(e==null?void 0:e.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}f["default"]=a}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=c("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,b,d):this.$3.getSegmentsCount(a,b,d);a=this.$5(b,e);return Math.min(h,a)};b.$4=function(a,b,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};b.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!=null){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=new Map(),this.$3=new Set(),this.$4=new Set(),this.$5=new(c("oz-player/shims/OzEventEmitter"))(),this.$6=b===!0,this.$7(a),this.$8(a)}var b=a.prototype;b.isBlocked=function(a){return this.$3.has(a)};b.handleError=function(a,b){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(d("oz-player/utils/OzErrorUtils").isOzError(b)&&b.getType()==="OZ_NETWORK"){b=Number(b.getExtra().code);if(!isNaN(b)&&this.$2.has(b)){this.$3.has(a)||this.$9(a,b);return!0}}return!1};b.$9=function(a,b){var d,e=this;this.$3.add(a);(d=this.$5)==null?void 0:d.emit("representation_blocked",a);d=this.$2.get(b)||0;if(d>0){var f=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$3["delete"](a),e.$4["delete"](f)},d);this.$4.add(f)}};b.applyRestriction=function(a){var b=this;return a.filter(function(a){return!b.$3.has(a.getID())})};b.onRepresentationBlocked=function(a){return this.$5?this.$5.addListener("representation_blocked",a):{remove:function(){}}};b.setAvailableRepresentationsCount=function(a){this.$1=a};b.destroy=function(){var a;(a=this.$5)==null?void 0:a.removeAllListeners();this.$5=null;for(a of this.$4)c("oz-player/shims/ozClearTimeout")(a);this.$4.clear()};b.$7=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_json"));if(Array.isArray(a)){a.forEach(function(a){a=parseInt(a,10);isNaN(a)||b.$2.set(a,-1)});if(this.$6)for(a=500;a<=599;a++)this.$2.set(a,-1)}}catch(a){}};b.$8=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_temporarily_json"));Object.entries(a).forEach(function(a){var c=a[0];a=a[1];c=parseInt(c,10);a=parseInt(a,10);!isNaN(c)&&!isNaN(a)&&b.$2.set(c,a)})}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy$p_5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy$p_4=b;e.$OzBufferAheadPriorityStrategy$p_1=d;e.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("progress",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)),e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("timeupdate",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)));return e}var e=b.prototype;e.getName=function(){return"buffer_ahead"};e.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy$p_2)return;this.$OzBufferAheadPriorityStrategy$p_2=a;this.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(a.addEventListener("buffer_updated",c("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy$p_5,i)))};e.isActive=function(){return!0};e.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy$p_2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy$p_1.getCurrentTime();a=a.getBufferedRanges();b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(b,a);return b>=h?0:1};e.destroy=function(){this.$OzBufferAheadPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){var a=this.$3();return this.$2>=a?this.$2-a:0};b.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=a,this.$3=b}var b=a.prototype;b.computeBufferTarget=function(){var a=this.$1;for(var b of this.$2)if(b.isActive()){a=b.getBufferTarget();break}for(b of this.$3)a=b.adjustBufferTargetInSeconds(a);this.$1=a;return a};b.handleEvent=function(a){for(var b of this.$3)b.handleEvent(a)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.config;a=a.minimumBufferTargetSec;this.$2=1;this.$1=b;this.$3=a}var b=a.prototype;b.adjustBufferTargetInSeconds=function(a){var b;return Math.max((b=this.$3)!=null?b:this.$1.getNumber("buffer_target_constraint_minimum_sec"),a*this.$2)};b.handleEvent=function(a){var b=this.$2;switch(a){case"append_succeeded":b=Math.max(0,Math.min(1,b+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":b=Math.max(0,Math.min(1,b-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:a}this.$2=b};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPlayheadAtInterruptionDetector$p_2=null;e.$OzPlayheadAtInterruptionDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadAtInterruptionDetector$p_4=null;e.$OzPlayheadAtInterruptionDetector$p_1=b;b=d?d.addListener("enterBuffering",function(){e.$OzPlayheadAtInterruptionDetector$p_5()}):c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadAtInterruptionDetector$p_1,"waiting",function(){e.$OzPlayheadAtInterruptionDetector$p_5()});e.$OzPlayheadAtInterruptionDetector$p_3.addSubscriptions(b);e.$OzPlayheadAtInterruptionDetector$p_4=d;return e}var d=b.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector$p_2=a,this.$OzPlayheadAtInterruptionDetector$p_5()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector$p_2=null};d.$OzPlayheadAtInterruptionDetector$p_5=function(){if(this.$OzPlayheadAtInterruptionDetector$p_2!=null){var a=this.$OzPlayheadAtInterruptionDetector$p_2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector$p_1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector$p_3.release(),this.$OzPlayheadAtInterruptionDetector$p_4=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy$p_3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy$p_2=b;d.$OzPlayingStatePriorityStrategy$p_1.addSubscriptions(d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("play",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy$p_3));return d}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy$p_2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy$p_1.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy$p_4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy$p_2=b;e.$OzPositionToViewportPriorityStrategy$p_1=d;e.$OzPositionToViewportPriorityStrategy$p_3.addSubscriptions(b.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy$p_4));return e}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy$p_1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy$p_2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPriorityCalculator$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator$p_1=b;(b=d.$OzPriorityCalculator$p_2).addSubscriptions.apply(b,d.$OzPriorityCalculator$p_1.map(function(a){return a.addListener("state_changed",function(){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=b.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator$p_1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator$p_1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator$p_2.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzSingleCodecRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a){if(a.length<=0)return a.slice();var b=new Set(a.map(function(a){return g(a)})),c="av01",d=b.has(c)?c:b.values().next().value;return d==null?a.slice():a.filter(function(a){return g(a)===d})};return a}();function g(a){return a.getMimeCodecs().replace(/\..*$/,"")}f["default"]=a}),66);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.$2=a}var b=a.prototype;b.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0};b.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e of this.$1)e.isActive(a)&&(d=Math.min(d,e.getSegmentsCount(a,b,c)));return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;return a.filter(function(a){a=b.$1?ManagedMediaSource.isTypeSupported(a.getMimeCodecs()):MediaSource.isTypeSupported(a.getMimeCodecs());return!!a})};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzEndOfStreamWatcher$p_1=new Map();d.$OzEndOfStreamWatcher$p_4=!1;d.$OzEndOfStreamWatcher$p_2=b;d.$OzEndOfStreamWatcher$p_3=c;return d}var d=b.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher$p_1.has(a)&&c("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher$p_1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.get(a)===!0&&this.$OzEndOfStreamWatcher$p_1.set(a,!1),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","representation_switched")};d.notifyMediaStreamEnded=function(a,b){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.set(a,!0),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","media_stream_ended:"+b)};d.$OzEndOfStreamWatcher$p_5=function(a,b){var c=this;if(this.$OzEndOfStreamWatcher$p_3.getBool("do_not_end_stream")){!this.$OzEndOfStreamWatcher$p_4&&this.$OzEndOfStreamWatcher$p_6()&&(this.$OzEndOfStreamWatcher$p_4=!0,this.emit("streamEnd"));return}var d=this.$OzEndOfStreamWatcher$p_2.getReadyState();d==="open"&&this.$OzEndOfStreamWatcher$p_6()&&this.$OzEndOfStreamWatcher$p_2.notifyEndOfStream(a,b).then(function(){c.emit("streamEnd")})["catch"](function(){c.emit("streamEnd")})};d.$OzEndOfStreamWatcher$p_6=function(){if(this.$OzEndOfStreamWatcher$p_1.size===0)return!1;for(var a of this.$OzEndOfStreamWatcher$p_1.values())if(!a)return!1;return!0};d.destroy=function(){this.$OzEndOfStreamWatcher$p_1.clear()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozReportUnexpectedError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){var h=this;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=null;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$3=b;this.$4=d;this.$7=e;this.$8=g;f.then(function(a){h.$5=a},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch SBM promise then - create")});this.$6.addSubscriptions(e.addListener("switchRepresentation",function(a,b){h.$9(a,b)}))}var b=a.prototype;b.destroy=function(){this.$6.release(),this.$6.engage()};b.onError=function(a){return this.$2.onError(a)};b.$9=function(a,b){if(a!=="user")return;a=this.$5;if(a==null)return;var d=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),e;for(var f=0;f<this.$4.length;f++)this.$4[f].getID()===d&&(e=this.$4[f]);if(e&&b&&(this.$8||e.getBandwidth()<b.getBandwidth())){d=e.getSegmentByTime(this.$3.getCurrentTime());d&&a.clearRangeWithWait([{fromTime:this.$3.getCurrentTime(),toTime:this.$3.getDuration()}])["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch clearRangeWithWait catch")})}};return a}();g["default"]=a}),98);
__d("oz-player/manifests/IOzSegment",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return((a==null?void 0:a.getSequenceNumber())||0)===((b==null?void 0:b.getSequenceNumber())||0)}function b(a,b){return((a==null?void 0:a.getSequenceNumber())||0)>=((b==null?void 0:b.getSequenceNumber())||0)}f.isSequenceNumberEqual=a;f.isSequenceNumberGreaterOrEqual=b}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;c===void 0&&(c=null);d=a.call(this)||this;d.$OzReadableStreamDataReader$p_1=[];d.$OzReadableStreamDataReader$p_3=Infinity;d.$OzReadableStreamDataReader$p_4=0;d.$OzReadableStreamDataReader$p_2=b;if(c!=null){b=c.getNumber("stream_reader_max_buffer_len");d.$OzReadableStreamDataReader$p_3=b>0?b:Infinity}return d}var d=b.prototype;d.onDataWritten=function(a){if(this.$OzReadableStreamDataReader$p_4+a.byteLength>=this.$OzReadableStreamDataReader$p_3){var b=c("oz-player/utils/ozConcatUint8Arrays")(this.$OzReadableStreamDataReader$p_1);b=b.buffer;this.$OzReadableStreamDataReader$p_2(b);this.$OzReadableStreamDataReader$p_1.length=0;this.$OzReadableStreamDataReader$p_4=0}this.$OzReadableStreamDataReader$p_1.push(a);this.$OzReadableStreamDataReader$p_4+=a.byteLength};d.onClose=function(){var a=this.$OzReadableStreamDataReader$p_1,b=c("oz-player/utils/ozConcatUint8Arrays")(a);b=b.buffer;a.length=0;this.$OzReadableStreamDataReader$p_4=0;this.$OzReadableStreamDataReader$p_2(b)};return b}(c("oz-player/networks/OzTransformStream"));g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzErrorUtils","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$6=c("oz-player/shims/OzPerformance").now(),this.$7=b,this.$8=a,this.$9=d}var b=a.prototype;b.run=function(){var a=this.$3.getPromise(),b=this.$7;if(b){var e=c("oz-player/shims/OzPerformance").now()-this.$6;d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,b,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(e))})}this.$2.resolve();return a};b.getPromise=function(){return this.$3.getPromise()};b.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};b.finish=function(){this.$3.resolve()};b.isCancelled=function(){return this.$5};b.addStreamDeferred=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({createStreamResult:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:b});b=function(){return e.getPromise()};return{genStream:b,cancel:function(){if(a){var b=a.pausableStream;return b.pauseStream()}},getStatusChangePromise:function(){return d.getPromise()}}};b.$10=function(a){var b=this,e=a.createStreamResult,f=a.changeStatusDeferred,g=a.createStreamDeferred,h=a.loggerProviderWithStreamContext,i=a.loggingPayloads;a=this.$1.getPromise();var j=c("oz-player/shims/OzPerformance").now(),k=this.$1=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));k.getPromise()["catch"](function(){});a.then(function(){if(e){var a=e.pausableStream;e.loggingPayloads&&(i=e.loggingPayloads);g.resolve(a.getStream());b.$4=a;var f=c("oz-player/shims/OzPerformance").now(),k=b.$11(a.startStream());if(h){var l=function(c){var e=i;if(e){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(c,e.getRequestUrl(),e.segments,f-j,a.getBytesStreamed(),e.getResponse());var g=b.$9;g&&g(c,e.getRequestUrl(),e.getResponse())}};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(k,h,"fetch_stream",l,l)}return k}return null}).then(function(a){b.$4=null,k.resolve(),f.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),k.reject(a),f.reject(a)})};b.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$1=a,this.$2=b}var b=a.prototype;b.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};b.enqueue=function(a,b){var d=this;b=b;b=this.$6(b);var e=this.$5.get(a);if(e===b)return;this.$5.has(a)&&this.remove(a);e=this.$7(b);var f=this.$4[e];f&&f.priority===b||(f={priority:b,queue:[]},this.$4.splice(e,0,f));this.$5.set(a,b);f.queue.push(a);a.getPromise().then(function(){d.remove(a)},function(){d.remove(a)})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzRoundRobinPriorityTaskQueue remove after task run")});this.$3(a,b>=this.$1?"immediate":"normal")};b.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};b.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};b.remove=function(a){var b=this.$5.get(a);if(b!==void 0){b=this.$7(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)}};b.setOnTaskUpdated=function(a){this.$3=a};b.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};b.getLength=function(){return this.$5.size};b.test_isEmpty=function(){return this.$5.size===0&&this.$4.every(function(a){return a.queue.length===0})};b.$7=function(a){a=a;a=this.$6(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};b.$6=function(a){a=a;this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var b=a.prototype;b.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};b.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};b.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};b.$6=function(a,b){var d=this;if(this.$2&&b!=="immediate")return!1;this.$2&&this.$2.cancel();b=a.run()["catch"](function(a){});this.$4>0&&(b=c("oz-player/shims/OzMaybeNativePromise").race([b,new(c("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;b=b.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});b["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzSequentialTaskScheduler task complete")});return!0};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=2,k=2,l=6e4;function a(a){var b=h.get(a);if(!b){b=new(c("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(j,k);var d=new(c("oz-player/scheduling/OzSequentialTaskScheduler"))(b,{taskTimeout:l});h.set(a,b);i.set(a,d);d.start()}return b}g.OZ_QUEUE_MAX_PRIORITY=j;g.getQueue=a}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$10=null;var e=a.mimeType,f=a.priorityCalculator,g=a.loggerProvider,h=a.setCustomFetchStreamLoggingAttributes,i=a.config;a=a.bandwidthEstimator;this.$5=e;this.$1=f;this.$6=d("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=g;this.$8=i;this.$11=a!=null?a:null;this.$10=h;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,c){b.$12(a,c),b.$2&&b.$6.updatePriority(b.$2,b.$4)}))}var e=a.prototype;e.$13=function(){var a=[];a.push(c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5,this.$11));return a};e.startStreamDeferred=function(a){var b=a.debugName,c=a.segments,d=a.networkManager,e=a.segmentsLoggerProvider,f=a.mediaStreamType,g=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;var h=this.$14(e),i=this.$13();c.length>0?d=d.createPausableStream({debugName:b,segments:c,pipeThroughRangeStreamProviders:i,loggerProvider:e,mediaStreamType:f,dataAppendedCallback:g,dataAppendedErrorCallback:a}):d=null;this.$9=!0;b=h.addStreamDeferred(d,e);return{genStream:b.genStream,cancel:b.cancel,getStatusChangePromise:this.$15(b.getStatusChangePromise)}};e.$14=function(a){var b=this.$2;this.$12(this.$1.compute(),"start_stream");!b||b.isCancelled()?(b=this.$2=new(c("oz-player/networks/OzStreamingTask"))(this.$8,a,this.$10),this.$6.enqueue(b,this.$4)):this.$6.updatePriority(b,this.$4);return b};e.$15=function(a){var c=this;return function(){return a().then(function(a){c.$16();return a})["catch"](function(a){c.$16();return(h||(h=b("Promise"))).reject(a)})}};e.finishTaskIfNoOngoingStream=function(){this.$9||this.$17()};e.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};e.$16=function(){this.$9=!1,this.$12(this.$1.compute(),"end_stream"),this.$4<d("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$17()};e.$17=function(){this.$2&&(this.$2.finish(),this.$2=null)};e.$12=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}f.getStreamingSegments=a}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=!1;this.$6=function(){var a;d.$7();if(d.$3)return;(a=d.$5)==null?void 0:a.start();a=d.$1.execute();var b=d.$1.getLoopInterval();b&&(d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$6()},b));a&&a.then(d.$6)["catch"](function(b){d.$7();var a=d.$1.handleError(b);if(a)d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(d.$6,a);else{(a=d.$5)==null?void 0:a.setError(b);(a=d.$5)==null?void 0:a.log();d.$5=null;d.$3=!0}})};this.$1=a;this.$4=b}var b=a.prototype;b.start=function(){if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"restart is not implemented"});this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};b.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null?void 0:a.log();this.$5=null};b.$7=function(){this.$2&&(c("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}f.getRangeForTime=a}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var h=function(a,b){a=a.getCurrentTime();return b?d("oz-player/utils/OzRangeUtils").getRangeForTime(a,b.getBufferedRanges()):null},i=function(a,b,c){b=h(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};b=function(a,b,c,e,f,g,h,j){h=a.getPredictedSegmentAfter(g);if(h&&b.isPlaying())return h;j=i(b,e,g);h=f.getTimeRanges();e=d("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(b.getCurrentTime(),j,h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>c)return null;g=a.getSegment(0);g&&g.getTimeRange().startTime>j&&(j=g.getTimeRange().startTime);return a.getSegmentByTime(j)};g.getEndingSequenceNumber=a;g.getTimeToQuery=i;g.getSegment=b}),98);
__d("oz-player/streams/OzSegmentUtils",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function b(a,b){var d=new(c("oz-player/manifests/OzSegmentOptions"))();return a.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return b-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(c("oz-player/shims/OzURI"))("")},getOptions:function(){return d}})}function d(a){a.getOptions().setSegmentNumDecisionTime(Date.now());return a}g.getMaxSegment=a;g.getSegmentForSequenceNumber=b;g.markSegmentCreateTime=d}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=.2,j={AUDIO:1,CAPTION:3,VIDEO:0};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzMediaStream$p_2=0;e.$OzMediaStream$p_3=0;e.$OzMediaStream$p_4=null;e.$OzMediaStream$p_13=null;e.$OzMediaStream$p_15=!1;e.$OzMediaStream$p_16=null;e.$OzMediaStream$p_17=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzMediaStream$p_19=[];e.$OzMediaStream$p_22=0;e.$OzMediaStream$p_29=!0;e.$OzMediaStream$p_31=!1;e.$OzMediaStream$p_32=null;e.$OzMediaStream$p_33=new(c("oz-player/utils/OzErrorEmitter"))();e.$OzMediaStream$p_35=!0;e.$OzMediaStream$p_38=0;e.$OzMediaStream$p_39=null;e.$OzMediaStream$p_40=null;var f=b.config,g=b.sourceBufferManagerPromise,h=b.networkManager,i=b.playbackState,j=b.endOfStreamWatcher,k=b.bufferTargetCalculator,l=b.priorityCalculator,m=b.streamSegmentsCountCalculator,n=b.abrManager,o=b.representation,p=b.loggerProvider,q=b.segmentLocator,r=b.setCustomFetchStreamLoggingAttributes,s=b.blockedRepresentationsManager,t=b.dynamicVideoLibrary,u=b.shouldAppendOncePerStream,v=b.mediaStreamType,w=b.warningEmitter;b=b.mpd;e.$OzMediaStream$p_1=f;e.$OzMediaStream$p_5=g;e.$OzMediaStream$p_5.then(function(a){e.$OzMediaStream$p_6=a,e.$OzMediaStream$p_16&&e.$OzMediaStream$p_16.setSourceBuffer(a),e.$OzMediaStream$p_27.setSourceBufferState(a.getSourceBufferState()),e.$OzMediaStream$p_47()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - create")});e.$OzMediaStream$p_12=h;e.$OzMediaStream$p_7=i;e.$OzMediaStream$p_14=j;(f=e.$OzMediaStream$p_14)==null?void 0:f.registerMediaStream(babelHelpers.assertThisInitialized(e));e.$OzMediaStream$p_26=k;e.$OzMediaStream$p_27=l;e.$OzMediaStream$p_28=m;e.$OzMediaStream$p_16=n;e.$OzMediaStream$p_18=p.cloneContext();e.$OzMediaStream$p_36=q;e.$OzMediaStream$p_25=new(c("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});e.$OzMediaStream$p_39=r;e.$OzMediaStream$p_40=s;e.$OzMediaStream$p_42=t;e.$OzMediaStream$p_43=u;e.$OzMediaStream$p_44=v;e.$OzMediaStream$p_45=w;e.$OzMediaStream$p_46=b;e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_7.addEventListener("seeking",function(){var a=i.getCurrentTime(),b=null;e.$OzMediaStream$p_1.getBool("ignore_reset_after_seek_if_bufferahead")&&e.$OzMediaStream$p_8.canPredict()&&(e.$OzMediaStream$p_6?d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a,e.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges())>0:!1)?b="no_reset_anchor":(b="reset_anchor",e.$OzMediaStream$p_41=Date.now(),e.$OzMediaStream$p_9!=null&&(e.$OzMediaStream$p_48(),e.$OzMediaStream$p_31=!1,e.$OzMediaStream$p_24&&e.$OzMediaStream$p_24.resolve()));e.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(a*1e3).setReason(b).setUserInfo({streamAnchorSegmentNumber:String((a=e.$OzMediaStream$p_9)==null?void 0:a.getSequenceNumber())}).log()}));e.$OzMediaStream$p_40!=null&&e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_40.onRepresentationBlocked(function(a){return e.$OzMediaStream$p_49(a)}));e.$OzMediaStream$p_21=d("oz-player/utils/OzMimeUtil").getMimeType(o.getMimeCodecs());e.$OzMediaStream$p_30=new(c("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:e.$OzMediaStream$p_21,priorityCalculator:e.$OzMediaStream$p_27,loggerProvider:e.$OzMediaStream$p_18,setCustomFetchStreamLoggingAttributes:e.$OzMediaStream$p_39,config:e.$OzMediaStream$p_1,bandwidthEstimator:e.$OzMediaStream$p_12.getBandwidthEstimator()});e.$OzMediaStream$p_23=new(c("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(e),e.$OzMediaStream$p_18);e.$OzMediaStream$p_50(o);return e}var e=b.prototype;e.start=function(){this.$OzMediaStream$p_23.start()};e.getCurrentRepresentation=function(){return this.$OzMediaStream$p_8};e.switchRepresentation=function(a,b){b===void 0&&(b=null),this.$OzMediaStream$p_50(a,"user",b)};e.onError=function(a){return this.$OzMediaStream$p_33.onError(a)};e.updateRunTimeConfigs=function(a){var b=a.streamDataHandler;a=a.resetStreamAnchor;b!==void 0&&(this.$OzMediaStream$p_34=b);a===!0&&this.$OzMediaStream$p_8.canApproximateId()&&(this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=null)};e.$OzMediaStream$p_50=function(a,b,e){var f=this;b===void 0&&(b="internal");e===void 0&&(e=null);if(a==null){if(this.$OzMediaStream$p_1.getBool("no_rep_to_switch_fallback_progressive")){var g=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NO_AVAILABLE_REP_TO_SWITCH",description:"No available representation to switch to because all are blocked"});this.$OzMediaStream$p_33.emitError(g)}return}b==="user"&&this.$OzMediaStream$p_48();(g=this.$OzMediaStream$p_20)==null?void 0:g.remove();this.$OzMediaStream$p_20=null;g=this.$OzMediaStream$p_18.cloneContext().setType(this.$OzMediaStream$p_21+";init");var h=g.cloneContext().setRepresentationID(a.getID()),i=a.getInitSegment(),j=i.getData(),k=g.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream$p_8?this.$OzMediaStream$p_8.getID():null).setInitiator(b).setRepresentationID(a.getID()).setReason(b==="internal"?this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason():b).start();this.$OzMediaStream$p_8=a;g=function(){var a;k.log();f.$OzMediaStream$p_26.handleEvent("append_succeeded");f.emit("initAppended");(a=f.$OzMediaStream$p_14)==null?void 0:a.notifyRepresentationSwitched(f)};var l=function(b){var c;k.setError(b).log();f.$OzMediaStream$p_51(b);(c=f.$OzMediaStream$p_40)==null?void 0:c.handleError(a.getID(),b);if(a.getID()!==f.$OzMediaStream$p_8.getID()){(c=f.$OzMediaStream$p_24)==null?void 0:c.resolve()}};if(j==null){i=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/init/"+this.$OzMediaStream$p_44,segments:[i],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:h,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:g,dataAppendedErrorCallback:l});j=i.getStream()}this.emit("switchRepresentation",b,a);this.$OzMediaStream$p_52({data:j,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:e,dataAppendedCallback:g,dataAppendedErrorCallback:l,loggerProvider:h.cloneContext(),appendTarget:0});if(e){i=a.getSegmentByTime(e[0]);if(i){b=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/startingSegment/"+this.$OzMediaStream$p_44,segments:[i],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:h,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:g,dataAppendedErrorCallback:l});j=b.getStream();this.$OzMediaStream$p_52({data:j,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:null,dataAppendedCallback:g,dataAppendedErrorCallback:l,loggerProvider:h.cloneContext(),appendTarget:1})}}};e.getLoopInterval=function(){return this.$OzMediaStream$p_22};e.execute=function(){var a=this.$OzMediaStream$p_53();if(a){var b=this.$OzMediaStream$p_24=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};e.$OzMediaStream$p_54=function(a){if(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_29&&this.$OzMediaStream$p_15){a=this.$OzMediaStream$p_16.getBestRepresentation(a);if(this.$OzMediaStream$p_8!==a)return a}return null};e.$OzMediaStream$p_55=function(a){var b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null,c=this.$OzMediaStream$p_26.computeBufferTarget();if(c<=0)return null;var e=null;a&&(e=this.$OzMediaStream$p_8.getCustomFieldFirstSegment());if(!e&&this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_36!=null){a=this.$OzMediaStream$p_35&&this.$OzMediaStream$p_7.isPlaying();return this.$OzMediaStream$p_36.getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_9,this.$OzMediaStream$p_10,this.$OzMediaStream$p_1,a,this.$OzMediaStream$p_21)}else{e||(e=d("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_8,this.$OzMediaStream$p_9,this.$OzMediaStream$p_1,this.$OzMediaStream$p_32));if(this.$OzMediaStream$p_8.canPredict()){a=this.$OzMediaStream$p_10&&this.$OzMediaStream$p_10.getSequenceNumber()||0;c=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream$p_10&&a>=c){c=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream$p_8);return(c||0)>=a?this.$OzMediaStream$p_10:null}}}if(!e&&!this.$OzMediaStream$p_56()){c=this.$OzMediaStream$p_8.getEndingSegment();if(c&&this.$OzMediaStream$p_8.isEndingSegment(c)){a=c.getTimeRange().endTime;b=d("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream$p_7,b,this.$OzMediaStream$p_9);b>=a&&!this.$OzMediaStream$p_56()&&(e=c)}}return e};e.$OzMediaStream$p_57=function(){return!this.$OzMediaStream$p_15};e.$OzMediaStream$p_58=function(a,b){var e;e=(e=b.fetchSingleSegment)!=null?e:!1;b=(b=b.preventRepresentationSwitch)!=null?b:!1;var f=[];if(e)f=[a];else{e=this.$OzMediaStream$p_28.computeMin(this.$OzMediaStream$p_7,a,this.$OzMediaStream$p_8);f=d("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream$p_1,e,this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,a);f=c("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f);if(!b){e=this.$OzMediaStream$p_54(f);if(e){this.$OzMediaStream$p_50(e);a=this.$OzMediaStream$p_55(!1);if(!a)return[];else return this.$OzMediaStream$p_58(a,{fetchSingleSegment:!1,preventRepresentationSwitch:!0})}}}return f};e.$OzMediaStream$p_59=function(){var a=this,b=function(b){b==null?void 0:b.remove(),a.$OzMediaStream$p_20===b&&(a.$OzMediaStream$p_20=null)};b(this.$OzMediaStream$p_20);var d=null;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,e){d=a.getCurrentRepresentation().addUpdateListener(function(){b(d),c()}),a.$OzMediaStream$p_20=d})["catch"](function(a){b(d);throw a})};e.$OzMediaStream$p_53=function(){var a=this,b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null;if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_10&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_10)){this.endStream("pdash_ending_segment_had_error");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_9&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_9)){this.endStream("pdash_anchor_segment_is_ending_segment");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}var e=this.$OzMediaStream$p_57(),f=this.$OzMediaStream$p_55(e);if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_11!=null&&d("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(f,this.$OzMediaStream$p_11)){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}d("oz-player/manifests/IOzSegment").isSequenceNumberEqual(f,this.$OzMediaStream$p_37)?this.$OzMediaStream$p_38++:this.$OzMediaStream$p_38=0;this.$OzMediaStream$p_37=f;this.$OzMediaStream$p_7.isPlaying()&&this.$OzMediaStream$p_38>0&&this.$OzMediaStream$p_18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((f==null?void 0:f.getSequenceNumber())!=null?String(f==null?void 0:f.getSequenceNumber()):null).setLength(this.$OzMediaStream$p_38).setRepresentationID(this.$OzMediaStream$p_8.getID()).setSegmentStartTime(f==null?void 0:f.getTimeRange().startTime).setSegmentEndTime(f==null?void 0:f.getTimeRange().endTime).log();if(this.$OzMediaStream$p_31){var g;this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return null}if(!f||this.$OzMediaStream$p_31){if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_1.getBool("ms_promise_for_null")){var i=this.$OzMediaStream$p_1.getNumber("ms_promise_for_null_ms");return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,d){var e=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){c("oz-player/shims/ozClearTimeout")(e),b()},i?i:(a.$OzMediaStream$p_8.getMaxGopSec()||1)*1e3)})}this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_31||this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_22=0;var j=this.$OzMediaStream$p_58(f,{fetchSingleSegment:e});if(j.length===0){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((f=this.$OzMediaStream$p_9)==null?void 0:f.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_15=!0;var k=j[j.length-1]||null,l=this.$OzMediaStream$p_8,m=function(){return l.isEndingSegment(k)};j.length!==0||c("oz-player/shims/ozvariant")(0,23148);g=j[0];f=g.getTimeRange().startTime;var n=k.getTimeRange().endTime,o={startTime:f,endTime:n,tag:{id:this.$OzMediaStream$p_8.getID()}},p=function(b){v.setAppendedBufferMs(Math.round(b.appendedSec*1e3)),v.log(),a.$OzMediaStream$p_26.handleEvent("append_succeeded"),j.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream$p_60(b,o))}),m()&&a.endStream("appended_ending_segment"),a.$OzMediaStream$p_61(o,b)},q=function(b){v.setError(b).log();var c=t||s;c&&c.cancel();a.$OzMediaStream$p_51(b)},r=this.$OzMediaStream$p_18.cloneContext();r.setRepresentationID(this.$OzMediaStream$p_8.getID());r.setSegmentStartTime(f).setSegmentEndTime(n);var s,t;!e?(t=this.$OzMediaStream$p_30.startStreamDeferred({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44,segments:j,networkManager:this.$OzMediaStream$p_12,sourceBufferState:b,playbackState:this.$OzMediaStream$p_7,segmentsLoggerProvider:r.cloneContext(),mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s):(s=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44+"/prefetch",segments:j,pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:r.cloneContext(),requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s);this.$OzMediaStream$p_31=!0;var u=this.$OzMediaStream$p_62(g,k,j.length),v=r.getOperationLogger("queued_append");v.start().setReason(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason());var w=function(c,b){a.$OzMediaStream$p_52({data:c,mimeCodecs:b,clearSourceBufferRange:null,dataAppendedCallback:p,dataAppendedErrorCallback:q,loggerProvider:r.cloneContext(),appendTarget:u})},x;!!t||!!s||c("oz-player/shims/ozvariant")(0,23147);var y=this.$OzMediaStream$p_8.getMimeCodecs();t?(t.genStream().then(function(a){return w(a,y)})["catch"](function(b){return a.$OzMediaStream$p_33.emitError(b)}),x=t.getStatusChangePromise()):s&&(w(s.getStream(),y),x=s.getStatusChangePromise());!x&&c("oz-player/shims/ozvariant")(0,51928);f=x.then(function(b){a.$OzMediaStream$p_63(b,k);return a.$OzMediaStream$p_64()}).then(function(){a.$OzMediaStream$p_2=0});return f["catch"](function(b){var c,d=a.$OzMediaStream$p_9;a.$OzMediaStream$p_65(k);(c=a.$OzMediaStream$p_40)==null?void 0:c.handleError(l.getID(),b);return a.$OzMediaStream$p_66(b,k,d)})};e.handleError=function(a){var b=this.$OzMediaStream$p_18.getOperationLogger("media_stream_loop_error");b.setError(a).setResult("failed").log();return this.$OzMediaStream$p_1.getNumber("loop_body_handle_error_interval_ms")};e.$OzMediaStream$p_66=function(a,b,e){var f=this;this.$OzMediaStream$p_31=!1;var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),h=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),i=h[0],j=h[1],k=d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(i,this.$OzMediaStream$p_21),l=function(b){f.$OzMediaStream$p_2++;f.$OzMediaStream$p_18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(b.behavior!=null?b.behavior:"default")).setLength(b.timeoutMs).setReason(""+k.getDescription()).setError(k).setCode(j.length>0?Number.parseInt(j,10):null).setType(f.$OzMediaStream$p_21).log();if(b.behavior==="retry_failed_request")f.$OzMediaStream$p_9=e;else if(b.behavior==="recover_failed_request"&&d("oz-player/utils/OzErrorUtils").isOzError(a)){var h;h=(h=a.getExtra())==null?void 0:h.headers;h=c("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(h);h!=null&&(f.$OzMediaStream$p_9=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(f.$OzMediaStream$p_8,h-1))}c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){f.emit("streamErrorRetry",k);return g.resolve()},b.timeoutMs)};this.$OzMediaStream$p_4!==j?(this.$OzMediaStream$p_4=j,this.$OzMediaStream$p_3=1):this.$OzMediaStream$p_3++;h=!0;var m=function(){h=!1};i={consecutiveFailuresForErrorCode:this.$OzMediaStream$p_3,endStream:function(){m(),f.$OzMediaStream$p_10=b,f.$OzMediaStream$p_11=b,f.endStream("streamError_event_object"),g.resolve()},error:k,isInitialRequest:!1,retry:function(a){var b;m();l({timeoutMs:(b=a==null?void 0:a.waitMs)!=null?b:0,behavior:a==null?void 0:a.behavior})},retryAttemptCount:this.$OzMediaStream$p_2};this.emit("streamError",i);h&&(this.$OzMediaStream$p_33.emitError(k),this.$OzMediaStream$p_2=0,g.resolve());return g.getPromise()};e.$OzMediaStream$p_65=function(a){this.$OzMediaStream$p_48();this.$OzMediaStream$p_10=a;this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();a=this.$OzMediaStream$p_6;a&&a.cancelOperationAndCleanQueue(this.$OzMediaStream$p_18)};e.$OzMediaStream$p_63=function(a,b){a==="done"&&(this.$OzMediaStream$p_9=b)};e.$OzMediaStream$p_64=function(){this.$OzMediaStream$p_31=!1};e.$OzMediaStream$p_52=function(a){this.$OzMediaStream$p_19.push(a),this.$OzMediaStream$p_6&&this.$OzMediaStream$p_47()};e.$OzMediaStream$p_61=function(a,b){if(a==null)return;this.$OzMediaStream$p_8.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?this.$OzMediaStream$p_25.add(b.startTime_UNSAFE,b.endTime_UNSAFE,a.tag):this.$OzMediaStream$p_25.add(a.startTime,a.endTime,a.tag)};e.$OzMediaStream$p_47=function(){var a=this;this.$OzMediaStream$p_19.forEach(function(b){var d=b.data,e=b.mimeCodecs,f=b.clearSourceBufferRange,g=b.dataAppendedCallback,h=b.dataAppendedErrorCallback,i=b.loggerProvider;b=b.appendTarget;d=d instanceof Uint8Array||a.$OzMediaStream$p_34==null?d:d.pipeThrough(new(c("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream$p_34.bind(a,a.$OzMediaStream$p_8),a.$OzMediaStream$p_1));a.$OzMediaStream$p_6&&a.$OzMediaStream$p_6.queueData(d,e,f,i,b).then(function(a){if(!a)return;g(a)})["catch"](function(a){h(a)})});this.$OzMediaStream$p_19=[]};e.$OzMediaStream$p_67=function(){var a=this.$OzMediaStream$p_6;if(!a)return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=this.$OzMediaStream$p_7.getCurrentTime(),d=[{fromTime:0,toTime:b}],e=this.$OzMediaStream$p_1.getNumber("clear_buffer_around_playhead_boundary_ms");if(e>0){e=e/1e3;var f=a.getSourceBufferState();f=f.getBufferedRanges();f=f.length>=1?f[f.length-1].endTime:b;d=[{fromTime:0,toTime:Math.max(0,b-e)}];b+e<f&&d.push({fromTime:b+e,toTime:f})}return a.clearRangeWithWait(d)};e.$OzMediaStream$p_68=function(a){return!1};e.$OzMediaStream$p_51=function(a){var b=this;if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(a,this.$OzMediaStream$p_21));this.$OzMediaStream$p_26.handleEvent("append_quota_exceeded");var e=this.$OzMediaStream$p_67();e.then(function(){b.restartLoopBody()})["catch"](function(a){a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:"Stream append quota exceeded: "+String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});b.$OzMediaStream$p_33.emitError(a)})}else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_CANCELLED")return;else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE")this.$OzMediaStream$p_33.emitError(a);else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE")this.$OzMediaStream$p_33.emitError(a);else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_WEBVTT_CAPTION_PARSE_ERROR"){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback: OZ_WEBVTT_CAPTION_PARSE_ERROR branch","warn");(e=this.$OzMediaStream$p_45)==null?void 0:e.emitError(a)}else c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback","warn"),this.$OzMediaStream$p_68(a)&&this.$OzMediaStream$p_33.emitError(a)};e.$OzMediaStream$p_62=function(a,b,c){var d=0;if(this.$OzMediaStream$p_43)return Infinity;var e=this.$OzMediaStream$p_1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream$p_1.getNumber("append_byte_target_without_range"));return d};e.getIsAdaptationEnabled=function(){return this.$OzMediaStream$p_29};e.enableAdaptation=function(){this.$OzMediaStream$p_29=!0};e.disableAdaptation=function(){this.$OzMediaStream$p_29=!1};e.destroy=function(){this.$OzMediaStream$p_23.stop(),this.$OzMediaStream$p_5.then(function(a){a.destroy()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - destroy")}),this.$OzMediaStream$p_30.destroy(),this.$OzMediaStream$p_17.release(),this.$OzMediaStream$p_17.engage(),this.removeAllListeners(),this.$OzMediaStream$p_20&&(this.$OzMediaStream$p_20.remove(),this.$OzMediaStream$p_20=null)};e.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream$p_25.get(a);if(!b){var c=this.$OzMediaStream$p_8.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream$p_7.getDuration()+d&&(b=this.$OzMediaStream$p_25.get(c.endTime-d))}return b?b.id:null};e.endStream=function(a){var b;(b=this.$OzMediaStream$p_14)==null?void 0:b.notifyMediaStreamEnded(this,a);this.$OzMediaStream$p_69()};e.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream$p_8.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream$p_6){var b=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream("buffered_to_end_time"))}}};e.$OzMediaStream$p_60=function(a,b){return{type:this.$OzMediaStream$p_21.indexOf("audio")===0?j.AUDIO:this.$OzMediaStream$p_21.indexOf("video")===0?j.VIDEO:j.CAPTION,segment:a,sourceBuffer:(a=(a=this.$OzMediaStream$p_6)==null?void 0:(a=a.getDebug())==null?void 0:a.SourceBuffer)!=null?a:null,timeRange:b}};e.$OzMediaStream$p_48=function(){this.$OzMediaStream$p_9=null};e.restartLoopBody=function(){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_31=!1,this.$OzMediaStream$p_13&&this.$OzMediaStream$p_13.cancel(),this.$OzMediaStream$p_22!==0&&this.$OzMediaStream$p_24&&this.$OzMediaStream$p_24.resolve()};e.$OzMediaStream$p_69=function(){if(this.$OzMediaStream$p_6){var a=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream$p_32=a[a.length-1].endTime)}};e.$OzMediaStream$p_56=function(){return this.$OzMediaStream$p_32!==null};e.$OzMediaStream$p_49=function(a){this.$OzMediaStream$p_8.getID()===a&&this.$OzMediaStream$p_16!=null&&this.$OzMediaStream$p_50(this.$OzMediaStream$p_16.getBestRepresentation())};e.setEnableLiveheadCatchup=function(a){this.$OzMediaStream$p_35=a};e.clearSourceBufferRange=function(a,b){var d=this.$OzMediaStream$p_6;return d?d.clearRangeWithWait([{fromTime:a,toTime:b}]):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream$p_6,MediaStreamAbrManager:this.$OzMediaStream$p_16}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=0;for(var d in a){var e;if(d===b)continue;c=Math.max(c,(e=a[d].lastSkippedToSegmentNumber)!=null?e:0)}return c}function i(a,b){var c=null;for(var d in a){if(d===b)continue;a[d].inBufferAheadTimeSince!=null&&(c=c!=null?Math.min(c,a[d].inBufferAheadTimeSince):a[d].inBufferAheadTimeSince)}return c}a=function(){function a(a){this.$5={};var b=a.videoNode,c=a.liveLatencyManager,d=a.loggerProvider;a=a.dynamicVideoLibrary;this.$1=b;this.$2=c;this.$3=d;this.$4=a}var b=a.prototype;b.getSegment=function(a,b,c,d,e,f,g,h,i){var j;this.$5[i]==null&&(this.$5[i]={lastSkippedToSegmentNumber:null,inBufferAheadTimeSince:null});(j=this.$2)==null?void 0:j.setEnableCatchup(h);j=this.$6(a,b,c,d,e,f,g,h,i);(a=j.segment)==null?void 0:a.getOptions().setSegmentNumDecisionTime(Date.now());j.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(j.initiator).setReason(j.reason).setType(i).setUserInfo(j.userInfo).log();b=this.$4;if(j.segment&&b!=null){c=j.segment.getOptions();c.setIsDVLEnabled(b.shouldRequestDynamicInfo(i))}return j.segment};b.$6=function(a,b,c,e,f,g,j,k,l){var m,n=b.getCurrentTime(),o=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup(),p=e!=null?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j):{bufferAheadSec:0,bufferedOffset:0},q=p.bufferAheadSec;p=p.bufferedOffset;var r=null,s=null,t=this.$2?this.$2.enabled():!0,u=a.getPredictedSegmentAfter(f),v=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(a,j.getNumber("pdash_download_cursor_between_catchups_seg")>0?h(this.$5):h(this.$5,l)),w=!0,x=null;if(o&&k&&((m=u)==null?void 0:m.getSequenceNumber())!=null&&((m=(m=u)==null?void 0:m.getSequenceNumber())!=null?m:0)<=((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)){u=v;r="paired_catchup";this.$3.getOperationLogger("segment_locator").setInitiator(r).setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p)}).setLength(((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)-((m=(m=u)==null?void 0:m.getSequenceNumber())!=null?m:0)).setType(l).log();w=!1;x=r}else if(o&&k&&t&&u!=null&&((m=this.$2)==null?void 0:m.isBehindPreferredLiveHeadLatencyWithTolerance())){if(this.$2&&q>this.$2.getPreferredLiveHeadLatencySec()&&p==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(q),bufferedOffset:String(p)}};o=a.getEndingSegment();k=d("oz-player/streams/OzSegmentUtils").getMaxSegment([o,u]);m=j.getNumber("pdash_download_cursor_between_catchups_seg")===0||((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)+j.getNumber("pdash_download_cursor_between_catchups_seg")<((v=o==null?void 0:o.getSequenceNumber())!=null?v:0);if(m){if(((o=k==null?void 0:k.getSequenceNumber())!=null?o:0)>((m=(v=u)==null?void 0:v.getSequenceNumber())!=null?m:0)){this.$5[l].lastSkippedToSegmentNumber=(o=k==null?void 0:k.getSequenceNumber())!=null?o:0;this.$3.getOperationLogger("segment_locator").setInitiator("catchup").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p)}).setLength(((v=k==null?void 0:k.getSequenceNumber())!=null?v:0)-((o=(m=u)==null?void 0:m.getSequenceNumber())!=null?o:0)).setType(l).log()}u=k;r="catchup";w=!1;x=r}}else if(f==null){u=a.getSegmentByTime(n);r="1st_run";v=a.getTimeRanges();s={approx:String(a.canApproximateId()),ranges:String(v.length),mpdStartTime:v.length>0?String(v[v.length-1].startTime):null,mpdEndTime:v.length>0?String(v[v.length-1].endTime):null};this.$5[l].lastSkippedToSegmentNumber=(o=(m=u)==null?void 0:m.getSequenceNumber())!=null?o:0}w&&(w=t,x="stream_state");if(w&&q>c){this.$5[l].inBufferAheadTimeSince==null&&(this.$5[l].inBufferAheadTimeSince=Date.now());return{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(q),bufferedOffset:String(p),lastMaxSegNum:String(h(this.$5,l)),segment:u?String(u.getSequenceNumber()):null,computedBufferAheadTarget:String(c)}}}else!w&&q>c&&this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p),computedBufferAheadTarget:String(c)}).setReason("disabled_buffer_ahead_rule:"+(x||"")).setType(l).log();k=g&&g.getSequenceNumber()||0;f=u&&u.getSequenceNumber()||0;if(u&&g&&k>=f){n=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(n||0)>=k?{segment:g}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(k)}}}v=e?d("oz-player/utils/OzSourceBufferUtil").getTotalInBufferedRanges(e.getBufferedRanges()):0;m=e?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j).bufferAheadSec:0;o=i(this.$5,l);t=Date.now();if(j.getNumber("download_cursor_total_buffer_max_sec")!=0&&j.getNumber("download_cursor_total_buffer_max_sec")<m||j.getNumber("download_cursor_buffer_ahead_time_max_sec")!=0&&o!=null&&j.getNumber("download_cursor_buffer_ahead_time_max_sec")<(t-o)/1e3){this.$5[l].lastSkippedToSegmentNumber=(x=(w=u)==null?void 0:w.getSequenceNumber())!=null?x:0;this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p),totalBufferedSec:String(v),computedBufferAheadTarget:String(c),inBufferAheadElapsedTime:String((t-(o!=null?o:0))/1e3)}).setReason("force_paired_catchup").setType(l).log()}this.$5[l].inBufferAheadTimeSince=null;return{segment:u,initiator:r?r:void 0,userInfo:s?s:void 0}};return a}();g.OzPredictedSegmentLocator=a}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c,"auto").uri.toString()):!1})||null}g["default"]=a}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzUuid","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzSingleCodecRestriction","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a||c("oz-player/shims/ozvariant")(0,21876);return a}var j="av01",k="vp09",l="avc1";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this)||this;e.$Player$p_5=new Map();e.$Player$p_6=new Map();e.$Player$p_9=void 0;e.$Player$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$Player$p_11=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_12=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_19=void 0;e.$Player$p_25=[];e.$Player$p_26=void 0;e.$Player$p_27=void 0;e.$Player$p_32=null;e.$Player$p_33=null;e.$Player$p_43=null;e.$Player$p_51=!1;e.$Player$p_54=0;e.$Player$p_55=null;e.$Player$p_56=null;e.$Player$p_57=0;e.$Player$p_58=null;e.$Player$p_59=null;e.$Player$p_60=!1;e.$Player$p_63=null;e.$Player$p_64=null;e.$Player$p_70=!1;e.$Player$p_71=!1;e.$Player$p_76=!1;e.$Player$p_77=null;e.$Player$p_78=!1;e.$Player$p_89=function(){var a=new(c("oz-player/parsers/OzXmlParserImplDOMParser"))();return a};e.$Player$p_91=function(){e.$Player$p_5.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};e.$Player$p_92=function(){e.$Player$p_5.forEach(function(a){return a.endStream("streamGone")})};var f=b.audioOnly;f=f===void 0?!1:f;var g=b.bufferingDetector,h=b.videoNode,i=b.config,j=b.configMap,k=b.rawMpdXml,l=b.mpdUrl;l=l===void 0?null:l;var m=b.loggerConfig;m=m===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:m;var n=b.bandwidthEstimatorOverride;n=n===void 0?null:n;var o=b.customVTTBufferTargetStrategies;o=o===void 0?null:o;var p=b.shouldBlockStatusCode5xx;p=p===void 0?!1:p;var q=b.prefetchCache;q=q===void 0?null:q;var r=b.getOverrideOzRequestImplementation;r=r===void 0?null:r;var s=b.getUserSelectedPlaybackRate,t=b.networkRequestStreamHandlers,u=b.networkRequestStreamRetryHandler,v=b.networkRequestUrlRefreshHandler,w=b.getShouldIncludeCredentials;w=w===void 0?null:w;var x=b.getCustomRequestParametersForURI;x=x===void 0?null:x;var y=b.initialRepresentationIDs;y=y===void 0?[]:y;var z=b.debugCreateInitiator;z=z===void 0?null:z;var A=b.customParsers;A=A===void 0?new Map():A;var B=b.videoPlaybackRestrictions;B=B===void 0?[]:B;var C=b.customSegmentTimelineParser;C=C===void 0?null:C;var D=b.customRepresentationParsers;D=D===void 0?{}:D;var E=b.networkRequestFetchPriority;E=E===void 0?"auto":E;var F=b.videoAbrManagerFactory;F=F===void 0?null:F;var G=b.seekHandler;G=G===void 0?null:G;var H=b.initialPlaybackPositionForDynamicMpd;H=H===void 0?-20:H;var I=b.liveheadFallBehindBlockThreshold;I=I===void 0?30:I;var J=b.liveheadFallBehindBlockMargin;J=J===void 0?5.9:J;var K=b.startTimeStamp;K=K===void 0?0:K;var L=b.drmProviders;L=L===void 0?[]:L;var M=b.getVideoDimensions;M=M===void 0?null:M;var N=b.setCustomFetchStreamLoggingAttributes;N=N===void 0?null:N;var O=b.bufferEndLimit;O=O===void 0?null:O;var P=b.configureCustomRequestParametersForSegment;P=P===void 0?null:P;var Q=b.isClientTriggeredTraceEnabled;Q=Q===void 0?!1:Q;var R=b.enableImmediateQualityDownSwitch;R=R===void 0?!1:R;b=b.userPreferenceLang;b=b===void 0?null:b;e.$Player$p_1=o;e.$Player$p_49=z;o=m.perfLoggerProviders;z=m.observedOperationLoggers;m=m.isOzDevConsoleEnabled;e.$Player$p_17=m||!1;e.$Player$p_16=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(e.$Player$p_79().concat(o));e.$Player$p_2=f;e.$Player$p_4=i!=null?i:new(c("oz-player/configs/OzPlayerConfig"))(j!=null?j:{});e.$Player$p_78=e.$Player$p_4.getBool("enable_managed_media_source")&&!!window.ManagedMediaSource;e.$Player$p_75=e.$Player$p_78?"changeType"in window.ManagedSourceBuffer.prototype:"changeType"in window.SourceBuffer.prototype;e.$Player$p_12.onError(function(){});e.$Player$p_22=new(c("oz-player/loggings/OzOperationLoggerObserver"))();e.$Player$p_22.observe(z,e.$Player$p_16);e.$Player$p_16.getOperationLogger("player_initialization").setInitiator("player-"+c("oz-player/shims/OzUuid")()).log();e.$Player$p_53=r;e.$Player$p_28=A;e.$Player$p_67=new(c("oz-player/strategies/OzBlockedRepresentationsManager"))(e.$Player$p_4,p);e.$Player$p_10.addSubscriptions(e.$Player$p_67.onRepresentationBlocked(function(a){e.emit("representationBlocked",a)}));e.$Player$p_31=[e.$Player$p_67,new(c("oz-player/strategies/OzSupportedMimeCodecsRestriction"))(e.$Player$p_78)].concat(B);e.$Player$p_75||e.$Player$p_31.push(new(c("oz-player/strategies/OzSingleCodecRestriction"))());e.$Player$p_29=D;e.$Player$p_30=C;e.$Player$p_35=F;e.$Player$p_36=G;e.$Player$p_37=K;e.$Player$p_38=H;e.$Player$p_41=s!=null?s:function(){return 1};e.$Player$p_39=I;e.$Player$p_42=J;e.$Player$p_66=O;e.$Player$p_69=Q;e.$Player$p_71=R;e.$Player$p_47=L;e.$Player$p_63=N;e.$Player$p_3=h;e.$Player$p_7=new(c("oz-player/media_source/MediaSourceManager"))({videoNode:e.$Player$p_3,config:e.$Player$p_4,perfLoggerProvider:e.$Player$p_16,isChangeTypeSupported:e.$Player$p_75,useManagedMediaSource:e.$Player$p_78,handleVttCaptionsUpdated:function(a){var b;b=(b=e.$Player$p_5.get("caption"))==null?void 0:(b=b.getCurrentRepresentation())==null?void 0:b.getLang();e.emit("vttCaptionsUpdated",a,b)},onClearVideoNodeError:function(){e.$Player$p_80()},onRetryVideoElementError:function(a){e.emit("videoNodeErrorRetry",a)}});e.$Player$p_7.onError(function(a){e.$Player$p_11.emitError(a)});if(e.$Player$p_4.getBool("clear_on_seek")){m=new(c("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(e.$Player$p_3,e.$Player$p_4,e.$Player$p_5,e.$Player$p_16);m.maybeOverwriteVideoCurrentTimeProperty();e.$Player$p_10.addSubscriptions(m.onError(e.$Player$p_11.emitError));e.$Player$p_64=m}e.$Player$p_24=q;o=e.$Player$p_24&&e.$Player$p_24.getCachedRepresentations();e.$Player$p_25=o||y;e.$Player$p_65=new(c("oz-player/manifests/OzDynamicVideoLibrary"))({config:e.$Player$p_4});e.$Player$p_44=t;e.$Player$p_45=w;e.$Player$p_46=x;e.$Player$p_68=P;e.$Player$p_77=n!=null?n:c("oz-player/networks/OzBandwidthEstimator");e.$Player$p_13=new(c("oz-player/networks/OzNetworkManager"))({config:e.$Player$p_4,prefetchCache:e.$Player$p_24,networkRequestStreamHandlers:e.$Player$p_44,getOverrideOzRequestImplementation:e.$Player$p_53,getShouldIncludeCredentials:e.$Player$p_45,getCustomRequestParametersForURI:e.$Player$p_46,networkRequestFetchPriority:E,networkRequestStreamRetryHandler:u,networkRequestUrlRefreshHandler:v,setCustomFetchStreamLoggingAttributes:e.$Player$p_63,dynamicVideoLibrary:e.$Player$p_65,configureCustomRequestParametersForSegment:e.$Player$p_68,onResourceTimingBufferFull:function(){e.$Player$p_81()},bandwidthEstimator:e.$Player$p_77});e.$Player$p_18=l;e.$Player$p_8=k;e.$Player$p_14=new(c("oz-player/states/OzObservedPlaybackState"))(e.$Player$p_4,e.$Player$p_3,e.$Player$p_16);e.$Player$p_52=M;e.$Player$p_15=new(c("oz-player/streams/OzEndOfStreamWatcher"))(e.$Player$p_7,e.$Player$p_4);e.$Player$p_10.addSubscriptions(e.$Player$p_15.addListener("streamEnd",function(){e.$Player$p_51=!0,e.emit("streamEnd")}));e.$Player$p_50=g!=null?g:e.$Player$p_82();e.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&(e.$Player$p_61=new(c("oz-player/states/OzPositionToViewport"))(e.$Player$p_3,e.$Player$p_4));e.$Player$p_72=b;e.$Player$p_73=null;e.$Player$p_74={lang:null,role:null};return e}var f=e.prototype;f.$Player$p_81=function(){if(this.$Player$p_70)return;c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_JAVASCRIPT_NATIVE",description:"ResourceTiming buffer is full"}),"ResourceTiming buffer is full","warn");this.$Player$p_70=!0};f.$Player$p_83=function(a){var b=this;this.$Player$p_84();var c=d("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player$p_16.cloneContext().setInitiator(this.$Player$p_49),"parse_manifest",function(e){var f,g,c=b.$Player$p_85(a);f=String((f=c.getCustomField("currentServerTimeMs"))!=null?f:"");g=String((g=c.getCustomField("lastVideoFrameTs"))!=null?g:"");f={currentServerTimeMs:f,ingestLastVideoFrameTs:g,nowMs:String(Date.now())};g=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(c,b.$Player$p_4);g=g&&g.endTime!=0?g.endTime:null;e.setLiveheadPosition(g).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(c)).setManifestType(c.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(b.$Player$p_76).setIsTemplatedManifest(Boolean(c.getCustomField("isLiveTemplated"))).setUserInfo(f);return c});this.$Player$p_86(c)};f.$Player$p_86=function(a){var b=this;this.$Player$p_9=i(a);this.$Player$p_4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",a);this.$Player$p_26=this.$Player$p_87();this.$Player$p_27=this.$Player$p_88();this.$Player$p_67.setAvailableRepresentationsCount(a.getVideoRepresentations().length);if(this.$Player$p_18!=null){var e=new(c("oz-player/parsers/OzMpdUpdater"))(this.$Player$p_4,a,this.$Player$p_13,this.$Player$p_14,this.$Player$p_16,{mpdUrl:null,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},this.$Player$p_48,this.$Player$p_69,this.$Player$p_78);this.$Player$p_90(e);this.$Player$p_10.addSubscriptions(e.onError(this.$Player$p_11.emitError),e.addListener("manifestFetchError",function(a){return b.emit("manifestFetchError",a)}),e.addListener("manifestFetchErrorRetry",function(a){return b.emit("manifestFetchErrorRetry",a)}),e.addListener("streamTransitionToStatic",this.$Player$p_91),e.addListener("streamGone",this.$Player$p_92));e.setupUpdateLoop();this.$Player$p_21=e}this.$Player$p_4.getBool("use_live_latency_manager")?!a.isStaticMpd()?(this.$Player$p_40=new(c("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player$p_4,mpd:a,playbackState:this.$Player$p_14,bufferingDetector:this.$Player$p_50,video:this.$Player$p_3,loggerProvider:this.$Player$p_16,getUserSelectedPlaybackRate:this.$Player$p_41}),this.$Player$p_37=this.$Player$p_40.getPreferredLiveHeadLatencySec()*-1):this.$Player$p_37=this.$Player$p_37:this.$Player$p_37=a.isStaticMpd()?this.$Player$p_37:this.$Player$p_93(a);this.$Player$p_19=new(c("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player$p_3,mpd:a,dynamicVideoLibrary:this.$Player$p_65,playheadCatchup:this.$Player$p_34,playbackState:this.$Player$p_14,config:this.$Player$p_4,perfLoggerProvider:this.$Player$p_16,seekHandler:this.$Player$p_36,initialPlaybackPosition:this.$Player$p_37,canSupportSkipVideobufferGaps:(e=(e=this.$Player$p_64)==null?void 0:e.getCurrentTimePropertyOverwriteSuccess())!=null?e:!1,liveLatencyManager:this.$Player$p_40});this.$Player$p_20=new(c("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player$p_4,video:this.$Player$p_3,mpd:a,liveheadFallBehindBlockThreshold:this.$Player$p_39,liveheadFallBehindBlockMargin:this.$Player$p_42,playbackState:this.$Player$p_14,perfLoggerProvider:this.$Player$p_16});this.$Player$p_94()["catch"](function(a){var e=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;b.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+String(a),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()})}))});this.emit("mpdReady",a)};f.load=function(a){var b=this;this.$Player$p_18=a;try{var c=this.$Player$p_8;c!=null?this.$Player$p_83(c):a!=null?this.$Player$p_95(a).then(function(a){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}b.$Player$p_8=a;b.$Player$p_54=0;b.$Player$p_83(a)})["catch"](function(c){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}var e=d("oz-player/utils/OzErrorUtils").isOzError(c)?c:null;e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player with fetched MPD: "+String(c),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:c,url:a})});b.$Player$p_96(e,a)}):this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){c=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player: "+String(a),extra:babelHelpers["extends"]({},c==null?void 0:c.getExtra(),{originalError:a})}))}};f.$Player$p_93=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a);return Math.min(this.$Player$p_38+this.$Player$p_4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player$p_4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};f.$Player$p_95=function(a){this.$Player$p_54++;a=this.$Player$p_13.requestRawUrl({debugName:"OzPlayer/fetchMpdXml/mpd",url:a,options:null,loggerProvider:this.$Player$p_16});a=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};f.$Player$p_97=function(){this.$Player$p_55!=null&&(c("oz-player/shims/ozClearTimeout")(this.$Player$p_55),this.$Player$p_55=null)};f.$Player$p_96=function(a,b){var d=this,e=!0,f=this.$Player$p_54-1,g=a.getExtra().code;this.$Player$p_56!==g?(this.$Player$p_56=g,this.$Player$p_57=1):this.$Player$p_57++;var h=function(){e=!1};g={endStream:function(){h(),d.$Player$p_51=!0,d.emit("streamGoneBeforeStart")},consecutiveFailuresForErrorCode:this.$Player$p_57,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player$p_97(),d.$Player$p_55=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player$p_97(),d.load(b)},(a==null?void 0:a.waitMs)!=null?a==null?void 0:a.waitMs:1e3)},retryAttemptCount:f};this.$Player$p_4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player$p_11.emitError(a)};f.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl,c=a.audioStreamDataHandler,d=a.videoStreamDataHandler,e=a.applicationStreamDataHandler;a=a.resetStreamAnchor;if(d!==void 0){var f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({streamDataHandler:d})}if(a!==void 0){f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({resetStreamAnchor:a});d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({resetStreamAnchor:a});(f=this.$Player$p_19)==null?void 0:f.resetCurrentTime()}if(c!==void 0){d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({streamDataHandler:c})}if(e!==void 0){f=this.$Player$p_5.get("caption");f&&f.updateRunTimeConfigs({streamDataHandler:e,resetStreamAnchor:a})}b!=null&&b!==""&&this.$Player$p_98(b)};f.$Player$p_99=function(a,b){var c=this,e=a.getMimeCodecs();e=this.$Player$p_7.createSourceBufferManager(b+"/"+a.getMimeType()+"/"+a.getCodecs(),e,b,a.getInitSegment().getData());this.$Player$p_100(e,b,a);a=e.then(function(a){c.$Player$p_50&&b!=="caption"&&c.$Player$p_50.setSourceBufferState(b,a.getSourceBufferState());return a});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,this.$Player$p_16,"source_attach",function(a){a.setType(b)});return a.then(function(a){if(b!=="caption"){var d;(d=c.$Player$p_19)==null?void 0:d.observeSourceBufferState(a.getSourceBufferState(),b)}})};f.isDrm=function(){var a=this.$Player$p_48;if(a!=null){a=a.hasContentProtections();return a!=null?a:!1}return!1};f.$Player$p_84=function(){var a=this.$Player$p_47;if(a.length>0){var b=this.$Player$p_48=new(d("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player$p_16,this.$Player$p_3,{maxStartEMEAttempts:this.$Player$p_4.getNumber("max_start_eme_attempts"),throwNoLicenseError:!0});a.forEach(function(a){b.addProvider(a)});this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError))}};f.$Player$p_101=function(a){var b=this,d=i(this.$Player$p_9);a=[this.$Player$p_4,a,this.$Player$p_102(),this.$Player$p_31,this.$Player$p_14,window.devicePixelRatio||1,function(){return b.$Player$p_103()},d.isStaticMpd()?"static":"dynamic",this.$Player$p_16];d=this.$Player$p_35&&this.$Player$p_35.apply(this,a);return d!=null?d:babelHelpers.construct(c("oz-player/strategies/OzAbrManager"),a)};f.$Player$p_104=function(a){return a==="caption"?!0:!1};f.$Player$p_100=function(a,b,e){var f=this,g=i(this.$Player$p_9),h=this.$Player$p_6.get(b),j=new(c("oz-player/streams/OzMediaStream"))({config:this.$Player$p_4,sourceBufferManagerPromise:a,networkManager:this.$Player$p_13,playbackState:this.$Player$p_14,endOfStreamWatcher:b!=="caption"?this.$Player$p_15:null,bufferTargetCalculator:this.$Player$p_105(b),priorityCalculator:this.$Player$p_106(),streamSegmentsCountCalculator:this.$Player$p_107(b),abrManager:h,representation:e,loggerProvider:this.$Player$p_16.cloneContext().setType(b),segmentLocator:this.$Player$p_62,setCustomFetchStreamLoggingAttributes:this.$Player$p_63,blockedRepresentationsManager:this.$Player$p_67,dynamicVideoLibrary:this.$Player$p_65,shouldAppendOncePerStream:this.$Player$p_104(b),mediaStreamType:b,warningEmitter:this.$Player$p_12,mpd:g});this.$Player$p_37===0?j.start():(i(this.$Player$p_9),this.$Player$p_19&&this.$Player$p_10.addSubscriptions(this.$Player$p_19.addListener("initialPlaybackPositionSet",function(){j.start()})));this.$Player$p_10.addSubscriptions(j.onError(this.$Player$p_11.emitError));this.$Player$p_23&&this.$Player$p_10.addSubscriptions(this.$Player$p_23.listenToMediaStreamInitAppended(j));b==="video"&&(this.$Player$p_33=new(c("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player$p_4,this.$Player$p_14,d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),this.$Player$p_102()),j,a,this.$Player$p_71),this.$Player$p_10.addSubscriptions(this.$Player$p_33.onError(this.$Player$p_11.emitError)));this.$Player$p_5.set(b,j);this.$Player$p_10.addSubscriptions(j.addListener("switchRepresentation",function(){var c,a=j.getCurrentRepresentation();(c=f.$Player$p_23)==null?void 0:c.setTimeRangeProvider(a);(c=f.$Player$p_19)==null?void 0:c.setTimeRangeProvider(a);(c=f.$Player$p_20)==null?void 0:c.setTimeRangeProvider(a);b==="video"&&f.emit("switchVideoRepresentation")}),j.addListener("SegmentAppended",function(a){f.$Player$p_108("SegmentAppended",a)}),j.addListener("streamError",function(a){f.emit("streamError",a)}),j.addListener("streamErrorRetry",function(a){f.emit("streamErrorRetry",a)}))};f.$Player$p_109=function(){if(this.$Player$p_66!=null)return[new(c("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player$p_3,this.$Player$p_66)];else return[new(c("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(i(this.$Player$p_9),this.$Player$p_4),new(c("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player$p_14,this.$Player$p_4),new(c("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player$p_4)]};f.$Player$p_110=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:this.$Player$p_4.getNumber("buffer_target_constraint_minimum_sec")})]:[]};f.$Player$p_111=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:0})]:[]};f.$Player$p_87=function(){return new(c("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player$p_109(),this.$Player$p_110())};f.$Player$p_88=function(){return this.$Player$p_1!=null?new(c("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player$p_1,this.$Player$p_109()),this.$Player$p_111()):this.$Player$p_87()};f.$Player$p_105=function(a){var b=a==="caption"?this.$Player$p_27:this.$Player$p_26;b||c("oz-player/shims/ozvariant")(0,76764,a);return b};f.$Player$p_90=function(a){var b=this;if(this.$Player$p_4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=this.$Player$p_50,e=new(c("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player$p_3,d);this.$Player$p_10.addSubscriptions(e.addListener("playheadAtInterruption",function(a){b.$Player$p_16.getOperationLogger("stream_interrupted").log(),b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var c;(c=b.$Player$p_50)==null?void 0:c.notifyStreamInterrupted();e.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var c;b.$Player$p_16.getOperationLogger("stream_resumed").log();(c=b.$Player$p_50)==null?void 0:c.notifyStreamResumed();e.notifyStreamResumed();b.emit("streamResumedAt",a)}));this.$Player$p_32=e}};f.$Player$p_106=function(){var a=[new(c("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player$p_14),new(c("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player$p_4,this.$Player$p_14)].concat(this.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player$p_61!=null?new(c("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player$p_61,this.$Player$p_4):[]);return new(c("oz-player/strategies/OzPriorityCalculator"))(a)};f.$Player$p_107=function(a){var b=[new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player$p_4),new(c("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player$p_105(a),this.$Player$p_4)];this.$Player$p_4.getNumber("paused_stream_segments_count")!==0&&b.push(new(c("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player$p_14,this.$Player$p_4));a==="video"&&b.push(new(c("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player$p_4,this.$Player$p_102()));return new(c("oz-player/strategies/OzStreamSegmentsCountCalculator"))(b)};f.onError=function(a){return this.$Player$p_11.onError(a)};f.onWarning=function(a){return this.$Player$p_12.onError(a)};f.getSelectedVideoQuality=function(){var a=this.$Player$p_9;if(!a||this.$Player$p_2)return null;a=this.$Player$p_5.get("video");a=a&&a.getCurrentRepresentation();if(a instanceof c("oz-player/manifests/OzVideoRepresentation"))return a.getDisplayLabel();a=this.$Player$p_102();a=a[0];return a?a.getDisplayLabel():null};f.getTargetAudioTrack=function(){var a=this.$Player$p_9;if(!a)return null;a=this.$Player$p_5.get("audio");a=a&&a.getCurrentRepresentation();if(a){var b;return{id:a.getID(),displayLabel:a.getDisplayLabel(),lang:(b=a.getLang())!=null?b:null,role:a.getRole(),mimeCodecs:a.getMimeCodecs(),variantKey:a.getVariantKey()}}b=this.$Player$p_112();a=b[0];return a?a.getAudioTrack():null};f.getCurrentPlayingVideoVariant=function(){return this.$Player$p_73};f.getTargetVideoVariant=function(){return this.$Player$p_74};f.switchToVideoQuality=function(a){var b=this.$Player$p_102().find(function(b){return b.getDisplayLabel()===a});if(b){var c=this.$Player$p_5.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};f.switchToVideoVariant=function(a){this.$Player$p_74=a===null?{lang:null,role:null}:a;if(this.$Player$p_74.lang===((a=(a=this.$Player$p_73)==null?void 0:a.lang)!=null?a:null)&&this.$Player$p_74.role===((a=(a=this.$Player$p_73)==null?void 0:a.role)!=null?a:null)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role")}),"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role"),"warn");return}else if(!this.$Player$p_9){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant mpd is void"}),"switchToVideoVariant mpd is void","warn");return}else if(!this.$Player$p_113(this.$Player$p_74.lang)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role")}),"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role"),"warn");return}this.$Player$p_114();this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75&&this.$Player$p_115();this.$Player$p_73=this.$Player$p_74};f.$Player$p_114=function(){var a=this.$Player$p_112()[0];if(a){var b=this.$Player$p_5.get("audio");b&&(b.switchRepresentation(a,[0,this.$Player$p_14.getDuration()]),b.disableAdaptation())}};f.$Player$p_115=function(){var a=this.$Player$p_5.get("video");if(!a)return;var b=a.getCurrentRepresentation();if(b.getLang()===this.$Player$p_74.lang&&b.getRole()===this.$Player$p_74.role)return;b=this.$Player$p_102();if(b.length===0){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74),"warn");return}var e=this.$Player$p_6.get("video");e?(e.updateRepresentations(b),e=e.getBestRepresentation()):e=b[0];if(!e){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74));return}a.switchRepresentation(e,[0,this.$Player$p_14.getDuration()]);return};f.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player$p_5.get("video");return a?a.getIsAdaptationEnabled():!1};f.enableVideoQualityAdaptation=function(){var a=this.$Player$p_5.get("video");a&&a.enableAdaptation()};f.getVideoQualities=function(){var a=this,b=this.$Player$p_9;if(!b)return[];b=this.$Player$p_102().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))});var c=b.some(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===j}),e=b.some(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===k});c=c?b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===j}):e?b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===k}):b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===l});return c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}).map(function(a){return a.getDisplayLabel()})};f.getVideoTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:this.$Player$p_102().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return{mimeCodecs:a.getMimeCodecs(),codec:a.getCodecs(),codecFamily:d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getMimeCodecs()),displayLabel:a.getDisplayLabel(),qualityLabel:a.getDisplayLabel(),height:a.getHeight(),id:a.getID(),qualityScoreCurveString:a.getQualityScoreCurveString("csvqm"),width:a.getWidth(),lang:a.getLang(),role:a.getRole(),variantKey:a.getVariantKey()}})};f.getAudioTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:b.getAudioRepresentations().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return a.getAudioTrack()})};f.setEnableLiveheadCatchup=function(a){if(this.$Player$p_20){var b;a?this.$Player$p_16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player$p_16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log();(b=this.$Player$p_20)==null?void 0:b.setTimelineBlockingEnabled(a)}this.$Player$p_5.forEach(function(b){b.setEnableLiveheadCatchup(a)});(b=this.$Player$p_19)==null?void 0:b.setEnableLiveheadCatchup(a)};f.$Player$p_94=function(){var a=this;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_113(this.$Player$p_72)){var c;this.$Player$p_74=babelHelpers["extends"]({},this.$Player$p_74,{lang:(c=this.$Player$p_72)!=null?c:null,role:this.$Player$p_72!=null?"dub":null})}c=this.$Player$p_102()[0];this.$Player$p_62=c&&c.canPredict()&&this.$Player$p_4.getBool("pdash_use_pdash_segmentlocator")||c&&c.canApproximateId()?new(d("oz-player/streams/OzPredictedSegmentLocator").OzPredictedSegmentLocator)({videoNode:this.$Player$p_3,liveLatencyManager:this.$Player$p_40,loggerProvider:this.$Player$p_16,dynamicVideoLibrary:this.$Player$p_65}):null;c=this.$Player$p_2?[this.$Player$p_116({liveConfigsFromAudioStream:!0}),this.$Player$p_117()]:[this.$Player$p_118(),this.$Player$p_116({liveConfigsFromAudioStream:!1}),this.$Player$p_117()];var e=[];return(h||(h=b("Promise"))).all(c).then(function(){var b=a.$Player$p_5.get("video"),c=a.$Player$p_5.get("audio"),d=a.$Player$p_5.get("caption");b&&e.push(b.getCurrentRepresentation());c&&e.push(c.getCurrentRepresentation());d&&e.push(d.getCurrentRepresentation());e.forEach(function(b){a.$Player$p_10.addSubscriptions(b.addUpdateListener(function(){a.$Player$p_108("SegmentIndexesUpdated",e)}))});a.$Player$p_108("InitialSegmentIndexes",e);a.$Player$p_3&&a.$Player$p_3.style&&(a.$Player$p_3.style.display=a.$Player$p_2?"none":"block");a.$Player$p_73=a.$Player$p_74;a.emit("initialized")})};f.$Player$p_119=function(a){if(!a.getTimeRanges().length){this.$Player$p_16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log();return}a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player$p_7.updateDuration(a,!0)};f.$Player$p_120=function(a){var b;this.$Player$p_23=new(c("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player$p_7,this.$Player$p_4);this.$Player$p_119(a);(b=this.$Player$p_23)==null?void 0:b.setTimeRangeProvider(a);(b=this.$Player$p_19)==null?void 0:b.setTimeRangeProvider(a);(b=this.$Player$p_20)==null?void 0:b.setTimeRangeProvider(a)};f.$Player$p_118=function(){var a=this.$Player$p_102();if(!a.length)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"No video representations in the manifest",extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}));var b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),a);if(!b.length){a=a.map(function(a){return a.getDisplayLabel()+"@"+a.getWidth()+"x"+a.getHeight()+"("+a.getMimeCodecs()+")"});return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Restricted all video representations: "+a.join(", "),extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}this.$Player$p_120(b[0]);a=this.$Player$p_121(b);a&&this.$Player$p_4.getBool("enable_abr_logging")&&this.$Player$p_16.getOperationLogger("video_stream_setup_initial_representation_from_prefetch").setResult("success").setReason("player_initialized").setRepresentationID(a.getID()).setPreviousRepresentationID(null).setUserInfo({initialRepresentationIDs:JSON.stringify(this.$Player$p_25)}).setType("video").setInitiator("Player").log();var e=this.$Player$p_101(a||b[0]);this.$Player$p_6.set("video",e);a||(a=e.getBestRepresentation());return this.$Player$p_99(a||b[0],"video")};f.$Player$p_102=function(){var a=this.$Player$p_9;if(!a)return[];var b=a.getVideoRepresentations();if(this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75){var c=a.getVideoRepresentationsByVariant(this.$Player$p_74);b=c.length>0?c:a.getVideoRepresentationsByVariant({lang:null,role:null})}var e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),b);return b.filter(function(a){return e.includes(a)})};f.$Player$p_112=function(){var a=this.$Player$p_9;if(!a)return[];return this.$Player$p_4.getBool("enable_alternative_audio_tracks")?a.getAudioRepresentationsByVariant(this.$Player$p_74):a.getAudioRepresentations()};f.$Player$p_113=function(a){var b=this.$Player$p_9;if(!b)return!1;var c=b.getAudioRepresentations();if(a==null)return!0;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&b.isStaticMpd()){b=c.findIndex(function(b){return b.getLang()===a});return b>-1}return!1};f.$Player$p_116=function(a){var b=this;a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var d=i(this.$Player$p_9),e=d.getAudioRepresentations();a&&this.$Player$p_120(e[0]);a=-1;this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&e.length>1&&d.isStaticMpd()&&(this.$Player$p_72!=null&&(a=e.findIndex(function(a){return a.getLang()===b.$Player$p_72})));if(e.length){d=a>-1?a:e.findIndex(function(a){return a.getLang()==null&&a.getRole()==null});d=d>-1?d:0;return this.$Player$p_99(a>=0&&a<e.length?e[a]:this.$Player$p_122(e)||e[d],"audio")}return c("oz-player/shims/OzMaybeNativePromise").resolve()};f.$Player$p_117=function(){var a=i(this.$Player$p_9);a=a.getApplicationRepresentations();return a.length?this.$Player$p_99(this.$Player$p_123(a)||a[0],"caption"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.getMpd=function(){return this.$Player$p_9};f.destroy=function(a){var d,e,f=this;a=this.$Player$p_16.getOperationLogger("unload").setInitiator(a).start();(d=this.$Player$p_64)==null?void 0:d.destroy();this.$Player$p_97();this.$Player$p_5.forEach(function(a){a.destroy()});this.$Player$p_33&&(this.$Player$p_33.destroy(),this.$Player$p_33=null);this.$Player$p_5=new Map();this.$Player$p_10.release();this.$Player$p_10.engage();this.$Player$p_14.destroy();this.$Player$p_19&&this.$Player$p_19.destroy();this.$Player$p_40&&(this.$Player$p_40.destroy(),this.$Player$p_40=null);this.$Player$p_20&&(this.$Player$p_20.destroy(),this.$Player$p_20=null);this.$Player$p_48&&this.$Player$p_48.destroy();this.$Player$p_61&&this.$Player$p_61.destroy();this.$Player$p_13&&this.$Player$p_13.destroy();this.$Player$p_52&&(this.$Player$p_52=null);this.$Player$p_7&&this.$Player$p_7.detach();this.$Player$p_3.pause();this.$Player$p_4.getBool("enable_revoke_object_url_on_destroy")&&URL.revokeObjectURL(this.$Player$p_3.src);this.$Player$p_3.setAttribute("src","");this.$Player$p_3.removeAttribute("src");this.$Player$p_3.removeAttribute("srcObject");d=(h||(h=b("Promise"))).resolve();"function"===typeof this.$Player$p_3.setMediaKeys&&(d=this.$Player$p_3.setMediaKeys(null));this.$Player$p_21&&this.$Player$p_21.destroy();this.$Player$p_32&&this.$Player$p_32.destroy();this.$Player$p_22.destroy();(e=this.$Player$p_23)==null?void 0:e.destroy();this.$Player$p_50&&this.$Player$p_50.destroy();this.$Player$p_67&&this.$Player$p_67.destroy();a.log();this.emit("destroyed");return d["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"Player.destroy","warn")}).then(function(){f.$Player$p_3.load()})};f.$Player$p_121=function(a){var b=this,d=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));return d||null};f.$Player$p_122=function(a){var b=this,e,f=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});f||(f=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));!f&&!((e=this.$Player$p_9)==null?void 0:e.isStaticMpd())&&a.length>1&&(f=d("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(a,this.$Player$p_4,this.$Player$p_16));return f||null};f.$Player$p_123=function(a){return null};f.$Player$p_85=function(a){var b=new(c("oz-player/parsers/OzMpdParser"))({config:this.$Player$p_4,ozParserContext:{mpdUrl:this.$Player$p_18,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},networkManager:this.$Player$p_13,perfLoggerProvider:this.$Player$p_16,drmManager:this.$Player$p_48,initialRepresentationIDs:this.$Player$p_25,blockedRepresentationsManager:this.$Player$p_67,enableAlternativeAudioTracks:this.$Player$p_4.getBool("enable_alternative_audio_tracks"),useManagedMediaSource:this.$Player$p_78});a=b.parse(a);this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError));b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),a.getVideoRepresentations());if(b.length>1){var e=d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(b[0].getMimeCodecs());this.$Player$p_76=!b.reduce(function(a,b){return a&&d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(b.getMimeCodecs())===e},!0)}return a};f.$Player$p_79=function(){var a=[];this.$Player$p_17&&a.push(new(d("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};f.$Player$p_124=function(a,b){b=this.$Player$p_5.get(b);return b?b.getRepresentationIDAtTime(a):null};f.getAudioRepresentationIDAtTime=function(a){return this.$Player$p_124(a,"audio")};f.getVideoRepresentationIDAtTime=function(a){return this.$Player$p_124(a,"video")};f.getCurrentVideoRepresentation=function(){return this.$Player$p_125("video")};f.getCurrentAudioRepresentation=function(){return this.$Player$p_125("audio")};f.getCurrentPlayingAudioTrackID=function(){var a=this.getCurrentAudioRepresentation();return a==null?void 0:a.getID()};f.$Player$p_125=function(a){var b=this.$Player$p_124(this.$Player$p_14.getCurrentTime(),a),c=this.$Player$p_9;if(!c)return null;c=[];a==="audio"?c=this.$Player$p_112():a==="video"&&(c=this.$Player$p_102());return(a=c.find(function(a){return a.getID()===b}))!=null?a:null};f.getSelectedVideoRepresentation=function(){var a=this.$Player$p_5.get("video");return a!=null?a.getCurrentRepresentation():null};f.getSelectedAudioRepresentation=function(){var a=this.$Player$p_5.get("audio");return a!=null?a.getCurrentRepresentation():null};f.getDebug=function(){var a=this,b=this.$Player$p_5.get("video"),c=this.$Player$p_5.get("audio"),d=this.$Player$p_5.get("caption"),e,f,g,h,j,k,l;if(b){var m;e=(m=b.getDebug())==null?void 0:m.MediaStreamAbrManager;f=(m=b.getDebug())==null?void 0:m.SourceBufferManager;if(f){g=(m=f.getDebug())==null?void 0:m.SourceBuffer}}if(c){h=(m=c.getDebug())==null?void 0:m.SourceBufferManager;if(h){j=(m=h.getDebug())==null?void 0:m.SourceBuffer}}if(d){k=(m=d.getDebug())==null?void 0:m.SourceBufferManager;if(k){l=(m=k.getDebug())==null?void 0:m.SourceBuffer}}return{getManifest:function(){return i(a.$Player$p_9)},DashManifestParsed:this.$Player$p_9,VideoSourceStream:b,VideoAbrManager:e,VideoBufferManager:f,VideoSourceBuffer:g,AudioSourceStream:c,AudioBufferManager:h,AudioSourceBuffer:j,CaptionSourceStream:d,CaptionBufferManager:k,CaptionSourceBuffer:l}};f.injectExternalDebugEvent=function(a,b){this.$Player$p_108(a,b)};f.$Player$p_108=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};f.$Player$p_82=function(){var a=this,b=new(c("oz-player/strategies/OzBufferingDetector"))(this.$Player$p_3,this.$Player$p_4.getLegacyConfig(),function(){return a.$Player$p_51?a.$Player$p_3.duration:Infinity});b.attachPerfLoggerProvider(this.$Player$p_16);this.$Player$p_10.addSubscriptions(b.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),b.addListener("leaveBuffering",function(b){a.emit("leaveBuffering",b)}));return b};f.$Player$p_103=function(){var a=this.$Player$p_52?this.$Player$p_52():{width:this.$Player$p_3.offsetWidth,height:this.$Player$p_3.offsetHeight};return a};f.getMpdUrl=function(){return this.$Player$p_18};f.$Player$p_98=function(a){var b=this;this.$Player$p_18=a;var c=this.$Player$p_9;if(!c){this.$Player$p_60=!0;return}else{c.updateLocation(a);this.$Player$p_43&&(this.$Player$p_10.releaseOne(this.$Player$p_43),this.$Player$p_43=null);a=function(){b.$Player$p_43&&(b.$Player$p_10.releaseOne(b.$Player$p_43),b.$Player$p_43=null),b.$Player$p_5.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getDisplayLabel();e=(d==="video"?b.$Player$p_102():c.getAudioRepresentations()).slice();if(d==="video"){d=b.$Player$p_6.get(d);d&&d.updateRepresentations(b.$Player$p_102())}d=e[0];e.forEach(function(a){var b=a.getDisplayLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player$p_43=c.addListener("updated",a);this.$Player$p_10.addSubscriptions(this.$Player$p_43)}};f.getPerfLoggerProvider=function(){return this.$Player$p_16};f.getApproximateFBLSToPlayerDisplayLatency=function(){var a,b;a=Number((a=(a=this.$Player$p_9)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);b=Number((b=(b=this.$Player$p_9)==null?void 0:b.getCustomField("currentServerTimeMs"))!=null?b:void 0);var c=this.$Player$p_126(a,b);a=this.$Player$p_127(a,b);return{latencyFromClockSync:a,latencyFromMpdUpdate:c}};f.$Player$p_126=function(a,b){if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b))return null;b=0;this.$Player$p_58===a?b=(c("oz-player/shims/OzPerformance").now()-Number(this.$Player$p_59))/1e3:(this.$Player$p_59=c("oz-player/shims/OzPerformance").now(),this.$Player$p_58=a);a=a/1e3+b-this.$Player$p_14.getCurrentTime();return a};f.$Player$p_127=function(a,b){var d;if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b)||c("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!c("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;d=this.$Player$p_14.getCurrentTimeUpdateTime()+((d=c("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?d:0);b=b;var e=this.$Player$p_14.getCurrentTime()*1e3;a=a;d=(d-b-(e-a))/1e3;return d};f.$Player$p_80=function(){this.$Player$p_5.forEach(function(a){a.restartLoopBody();var b=a.getCurrentRepresentation();a.switchRepresentation(b)})};return e}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/Player")}),98);/*FB_PKG_DELIM*/
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("WebauthnAuthenticatorLoginFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744524");b=d("FalcoLoggerInternal").create("webauthn_authenticator_login_failure",a);e=b;g["default"]=e}),98);
__d("WebauthnAuthenticatorLoginSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744525");b=d("FalcoLoggerInternal").create("webauthn_authenticator_login_success",a);e=b;g["default"]=e}),98);
__d("WebauthnAuthenticatorRegisterFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744526");b=d("FalcoLoggerInternal").create("webauthn_authenticator_register_failure",a);e=b;g["default"]=e}),98);
__d("WebauthnAuthenticatorRegisterSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744527");b=d("FalcoLoggerInternal").create("webauthn_authenticator_register_success",a);e=b;g["default"]=e}),98);
__d("WebAuthN",["$InternalEnum","Promise","WebauthnAuthenticatorLoginFailureFalcoEvent","WebauthnAuthenticatorLoginSuccessFalcoEvent","WebauthnAuthenticatorRegisterFailureFalcoEvent","WebauthnAuthenticatorRegisterSuccessFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("$InternalEnum")({SECURITY_KEY:"security-key",CLIENT_DEVICE:"client-device",HYBRID:"hybrid"});d=b("$InternalEnum")({USB:"usb",NFC:"nfc",BLE:"ble",INTERNAL:"internal"});e=function(a,d){d=d.publicKey;var e={challenge:Uint8Array.from(d.challenge.split("").map(function(a){return a.charCodeAt(0)})),rpId:d.rpId,allowCredentials:j(d.allowCredentials),userVerification:"preferred",timeout:6e4};d.extensions&&d.extensions.appid&&(e.extensions={appid:d.extensions.appid});return a.get({publicKey:e}).then(function(a){return(h||(h=b("Promise"))).resolve({credential_id:a.id,raw_id:k(a.rawId),type:a.type,response:{authenticator_data:o(a.response.authenticatorData),client_data_json:o(a.response.clientDataJSON),signature:o(a.response.signature),user_handle:o(a.response.userHandle)}})}).then(function(a){c("WebauthnAuthenticatorLoginSuccessFalcoEvent").log(function(){return{key_handle_id:a.credential_id}});return(h||(h=b("Promise"))).resolve(a)})["catch"](function(a){c("WebauthnAuthenticatorLoginFailureFalcoEvent").log(function(){return{error_code:a.code,error_name:a.name,error_message:a.message}});return(h||(h=b("Promise"))).reject(a)})};f=function(a){c("WebauthnAuthenticatorRegisterSuccessFalcoEvent").log(function(){return{key_handle_id:a.id}});return{credential_id:a.id,raw_id:k(a.rawId),type:a.type,client_data_json:o(a.response.clientDataJSON),attestation_object:o(a.response.attestationObject)}};var i=function(a){var d=window.navigator.credentials;if(d===null||d===void 0){var e="The user agent  does not support WebAuthN";c("WebauthnAuthenticatorRegisterFailureFalcoEvent").log(function(){return{error_code:-1,error_name:"NotSupportedError",error_message:e}});return(h||(h=b("Promise"))).reject(e)}try{a=a.publicKey;return d.create({publicKey:{challenge:l(a.challenge),attestation:a.attestation,authenticatorSelection:babelHelpers["extends"]({},a.authSelection),hints:a.hints,rp:a.rp,timeout:a.timeout,pubKeyCredParams:a.pubKeyCredParams,excludeCredentials:j(a.excludeCredentials),user:babelHelpers["extends"]({},a.user,{id:l(a.user.id)})}})}catch(a){c("WebauthnAuthenticatorRegisterFailureFalcoEvent").log(function(){return{error_code:a.code,error_name:a.name,error_message:a.message}});return(h||(h=b("Promise"))).reject(a)}},j=function(a){return a.map(function(a){return{type:a.type,id:m(a.id)}})},k=function(a){return o(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},l=function(a){return new Uint8Array(a.length).map(function(b,c){return a.charCodeAt(c)})},m=function(a){return l(atob(n(a)))},n=function(a){return(a+"===").slice(0,a.length+(4-a.length%4)%4).replace(/-/g,"+").replace(/_/g,"/")},o=function(a){a=new Uint8Array(a);var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=a.length%3;function d(a){return b.charAt(a>>18&63)+b.charAt(a>>12&63)+b.charAt(a>>6&63)+b.charAt(a&63)}var e="";for(var f=0,g=a.length-c;f<g;f+=3){var h=(a[f]<<16)+(a[f+1]<<8)+a[f+2];e+=d(h)}switch(c){case 1:h=a[a.length-1];e+=b.charAt(h>>2);e+=b.charAt(h<<4&63);e+="==";break;case 2:h=(a[a.length-2]<<8)+a[a.length-1];e+=b.charAt(h>>10);e+=b.charAt(h>>4&63);e+=b.charAt(h<<2&63);e+="=";break;default:break}return e};g.PublicKeyCredentialHints=a;g.AuthenticatorTransport=d;g.createLoginChallenge=e;g.createRegisterRequest=f;g.getKeyCrenditial=i;g.encodeCredentials=j;g.bufferEncode=k;g.string2buffer=l;g.base64ToBuffer=m;g.Base64DecodeUrl=n;g.encodeByteArray=o}),98);
__d("CAAWebBloksPasskeyUtils",["$InternalEnum","WebAuthN"],(function(a,b,c,d,e,f,g){"use strict";var h="Meta",i=6e4,j=b("$InternalEnum")({NOT_ALLOWED_ERROR:0,CONSTRAINT_ERROR:1,INVALID_STATE_ERROR:2,NOT_SUPPORTED_ERROR:3,SECURITY_ERROR:4,ABORT_ERROR:5,UNKNOWN_ERROR:6});function a(a,b){var c,e,f=b.getExpression("on_success"),g=b.getExpression("on_error"),j=b.getExpression("on_cancel");c=JSON.parse((c=b.get("additional_params"))!=null?c:"{}");if(g==null)return null;if(f==null){k(a,"on_success",g);return null}if(j==null){k(a,"on_cancel",g);return null}var m=b.get("prf_input_first");if(m!=null)return;m=(m=b.get("rp_id"))!=null?m:(m=c.rp)==null?void 0:m.id;if(m==null){k(a,"rp_id",g);return null}e=(e=b.get("challenge"))!=null?e:c.challenge;if(e==null){k(a,"challenge",g);return null}var n=b.get("userid");if(n==null){k(a,"userid",g);return null}var o=b.get("username");if(o==null){k(a,"username",g);return null}a=d("WebAuthN").encodeCredentials(c.excludeCredentials);c=(c=(c=b.get("enable_device_key_signature_ext"))==null?void 0:c.valueOf())!=null?c:!1;b=(b=(b=b.get("prefer_immediately_available_credentials"))==null?void 0:b.valueOf())!=null?b:!1;e={challenge:l(e)};e=d("WebAuthN").string2buffer(JSON.stringify(e));e={publicKey:{attestation:"none",authenticatorSelection:{residentKey:"preferred",userVerification:"required"},challenge:e,excludeCredentials:a,pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],rp:{id:m,name:h},timeout:i,user:{displayName:o,id:d("WebAuthN").string2buffer(n.toString()),name:o}}};return{callbacks:{onCancel:j,onError:g,onSuccess:f},extensions:{enable_device_key_signature_ext:c,prefer_immediately_available_credentials:b},json:e}}function c(a,b){var c,e,f,g,h=b.getExpression("on_success"),j=b.getExpression("on_error"),l=b.getExpression("on_cancel");c=JSON.parse((c=b.get("additional_params"))!=null?c:"{}");if(j==null)return null;if(h==null){k(a,"on_success",j);return null}if(l==null){k(a,"on_cancel",j);return null}e=(e=b.get("rpid"))!=null?e:(e=c.rp)==null?void 0:e.id;if(e==null){k(a,"rpid",j);return null}f=(f=b.get("challenge"))!=null?f:c.challenge;if(f==null){k(a,"challenge",j);return null}a=(a=(a=b.get("enable_device_key_signature_ext"))==null?void 0:a.valueOf())!=null?a:!1;b=(b=(b=b.get("prefer_immediately_available_credentials"))==null?void 0:b.valueOf())!=null?b:!1;f=d("WebAuthN").string2buffer(f);g=(g=c.userVerification)!=null?g:"preferred";c=d("WebAuthN").encodeCredentials(c.allowCredentials);f={publicKey:{challenge:f,timeout:i,rpId:e,userVerification:g,allowCredentials:c}};return{callbacks:{onSuccess:h,onError:j,onCancel:l},json:f,extensions:{prefer_immediately_available_credentials:b,enable_device_key_signature_ext:a}}}function k(a,b,c){b="Missing required parameter "+b;a.executeCatch(c.getValue(),[1,b])}function e(a){var b={authenticatorAttachment:a.authenticatorAttachment,id:a.id,raw_id:d("WebAuthN").bufferEncode(a.rawId),response:{attestationObject:d("WebAuthN").bufferEncode(a.response.attestationObject),clientDataJSON:d("WebAuthN").bufferEncode(a.response.clientDataJSON)},type:a.type};b=l(JSON.stringify(b));return{extension_results:l(JSON.stringify(a.clientExtensionResults)),passkey_id:a.id,payload:b,payload_version:"web"}}function f(a){var b=l(JSON.stringify(a.toJSON==null?void 0:a.toJSON())),c=l(JSON.stringify(a.getClientExtensionResults()));return{passkey_id:a.id,payload:b,payload_version:"web",extension_results:c}}function l(a){a=btoa(a);return a.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(a,b,c,d){c=j.isValid(c)?c:j.UNKNOWN_ERROR;a.executeCatch(b.getValue(),[c,d])}g.PasskeyErrorCodes=j;g.getValidatedPasskeyRegistrationParams=a;g.getValidatedPasskeyAssertionParams=c;g.reportMissingParameter=k;g.buildBloksRegistrationArguments=e;g.buildBloksAssertionArguments=f;g.base64UrlEncode=l;g.onError=m}),98);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a}),66);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856513");b=d("FalcoLoggerInternal").create("cvc_v3_http_event",a);e=b;g["default"]=e}),98);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a,this.$2=c("guid")(),this.$3=(b!=null?b:"null")+"::"+(d!=null?d:"null"),this.$4=null,this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,{},e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a}),98);
__d("CappedListItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("CometVideoPlayerLoggingConfigForPolaris",["IGVideoMetadataProvider","PolarisIsLoggedIn","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{disableCVCSubscription:!d("PolarisIsLoggedIn").isLoggedIn(),disableLogging:!1,loggingToSNAPLCreateMetadataProvider:d("IGVideoMetadataProvider").createIGVideoMetadataProvider,loggingToSNAPLEnabled:c("gkx")("3179"),loggingToVPLEnabled:!1}}g.createCometVideoPlayerLoggingConfigForPolaris=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","makeAudioSymbol","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useId,m=b.useMemo,n=b.useRef,o=b.useState;e=d("createVideoStateHook").createVideoStateHook();var p=e.valueHook;function a(){var a=p({isVolumeInitialized:!1}),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useInstanceKey(),f=m(function(){return c("makeAudioSymbol")(b,e)},[b,e]),g=d("CometAudioManagerHooks").useAudioApi(),h=n(g);k(function(){h.current=g},[g]);var q=i.useController(),r=200,s=i.useLastPlayReason(),t=i.useLastMuteReason(),u=i.useMuted();r=c("CometThrottle")(i.useVolume,r,{trailing:!0});var v=r(),w=c("usePrevious")(v),x=i.usePaused(),y=j(d("CometAudioManagerContexts").CometAudioLocalScopeContext),z=j(d("CometAudioManagerContexts").CometAudioGroupContext),A=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),B=i.useVolumeSetting(),C=m(function(){return(z==null?void 0:z.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[z==null?void 0:z.groupID]);r=o(!0);var D=r[0];r=r[1];var E=m(function(){return{audioLocalScope:y,controller:q,groupID:C,instanceKey:e,lastMuteReason:t,lastPlayReason:s,muted:u,paused:x,previousVolume:w,symbol:f,videoPlayerPortalingPlaceInfo:A,volume:v}},[y,q,C,e,t,s,u,x,w,f,A,v]);k(function(){B!=null&&a.isVolumeInitialized!==!0&&(q.setVolume(B),a.isVolumeInitialized=!0)},[q,a,!0,B]);r=z||{allowSound:D,groupID:C,setAllowSound:r};var F=n(r);k(function(){g&&g.register(E,F.current);return function(){g&&g.unregister(f,C)}},[g,E,C,f]);k(function(){g&&g.update(E)},[g,E]);k(function(){!D&&h.current&&q.setMuted(!0,"audio_manager_initiated")},[D,h,q]);return null}g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return i(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=j(a),d=k(function(){return new(c("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];i(function(){b.current!==a&&f(function(){return new(c("AutoplayRulesEngine"))(a)})},[a]);i(function(){b.current=e.getRules()},[e]);return e}g["default"]=a}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useId,j=e.useState;function a(){return i()}function k(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=j(function(){return k()});a=a[0];return a}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=k;g.useConcurrentAutoplayManagementAPI=b}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;g.useVideoPlayerExtendedPassiveViewabilityInfo=(h||(h=d("VideoPlayerHooks"))).useVideoPlayerExtendedPassiveViewabilityInfo;g.useVideoPlayerPassiveViewabilityInfo=h.useVideoPlayerPassiveViewabilityInfo;g.useVideoPlayerViewabilityInfo=h.useVideoPlayerViewabilityInfo}),98);
__d("useEventCallbackOn",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){i(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}g["default"]=a}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useCallback,j=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function k(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var l=b();function m(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=k();return d||(b?!1:!c)}function n(){return k()}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=j(function(){return m(d)}),f=e[0],g=e[1];e=j(function(){return n()});var h=e[0],k=e[1],o=!!b&&b.scrollTerminatesHiddenOrBlurred===!0;e=i(function(){g(m(d)),k(n())},[g,d]);b=e;var p=i(function(){var a=m(d);a&&o&&f&&g(!1)},[f,d,o]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,l,e);c("useEventCallbackOn")(a.window,"scroll",p);return{isDocumentHidden:h,isDocumentHiddenOrBlurred:f}}g["default"]=e}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=5e3;function a(){var a=function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},b=i(a()),d=b[0],e=b[1];c("useInterval")(function(){return e(a())},j);return d}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.startTransition,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useAdClientToken(),e=i.useAutoplayGatingResult(),f=i.useBroadcastStatus(),g=i.useEnded(),h=i.useIsFrozenPassive(),p=i.useLastPauseReason(),q=i.useLastPlayReason(),r=i.useMuted(),s=i.usePaused(),t=k(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);a=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesHiddenOrBlurred:u});var v=a.isDocumentHidden,w=a.isDocumentHiddenOrBlurred,x=c("useVideoPlayerBandwidthEstimate")(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),z=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();u=o(t.getCurrentState().backgrounded);var A=u[0],B=u[1];a=o(t.getCurrentState().hidden);var C=a[0],D=a[1];l(function(){var a=function(){j(function(){var a=t.getCurrentState();D(a.hidden);B(a.backgrounded)})},b=t.subscribeToChanges(a);a();return function(){b.remove()}},[t,B,D]);u=o(function(){return h.getCurrentState()});var E=u[0],F=u[1];l(function(){var a=h.subscribeToChanges(function(a){F(a)}),b=h.getCurrentState();F(b);return function(){a.remove()}},[h,F]);var G=m(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:x,broadcastStatus:f,controllerIsFrozen:E,currentSubtreeIsBackgrounded:A,currentSubtreeIsHidden:C,ended:g,hiddenSubtreePassive:t,isDocumentHidden:v,isDocumentHiddenOrBlurred:w,isFrozenPassive:h,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:z,videoPlayerPassiveViewabilityInfo:y}},[b,e,x,f,E,A,C,g,t,v,w,h,p,q,r,s,z,y]);a=o(G);var H=a[0],I=a[1],J=n(H);l(function(){J.current=H},[H]);l(function(){var a=!1;for(var b in G)if(Object.prototype.hasOwnProperty.call(G,b)&&G[b]!==J.current[b]){a=!0;break}a&&I(G)},[G,I]);return H}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useId,n=b.useMemo,o=b.useRef,p=b.useState;function a(){var a=m(),b=(i||(i=d("VideoPlayerHooks"))).useCanAutoplay(),e=i.useInstanceKey(),f=n(function(){return c("makeSelectedAutoplayVideoSymbol")(a,e)},[a,e]),g=o(f);l(function(){g.current=f},[f]);var h=k(c("HiddenSubtreePassiveContext")),q=i.useController(),r=o(!1),s=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();l(function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[ASSUME CONTROL] "+s),q.registerControllingComponent(s)},[q,s]);var t=i.useVideoPlayerPassiveViewabilityInfo(),u=q.getCurrentState();u=u.paused;var v=o(u),w=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),x=o(w);l(function(){x.current=w},[w]);var y=j(function(){var a=q.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=v.current;v.current=a;var e=t==null?void 0:t.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;x.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(r.current=!0)}},[q,t]),z=o(y);l(function(){z.current=y},[y]);l(function(){var a=q.subscribe(function(){y()});return function(){a.remove()}},[q,y]);var A=c("useVideoAutoplayState")({noPauseOnBlurOrFocus:w.noPauseOnBlurOrFocus}),B=c("useAutoplayRulesEngine")(w.autoplayLocalRules),C=b==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");u=p(function(){return C});var D=u[0],E=u[1];u=p(null);var F=u[0],G=u[1];u=p(function(){return B.evaluateAutoplay(A,C)});var H=u[0],I=u[1];u=p(null);var J=u[0],K=u[1],L=o(H),M=d("VideoPlayerAutoplayHooks").useAutoplayApi(),N=o(M);l(function(){N.current=M},[M]);var O=b!=="dangerously_disable_autoplay_management";l(function(){M.register(f,e,w,q,h,O);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:L.current}});return function(){M.unregister(f),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:L.current}})}},[M,w,q,h,e,O,f]);l(function(){var a=function(){var b=B.evaluateAutoplay(A,C);L.current=b;var e=B.getRules(),h=B.getIndexOfLastWinningRule(),a=h>=0?e[h]:C;e=t&&t.getCurrent();h=q.getCurrentState();h=h.paused;(J===null||J!==b)&&(I(b),K(b));if(b==="PAUSE"&&!h&&q.isControllingComponent(s)){h=!0;z.current();if(r.current){r.current=!1;var i=e==null?void 0:e.positionToViewport;i&&q.scrollIntoView(i.top<0);h=!1}if(h){i="[PAUSE] via short-circuit on "+a.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(g.current,i);q.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}})}}(F===null||F!==a)&&(E(function(){return a}),G(function(){return a}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:M.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}}));d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[DECISION: "+b+"] from "+a.name);e&&M.update(f,b,e)},b=h.subscribeToChanges(function(a){h.getCurrentState().hidden||h.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s)}),e=t?t.subscribe(function(){h.getCurrentState().hidden||h.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s),a()}):null;a();return function(){b.remove(),e&&e.remove()}},[M,s,B,q,C,h,F,J,E,I,G,K,f,A,t]);l(function(){var a=q.isControllingComponent(s),b=q.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(H,L.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[PAUSE] the video for "+H),q.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:x.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:N.current.getAutoplayManagerDebugInfo(x.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:H}}))},[H,q,s]);l(function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[RELEASE CONTROL] "+s),q.unregisterControllingComponent(s)}},[q,s]);c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:D,autoplayApiRef:N,autoplayDecision:H,autoplayLocalScope:w,symbol:f});return null}g["default"]=a}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,c=a.isDesktopPictureInPicture,e=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:c,children:i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:e,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var d=(b=i(c("CappedListItemContext")))==null?void 0:b.registerBlocker;j(function(){if(!d)return;var b=null,c=null,e=function(){var e=a.getCurrentState().playing;if(e!==b){b=e;c&&(c(),c=null);if(e){e="playing_video";var f;c=d({reason:e,source:f})}}};e();var f=a.subscribe(e);return function(){f.remove(),c&&(c(),c=null)}},[a,d])}g["default"]=a}),98);
__d("useDisableVirtualizationWhenPlayingVideo",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var d=i(c("VirtualizationContext"));j(function(){if(d==null)return;var c=d.createFlag,e=d.createPin,f=null,g=null,h=function(){g==null&&(g=c("HAS_PLAYER","playerInstanceKey: "+b));var d=a.getCurrentState();d.playing||d.stalling?f||(f=e("player "+b+" is playing")):d.isFullscreen?f||(f=e("player "+b+" is fullscreen")):(f==null?void 0:f(),f=null)};h();var i=a.subscribe(h);return function(){i.remove(),g==null?void 0:g(),g=null,f==null?void 0:f(),f=null}},[a,b,d])}g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return i.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:6094","react","setTimeout","useBlockCappedListItemWhenPlayingVideo","useDisableVirtualizationWhenPlayingVideo","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState;function p(a){var b=n(a);m(function(){b.current=a},[a]);var d=o(!1),e=d[0],f=d[1];d=o(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=c("setTimeout")(function(){f(!0)},b.current);a=function(){c("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;m(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function q(){var a=o(!1),b=a[0],c=a[1];a=3e3;a=p(a);var d=a.isIdle,e=a.pingNotIdle;a=l(function(){c(!0),e()},[e]);var f=l(function(){c(!1),e()},[e]),g=l(function(){c(!0),e()},[e]),h=l(function(){e()},[e]),i=l(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:h,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:i}}function r(a){a=a.children;var b=q(),e=b.isHovering,f=b.isIdle,g=b.onMouseDown,h=b.onMouseEnter,l=b.onMouseLeave,m=b.onMouseMove;b=b.onMouseUp;var n=(i||(i=d("VideoPlayerHooks"))).useIsFullscreen();return k.jsx("div",babelHelpers["extends"]({className:{0:"x5yr21d x10l6tqk x13vifvy xh8yej3",1:"x5yr21d x10l6tqk x13vifvy xh8yej3 xjfk50j"}[!!(n&&f)<<0]},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:g,onMouseEnter:h,onMouseLeave:l,onMouseMove:m,onMouseUp:b,children:k.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseHoverContext.Provider,{value:e,children:k.jsx(j.VideoPlayerMouseIdleContext.Provider,{value:f,children:a})})}))}r.displayName=r.name+" [from "+f.id+"]";function a(a){var e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var f=a.adClientToken,g=a.audioAvailabilityInfo,h=a.autoplayGatingResult,i=a.broadcastStatus,l=a.canAutoplay,m=a.controller,n=a.dimensions,o=a.initialTracePolicy,p=a.instanceKey,q=a.isDesktopPictureInPicture,s=a.isFullscreen,t=a.isNCSR,u=a.isPremiumMusicVideo,v=a.lastMuteReason,w=a.lastPauseReason,x=a.lastPlayReason,y=a.videoFBID,z=a.videoPixelsAspectRatio,A=a.videoPlayerPassiveViewabilityInfo,B=a.videoState,C=a.volumeSetting,D=B.activeCaptions,E=B.activeEmsgBoxes,F=B.availableAudioTracks,G=B.availableVideoQualities,H=B.availableVideoTracks,I=B.bufferEnd,J=B.captionDisplayStyle,K=B.captionsLoaded,L=B.captionsVisible,M=B.currentAudioTrackID,N=B.currentVideoQuality,O=B.currentVideoTrackID,P=B.duration,Q=B.ended,R=B.error,S=B.inbandCaptionsAutogenerated,T=B.inPlayStalling,U=B.isAbrEnabled,V=B.isLiveRewindActive,W=B.isLiveRewindAvailable,X=B.lastPlayedTimeMs,Y=B.latencyLevel,Z=B.loopCount,$=B.loopCurrent,aa=B.muted,ba=B.paused,ca=B.playerVersion,da=B.playing,ea=B.seekableRanges,fa=B.seeking,ga=B.selectedVideoQuality,ha=B.stalling,ia=B.streamInterrupted,ja=B.targetAudioTrack,ka=B.targetPlaybackRate,la=B.targetVideoQuality,ma=B.volume;B=B.watchTimeMs;e=k.jsx(r,{children:e});b("cr:6094")(p,{controller:m,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:A});e=(a=d("wrapWithContextProviders")).wrapWithContextProviders(e,[a.makeRenderProviderFn((j||(j=d("VideoPlayerContexts"))).VideoFBIDContext,y),d("wrapWithContextProviders").makeRenderProviderFn(j.StallingContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayingContext,da),d("wrapWithContextProviders").makeRenderProviderFn(j.InPlayStallingContext,T),d("wrapWithContextProviders").makeRenderProviderFn(j.BufferEndContext,I),d("wrapWithContextProviders").makeRenderProviderFn(j.LastMuteReasonContext,v),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayReasonContext,x),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPauseReasonContext,w),d("wrapWithContextProviders").makeRenderProviderFn(j.PausedContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentAudioTrackIDContext,M),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoTrackIDContext,O),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoQualityContext,N),d("wrapWithContextProviders").makeRenderProviderFn(j.MutedContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetAudioTrackContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeContext,ma),d("wrapWithContextProviders").makeRenderProviderFn(j.SelectedVideoQualityContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekingContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(j.DurationContext,P),d("wrapWithContextProviders").makeRenderProviderFn(j.EndedContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(j.ErrorContext,R),d("wrapWithContextProviders").makeRenderProviderFn(j.DimensionsContext,n||null),d("wrapWithContextProviders").makeRenderProviderFn(j.InstanceKeyContext,p),d("wrapWithContextProviders").makeRenderProviderFn(j.ControllerContext,m),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableAudioTracksContext,F),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoQualitiesContext,G),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoTracksContext,H),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayerVersionContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(j.IsAbrEnabledContext,U),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetVideoQualityContext,la),d("wrapWithContextProviders").makeRenderProviderFn(j.PlaybackRateContext,ka),d("wrapWithContextProviders").makeRenderProviderFn(j.CanAutoplayContext,l),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeSettingContext,C),d("wrapWithContextProviders").makeRenderProviderFn(j.AutoplayGatingResultContext,h),d("wrapWithContextProviders").makeRenderProviderFn(j.BroadcastStatusContext,i),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCountContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCurrentContext,$),d("wrapWithContextProviders").makeRenderProviderFn(j.AdClientTokenContext,f),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveCaptionsContext,D),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsVisibleContext,L),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionDisplayStyleContext,J),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsLoadedContext,K),d("wrapWithContextProviders").makeRenderProviderFn(j.InbandCaptionsAutogeneratedContext,S),d("wrapWithContextProviders").makeRenderProviderFn(j.StreamInterruptedContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(j.WatchTimeContext,B),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayedTimeContext,X),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekableRangesContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(j.LatencyLevelContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindActiveContext,V),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindAvailableContext,W),d("wrapWithContextProviders").makeRenderProviderFn(j.AudioAvailabilityInfoContext,g),d("wrapWithContextProviders").makeRenderProviderFn(j.IsNCSRContext,t),d("wrapWithContextProviders").makeRenderProviderFn(j.IsPremiumMusicVideoContext,u),d("wrapWithContextProviders").makeRenderProviderFn(j.InitialTracePolicyContext,o),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveEmsgBoxesContext,E),d("wrapWithContextProviders").makeRenderProviderFn(j.VideoPixelsAspectRatioContext,z!=null?z:null),function(a){return k.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:q,isFullscreen:s,videoPlayerPassiveViewabilityInfo:A,children:a})}]);c("useBlockCappedListItemWhenPlayingVideo")(m,p);c("useDisableVirtualizationWhenPlayingVideo")(m,p);return k.jsx("div",{"data-instancekey":p,"data-testid":void 0,children:e})}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),98);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"id-pv-"+c("cometUniqueID")()}function b(a){if(typeof a==="string"){var b="id-pv-";if(a.indexOf(b)===0&&a.length>b.length)return a;else throw c("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+c("cometUniqueID")()}g.makeVideoID=a;g.ensureVideoID=b;g.makePlaceID=d}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useState;function a(a,b){var e=c("usePrevious")(a);i(function(){a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},[a,e,b])}function b(a,b){var c=j(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))}var k=c("gkx")("24382")?b:a;function e(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),g=e!=null&&f!=null,h=(g||c!=null)&&(b||a!=null),l=j(function(){return d("GlobalVideoPortsID").makePlaceID()});l=l[0];var m=j(function(){return d("GlobalVideoPortsID").makeVideoID()}),n=m[0];m=m[1];b=h&&b&&a!=null;a=b&&a!=null?a:n;k(b,m);i(function(){h&&!g&&c&&c()},[g,h,c]);return{canBecomePortableLater:h,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}g.useRegenerateUniqueVideoID_exportedForTest=k;g.useVideoPlayerPortalingPlaceState=e}),98);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,h=a.globalVideoPortsManager,n=a.globalVideoPortsState_DEPRECATED,o=a.implementations,p=a.isFullscreen,q=a.portablePlaceMetaData,r=a.previousPlaceMetaData,s=a.renderComponents,t=a.renderPlaceholder,u=a.thisPlaceID,v=a.trackingDataEncrypted,w=a.trackingNodes,x=a.viewportMarginsForViewability;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var y=a[0],z=l(null);k(function(){h.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:o,injectCoreVideoStatesRef:z,isFullscreen:p,portablePlaceContainer:y,portablePlaceID:u,portablePlaceMetaData:q,portableVideoID:f,renderComponents:s,renderPlaceholder:t,trackingDataEncrypted:v,trackingNodes:w,viewportMarginsForViewability:x})},[].concat(c("getOwnObjectValues")(b),[f,g,p,h,y],c("getOwnObjectValues")(q||{}),[s,t,u,v,w,x]));k(function(){return function(){h.removePlace({portablePlaceID:u})}},[h,u]);a=j(c("BaseContextualLayerAnchorRootContext"));var A=l(null);return i.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:p?A:a,children:[i.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:y},u),i.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:n!=null?(a=(a=h.getCurrentPlaceStateForVideo(n,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:z,previousPlaceMetaData:n!=null?(e=(a=h.getPortableVideoState(n,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:r,renderComponents:s,thisPlaceID:u}),i.jsx("div",{ref:A})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","recoverableViolation","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useState,n={bottom:0,left:0,right:0,top:0};function o(a){var b=a.ref,c=a.children,e=a.debugRole;a=a.testid;return j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:e,ref:b,testid:void 0,children:c})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,i=a.renderComponents,p=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);l(function(){return function(){}},[]);var q=f!=null?d("GlobalVideoPortsID").ensureVideoID(f):null;f!=null&&q==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(f)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");f=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:e,portalingFromVideoID:q});e=f.canBecomePortableLater;q=f.currentVideoID;var r=f.globalVideoPortsManager,s=f.globalVideoPortsState;f=f.thisPlaceID;var t=k(c("BaseViewportMarginsContext")),u=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),v=c("useStable")(function(){return d("VideoPlayerFullscreenController").createFullscreenController(u)}),w=m(v.getIsFullscreen()),x=w[0],y=w[1];l(function(){var a=v.subscribe(function(){var a=v.getIsFullscreen();y(a)});y(v.getIsFullscreen());return function(){a.remove()}},[v,y]);w=k(c("CometTrackingNodesContext"));w=w.join("");var z=k(c("CometTrackingCodeContext"));z=(z=z.encrypted_tracking[0])!=null?z:"";t=x?n:t;var A="comet-video-player-place"+(a.videoFBID!=null?"-vid-"+a.videoFBID:"");if(!e)return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:q,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:f,children:j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:v,implementations:b,isFullscreen:x,renderWithCoreVideoStates:i,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t}))})});if(r&&s){return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentPlaceID:(e=(A=r.getCurrentPlaceStateForVideo(s,q))==null?void 0:A.portablePlaceID)!=null?e:null,currentVideoID:q,fullscreenController:v,globalVideoPortsManager:r,globalVideoPortsState_DEPRECATED:null,implementations:b,isFullscreen:x,portablePlaceMetaData:g,previousPlaceMetaData:(e=(A=r.getPortableVideoState(s,q))==null?void 0:A.previousPlaceMetaData)!=null?e:null,renderComponents:i,renderPlaceholder:p,thisPlaceID:f,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t})})}else{return j.jsx(o,{debugRole:null,ref:u,testid:void 0,children:j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:q,previousPlaceMetaData:null,renderPlaceholder:p,thisPlaceID:f,videoPixelsAspectRatio:(b=a.videoPixelsAspectRatio)!=null?b:null})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={initialTracePolicy:null,routeTracePolicy:null};var j=b.createContext(c);function a(){return i(j)}g.VideoPlayerTracePolicyContext=j;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.children,c=a.initialTracePolicy,e=a.routeTracePolicy;a=k(c);var f=a[0],g=a[1];a=k(e);var h=a[0],l=a[1];j(function(){f!==c&&g(c),h!==e&&l(e)},[c,e,f,h]);return i.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:h},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,h=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var k=j(function(a){return i.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:b}))},[b]);return i.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:i.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:g,renderComponents:k,renderPlaceholder:h}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSCheckPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("polyline",{fill:"none",points:"22 5 9.002 17.998 2.005 11.004",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("InstagramChallengeRoutes",[],(function(a,b,c,d,e,f){"use strict";a="/challenge/action";b="/challenge/v2/action";f.TAKE_CHALLENGE_BASE_PATH=a;f.TAKE_CHALLENGE_TOA_BASE_PATH=b}),66);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743810");b=d("FalcoLoggerInternal").create("live_trace_www_video_player",a);e=b;g["default"]=e}),98);
__d("MediaPlaybackCompoundFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2074");b=d("FalcoLoggerInternal").create("media_playback_compound",a);e=b;g["default"]=e}),98);
__d("MediaPlaybackCompoundEventLogger",["MediaPlaybackCompoundFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={logComet:function(a){c("MediaPlaybackCompoundFalcoEvent").log(function(){return a})},logCometImmediately:function(a){c("MediaPlaybackCompoundFalcoEvent").logImmediately(function(){return a})}};b=a;g["default"]=b}),98);
__d("MediaPlaybackTagMetadataHighFrequencyCategory",[],(function(a,b,c,d,e,f){a=Object.freeze({FB_BANDWIDTH:"fb_bandwidth",VIDEO_BANDWIDTH:"video_bandwidth",TOTAL_FRAME_COUNT:"total_frame_count",DROPPED_FRAME_COUNT:"dropped_frame_count",LARGE_DROPPED_FRAME_COUNT:"large_dropped_frame_count",VERY_LARGE_DROPPED_FRAME_COUNT:"very_large_dropped_frame_count",TASOS_VIDEO_TRANSPORT_BWE_BITS_PER_SEC:"tasos_video_transport_bwe_bits_per_sec",LIVE_LATENCY_FRAMES:"live_latency_frames"});f["default"]=a}),66);
__d("MediaPlaybackCompoundEventStateMachineLogger",["MediaPlaybackTagMetadataHighFrequencyCategory","NetworkStatus","emptyFunction","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=1e3,j=Object.freeze(["paused","completed","cancelled","error","heartbeat"]);d=b=c("emptyFunction");e=b;f=b;d=b;function k(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,errorRecoveryAttemptState:{eventsLogged:0},hasPendingRequestedPlaying:!1,isLoggingBufferingSequence:!1,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedTagMetadata:{},nextHeartbeatTime:null,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1}}function a(a){var b={},d=a.initialLoggingMetaData;d;var e=[],f=k(),g=[],l={};function m(b){var c,f=b.events;b=b.state;var g=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,{},l);g=(c=(c=a.metadataProvider)==null?void 0:c.getRequiredMetadata({logDataAdditions:g,loggingMetaData:d,state:b}))!=null?c:{current_watching_module:"",media_id:"",tracking_type:""};b={events:f,required_metadata:g};e.push(b)}function n(a){var c=a.event;a=a.state;g.push(c);if(j.includes(c.event_name)){c=[].concat(g);g=[];m({events:c,state:a})}return b}function o(a,b){var e=a.uncontrolledState.videoElementDuration;return{client_time_ms:a.uncontrolledState.clockTimestamp.toString(),event_name:b,media_time_ms:a.uncontrolledState.videoElementPlayheadPosition!=null?Math.round(a.uncontrolledState.videoElementPlayheadPosition*1e3).toString():"0",player_instance_id:Math.abs(c("hashString")(d.instanceKey)).toString(),player_instance_key:d.instanceKey,video_client_duration:e!=null?Math.trunc(e*1e3).toString():void 0}}function p(a){d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}function q(a,c,d){if(a.controlledState.playbackState!==c.controlledState.playbackState&&c.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){s(c);d=o(c,"completed");n({event:d,state:c});f.canLogPausedOrFinishedPlaying=!1;return b}else return b}function r(a,c){var d=o(a,"requested_playing");c=c!=null?babelHelpers["extends"]({},d,{media_time_ms:Math.round(c*1e3).toString()}):d;n({event:c,state:a});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return b}function s(c){var e,f=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,{},l);e=(e=a.metadataProvider)==null?void 0:e.getTagMetadata({logDataAdditions:f,loggingMetaData:d,state:c});if(Object.keys(e!=null?e:{}).length>0){f=babelHelpers["extends"]({},o(c,"tags_changed"),{tag_metadata:e});n({event:f,state:c})}return b}function t(a){if(!f.canLogPausedOrFinishedPlaying)return b;else if(f.hasPendingRequestedPlaying){s(a);u(a);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}else{s(a);var c=o(a,"paused");n({event:c,state:a});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}}function u(a){var c=o(a,"cancelled");n({event:c,state:a});return b}function v(a,c,d){if(d.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){a=d.payload.playPromiseRejectionReason;if(a!=null&&a.name==="NotAllowedError"){u(c);return b}else return b}else return b}function w(a,c,d){if((d.type==="controller_play_requested"||d.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==c.controlledState.playbackState){r(c);return b}else return b}function x(a){var c=o(a,"requested_seek");n({event:c,state:a});return b}function y(a,c,d){var e=c.controlledState.playbackState,g=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){t(c);x(c);f.isLoggingScrubbingSequence=!0;return b}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!f.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!f.hasPendingRequestedPlaying){t(c);x(c);f.shouldLogRequestedPlayingForScrub=!0;return b}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){r(c,d.payload.seekTargetPosition);return b}else if(a.controlledState.seeking&&!c.controlledState.seeking){f.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&r(c);f.isLoggingScrubbingSequence=!1;f.shouldLogRequestedPlayingForScrub=!1;g!=="paused"&&g!=="ended"&&(f.canLogPlayingEvent=!0);return b}else return b}function z(a,c,d){if(a.controlledState.playbackState==="stalling"&&c.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){d=o(c,"started_playing");n({event:d,state:c});f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;s(c);return b}else return b}function A(a,c,d){if((d.type==="controller_pause_requested"||d.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==c.controlledState.playbackState){t(c);return b}else return b}function B(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){d.type==="implementation_video_node_unmounted"?t(a):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&t(c);return b}else return b}function C(c,d,e){c=d.controlledState.error;if(c!=null&&c!==f.lastLoggedError&&c.errorCode!=="410"){s(d);e=babelHelpers["extends"]({},(e=a.metadataProvider)==null?void 0:e.getErrorMetadata({videoPlayerError:c}),{name:"failed_playing"});e=babelHelpers["extends"]({},o(d,"error"),{error_metadata:e});n({event:e,state:d});f.lastLoggedError=c}return b}function D(d,e,g){if(g.type==="error_recovery_attempt"&&f.errorRecoveryAttemptState.eventsLogged<i){d=g.payload.recoverableError;if(d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return b;g=babelHelpers["extends"]({},(g=a.metadataProvider)==null?void 0:g.getErrorMetadata({videoPlayerError:d}),{name:"error_recovery_attempt"});d=babelHelpers["extends"]({},o(e,"error"),{error_metadata:g});n({event:d,state:e});f.errorRecoveryAttemptState.eventsLogged++}return b}function E(a,c,d){d=a.controlledState.playbackState;a=c.controlledState.playbackState;if(f.hasPendingRequestedPlaying||f.shouldLogRequestedPlayingForScrub||f.isLoggingBufferingSequence)return b;if(d!=="stalling"&&a==="stalling"){d=o(c,"started_buffering");n({event:d,state:c});f.isLoggingBufferingSequence=!0;f.shouldIgnoreDomPause=!0;f.shouldIgnoreDomPlay=!0}return b}function F(a,c,d){a=a.controlledState.playbackState;var e=c.controlledState.playbackState;if(!f.isLoggingBufferingSequence)return b;if((d.type==="dom_event_playing"||d.type==="buffering_end_requested")&&a==="stalling"&&e!=="stalling"){a=0;d.payload.domEventPerfTimestamp!=null&&(a=Math.max(c.uncontrolledState.perfTimestamp-d.payload.domEventPerfTimestamp,0));e=c.uncontrolledState.clockTimestamp-a;d=babelHelpers["extends"]({},o(c,"stopped_buffering"),{client_time_ms:e.toString()});n({event:d,state:c});f.isLoggingBufferingSequence=!1;f.shouldIgnoreDomPause=!1;f.shouldIgnoreDomPlay=!1}return b}function G(a,c,d){a=c.controlledState.playbackState;a==="paused"||a==="ended"?f.nextHeartbeatTime=null:a!=="stalling"&&f.nextHeartbeatTime==null&&(f.nextHeartbeatTime=c.uncontrolledState.clockTimestamp+h);d=f.nextHeartbeatTime;if(d!=null){var e=c.uncontrolledState.clockTimestamp;if(e>=d){if(a!=="stalling"){d=o(c,"heartbeat");n({event:d,state:c})}f.nextHeartbeatTime=e+h}}return b}function H(e,g,h){e=babelHelpers["extends"]({},d.coreVideoPlayerMetaData.loggingToSNAPLAdditionalData,{},l);var i=f.lastLoggedTagMetadata,j=(h=a.metadataProvider)==null?void 0:h.getTagMetadata({logDataAdditions:e,loggingMetaData:d,state:g});if(j&&JSON.stringify(j)!==JSON.stringify(i)){var k={};Object.keys(j).forEach(function(a){if(j[a]!==i[a]){var b;k=babelHelpers["extends"]({},k,(b={},b[a]=j[a],b))}});var m=Object.values(c("MediaPlaybackTagMetadataHighFrequencyCategory"));h=Object.keys(k).every(function(a){return m.includes(a)});if(h)return b;e=babelHelpers["extends"]({},o(g,"tags_changed"),{tag_metadata:k});n({event:e,state:g});f.lastLoggedTagMetadata=babelHelpers["extends"]({},i,{},j)}return b}return{consumeLoggerEvents:function(){return e.length>0?e.splice(0):[]},handleStateMachine:function(a,b,c){p(c);var d=b.controlledState.playbackState,e=[H,v,w,y,E,F,z,q,A,B,C,D,G];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1)},setLoggingToSNAPLAdditionalData:function(a){Object.assign(l,a)}}}g.HEARTBEAT_INTERVAL=h;g.createMediaPlaybackCompoundEventStateMachineLogger=a}),98);
__d("MediaPlaybackLogFlusher",["MediaPlaybackCompoundEventLogger","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){a.required_metadata.tracking_type==="paid"?c("MediaPlaybackCompoundEventLogger").logCometImmediately(a):c("MediaPlaybackCompoundEventLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b}),98);
__d("Mp4Box",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$4=a.getCursor(),this.$1=a.readUint32(),this.$2=a.readChars(4),this.$1===1?this.$1=a.readUint64():this.$1===0&&(this.$1=a.getDataView().byteLength-this.$4),this.$2==="uuid"&&(this.$3=a.readChars(16)),this.$5=a.getCursor()}var b=a.prototype;b.getBodyStart=function(){return this.$5};b.getBodySize=function(){var a=this.$5-this.$4;return this.getSize()-a};b.getSize=function(){return this.$1};b.getType=function(){return this.$2};b.getUuid=function(){return this.$3};b.getStart=function(){return this.$4};b.inspect=function(){return"{ size: "+this.$1+", type: "+this.$2+" }"};return a}();f["default"]=a}),66);
__d("Mp4DASHEventMessageBox",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=b,this.$2=null,b.getVersion()==0?this.$2={version:0,schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b)),timescale:a.readUint32(),presentationTimeDelta:a.readUint32(),eventDuration:a.readUint32(),id:a.readUint32()}:b.getVersion()==1&&(this.$2={version:1,timescale:a.readUint32(),presentationTime:a.readUint64(),eventDuration:a.readUint32(),id:a.readUint32(),schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b))}),this.$3=new DataView(a.getDataView().buffer,a.getCursor())}var b=a.prototype;b.getFullBox=function(){return this.$1};b.getEmsgFields=function(){return this.$2};b.getMessageData=function(){return this.$3};b.getStartTime=function(){var a=this.$2;if(a==null)return null;switch(a.version){case 0:return null;case 1:return this.$5(a)}};b.getDuration=function(){var a=this.$2;if(a==null)return null;var b=a.eventDuration;a=a.timescale;return a!==0?b/a:b};b.$5=function(a){var b=a.timescale;a=a.presentationTime;return b!==0?a/b:a};b.$4=function(a,b){return b.getBox().getSize()-(a.getCursor()-b.getBox().getStart())};return a}();a.canonicalType="emsg";f["default"]=a}),66);
__d("Mp4FullBox",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a.readUint8(),this.$1=a.readUint8(),this.$1=a.readUint8()+(this.$1<<8),this.$1=a.readUint8()+(this.$1<<8),this.$3=b}var b=a.prototype;b.getVersion=function(){return this.$2};b.getFlags=function(){return this.$1};b.getBox=function(){return this.$3};return a}();f["default"]=a}),66);
__d("Mp4Demuxer",["DataViewReader","Mp4Box","Mp4FullBox"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(c("DataViewReader"))(a)}var b=a.prototype;b.parseBox=function(){return new(c("Mp4Box"))(this.$1)};b.parseFullBox=function(a){return new(c("Mp4FullBox"))(this.$1,a)};b.parseCanonicalBox=function(a,b){return new a(this.$1,b)};b.skipBox=function(a){this.$1.seek(a.getStart()+a.getSize())};b.withinBox=function(a){var b=this.$1.getCursor();return b>=a.getStart()&&b<a.getStart()+a.getSize()};b.atEnd=function(){return this.$1.getCursor()>=this.$1.getDataView().byteLength};b.reset=function(){this.$1.seek(0)};b.readBoxBodyText=function(a){this.$1.seek(a.getBodyStart());var b=new TextDecoder();a=new Uint8Array(this.$1.readBytes(a.getBodySize()));return b.decode(a)};return a}();g["default"]=a}),98);
__d("PolarisCountryCallingCodes",[],(function(a,b,c,d,e,f){"use strict";a=new Map([["AC","247"],["AD","376"],["AE","971"],["AF","93"],["AG","1"],["AI","1"],["AL","355"],["AM","374"],["AO","244"],["AR","54"],["AS","1"],["AT","43"],["AU","61"],["AW","297"],["AX","358"],["AZ","994"],["BA","387"],["BB","1"],["BD","880"],["BE","32"],["BF","226"],["BG","359"],["BH","973"],["BI","257"],["BJ","229"],["BL","590"],["BM","1"],["BN","673"],["BO","591"],["BQ","599"],["BR","55"],["BS","1"],["BT","975"],["BW","267"],["BY","375"],["BZ","501"],["CA","1"],["CC","61"],["CD","243"],["CF","236"],["CG","242"],["CH","41"],["CI","225"],["CK","682"],["CL","56"],["CM","237"],["CN","86"],["CO","57"],["CR","506"],["CU","53"],["CV","238"],["CW","599"],["CX","61"],["CY","357"],["CZ","420"],["DE","49"],["DJ","253"],["DK","45"],["DM","1"],["DO","1"],["DZ","213"],["EC","593"],["EE","372"],["EG","20"],["EH","212"],["ER","291"],["ES","34"],["ET","251"],["FI","358"],["FJ","679"],["FK","500"],["FM","691"],["FO","298"],["FR","33"],["GA","241"],["GB","44"],["GD","1"],["GE","995"],["GF","594"],["GG","44"],["GH","233"],["GI","350"],["GL","299"],["GM","220"],["GN","224"],["GP","590"],["GQ","240"],["GR","30"],["GT","502"],["GU","1"],["GW","245"],["GY","592"],["HK","852"],["HN","504"],["HR","385"],["HT","509"],["HU","36"],["ID","62"],["IE","353"],["IL","972"],["IM","44"],["IN","91"],["IO","246"],["IQ","964"],["IR","98"],["IS","354"],["IT","39"],["JE","44"],["JM","1"],["JO","962"],["JP","81"],["KE","254"],["KG","996"],["KH","855"],["KI","686"],["KM","269"],["KN","1"],["KP","850"],["KR","82"],["KW","965"],["KY","1"],["KZ","7"],["LA","856"],["LB","961"],["LC","1"],["LI","423"],["LK","94"],["LR","231"],["LS","266"],["LT","370"],["LU","352"],["LV","371"],["LY","218"],["MA","212"],["MC","377"],["MD","373"],["ME","382"],["MF","590"],["MG","261"],["MH","692"],["MK","389"],["ML","223"],["MM","95"],["MN","976"],["MO","853"],["MP","1"],["MQ","596"],["MR","222"],["MS","1"],["MT","356"],["MU","230"],["MV","960"],["MW","265"],["MX","52"],["MY","60"],["MZ","258"],["NA","264"],["NC","687"],["NE","227"],["NF","672"],["NG","234"],["NI","505"],["NL","31"],["NO","47"],["NP","977"],["NR","674"],["NU","683"],["NZ","64"],["OM","968"],["PA","507"],["PE","51"],["PF","689"],["PG","675"],["PH","63"],["PK","92"],["PL","48"],["PM","508"],["PR","1"],["PS","970"],["PT","351"],["PW","680"],["PY","595"],["QA","974"],["RE","262"],["RO","40"],["RS","381"],["RU","7"],["RW","250"],["SA","966"],["SB","677"],["SC","248"],["SD","249"],["SE","46"],["SG","65"],["SH","290"],["SI","386"],["SJ","47"],["SK","421"],["SL","232"],["SM","378"],["SN","221"],["SO","252"],["SR","597"],["SS","211"],["ST","239"],["SV","503"],["SX","1"],["SY","963"],["SZ","268"],["TA","290"],["TC","1"],["TD","235"],["TG","228"],["TH","66"],["TJ","992"],["TK","690"],["TL","670"],["TM","993"],["TN","216"],["TO","676"],["TR","90"],["TT","1"],["TV","688"],["TW","886"],["TZ","255"],["UA","380"],["UG","256"],["US","1"],["UY","598"],["UZ","998"],["VA","379"],["VC","1"],["VE","58"],["VG","1"],["VI","1"],["VN","84"],["VU","678"],["WF","681"],["WS","685"],["YE","967"],["YT","262"],["ZA","27"],["ZM","260"],["ZW","263"]]);b=a;f["default"]=b}),66);
__d("PolarisCountryCodeUtils",["PolarisConfig","PolarisCountryCallingCodes","memoize"],(function(a,b,c,d,e,f,g){"use strict";e=c("memoize")(function(){var a=d("PolarisConfig").getCountryCode()==="internal"?"US":d("PolarisConfig").getCountryCode(),b=c("PolarisCountryCallingCodes").get(a!=null?a:"");return a!=null&&b!=null?{code:a,phoneCode:b}:null});function a(a){var b=c("PolarisCountryCallingCodes").get(a||"");return a!=null&&b!=null?{code:a,phoneCode:b}:{code:"US",phoneCode:"1"}}function b(a){return a.code+" +"+a.phoneCode}g.getInitialCountryCode=e;g.countryCodeFromCode=a;g.stringFromCountryCode=b}),98);
__d("PolarisIGCorePhoneNumberInput.react",["cx","fbt","IGCoreModal.react","IGDSBox.react","IGDSDivider.react","IGDSText.react","ISOCountryCode","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton.react","PolarisIGCoreIconButton.react","PolarisIGCoreModalHeader.react","PolarisIGCoreTextInput.react","PolarisIGVirtualList.react","memoizeWithArgs","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("memoizeWithArgs")(function(a,b,d){return Array.from(b.entries()).filter(function(b){var e=b[0];b[1];b=d[c("ISOCountryCode")[e]];if(!b)return!1;if(a==="")return!0;if(e.toUpperCase().includes(a))return!0;return b.toUpperCase().includes(a)?!0:!1})},function(a){return a}),m=k.memo(function(a){return k.jsx(c("PolarisIGCoreBox"),{dangerouslySetClassName:a.isFirst?void 0:{__className:"_aa89"},height:n,marginEnd:4,marginStart:4,children:k.jsx("button",{className:"_aa8a",onClick:a.onChangeCountryCode,type:"button",children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[k.jsx(c("IGDSText.react"),{children:a.countryName}),k.jsx(c("IGDSText.react"),{color:"secondaryText",children:"+"+a.phoneCode})]})})})}),n=54;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={filterText:"",showCountryCodeSelector:!1},b.$1=function(a){var c=b.props.onBlur;c&&c(a)},b.$2=function(a){var c=b.props.onFocus;c&&c(a)},b.$3=function(a){var c=b.props.onFocusCountryCode;c&&c(a)},b.onCloseModal=function(){b.setState({showCountryCodeSelector:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.displayPhoneCode=function(a){return a==null?"":a.code+" +"+a.phoneCode};e.getListOption=function(a){var b=this;return function(d){d=d.index;var e=a[d],f=e[0],g=e[1];return k.jsx(m,{countryCodeValue:f,countryName:b.props.countryNamesMap[c("ISOCountryCode")[f]],isFirst:d===0,onChangeCountryCode:function(){b.props.onChangeCountryCode({code:f,phoneCode:g}),b.onCloseModal()},phoneCode:g},f)}};e.render=function(){var a=this,b=this.props,e=b["aria-describedby"],f=b["aria-label"],g=b["aria-labelledby"],h=b.backgroundColor,j=b.disabled,m=b.endAdornment,o=b.hasError,p=b.maxLength,q=b.onChange,r=b.onKeyDown,s=b.placeholder,t=b.readOnly,u=b.required,v=b.style;b=b.value;var w=k.jsx("div",{className:"_aa8b",children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",onClick:function(){return a.setState({showCountryCodeSelector:!0})},children:k.jsx(c("IGDSText.react"),{color:"primaryButton",weight:"semibold",zeroMargin:!0,children:this.displayPhoneCode(this.props.countryCode)})})}),x=l(this.state.filterText.toUpperCase(),this.props.countryCodesMap,this.props.countryNamesMap),y=i._(/*BTDS*/"Seleccionar pa\u00eds");return k.jsxs(k.Fragment,{children:[this.state.showCountryCodeSelector&&k.jsxs(c("IGCoreModal.react"),{"aria-label":y,dangerouslySetClassName:{__className:"_aa8c"},onClose:this.onCloseModal,size:"large",children:[" ",k.jsx(c("PolarisIGCoreModalHeader.react"),{onClose:this.onCloseModal,children:y}),k.jsxs(c("IGDSBox.react"),{position:"relative",children:[k.jsx(c("IGDSBox.react"),{marginEnd:2,marginStart:2,position:"relative",children:k.jsx(c("PolarisIGCoreTextInput.react"),{backgroundColor:"transparent",name:"filter",onChange:function(b){return a.setState({filterText:b.target.value})},onFocus:this.$3,placeholder:i._(/*BTDS*/"Nombre o prefijo del pa\u00eds"),startAdornment:k.jsx(c("PolarisIGCoreIconButton.react"),{alt:d("PolarisGenericStrings").SEARCH_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.SEARCH_OUTLINE_24_GREY9}),style:"borderless",type:"search",value:this.state.filterText})}),k.jsx(c("IGDSDivider.react"),{}),k.jsx(c("PolarisIGVirtualList.react"),{className:"_aa8d",containerSize:"auto",estimatedItemSize:n,itemCount:x.length,renderer:this.getListOption(x)})]})]}),k.jsx(c("PolarisIGCoreTextInput.react"),{"aria-describedby":e,"aria-label":f,"aria-labelledby":g,autoComplete:"tel",backgroundColor:h,dangerouslySetClassName:{__className:"_aa8e"},disabled:j,endAdornment:m,hasError:o,maxLength:p,name:"phone",onBlur:this.$1,onChange:q,onFocus:this.$2,onKeyDown:r,placeholder:s,readOnly:t,required:u,startAdornment:w,style:v,type:"tel",value:b})]})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisPhoneCommonStrings",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");c=h._(/*BTDS*/"A\u00f1ade un n\u00famero de tel\u00e9fono");e=h._(/*BTDS*/"Es posible que recibas actualizaciones de Instagram por SMS. Puedes desactivarlas cuando quieras.");f=h._(/*BTDS*/"N\u00famero de tel\u00e9fono");d=h._(/*BTDS*/"Si a\u00f1ades tu n\u00famero, podr\u00e1s entrar m\u00e1s f\u00e1cilmente, recuperar tu cuenta y encontrar personas a las que seguir.");var j=h._(/*BTDS*/"Cambiar"),k=h._(/*BTDS*/"\u00bfNo has introducido el n\u00famero de tel\u00e9fono correcto?"),l=h._(/*BTDS*/"Listo"),m=h._(/*BTDS*/"Introduce el c\u00f3digo de confirmaci\u00f3n"),n=h._(/*BTDS*/"C\u00f3digo de confirmaci\u00f3n");function a(a){return h._(/*BTDS*/"Introduce el c\u00f3digo de confirmaci\u00f3n que hemos enviado al {phoneNumber}.",[h._param("phoneNumber",a)])}function b(a){return h._(/*BTDS*/"Si no lo has recibido, podemos {resendCode}.",[h._param("resendCode",a)])}g.ADD_PHONE_NUMBER_LABEL=c;g.PHONE_NUMBER_CAPTION=e;g.PHONE_NUMBER_LABEL=f;g.PHONE_NUMBER_VALUE_PROP=d;g.CONFIRMATION_CODE_CHANGE_CODE=j;g.CONFIRMATION_CODE_CHANGE_CODE_QUESTION=k;g.CONFIRMATION_CODE_DONE=l;g.ENTER_CONFIRMATION_CODE_LABEL=m;g.CONFIRMATION_CODE_TITLE=n;g.confirmationCodeBodyText=a;g.confirmationCodeResendCode=b}),226);
__d("PolarisPhoneNumberCountryCodeInput.react",["CountryNames","PolarisCountryCallingCodes","PolarisIGCorePhoneNumberInput.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("PolarisIGCorePhoneNumberInput.react"),babelHelpers["extends"]({countryCodesMap:c("PolarisCountryCallingCodes"),countryNamesMap:c("CountryNames")},a)),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisVideoHelpers",["PolarisMediaTypes","PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.dashInfo==null)return null;a=a.dashInfo;var b=a.is_dash_eligible,c=a.number_of_qualities;a=a.video_dash_manifest;return!b||a==null?null:{isDashEligible:b,numberOfQualities:c,videoDashManifest:a}}function h(a,b){return(a=a.videoResources)==null?void 0:a.find(function(a){return a.type===b})}function b(a){var b;return(b=(b=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_480_HIGH))==null?void 0:b.src)!=null?b:(b=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_480_LOW))==null?void 0:b.src}function c(a){return(a=h(a,d("PolarisMediaTypes").MediaVersionType.VIDEO_640_HIGH))==null?void 0:a.src}function e(a,b){return{autoplayGatingResult:"unknown",autoplaySetting:a===!0?"default_autoplay":"off",canAutoplay:a===!0||b===!0?"allow":"deny"}}function f(a,b){if(a==null)return 100;a=d("PolarisSizing").getHeightPercent(a);return b?Math.min(a,d("PolarisSizing").CAPPED_HEIGHT_PERCENT):a}g.getDashInfoFromPost=a;g.getSDVideoSrcFromPost=b;g.getHDVideoSrcFromPost=c;g.getVideoPlayerAutoplayProps=e;g.getVideoPaddingPercentFromDimensions=f}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzErrorUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={error:null},b.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var e=b.prototype;e.componentDidCatch=function(a,b){b=b.componentStack;var e=c("getErrorSafe")(a);e.componentStack=b;b=this.props;var f=b.description,g=b.onError;b=b.project;a=d("oz-player/utils/OzErrorUtils").isOzError(a)?a.getType():a!=null&&typeof a.name==="string"?a.name:e.name;e.name=a;a="VideoPlayerErrorBoundary caught an "+a;f!=null&&(a=a+" ("+f+")");f=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var h=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha","OZ_DRM_MANAGER: Endpoint returned error: DEVICE_CERTIFICATE_REVOKED"];f=f.every(function(a){return e.name!==a})&&h.every(function(a){return!e.message.startsWith(a)});h=c("FBLogger")(b==null?"comet_video_player":b).catching(e);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(e.name)&&(h=h.addToCategoryKey(e.message));f?h.fatal(a):h.warn(a);g!=null&&g(e)};e.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("VideoPlayerSurface.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");function a(a){a=a.children;return a!=null?a:null}a.displayName=a.name+" [from "+f.id+"]";c=b.memo(a);g["default"]=c}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("VideoPlayerIMFMetadataContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j={imfExpectedFromEmsg:!1,specInlineJson:null},k=b.createContext(j);k.displayName="VideoPlayerIMFMetadataContext";e=k.Provider;function a(){var a=i(k);if(a===j)throw c("unrecoverableViolation")("useVideoPlayerIMFMetadata is not called from a component nested under VideoPlayerRelay/VideoPlayerX.","comet_video_player");return a}g.VideoPlayerIMFMetadataContextProvider=e;g.useVideoPlayerIMFMetadataFromContext=a}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:13141","cr:913","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useId;function a(){var a=(i||(i=d("VideoPlayerHooks"))).usePlaying(),b=k();j(function(){if(a){d("WebSessionExtender").subscribe(b,"video");return function(){d("WebSessionExtender").unsubscribe(b)}}},[a,b]);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).useStalling(),b=h.useStreamInterrupted(),c=h.useIsLiveRewindActive();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","once","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),l=c("once")(function(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{})})});function a(){var a=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),b=a.loadingIndicatorType;a=a.spinnerVisible;a=i.jsx(j,{isVisible:a});var d=null;switch(b){case"spinner":d=a;break;case"live_video_interrupted_overlay":d=l();break;case"none":default:d=a}return{loadingIndicatorElement:d,loadingIndicatorType:b}}g["default"]=a}),98);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}if(a.playing){if(this.$2==null){a=this.$3.getPlayheadPosition();a>=0&&(this.$2=a)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.setterHook;e=d("createVideoStateHook").createVideoStateHook(null);var l=e.setterHook;f=e.valueHook;function a(a){var b=a.disableSubscription,e=a.playerFormat,f=a.subOrigin,g=a.videoFBID,h=(i||(i=d("VideoPlayerHooks"))).useIsLive(),m=i.useIsFullscreen(),n=i.useIsDesktopPictureInPicture(),o=i.useController(),p=k(),q=l();j(function(){if(b===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:g,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(g,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:n,isFullscreen:m},e),f,o,h,function(a){q(a)});p(a);return function(){a.destroy()}},[n,m,h,b,e,q,p,f,o,g])}b=f;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=b}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.children,f=a.disableCVCSubscription,g=a.disableLoadingIndicator;g=g===void 0?!1:g;var h=a.disableLogging,j=a.instreamVideoAdBreaksPlayer,k=a.playerFormat,l=a.subOrigin,m=a.videoFBID,n=a.videoPlayerIMFFromVideoMetadata;a=a.videoPlayerSpherical;d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:h===!0||f===!0,playerFormat:k,subOrigin:l,videoFBID:m});h=c("useVideoPlayerDefaultLoadingIndicators")();f=h.loadingIndicatorElement;return i.jsxs(d("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:n!=null?n:null,children:[a,g?null:f,c("gkx")("24328")?i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,i.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[e,j]}),i.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),i.jsx(c("CoreVideoPlayerAudioClient.react"),{}),b("cr:1954434")?i.jsx(b("cr:1954434"),{}):null,b("cr:99")?i.jsx(b("cr:99"),{subOrigin:l}):null,i.jsx(c("VideoPlayerWebSessionExtender.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,g=a.portalingEnabled,h=a.portalingFromVideoID,j=a.portalingPlaceMetaData,k=a.portalingRenderPlaceholder,l=a.videoPlayerIMFFromVideoMetadata,m=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical"]);var n=c("usePlayerOriginRouteTracePolicy")(),o=c("useRouteProductAttribution")();o||(o=a.productAttribution);var p=a.loopCount,q=a.playerFormat,r=a.subOrigin,s=a.videoFBID;p=c("normalizeVideoPlayerLoopCount")(p);return i.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:p,portalingEnabled:g,portalingFromVideoID:h,portalingPlaceMetaData:j,portalingRenderPlaceholder:k,productAttribution:o,routeTracePolicy:n,children:i.jsx(c("VideoPlayerXImplSurface.react"),{children:b,disableCVCSubscription:a.loggingConfig.disableCVCSubscription,disableLoadingIndicator:d,disableLogging:a.loggingConfig.disableLogging,instreamVideoAdBreaksPlayer:f,playerFormat:q,subOrigin:r,videoFBID:s,videoPlayerIMFFromVideoMetadata:l,videoPlayerSpherical:m})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","FDSText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=c("gkx")("20836")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";return j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:j.jsx(c("CometLink.react"),{href:a,target:"_blank",children:h._(/*BTDS*/"M\u00e1s informaci\u00f3n")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["FDSText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var d=a.background,e=a.debugError,f=a.message,g=a.showDebugWithoutError;g=g===void 0?!0:g;a=a.showLearnMoreLink;a=a===void 0?!0:a;return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x2vl965 x1a8lsjc xe2zdcy x1n2onr6 xh8yej3"},{children:[i.jsxs("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox"},1:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox x1vjfegm"}}[!!(d!=null)<<0],{children:[i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w"},{children:i.jsx(c("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:f})})),a&&i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w"},{children:i.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})})),(e!=null||g)&&i.jsxs(i.Fragment,{children:[b("cr:4149")?i.jsx(b("cr:4149"),{error:e}):null,b("cr:1672302")?i.jsx(b("cr:1672302"),{error:e}):null]})]})),d!=null&&i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy"},{children:d}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.background,d=a.debugError,e=a.message,f=a.showDebugWithoutError;a=a.showLearnMoreLink;e=e!=null?e:h._(/*BTDS*/"Tenemos problemas para reproducir este v\u00eddeo.");return j.jsx(c("VideoPlayerFallbackCoverImplWithoutRetry.react"),{background:b,debugError:d,message:e,showDebugWithoutError:f,showLearnMoreLink:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return c("gkx")("24345")&&a.message.toLowerCase().indexOf("audio_renderer_error")>=0}function j(a){return a.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function k(a){return a.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||a.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function l(a){return a.name==="OZ_NETWORK"&&a.message.includes("CDN URL expired")}function a(a){var b=null;i(a)?b=h._(/*BTDS*/"Error al renderizar el audio: reinicia el ordenador."):j(a)?b=h._(/*BTDS*/"Este v\u00eddeo est\u00e1 protegido por DRM, pero parece que se ha recovado el certificado de tu dispositivo. Aseg\u00farate de que tu navegador est\u00e1 actualizado y vuelve a intentarlo."):k(a)?b=h._(/*BTDS*/"Este v\u00eddeo no se puede reproducir en el navegador, el sistema operativo o el hardware que est\u00e1s usando."):l(a)&&(b=h._(/*BTDS*/"El contenido de este v\u00eddeo no est\u00e1 disponible en este momento."));return b}g["default"]=a}),226);
__d("defaultErrorBoundaryFallback",["VideoPlayerFallbackCover.react","getVideoPlayerUserFacingErrorMessageFromError","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=c("getVideoPlayerUserFacingErrorMessageFromError")(a);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerX.react",["VideoPlayerErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=i.jsx(c("VideoPlayerXImpl.react"),babelHelpers["extends"]({VideoPlayerShakaPerformanceLoggerClass:null},a));return b?a:i.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerX",fallback:d!=null?d:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null&&b!=null&&a!==0&&b!==0?a/b:null}f["default"]=a}),66);
__d("usePolarisLOXLogExposureViaGraphQL",["CometRelay","fetchPolarisLoggedOutExperiment","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(4),f=d("CometRelay").useRelayEnvironment(),g=j(!1),h;e[0]!==b||e[1]!==f||e[2]!==a?(h=function(){!g.current&&a&&c("promiseDone")(c("fetchPolarisLoggedOutExperiment")(f,b)["finally"](function(){g.current=!0}))},e[0]=b,e[1]=f,e[2]=a,e[3]=h):h=e[3];i(h,void 0)}g["default"]=a}),98);
__d("usePolarisGetDashInfo",["PolarisConfig","PolarisRoutePropUtils","PolarisVideoUA","qex","react","react-compiler-runtime","usePolarisLOXLogExposureViaGraphQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function j(a){return a==null?!1:d("PolarisVideoUA").doesPlatformSupportDash()}function a(a){var b=d("react-compiler-runtime").c(5),e;b[0]!==a?(e=j(a),b[0]=a,b[1]=e):e=b[1];e=e;var f=i(d("PolarisRoutePropUtils").PolarisRoutePropContext);f=f==null?void 0:f.routePropQE.getBool("is_ios_video_dash_enabled");var g;b[2]!==e?(g=d("PolarisConfig").isLoggedOutUserMobile()&&e,b[2]=e,b[3]=g):g=b[3];var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={name:"ig_mweb_dash_video_playback_universe",param:"is_dash_disabled"},b[4]=h):h=b[4];c("usePolarisLOXLogExposureViaGraphQL")(g,h);if(!e)return null;if(d("PolarisConfig").isLoggedOutUserMobile()&&d("PolarisVideoUA").isIOSMMSESupportedBrowser()&&!f)return null;return d("PolarisConfig").isLoggedOutUserMobile()&&((b=c("qex")._("4664"))!=null?b:!1)?null:a}g["default"]=a}),98);
__d("VideoPlayerProgressiveImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return/\.mpd(\?|$)/.test(a)}function a(a){var b=a.hdSrc,d=a.hdSrcPreferred;a=a.sdSrc;if(b==null&&a==null){var e=c("err")("Both HD and SD browser-native URLs are not available");e.name="GotNoBrowserNativeURLs";return e}if(a==null){e=c("err")("Browser-native SD URL is not available");e.name="GotNoBrowserNativeSDURL";return e}e=h(a);var f=b!=null&&h(b);if(e||f){e=c("err")("HD or SD browser-native URL points to a DASH manifest");e.name="GotBrowserNativeURLsPointToDASH";return e}return{hdSrc:b,hdSrcPreferred:d,sdSrc:a}}g.makeProgressiveImplementationData=a}),98);
__d("VideoLiveTrace",["DataViewReader","LiveTraceWwwVideoPlayerFalcoEvent","Mp4DASHEventMessageBox","Mp4Demuxer","throttle"],(function(a,b,c,d,e,f,g){var h="x-fb-video-livetrace-ids",i="x-fb-video-livetrace-parentsource",j="x-fb-video-livetrace-streamtype",k="x-fb-origin-hit",l="x-fb-edge-hit",m="PLY:WWW:",n=m+"DL:",o=m+"DIS:",p=1e3,q=/[\r\n]+/;a=function(){function a(a,b,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+b.substring(0,5);this.$3=m+a;this.$4=n+a;this.$5=o+a;this.$7=c("throttle")(function(a){return e.$8(a)},p)}var b=a.prototype;b.setStreamType=function(a){this.$2=a};b.$9=function(a,b,d,e,f,g){var h,i=this,j=Date.now(),k=(h=this.$2)!=null?h:0;c("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i.$1,stream_type:k,event_name:b,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};b.onUpdateStatus=function(a){this.$7(a)};b.$8=function(a){a=a.position*1e3;for(var b=this.$6.length-1;b>=0;b--){var c=this.$6[b];if(c.presentationTimestamp>a)continue;if(c.displayTimestamp==null)c.displayTimestamp=Date.now();else continue;this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};b.getAndFlushTracedFrames=function(){var a,b={currentTimeMs:Date.now(),streamId:this.$1},c={dl:[],dis:[]},d=[];this.$6.forEach(function(a){a.hasBeenFlushedAsDownloaded||(c.dl.push({id:a.traceId,timeMs:a.downloadTimestamp}),a.hasBeenFlushedAsDownloaded=!0),a.displayTimestamp!=null?c.dis.push({id:a.traceId,timeMs:a.displayTimestamp}):d.push(a)});this.$6=d;b[(a=this.$2)!=null?a:0]=c;return c.dl.length>0||c.dis.length>0?b:null};b.handleHeadersString=function(a,b){a=a.trim().split(q);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};b.handleHeaders=function(a,b){this.$10(this.$11(a),b)};b.handleHeadersAndBody=function(a,b,c){this.$12(this.$11(a),b,c)};b.$11=function(a){var b=[];for(a of a.entries())b.push(a);return b};b.$13=function(a){var b=Date.now(),d=new Map(),e=a.reduce(function(a,b){return a+b.byteLength},0),f=new Uint8Array(e),g=0;a.forEach(function(a){f.set(a,g),g+=a.byteLength});e=new(c("Mp4Demuxer"))(new DataView(f.buffer,f.byteOffset,f.byteLength));while(!e.atEnd()){a=e.parseBox();if(a.getType()===c("Mp4DASHEventMessageBox").canonicalType){var h=e.parseCanonicalBox(c("Mp4DASHEventMessageBox"),e.parseFullBox(a));if(h instanceof c("Mp4DASHEventMessageBox")){var i;i=(i=h.getEmsgFields())==null?void 0:i.schemeIdUri;if(i==null?void 0:i.startsWith("livedash:trace:")){i=h.getMessageData();h=new(c("DataViewReader"))(i).readZeroTerminatedString(i.byteLength);try{i=JSON.parse(h);Array.isArray(i)&&i.filter(function(a){return Array.isArray(a)&&a.length===2}).forEach(function(a){var c=a[0];a=a[1];d.set(c,{displayTimestamp:null,downloadTimestamp:b,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:c})})}catch(a){}}}}e.skipBox(a)}return d};b.$14=function(a,b){var c=this,d="null",e=Date.now(),f=new Map(),g="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===h&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.set(b,{displayTimestamp:null,downloadTimestamp:e,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:b})})}b===i&&(g=a);c.$2===null&&b===j&&(c.$2=parseInt(a,10));(b===k||b===l)&&parseInt(a,10)&&(d=b===k?"origin":"edge")});a=b||{};a.hit=d;return g!==""?{tracedFrames:f,eventMetaData:a,parentSource:g,streamType:this.$2}:null};b.$12=function(a,b,c){var d=this.$14(a,c);if(d==null||d.parentSource==="")return;if(b==null?void 0:b.length){a=this.$13(b);a.forEach(function(a,b){d.tracedFrames.set(b,a)})}this.$6=this.$6.concat(Array.from(d.tracedFrames.values()));c=d.tracedFrames.keys();for(b of c)this.$9(this.$4,"SEGMENT",b,d.parentSource,"SUCCESS",d.eventMetaData)};b.$10=function(a,b){this.$12(a,null,b)};b.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};b.getLiveTraceContext=function(){return this.$2!=null?{streamId:this.$1,streamType:this.$2,sourceId:this.$3}:null};return a}();g["default"]=a}),98);
__d("VideoPlayerWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1914651");b=d("FalcoLoggerInternal").create("video_player_www",a);e=b;g["default"]=e}),98);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c=a.logData.live_trace_stream_id!==null&&a.logData.live_trace_stream_type!==null;return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,client_latency_setting:a.logData.client_latency_setting,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,downstream_share_origin_uri:a.logData.downstream_share_origin_uri,downstream_share_start_time:a.logData.downstream_share_start_time,downstream_share_visit_uuid:a.logData.downstream_share_visit_uuid,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,fb_manifest_identifier:a.logData.fb_manifest_identifier,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,imf_emsg_id:a.logData.imf_emsg_id,imf_event_type:a.logData.imf_event_type,imf_topic:a.logData.imf_topic,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_preview:(b=a.logData.is_live_preview)!=null?b:!1,is_live_video_rewound:a.logData.is_live_video_rewound,is_mixed_codec_manifest:a.logData.is_mixed_codec_manifest,is_p2p_playback:a.logData.is_p2p_playback,is_pip:a.logData.is_pip,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:c?a.logData.live_trace_stream_id:null,live_trace_stream_type:c?a.logData.live_trace_stream_type:null,mpd_validation_errors:a.logData.mpd_validation_errors,network_connected:a.logData.network_connected,next_quality_label:a.logData.next_quality_label,next_representation_id:a.logData.next_representation_id,next_video_codecs:a.logData.next_video_codecs,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,offset_ms:a.logData.offset_ms!=null?String(a.logData.offset_ms):null,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,projection:a.logData.projection,quality_label:a.logData.quality_label,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,srt_job_id:a.logData.srt_job_id,srt_job_tracking_id:a.logData.srt_job_tracking_id,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_codecs:a.logData.video_codecs,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,vpts:a.logData.vpts,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b}),98);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction"),i=!1;c("gkx")("5551")&&(i=!0,h=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerBanzaiLogFlusher]"+b].concat(e))}catch(a){}});a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.flushLogs=function(){var a=this,b=this.$2.consumeLoggerEvents();b.forEach(function(b){var d,e={event:b.eventType,logData:b.logData,routeTracePolicy:b.routeTracePolicy,source:b.source_VPL_LOGGING_HACK};if(b.source_VPL_LOGGING_HACK==="animated_image_share"){i&&h(a.$1,"[flushLogs] "+b.eventType+" SKIP ANIMATED_IMAGE_SHARE",{videoPlayerLogData:e});return}d=(d=b.logData)==null?void 0:d.ad_client_token;i&&h(a.$1,"[flushLogs] "+b.eventType,{videoPlayerLogData:e});d!=null?c("VideoPlayerWwwLogger").logCometImmediately(b):c("VideoPlayerWwwLogger").logComet(b)})};b.discardLogsWithoutFlushing=function(){var a=this.$2.consumeLoggerEvents();i&&h(this.$1,"[discardLogsWithoutFlushing] "+a.map(function(a){return a.eventType}).join(","),a)};return a}();g["default"]=a}),98);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a}),98);
__d("VideoPlayerImplementationReactVideoElement.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a!=null?a:[];var b=a[0];a=a[1];if(b==null&&a==null)return null;var c="";if(typeof b==="string")c=b;else if(Array.isArray(b)){var d=b[0];b=b[1];c=d+" "+b}d="";if(typeof a==="string")d=a;else if(Array.isArray(a)){b=a[0];a=a[1];d=b+" "+a}return c+" "+d}function a(a){var b=a.alt,c=a.isSpatial;c=c===void 0?!1:c;var d=a.poster,e=a.seoSrc,f=a.seoWebCrawlerVideoTracks,g=a.videoElementCallbacks,h=a.videoElementPreloadDisabled,k=a.videoElementRefCallback;a=a.videoPixelsFit;e=e!=null?babelHelpers["extends"]({},g,{src:e}):g;g=j(a==null?void 0:a.objectPosition);return i.jsx("video",babelHelpers["extends"]({"aria-label":b!=null?b:void 0,className:"x1lliihq x5yr21d xh8yej3",controls:!1,"data-testid":void 0,muted:!0,playsInline:!0,preload:h===!0?"none":void 0},e,{poster:d,ref:k,style:c?{width:"200%"}:a?{objectFit:a.objectFit,objectPosition:g}:void 0,children:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerEmsgForStateMachine",["deepEquals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;return[a.type,a.emsgScheme,(c=a.emsgId)!=null?c:""].concat(b?[(c=a.emsgStartTimeInSec)!=null?c:"",(b=a.emsgDurationInSec)!=null?b:""]:[]).join(":")}function i(a,b){a.set(h(b,!0),b);return a}function a(a,b){return b.reduce(i,new Map(a))}function b(a,b,d){a=b==null?[]:Array.from(a.values()).filter(function(a){var c=a.emsgStartTimeInSec;a=a.emsgDurationInSec||0;return c!=null&&b>=c&&b<c+a}).sort(function(a,b){return(a.emsgStartTimeInSec||0)-(b.emsgStartTimeInSec||0)});a=Array.from(a.reduce(function(a,b){a.set(h(b,!1),b);return a},new Map()).values());return c("deepEquals")(d,a)?d:a}g.makeEmsgBoxDedupKey=h;g.makeUpdatedAllEmsgBoxes=a;g.makeUpdatedActiveEmsgBoxes=b}),98);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}f["default"]=a}),66);
__d("VideoPlayerImplementationErrors",["VideoPlayerImplementationErrorNormalization","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","getErrorSafe","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;a=/^([A-Z_]+:)|([A-Z_]+\s+\(0x[0-9A-Fa-f]+\))/.exec(a);a=((b=(b=a==null?void 0:a[1])!=null?b:a==null?void 0:a[2])!=null?b:"").replace(/\s+/,"_").replace(/[^A-Za-z0-9_]/g,"");return a!==""?a:null}function a(a){var b=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=c("getErrorMessageFromMediaErrorCode")(g));e=c("getErrorNameFromMediaErrorCode")(g);return{createdTimestamp:Date.now(),errorLocation:b,errorMessageFormat:((b=h)!=null?b:"Empty error")+("; code: "+(g!=null?g:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorMessageParams:[],errorName:e,originalError:d}}function b(a,b){var d=c("getErrorSafe")(a);return{createdTimestamp:Date.now(),errorCode:typeof a==="object"&&a!=null?typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0:void 0,errorLocation:b,errorMessageFormat:(a=d.messageFormat)!=null?a:d.message,errorMessageParams:d.messageFormat!=null?(b=d.messageParams)!=null?b:[]:[],errorName:"VideoElementPlayPromiseRejectionReason_"+(d.name||"UnknownError")}}function i(a,b,d,e){e===void 0&&(e=null);b=c("getErrorSafe")(b);return{createdTimestamp:Date.now(),errorCode:null,errorLocation:d,errorMessageFormat:(b.name||"UnknownError")+" "+((d=b.messageFormat)!=null?d:b.message),errorMessageParams:b.messageFormat!=null?(d=b.messageParams)!=null?d:[]:[],errorName:a,stack:b.stack,url:(d=e)!=null?d:null}}function e(a,b){if(d("oz-player/utils/OzErrorUtils").isOzError(a)){var c=a,e=c.getExtra();return{createdTimestamp:Date.now(),errorCode:e.code,errorLocation:b,errorMessageFormat:c.getDescription(),errorMessageParams:[],errorName:c.getType(),errorType:d("VideoPlayerImplementationErrorNormalization").getVideoPlayerNormalizedErrorTypeFromOzError(c),stack:c.stack,url:e.url}}else return i("OZ_JAVASCRIPT_NATIVE",a,b)}function f(a,b){var c=h(a.message);c=c!=null?a.name+"_"+c:a.name;a=a.message;var d=[];return{createdTimestamp:Date.now(),errorLocation:b,errorMessageFormat:a,errorMessageParams:d,errorName:c,errorType:"GenericDecodeError"}}g.getMoreGranularErrorNameFromHTMLVideoElementErrorMessage=h;g.createVideoPlayerErrorFromHTMLVideoElementError=a;g.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=b;g.createVideoPlayerErrorFromGenericError=i;g.createVideoPlayerErrorFromOzImplementationError=e;g.createVideoPlayerErrorFromOzImplementationVideoNodeError=f}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,c){d("Random").coinflip(c)&&(h||(h=d("ODS"))).bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a}),98);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerEmsgForStateMachine","VideoPlayerImplementationErrors","VideoPlayerODS","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel,ullIneligibilityReason:e.payload.ullIneligibilityReason});case"dom_event_loadedmetadata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadedmetadata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_loadeddata":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{clockMs:b.clockTimestamp,loadeddata:e.payload.domEventPerfTimestamp,perfMs:b.perfTimestamp})});case"dom_event_canplay":return babelHelpers["extends"]({},a,{domEventsLatestPerfMs:babelHelpers["extends"]({},a.domEventsLatestPerfMs,{canplay:e.payload.domEventPerfTimestamp,clockMs:b.clockTimestamp,perfMs:b.perfTimestamp})});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,k=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:k,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(a.allEmsgBoxes,b.videoElementPlayheadPosition,a.activeEmsgBoxes);if(a.waitingForDomTimeUpdateAfterSeeked){k=a.bufferingDetected;f=a.seeking;h=!1;var l=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,playbackState:i({bufferingDetected:k,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:g});case"dom_event_seeking":k=a.playbackState;l=k;switch(k){case"paused":case"ended":break;case"stalling":case"playing":l="stalling";break;default:k,c("recoverableViolation")("unexpected playbackState: "+k,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:l,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":f=a.bufferingDetected;h=a.waitingForDomPlaying;g=!1;k=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:f,prevPlaybackState:k,seeking:g,waitingForDomPlaying:h}),seeking:g,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":e.payload.videoElementError==null&&d("VideoPlayerODS").bumpEntityKey("comet_video_player","dom_event_error.error_is_nullish",14);return babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":if(a.hostCallPlayIDLast!==e.payload.hostCallPlayID)return a;if(c("gkx")("30214")){l=e.payload.playPromiseRejectionReason;return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null},!(l!=null&&l.name==="AbortError")&&a.playbackState==="stalling"?{playbackState:"paused",waitingForDomPlaying:!1}:{})}return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"dom_event_durationchange":if(c("gkx")("30214")){f=b.videoElementEnded===!0?"ended":b.videoElementPaused===!0?"paused":a.playbackState;if((a.playbackState==="stalling"||a.playbackState==="playing")&&f!==a.playbackState)return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:!1})}return a;case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":k=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:k,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_mounted":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_unmounted":return babelHelpers["extends"]({},a,{mountState:"unmounted"});case"implementation_onscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_offscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_offscreen"});case"implementation_video_node_unmounted":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_engine_initialized":g=(h=e.payload.streamingFormat)!=null?h:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:g});case"implementation_engine_qualities_changed":f=(l=e.payload.streamingFormat)!=null?l:a.streamingFormat;return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:f});case"implementation_engine_destroyed":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,hostCallPlayIDLast:null,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a);case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(k=b.videoElementPlayheadPosition)!=null?k:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_video_variant_requested":return babelHelpers["extends"]({},a,{selectedVideoVariant:e.payload.selectedVideoVariant});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_picture_in_picture_state_requested":return babelHelpers["extends"]({},a,{isDesktopPictureInPicture:e.payload.isInPictureInPictureMode});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(h=b.videoElementPlayheadPosition)!=null?h:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":g=a.playbackState;l=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":l="stalling";break;default:g;c("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}f=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:f,playbackState:l});case"buffering_end_requested":k=a.seeking;h=a.waitingForDomPlaying;g=!1;f=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:g,playbackState:i({bufferingDetected:g,prevPlaybackState:f,seeking:k,waitingForDomPlaying:h})});case"controller_set_captions_visible_requested":l=e.payload.captionsVisible;return a.captionsVisible===l?a:babelHelpers["extends"]({},a,{activeCaptions:l?a.activeCaptions:null,captionsLocale:l?a.captionsLocale:null,captionsVisible:l});case"controller_set_active_captions_requested":g=e.payload.activeCaptions;k=(f=g==null?void 0:g.rows)!=null?f:[];h=e.payload.captionsLocale;l=a.activeCaptions;var m=(f=l==null?void 0:l.rows)!=null?f:[];return m.length===k.length&&k.every(function(a,b){return m[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:g,captionsLocale:h});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":l=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===l?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:l});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_gone_before_start":return babelHelpers["extends"]({},a,{playbackState:"ended",streamEnded:!0,waitingForDomPlaying:!1});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":f=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:f});case"controller_set_is_live_rewind_active_requested":k=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:k});case"loop_count_change_requested":g=e.payload.loopCount;return g===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:g,loopCurrent:0});case"player_dimensions_changed":h=e.payload.dimensions;l=h.height;f=h.width;return f===a.dimensions.width&&l===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:l,width:f}});case"emsg_boxes_parsed":k=d("VideoPlayerEmsgForStateMachine").makeUpdatedAllEmsgBoxes(a.allEmsgBoxes,e.payload.emsgBoxes);g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(k,b.videoElementPlayheadPosition,a.activeEmsgBoxes);return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,allEmsgBoxes:k});case"register_emsg_observer":h=new Set(a.emsgObserverTokens);h.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:h});case"unregister_emsg_observer":l=new Set(a.emsgObserverTokens);l["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:l});default:return a}}function l(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=k(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var m,n;function o(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=b()}catch(a){m=!1,g=a}var p=h;o=l(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var p,q;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return o({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_canplay"}}),onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadeddata"}}),onLoadedMetadata:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_loadedmetadata"}}),onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=o;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b}),98);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_video_variant":b.setUserSelectedVideoVariant(d.payload.selectedVideoVariant);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;case"host_call_picture_in_picture":a.requestPictureInPicture();break;case"host_call_exit_picture_in_picture":a.exitPictureInPicture();break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_video_variant":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;case"host_call_picture_in_picture":d(a.type);break;case"host_call_exit_picture_in_picture":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"},{payload:{hostCallID:h(),reason:d,selectedVideoVariant:e.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a}),98);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}e="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),e);var h=a(g,c(30),e);c=a(g,c(31),e);var i=a(g,d(50),e);a=a(g,d(51),e);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};f["default"]=g}),66);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};f["default"]=c}),66);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a}),66);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","justknobx","mapObject","performanceAbsoluteNow","qex","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=6e4,k=(b=c("qex")._("1675"))!=null?b:0,l=1e3,m=null,n=function(a){var b;m=(b=m)!=null?b:document.createElement("video");return!("canPlayType"in m)?"":m.canPlayType(a)},o=c("emptyFunction"),p=c("emptyFunction"),q=c("emptyFunction"),r=c("emptyFunction"),s=!1;c("gkx")("5551")&&(s=!0,o=function(a,b){try{var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];(c=window.console).info.apply(c,["["+a+"][VideoPlayerImplementationStateMachineLogger]"+b].concat(e))}catch(a){}},p=function(a,b,c,d){o(a,"[handleMetaData]",{loggingMetaData:c,loggingMetaDataPrevious:b,trackedChanges:d})},q=function(a,b,c,d){o(a,"[handleStateMachine]",{prevState:b,state:c,action:d})},r=function(a,b,c){o(a,"[setAdditionalLogData]",{key:b,value:c})});var t=(e=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?e:!1;function u(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,inPlayStallCount200ms:0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedAudioRepresentation:null,lastTrackedVideoRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0,warningState:{eventsLoggedPerKey:new Map(),eventsLoggedTotal:0,eventsMaxLoggedPerKey:function(){try{return Math.max(0,c("justknobx")._("1831")||0)}catch(a){return 0}}(),eventsMaxLoggedTotal:function(){try{return Math.max(0,c("justknobx")._("1832")||0)}catch(a){return 0}}()}}}function v(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],m=u(),w=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function x(a){m.debugSubscribers.push(a);return function(){c("removeFromArray")(m.debugSubscribers,a)}}function y(a){m.debugSubscribers.forEach(function(b){return b(a)})}function z(a){var b=m.stallStartTimestamp;if(b>0){m.stallCount+=1;m.stallCountTotal+=1;m.hasPendingRequestedPlaying&&(m.startStallCountTotal+=1);a=a-b;b=a>200;m.stallDurationTotal+=a;m.stallDuration+=a;m.stallCount200ms+=b?1:0;m.inPlayStallCount200ms+=b&&!m.hasPendingRequestedPlaying?1:0;m.hasPendingRequestedPlaying&&(m.startStallDurationTotal+=a)}}function A(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=m.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":m.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":m.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function B(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?m.interruptStartTimestamp=c:a&&!b&&m.interruptStartTimestamp>0&&(m.interruptEndTimestamp=c,m.interruptCount+=1,m.interruptDuration+=m.interruptEndTimestamp-m.interruptStartTimestamp)}function C(a,b,c){var d=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var e=b.controlledState.playbackState;a!=="stalling"&&e==="stalling"&&(y("stall_start"),m.stallStartTimestamp=d);if(a==="stalling"&&e!=="stalling"){d=0;(c.type==="dom_event_playing"||c.type==="buffering_end_requested")&&c.payload.domEventPerfTimestamp!=null&&(d=Math.max(b.uncontrolledState.perfTimestamp-c.payload.domEventPerfTimestamp,0));z(b.uncontrolledState.clockTimestamp-d);m.stallStartTimestamp=0;y("stall_end")}}function D(a,b,c){if(m.interruptCount>0&&m.interruptDuration>0){a={interrupt_count:m.interruptCount,interrupt_time:m.interruptDuration};m.interruptCount=0;m.interruptDuration=0;m.interruptStartTimestamp=0;m.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function E(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:m.stallCount,stall_count_200_ms:m.stallCount200ms,stall_time:m.stallDuration};m.stallCount=0;m.stallCount200ms=0;m.stallDuration=0;m.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(m.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":z(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(z(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function F(a,b,c){a=b.controlledState.playbackState==="paused"&&a.controlledState.playbackState==="stalling";return c>0&&(b.controlledState.playbackState==="stalling"||a)}function G(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function H(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function I(a){switch(a){case"normal":return"normal";case"low":return"low";case"ultra-low":return"ultra_low";default:return null}}function J(){return{state:m.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function K(a){if((a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function L(f){var i,j=f.eventType,k=f.logDataOverrides,l=f.prevState,n=f.state;f=A(n,j);f=f.video_last_start_time_position;var p=E(l,n,j),q=p.stall_count,r=p.stall_count_200_ms;p=p.stall_time;var u=D(l,n,j),x=u.interrupt_count;u=u.interrupt_time;var y=G(a.videoLiveTraceRef,j),z=[],B=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;B&&z.push(B);B=j==="entered_fs"?!0:j==="exited_fs"?!1:m.lastLoggedFullscreenState;i=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(i=n.controlledState.isDesktopPictureInPicture)!=null?i:!1,isFullscreen:B},e.coreVideoPlayerMetaData.playerFormat);var C=n.uncontrolledState.viewabilityPercentage,J=Boolean(n.uncontrolledState.isFBIsLiveTemplated),L=Boolean(n.uncontrolledState.isFBWasLive),M=n.uncontrolledState.videoElementPlaybackRate;M=M==null||M===0?m.lastLoggedPlaybackSpeed:M;var N=a.initialLoggingMetaData.productAttribution;if(i==="watch_scroll"&&N&&N.v2){var O,P={0:babelHelpers["extends"]({},N["0"]),v2:[babelHelpers["extends"]({},N.v2[0])]};O=(O=e.productAttribution)==null?void 0:(O=O.v2)==null?void 0:O[0];if(O){var Q=P.v2[0];Q["class"]=O["class"];Q.scope_id=O.scope_id;Q.ts=O.ts}N=P}Q=null;O=null;Q=N!=null?d("CometProductAttribution").minifyProductAttributionV2(N):null;O=N!=null?K(N):null;P=F(l,n,p!=null?p:0);l={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:N!=null&&Object.prototype.hasOwnProperty.call(N,"0")?JSON.stringify({0:N["0"]}):null,attribution_id_v2:Q,attribution_id_v2_root:O,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:n.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(z),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:n.uncontrolledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:v(n,j),client_latency_setting:I(n.controlledState.latencyLevel),current_playback_speed:t?M:null,current_viewability_percentage:C,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return n.uncontrolledState.estimatedBandwidth}),downstream_share_origin_uri:(l=e.downstreamShareSignalTracking)==null?void 0:l.downstream_share_session_origin_uri,downstream_share_start_time:(N=e.downstreamShareSignalTracking)==null?void 0:N.downstream_share_session_start_time,downstream_share_visit_uuid:(Q=e.downstreamShareSignalTracking)==null?void 0:Q.downstream_share_session_id,dropped_frame_count:n.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,fb_manifest_identifier:n.uncontrolledState.manifestIdentifier,frame_events:y,interrupt_count:x,interrupt_time:u,is_abr_enabled:n.isAbrEnabled,is_fbms:n.uncontrolledState.isFBMS,is_live_video_rewound:n.controlledState.isLiveRewindActive,is_mixed_codec_manifest:n.uncontrolledState.isMixedCodecManifest,is_pip:n.controlledState.isDesktopPictureInPicture,is_predictive_playback:n.uncontrolledState.isPredictiveDash,is_sound_on:!n.controlledState.muted,is_stalling:P,is_templated_manifest:J||L,last_viewability_percentage:m.lastLoggedViewabilityPercentage,mpd_validation_errors:n.uncontrolledState.mpdValidationErrors,network_connected:n.uncontrolledState.networkConnected,playback_caption_format:n.controlledState.captionFormat,playback_caption_locale:n.controlledState.captionsLocale,playback_duration:n.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:i,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:H(n),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:n.playerVersion,projection:n.uncontrolledState.videoProjection,representation_id:n.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:q,stall_count_200_ms:r,stall_time:p,streaming_format:n.controlledState.streamingFormat,total_frame_count:n.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("24377")&&j==="heart_beat"?!0:null,video_bandwidth:n.uncontrolledState.estimatedBandwidth,video_buffer_end_position:n.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:n.controlledState.lastPlayReason,video_player_height:(O=e.dimensions)==null?void 0:O.height,video_player_width:(z=e.dimensions)==null?void 0:z.width,video_time_position:n.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};N=w.has(j)?++m.sequenceNumber:null;Q={event_seq_num:++m.vplEventSequenceNumber,seq_num:N,time_ms:Date.now(),vpts:(h||(h=c("performanceAbsoluteNow")))()};var R={};b.forEach(function(a,b){R[b]=a});y=e.coreVideoPlayerMetaData.loggingToVPLAdditionalData;x=babelHelpers["extends"]({},y,{},R);u=babelHelpers["extends"]({},x,{},l,{},k,{},Q);J=(P=m.initialSuborigin)!=null?P:e.coreVideoPlayerMetaData.subOrigin;i=(L=u.source_VPL_LOGGING_HACK)!=null?L:J;r=(q=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?q:e.coreVideoPlayerMetaData.routeTracePolicy;p={eventType:j,logData:u,routeTracePolicy:r,source_VPL_LOGGING_HACK:i};g.push(p);m.initialSuborigin==null&&J!=null&&(m.initialSuborigin=J);m.lastLoggedFullscreenState=B;m.lastLoggedPlaybackSpeed=M;j==="viewability_changed"&&(m.lastLoggedViewabilityPercentage=C);s&&o(a.debugLogId,"[_push] "+j,{loggedEvent:p,loggerEventsLength:g.length,loggingState:JSON.stringify(m)})}var M={};function N(a,b,c){L({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,{},J()),prevState:a,state:b});m.hasPendingRequestedPlaying=!0;m.canLogPausedOrFinishedPlaying=!0;return M}function O(a,b,c){if(!m.canLogPausedOrFinishedPlaying)return M;else if(m.hasPendingRequestedPlaying){P(a,b,c);m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return M}else{L({eventType:"paused",logDataOverrides:babelHelpers["extends"]({},c,{error_user_info:JSON.stringify({is_document_hidden:b.uncontrolledState.isDocumentHidden})}),prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;m.hasPendingRequestedPlaying=!1;return M}}function P(a,b,c){var d=b.uncontrolledState.liveTraceContext;c=babelHelpers["extends"]({},c,{},J(),{live_trace_source_id:d?d.sourceId:void 0,live_trace_stream_id:d?d.streamId:void 0,live_trace_stream_type:d?d.streamType:void 0});L({eventType:"cancelled_requested_playing",logDataOverrides:c,prevState:a,state:b});return M}function Q(a,b,d){if(d.type==="dom_event_play_promise_rejected"&&d.payload.hostCallPlayID===a.controlledState.hostCallPlayIDLast&&b.controlledState.hostCallPlayIDLast==null&&m.hasPendingRequestedPlaying){d=d.payload.playPromiseRejectionReason;if(d!=null&&d.name==="NotAllowedError"){P(a,b,{debug_reason:"not_allowed"});return M}else if(!c("gkx")("30214")&&d!=null&&d.name==="AbortError"){P(a,b,{debug_reason:"aborted"});return M}else return M}else return M}function R(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!m.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;N(a,b,c);return M}else return M}function S(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&m.canLogPlayingEvent){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;L({eventType:m.hasLoggedStartedPlaying?"unpaused":"started_playing",logDataOverrides:c,prevState:a,state:b});m.hasLoggedStartedPlaying=!0;m.canLogPlayingEvent=!1;m.hasPendingRequestedPlaying=!1;return M}else return M}function T(a,b,c){var d=b.controlledState.playbackState,e=a.controlledState.playbackState;if(c.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){O(a,b);m.isLoggingScrubbingSequence=!0;return M}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!m.isLoggingScrubbingSequence&&d!=="paused"&&d!=="ended"&&!m.hasPendingRequestedPlaying){O(a,b);m.shouldLogRequestedPlayingForScrub=!0;return M}else if(c.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){N(a,b,{video_time_position:c.payload.seekTargetPosition});return M}else if(a.controlledState.seeking&&!b.controlledState.seeking){m.shouldLogRequestedPlayingForScrub&&d!=="paused"&&d!=="ended"&&N(a,b);L({eventType:"scrubbed",prevState:a,state:b});m.isLoggingScrubbingSequence=!1;m.shouldLogRequestedPlayingForScrub=!1;e!=="paused"&&e!=="ended"&&(m.canLogPlayingEvent=!0);return M}else return M}function U(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&m.canLogPausedOrFinishedPlaying){L({eventType:"finished_playing",prevState:a,state:b});m.canLogPausedOrFinishedPlaying=!1;return M}else return M}function V(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!m.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){O(a,b,{debug_reason:"paused"});return M}else return M}function W(a,b,c){var d=b.controlledState.playbackState;if(d!=="paused"&&d!=="ended"){c.type==="implementation_video_node_unmounted"?O(a,a,{debug_reason:"unloaded"}):(c.type==="implementation_unmounted"||c.type==="implementation_engine_destroy_requested")&&O(a,b,{debug_reason:"unloaded"});return M}else return M}function X(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;L({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return M}function aa(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":L({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return M;case"unmuted":L({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return M;case null:if(h<f){L({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return M}else if(h>f){L({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return M}else return M;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return M}}function ba(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=m.lastTrackedVideoRepresentation,e=b.uncontrolledState.audioRepresentationID,f=m.lastTrackedAudioRepresentation,g=b.controlledState.playbackState,h=b.controlledState.seeking;if(!h&&g!=="paused"&&g!=="ended"&&d!=null&&d!==c){var i=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===b.uncontrolledState.videoRepresentationID}),j=b.uncontrolledState.availableVideoTracks.find(function(a){return a.id===m.lastTrackedVideoRepresentation});L({eventType:"representation_ended",logDataOverrides:{next_quality_label:i==null?void 0:i.qualityLabel,next_representation_id:i==null?void 0:i.id,next_video_codecs:i==null?void 0:i.codec,quality_label:j==null?void 0:j.qualityLabel,representation_id:j==null?void 0:j.id,video_codecs:j==null?void 0:j.codec},prevState:a,state:b});m.lastTrackedVideoRepresentation=c;y("quality_change")}else d==null&&d!==c&&(m.lastTrackedVideoRepresentation=c);!h&&g!=="paused"&&g!=="ended"&&f!=null&&f!==e?(L({eventType:"representation_ended",logDataOverrides:{audio_representation_id:f,next_representation_id:e},prevState:a,state:b}),m.lastTrackedAudioRepresentation=e,y("audio_change")):f==null&&f!==e&&(m.lastTrackedAudioRepresentation=e);return M}function ca(a,b,d){var f=a.controlledState.error===d?babelHelpers["extends"]({},a,{controlledState:babelHelpers["extends"]({},a.controlledState,{error:{$ref:"$.player.lastError"}})}):a;a.uncontrolledState.videoElementError!=null&&(f=babelHelpers["extends"]({},f,{uncontrolledState:babelHelpers["extends"]({},f.uncontrolledState,{videoElementError:{code:a.uncontrolledState.videoElementError.code,message:a.uncontrolledState.videoElementError.message}})}));var g=b,h=typeof b.payload==="object"&&b.payload!=null?b.payload:null;if(h!=null){var j={};Object.keys(h).forEach(function(a){var b=h[a];b===d?j[a]={$ref:"$.player.lastError"}:j[a]=b});g=babelHelpers["extends"]({},b,{payload:j})}return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:a.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(i||(i=c("mapObject")))(c("VideoMimeTypes"),n),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:m.lastLoggedError===d?{$ref:"$.player.lastError"}:m.lastLoggedError,stallCount:m.stallCount,stallTime:m.stallDuration,state:H(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:g,state:f}}}function da(a){var b=a.errorMessageFormat,c=a.errorName;a=a.errorCode==null||a.errorCode===""?c:a.errorCode;c=c+"#"+a+": "+ea(b);return c}function Y(a,b,c,e){a=ca(a,b,c);b=c.errorMessageFormat;var f=c.errorName,g=c.errorType,h=c.url;c=c.errorCode==null||c.errorCode===""?f:c.errorCode;return{error:f,error_code:c,error_description:b,error_domain:f,error_type:g!=null?g:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(f,b),error_user_info:JSON.stringify(babelHelpers["extends"]({},a,{},e)),resource_url:h}}var ea=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};function fa(a,b,d){if(!c("gkx")("24360"))return M;if(d.type==="implementation_warning"){var e,f=d.payload.warningError,g=da(f),h=m.warningState.eventsLoggedTotal;e=(e=m.warningState.eventsLoggedPerKey.get(g))!=null?e:0;if(h<m.warningState.eventsMaxLoggedTotal&&e<m.warningState.eventsMaxLoggedPerKey){m.warningState.eventsLoggedTotal++;m.warningState.eventsLoggedPerKey.set(g,e+1);g=Y(b,d,f,{warning:{loggedPerKey:e+1,loggedTotal:h+1}});L({eventType:"player_warning",logDataOverrides:babelHelpers["extends"]({},J(),{},g),prevState:a,state:b})}}return M}function ga(a,b,c){var d=b.controlledState.error;if(d!=null&&d!==m.lastLoggedError&&d.errorCode!=="410"){c=Y(b,c,d);L({eventType:"error",logDataOverrides:babelHelpers["extends"]({},J(),{},c),prevState:a,state:b});m.lastLoggedError=d}return M}function Z(a,b,c){var d=m.errorRecoveryAttemptState.currentRecoverableError;if(d!=null){c=Y(b,c,d);m.errorRecoveryAttemptState.eventsLogged++;m.errorRecoveryAttemptState.repeatCount=0;L({eventType:"error_recovery_attempt",logDataOverrides:babelHelpers["extends"]({},c),prevState:a,state:b})}return M}function ha(a,b,d){if(d.type==="error_recovery_attempt"&&m.errorRecoveryAttemptState.eventsLogged<l){var e=m.errorRecoveryAttemptState.currentRecoverableError,f=d.payload.recoverableError;if(f!=null&&f.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return M;m.errorRecoveryAttemptState.currentRecoverableError=f;e==null||e.errorName!==f.errorName||e.errorCode!==f.errorCode?Z(a,b,d):(m.errorRecoveryAttemptState.repeatCount++,m.errorRecoveryAttemptState.repeatCount>k&&Z(a,b,d))}return M}function ia(a,b,c){if(!t)return M;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&m.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==m.lastLoggedPlaybackSpeed&&L({eventType:"playback_speed_changed",prevState:a,state:b});return M}function ja(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?m.nextHeartbeatTime=null:c!=="stalling"&&m.nextHeartbeatTime==null&&(m.nextHeartbeatTime=Date.now()+j);var d=m.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&L({eventType:"heart_beat",prevState:a,state:b}),m.nextHeartbeatTime=e+j)}return M}function ka(a,b,c){if(c.type==="implementation_mounted"){L({eventType:"player_loaded",prevState:a,state:b});return M}else return M}function $(a,b,c){L({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function la(a,b,c){e.coreVideoPlayerMetaData.playerFormat!==f.coreVideoPlayerMetaData.playerFormat&&L({eventType:"player_format_changed",prevState:a,state:b});return M}function ma(a,b,c){if(c.type!=="notify_fullscreen_changed")return M;c=m.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return M}else if(c===!0&&d===!1){$(a,b,d);return M}else return M}function na(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("24380"))return M;d=b.controlledState.playbackState;var f=m.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){L({eventType:"viewability_changed",prevState:a,state:b});return M}else return M}function oa(a,b,c){if(c.type==="controller_set_captions_visible_requested"){L({eventType:"caption_change",prevState:a,state:b});return M}else return M}function pa(b){f=e;if(b.type==="notify_logging_metadata_change"){b=b.payload.loggingMetaData;if(s){var c=b.coreVideoPlayerMetaData.initialTracePolicy!==e.coreVideoPlayerMetaData.initialTracePolicy;p(a.debugLogId,e,b,{initialTracePolicyChanged:c})}e=b}}return{addDebugSubscriber:function(a){return x(a)},consumeLoggerEvents:function(){var b=g.splice(0);s&&(b.length>0&&o(a.debugLogId,"[consumeLoggerEvents] ("+b.length+" events)",b));return b},getLoggerState:function(){return m},handleStateMachine:function(b,c,d){pa(d);var e=c.controlledState.playbackState;C(b,c,d);B(b,c);var f=[la,ma,na,Q,R,T,S,U,V,X,aa,W,ka,oa,ba,fa,ga,ha,ja,ia];f.forEach(function(a){a(b,c,d)});s&&q(a.debugLogId,b,c,d);(e==="paused"||e==="ended")&&(m.canLogPlayingEvent=!0);d.type==="controller_pause_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPause=!0);d.type==="controller_play_requested"&&(m.hasPausedOnce=!0,m.shouldIgnoreDomPlay=!0);d.type==="dom_event_pause"&&(m.shouldIgnoreDomPause=!1);d.type==="dom_event_play"&&(m.shouldIgnoreDomPlay=!1,m.lastLoggedViewabilityPercentage=c.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;L({eventType:b,logDataOverrides:c,prevState:a,state:a})},setLoggingToVPLAdditionalData:function(a,c){b.set(a,c),s&&r(a,c)}}}g.HEARTBEAT_INTERVAL=j;g.createVideoPlayerImplementationStateMachineLogger=a}),98);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}f["default"]=a}),66);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["NetworkStatus","convertToViewabilityPercentage","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,d=a.engineExtrasAPI,e=a.fullscreenControllerRef,f=a.videoElementAPI,g=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;g=g.current;var i=Date.now(),j=typeof (h||(h=c("performance"))).now==="function"?(h||(h=c("performance"))).now():0;if(f==null){var k;return{audioRepresentationID:void 0,availableAudioTracks:[],availableQualities:[],availableVideoTracks:[],clockTimestamp:i,currentPlayingAudioTrackID:void 0,currentPlayingVideoQuality:void 0,currentPlayingVideoTrackID:void 0,estimatedBandwidth:void 0,isDocumentHidden:document.hidden,isDRM:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:void 0,isMixedCodecManifest:null,isPredictiveDash:void 0,liveTraceContext:g?(k=g.getLiveTraceContext())!=null?k:void 0:void 0,manifestIdentifier:void 0,mpdValidationErrors:void 0,networkConnected:void 0,perfTimestamp:j,targetAudioTrack:null,targetVideoQuality:"",videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoProjection:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0}}k=f.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();return{audioRepresentationID:d?d.getCurrentPlayingAudioRepresentationID():void 0,availableAudioTracks:(b=d==null?void 0:d.getAvailableAudioTracks())!=null?b:[],availableQualities:(b=d==null?void 0:d.getAvailableVideoQualities())!=null?b:[],availableVideoTracks:(b=d==null?void 0:d.getAvailableVideoTracks())!=null?b:[],clockTimestamp:i,currentPlayingAudioTrackID:d?d.getCurrentPlayingAudioRepresentationID():void 0,currentPlayingVideoQuality:d?d.getCurrentPlayingVideoQuality():void 0,currentPlayingVideoTrackID:d?d.getCurrentPlayingVideoRepresentationID():void 0,estimatedBandwidth:d?d.getEstimatedBandwidth():void 0,isDocumentHidden:document.hidden,isDRM:d?d.isDrm():void 0,isFBIsLiveTemplated:d?d.isFBIsLiveTemplated():void 0,isFBMS:d?d.isFBMS():void 0,isFBWasLive:d?d.isFBWasLive():void 0,isFullscreen:e.current?e.current.getIsFullscreen():void 0,isLiveRewindAvailable:d?d.isLiveRewindAvailable():void 0,isMixedCodecManifest:d?d.isMixedCodecManifest():null,isPredictiveDash:d?d.isPredictiveDash():void 0,liveTraceContext:g?(b=g.getLiveTraceContext())!=null?b:void 0:void 0,manifestIdentifier:d?d.getManifestIdentifier():void 0,mpdValidationErrors:d?d.getMpdValidationErrors():void 0,networkConnected:c("NetworkStatus").isOnline(),perfTimestamp:j,targetAudioTrack:(i=d==null?void 0:d.getTargetAudioTrack())!=null?i:null,targetVideoQuality:(e=d==null?void 0:d.getCurrentTargetVideoQuality())!=null?e:"",videoElementDebugCurrentSrc:c("gkx")("24351")?(g=f.getUnderlyingVideoElement())==null?void 0:g.currentSrc:void 0,videoElementDebugSrc:c("gkx")("24351")?(b=f.getUnderlyingVideoElement())==null?void 0:b.src:void 0,videoElementDroppedFrameCount:f.getDroppedFrameCount(),videoElementDuration:f.getDuration(),videoElementEnded:f.getEnded(),videoElementError:f.getError(),videoElementLastBufferEndPosition:f.getLastBufferEndPosition(),videoElementMuted:f.getMuted(),videoElementNetworkState:f.getNetworkState(),videoElementPaused:f.getPaused(),videoElementPlaybackRate:f.getPlaybackRate(),videoElementPlayheadPosition:k,videoElementReadyState:f.getReadyState(),videoElementTotalFrameCount:f.getTotalFrameCount(),videoElementVolume:f.getVolume(),videoProjection:d==null?void 0:d.getVideoProjectionType(),videoRepresentationID:d?d.getCurrentPlayingVideoRepresentationID():void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0}}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a}),98);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],allEmsgBoxes:new Map(),bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,domEventsLatestPerfMs:{},emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isDesktopPictureInPicture:!1,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,mountState:"before_mounted",muted:i,playbackState:"paused",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedVideoQuality:"notselected",selectedVideoVariant:null,streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetPlaybackRate:1,ullIneligibilityReason:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerVersion:h,uncontrolledState:k}}g.createVideoPlayerImplementationStateMachineInitialState=a}),98);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("23157")}g["default"]=a}),98);
__d("VideoPlayerImplementationEngineAPI",["CometEventListener","CometVideoPictureInPictureManagerContext","CometVisualCompletion","CurrentUser","ErrorMetadata","FBLogger","MediaPlaybackCompoundEventStateMachineLogger","MediaPlaybackLogFlusher","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoLiveTrace","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerVideoPixelsFitContext","clearTimeout","cr:2336","cr:355","cr:4596","cr:506","deepEquals","err","gkx","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));f=h;var j=f.useEffect,k=f.useRef,l=f.useState,m=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.exitPictureInPictureImpl,f=a.fullscreenControllerRef,g=a.getCurrentExposedState,h=a.getCurrentIsDesktopPictureInPicture,i=a.getCurrentIsFullscreen,j=a.getCurrentLiveRewindPlayheadPosition,k=a.getCurrentPlayheadPosition,l=a.internal_getCurrentStateMachineState,n=a.loggerAPI,o=a.pauseImpl,p=a.playImpl,q=a.registerEmsgObserverImpl,r=a.requestPictureInPictureImpl,s=a.scrubBeginImpl,t=a.scrubEndImpl,u=a.seekImpl,v=a.selectVideoQualityImpl,w=a.selectVideoVariantImpl,x=a.setCaptionsDisplayStyleImpl,y=a.setCaptionsUrlImpl,z=a.setCaptionsVisibleImpl,A=a.setIsLiveRewindActiveImpl,B=a.setLatencyLevelImpl,C=a.setMutedImpl,D=a.setPictureInPictureStateImpl,E=a.setPlaybackRateImpl,F=a.setVolumeImpl,G=a.subscribers,H=a.unregisterEmsgObserverImpl,I=a.videoElementAPIRef,J=new Set(),K=!1,L=null,M=[],N=[],O=[],P=[],Q=new m({pauseRequestCallbacks:N,playRequestCallbacks:M,scrubBeginRequestCallbacks:O,scrubEndRequestCallbacks:P}),R={freeze:function(){if(!g().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;J.size===0&&(b=!0,L={exposedState:g(),isFullscreen:i(),liveRewindPlayheadPosition:j(),playheadPosition:k(),stateMachineState:l()});J.add(a);b&&(K=!0,G.forEach(function(a){a()}))}finally{K=!1}return a},isFrozen:function(){return L!=null},unfreeze:function(a){if(!J.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");J["delete"](a);J.size===0&&(L=null,G.forEach(function(a){a()}))}},S=babelHelpers["extends"]({},b,{},R,{},n,{debugAPI:d,exitPictureInPicture:function(){if(R.isFrozen())return;e()},getCurrentState:function(){return L!=null?L.exposedState:g()},getIsDesktopPictureInPicture:function(){return L!=null?L.isFullscreen:h()},getIsFullscreen:function(){return L!=null?L.isFullscreen:i()},getLiveRewindPlayheadPosition:function(){return L!=null?L.liveRewindPlayheadPosition:j()},getPlayheadPosition:function(){return L!=null?L.playheadPosition:k()},internal_getStateMachineState:function(){return L!=null?L.stateMachineState:l()},internal_getVideoElement:function(){var a=I.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},internal_getVideoPixelsDimensions:function(){var a=I.current;return(a=a==null?void 0:a.getVideoPixelsDimensions())!=null?a:null},observeOn:function(){return Q},pause:function(a){if(R.isFrozen())return;N.forEach(function(b){return b(a)});o(a)},play:function(a){if(R.isFrozen())return;M.forEach(function(b){return b(a)});p(a)},registerEmsgObserver:function(){var a={};q(a);return a},requestPictureInPicture:function(){if(R.isFrozen())return;r()},requestSetIsFullscreen:function(a){if(R.isFrozen())return;var b=f.current;if(b){var c=S.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=S.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(R.isFrozen())return;O.forEach(function(a){return a()});s()},scrubEnd:function(a){if(R.isFrozen())return;P.forEach(function(b){return b(a)});t(a)},seek:function(a){if(R.isFrozen())return;u(a)},selectVideoQuality:function(a){if(R.isFrozen())return;v(a)},selectVideoVariant:function(a){if(R.isFrozen())return;w(a)},setCaptionsDisplayStyle:function(a){if(R.isFrozen())return;x(a)},setCaptionsUrl:function(a){if(R.isFrozen())return;y(a)},setCaptionsVisible:function(a){if(R.isFrozen())return;z(a)},setIsLiveRewindActive:function(a){if(R.isFrozen())return;A(a)},setLatencyLevel:function(a){if(R.isFrozen())return;B(a)},setMuted:function(a,b){if(R.isFrozen())return;C(a,b)},setPictureInPictureState:function(a){if(R.isFrozen())return;D(a)},setPlaybackRate:function(a){if(R.isFrozen())return;E(a)},setVolume:function(a){if(R.isFrozen())return;F(a)},subscribe:function(a){var b=function(){if(R.isFrozen()&&!K)return;a()},d=f.current,e=d?d.subscribe(b):null;G.push(b);return{remove:function(){e&&e.remove(),c("removeFromArray")(G,b)}}},unregisterEmsgObserver:function(a){H(a)},videoElementAPIRef:I});return S}function o(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.loggerToSNAPL,g=a.loggerToVPL,h=a.machine,i=a.subscribers,j=a.videoElementAPIRef;a={logVPLEvent_DO_NOT_USE:function(a,b){g.logVPLEvent({eventType:a,logDataOverrides:b,state:h.getCurrentState()})},setLoggingToSNAPLAdditionalData:function(a){f==null?void 0:f.setLoggingToSNAPLAdditionalData(a)},setLoggingToVPLAdditionalData:function(a,b){g.setLoggingToVPLAdditionalData(a,b)}};return n({concurrentAutoplayManagementAPI:b,debugAPI:d,exitPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_exit_requested"})},fullscreenControllerRef:e,getCurrentExposedState:function(){return c(h.getCurrentState())},getCurrentIsDesktopPictureInPicture:function(){var a;return(a=h.getCurrentState().controlledState.isDesktopPictureInPicture)!=null?a:!1},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=h.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=(a=j.current)==null?void 0:a.getPlayheadPosition())!=null?a:h.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},internal_getCurrentStateMachineState:function(){return h.getCurrentState()},loggerAPI:a,pauseImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"register_emsg_observer"})},requestPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_requested"})},scrubBeginImpl:function(){h.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){h.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},selectVideoVariantImpl:function(a){h.dispatch({payload:{selectedVideoVariant:a},type:"controller_video_variant_requested"})},setCaptionsDisplayStyleImpl:function(a){h.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){h.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){h.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){h.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){h.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){h.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPictureInPictureStateImpl:function(a){h.dispatch({payload:{isInPictureInPictureMode:a},type:"controller_set_picture_in_picture_state_requested"})},setPlaybackRateImpl:function(a){h.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){h.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function p(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function q(a){var b=a.alwaysShowCaptions,e=a.areCaptionsAutogenerated,f=a.captionDisplayStyle,g=a.captionsControllerRef,h=a.debugLogId,i=a.dimensions,j=a.engineExtrasAPI,k=a.engineMetadata,l=a.fullscreenControllerRef,m=a.handleFatalError,n=a.handleStateMachine,o=a.videoElementAPIRef,q=a.videoLiveTraceRef,s=a.videoPlayerPassiveViewabilityInfoRef;function t(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:j,hostCall:a,machine:v,videoElementAPI:o.current})}var u=null;a=[function(a,b,d){d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&b.controlledState.lastPlayReason==="autoplay_initiated"?c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayStalling"):b.controlledState.playbackState!==a.controlledState.playbackState&&b.controlledState.playbackState==="playing"&&b.controlledState.lastPlayReason==="autoplay_initiated"&&c("CometVisualCompletion").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){n(a,b,c);return!0},function(a,b,c){return!0},function(a,b,c){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1)if(b.controlledState.bufferingDetected){a=(c=b.controlledState.lastBufferingType)!=null?c:"in_play";c=j.getPerfLoggerProvider();u=c?c.getOperationLogger("buffering").setState("buffering").setType(a).start():null}else!b.controlledState.bufferingDetected&&u!=null&&(u.log(),u=null);return!0},function(a,b,c){return c.type!=="implementation_engine_destroy_requested"?!0:!1},function(a,b,c){if(c.type!=="implementation_engine_initialized")return!0;a=p(o);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:j,machine:v,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(c.type!=="dom_event_ended")return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&v.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(c.type!=="controller_pause_requested")return!0;a=b.controlledState.playbackState;if(a!=="paused")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(c.type!=="controller_play_requested")return!0;a=b.controlledState.playbackState;if(a!=="stalling")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(c.type!=="controller_seek_requested")return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&t({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(c.type!=="controller_muted_requested")return!0;a=b.controlledState.muted;if(a!==c.payload.muted)return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(c.type!=="controller_scrub_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_scrub_end_requested")return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),t({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_set_playback_rate")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_end_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_volume_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(c.type!=="controller_video_variant_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoVariant:b.controlledState.selectedVideoVariant},type:"host_call_set_video_variant"});return!1},function(a,b,c){if(c.type!=="controller_quality_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=g.current;var e=b.controlledState.captionsVisible,f=o.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var h=b.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;f>=h&&v.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!j.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){h=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&v.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});r(b,h)&&v.dispatch({payload:{activeCaptions:h,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=q.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(c.type!=="cea608_bytes_received")return!0;a=g.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(c.type!=="controller_set_captions_url_requested")return!0;a=g.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(c.type!=="controller_set_is_live_rewind_active_requested")return!0;j.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&v.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_picture_in_picture"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_exit_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_exit_picture_in_picture"});return!1}];var v=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=o.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:j,fullscreenControllerRef:l,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:s})},debugLogId:h,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:b,areCaptionsAutogenerated:e,captionDisplayStyle:f,dimensions:i,isAbrEnabled:k.isAbrEnabled,playerVersion:k.playerVersion,streamingFormat:k.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return v}function r(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function t(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function u(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.captionDisplayStyle,g=c.captionsLoaded,h=c.captionsVisible,i=c.domEventsLatestPerfMs,j=c.error,k=c.hasPlayEverBeenRequested,l=c.implementationSeekSourcePosition,m=c.inbandCaptionsAutogenerated,n=c.isDesktopPictureInPicture,o=c.isLiveRewindActive,p=c.lastMuteReason,q=c.lastPauseReason,r=c.lastPlayedTimeMs,s=c.lastPlayReason,t=c.latencyLevel,u=c.loopCount,v=c.loopCurrent,w=c.muted,x=c.playbackState,y=c.seekableRanges,z=c.seeking,A=c.seekTargetPosition,B=c.selectedVideoQuality,C=c.streamingFormat,D=c.streamInterrupted,E=c.targetPlaybackRate,F=c.ullIneligibilityReason,G=c.volume;c=c.watchTimeMs;var H=a.uncontrolledState,I=H.availableAudioTracks,J=H.availableQualities,K=H.availableVideoTracks,L=H.currentPlayingAudioTrackID,M=H.currentPlayingVideoQuality,N=H.currentPlayingVideoTrackID,O=H.isDRM,P=H.isFullscreen,Q=H.isLiveRewindAvailable,R=H.targetAudioTrack,S=H.targetVideoQuality,T=H.videoElementDuration,U=H.videoElementLastBufferEndPosition,V=H.videoProjection;H=H.videoRepresentationID;var W=x==="ended",X=x==="paused"||W,aa=x==="playing",Y=x==="inPlayStalling";x=x==="stalling"||Y;d={activeCaptions:d,activeEmsgBoxes:e,availableAudioTracks:I,availableVideoQualities:J,availableVideoTracks:K,bufferEnd:U!=null?U:0,captionDisplayStyle:f,captionsLoaded:g,captionsVisible:h,currentAudioTrackID:L!=null?L:null,currentVideoQuality:M!=null?M:"",currentVideoTrackID:N!=null?N:null,domEventsLatestPerfMs:i,duration:T!=null?T:0,ended:W,error:j,hasPlayEverBeenRequested:k,inbandCaptionsAutogenerated:m,inPlayStalling:Y,isAbrEnabled:b.isAbrEnabled,isDesktopPictureInPicture:n!=null?n:!1,isDRM:O!=null?O:null,isFullscreen:P!=null?P:!1,isLiveRewindActive:o,isLiveRewindAvailable:Q!=null?Q:!1,lastMuteReason:p,lastPauseReason:q,lastPlayedTimeMs:r,lastPlayReason:s,latencyLevel:t,loopCount:u,loopCurrent:v,muted:w,paused:X,playerVersion:a.playerVersion,playing:aa,seekableRanges:y,seeking:z,seekSourcePosition:l,seekTargetPosition:A,selectedVideoQuality:B,stalling:x,streamingFormat:C,streamInterrupted:D,targetAudioTrack:R,targetPlaybackRate:E,targetVideoQuality:S,ullIneligibilityReason:F,videoProjection:V,videoRepresentationID:H,volume:G,watchTimeMs:c};return d}function a(a){var e=a.checkInDOM,f=a.createDebugAPI,g=a.createVideoPlayerError,h=a.debugLog,i=a.debugLogId,j=a.destroyEngineParts,k=a.engineExtrasAPI,l=a.engineMetadata,m=a.handleFatalError,n=a.handleVideoElementChanged,p=a.handleVideoInfoChange,r=a.initialProps,v=a.setExposedStateInReact,w=r.loggingMetaData.instanceKey;h=r.loggingMetaData.coreVideoPlayerMetaData;a=h.broadcastId;var x=h.isLiveStreaming;h=h.isLiveTraceEnabled;var y={current:Boolean(x)&&Boolean(h)&&a!=null?new(c("VideoLiveTrace"))(a,w,c("CurrentUser").getAccountID()):null},z=r.loggingConfig.loggingToVPLEnabled==null?!0:r.loggingConfig.loggingToVPLEnabled,A=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,videoLiveTraceRef:y}),B=new(c("VideoPlayerBanzaiLogFlusher"))(i,A),C=r.loggingConfig.loggingToSNAPLEnabled==null?c("gkx")("8610"):r.loggingConfig.loggingToSNAPLEnabled;x=r.loggingConfig.loggingToSNAPLCreateMetadataProvider;var D=C?d("MediaPlaybackCompoundEventStateMachineLogger").createMediaPlaybackCompoundEventStateMachineLogger({debugLogId:i,initialLoggingMetaData:r.loggingMetaData,metadataProvider:x==null?void 0:x()}):null,E=D!=null?new(c("MediaPlaybackLogFlusher"))(D):null,F={current:(h=r.videoPlayerPassiveViewabilityInfo)!=null?h:null},G={current:(a=r.fullscreenController)!=null?a:null},H={current:null};x=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var I=[],J=function(){I.forEach(function(a){a()}),!z||r.loggingConfig.disableLogging===!0?B.discardLogsWithoutFlushing():B.flushLogs(),!C||r.loggingConfig.disableLogging===!0?E==null?void 0:E.discardLogsWithoutFlushing():E==null?void 0:E.flushLogs()},K={current:r.onExposedStateChanged},L={current:null},M=null,N={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:r.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:r.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(h=r.sideLoadCaptionsUrl)!=null?h:null}},O={current:null},P={current:null},Q=new(c("SubscriptionsHandler"))(),R=new(c("SubscriptionsHandler"))(),S="before_mounted";function T(a){if(c("gkx")("24349"))return a.controlledState.mountState==="mounted_onscreen"||a.controlledState.mountState==="mounted_offscreen";else return S==="mounted"}var U={current:null},V=function(a){a=u({engineMetadata:l,state:a});return a},W={current:null},X={current:null},aa=function(a){if(T(a)){if(a===W.current)return;var b=V(a);if(X.current!=null&&c("deepEquals")(X.current,b))return;W.current=a;X.current=b;v(b);a=K.current;a&&a({implementationController:oa,implementationExposedState:b})}};a=function(a,b,c){A.handleStateMachine(a,b,c),D==null?void 0:D.handleStateMachine(a,b,c),aa(b),J()};var Y=function(a,b){};h=function(a){Y(a,"state_machine_fatal_error")};var Z=q({alwaysShowCaptions:Boolean(r.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(r.areCaptionsAutogenerated),captionDisplayStyle:r.captionDisplayStyle,captionsControllerRef:H,debugLogId:i,dimensions:r.dimensions,engineExtrasAPI:k,engineMetadata:l,fullscreenControllerRef:G,handleFatalError:h,handleStateMachine:a,videoElementAPIRef:U,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:F}),ba=!1,$=function(a){var b=L.current!=null,d=U.current!=null;Q.release();Z.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{ba||(ba=!0,j(["destroyEngine("+a+")"]))}catch(g){try{var e=c("FBLogger")("comet_video_player").catching(g),f=r.videoFBID;f!=null&&(e=e.addMetadata("COMET_VIDEO","VIDEO_ID",f));e=e.addMetadata("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({destroy_reason:a,player_instance_key:w,player_version:l.playerVersion,video_element_api_existed:d,video_element_existed:b}));e.warn("Error thrown by destroyEngineParts: %s",g.message)}catch(a){}}f=H.current;f!=null&&(Z.getCurrentState().controlledState.captionsLoaded&&Z.dispatch({type:"captions_unloaded"}),H.current=null,f.destroy());s(null,G,O,Z);t(null,F,P,Z);Z.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"});b&&c("gkx")("30214")&&ja(null,["destroy",a])};Y=function(a,b){a=g(a,b);Z.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});$("implementation_fatal_error");m(a)};function ca(a){return a.sideLoadCaptionsExpectedFromProps||a.sideLoadCaptionsUrlFromProps!=null}function da(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function ea(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var fa=function(a){var b=ca(a),c=da(a),e=ea(a),f=H.current;e!==ea(N.current)&&Z.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==da(N.current)&&(f.updateInbandCaptionsExpected(c),!c&&Z.getCurrentState().controlledState.captionsLoaded&&Z.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(H.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){Z.dispatch({type:"captions_loaded"})}}));N.current=a},ga=function(a){k!=null&&a&&a.width>0&&a.height>0&&(k.setDimensions(a),Z.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},ha=function(a){a!==Z.getCurrentState().controlledState.loopCount&&Z.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},ia=function(a){"srcObject"in a&&(a.srcObject=null),a.removeAttribute("src"),R.release(),R.engage()},ja=function(a,e){if(L.current===a)return;a!=null&&L.current!=null&&L.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");M!=null&&M();var f=L.current;f&&ia(f);L.current=a;b("cr:506")!=null&&a!=null&&(M=b("cr:506")(a,i));a!=null?(R.addSubscriptions(c("CometEventListener").listen(a,"enterpictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Z.dispatch({payload:{isInPictureInPictureMode:!0},type:"controller_set_picture_in_picture_state_requested"})}),c("CometEventListener").listen(a,"leavepictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Z.dispatch({payload:{isInPictureInPictureMode:!1},type:"controller_set_picture_in_picture_state_requested"})})),Z.dispatch({type:"implementation_video_node_mounted"}),n(a,[].concat(e,["handleVideoElement(non-null)"]))):(Z.dispatch({type:"implementation_video_node_unmounted"}),n(null,[].concat(e,["handleVideoElement(null)"])))};h=r.loggingMetaData.instanceKey;a=function(a){var b;K.current=a.onExposedStateChanged;if(!T(Z.getCurrentState()))return;s((b=a.fullscreenController)!=null?b:null,G,O,Z);t((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,F,P,Z);if(!p(a)){b={inbandCaptionsAutogeneratedFromManifest:N.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:N.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:N.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.sideLoadCaptionsUrl)!=null?b:null};fa(b);ga(a.dimensions);ha((b=a.loopCount)!=null?b:0)}Z.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};var ka=null;h=function(){var a=Z.getCurrentState().controlledState.mountState;switch(a){case"before_mounted":Q.addSubscriptions(d("RunComet").onUnload(function(){$("page_unload")}));Z.dispatch({type:"implementation_mounted"});n(L.current,["handleReactEffectInit(before_mounted)"]);break;case"mounted_onscreen":break;case"mounted_offscreen":c("clearTimeout")(ka);ka=null;Z.dispatch({type:"implementation_onscreen"});break;case"unmounted":break;default:a}};var la=function(){var a=function a(){c("clearTimeout")(ka);ka=null;if(Z.getCurrentState().controlledState.mountState==="unmounted")return;var b=e();!b?(Z.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),$("implementation_unmounted:react_effect_cleanup")):ka=c("setTimeout")(a,1e3)},b=Z.getCurrentState().controlledState.mountState;switch(b){case"before_mounted":break;case"mounted_onscreen":Z.dispatch({type:"implementation_offscreen"});a();break;case"mounted_offscreen":a();break;case"unmounted":break}},ma=function(){T(Z.getCurrentState())||(S="mounted",Q.addSubscriptions(d("RunComet").onUnload(function(){$("page_unload")})),Z.dispatch({type:"implementation_mounted"}),n(L.current,["handleReactMount"]))},na=function(){T(Z.getCurrentState())&&(S="unmounted",Z.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),$("implementation_unmounted:react_effect_cleanup"))},oa=o({concurrentAutoplayManagementAPI:x,createExposedState:V,debugAPI:f({getVideoElementAPI:function(){return U.current},loggerToVPL:A}),fullscreenControllerRef:G,loggerToSNAPL:D,loggerToVPL:A,machine:Z,subscribers:I,videoElementAPIRef:U});x=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Z,ja);f=V(Z.getInitialState());la={handleReactEffectCleanup:c("gkx")("24349")?la:na,handleReactEffectInit:c("gkx")("24349")?h:ma,handleReactPropsChanged:a,implementationController:oa,initialExposedState:f,logFlusherToVPL:B,machine:Z,notifySubscribers:J,videoElementCallbacks:x,videoElementRefCallback:function(a){if(a==null&&c("gkx")("30214"))return;ja(a,["videoElementRefCallback"])}};return{engine:la,getCaptionsInfo:function(){return N.current},getVideoElement:function(){return L.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:fa,handleFatalImplementationError:Y,loggerToVPL:A,machine:Z,videoElementAPIRef:U}}function v(a,b){var d,e=c("err").apply(void 0,[a.errorName+": "+a.errorMessageFormat].concat(a.errorMessageParams));e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,d){var e=l(null),f=e[0],g=e[1];e=l(null);var h=e[0],m=e[1];e=a.wrapVideoPixels_EXPERIMENTAL;var n=k(a),o=k(d),p=k(null),q=c("useStable")(function(){return o.current({checkInDOM:function(){var a=document.body,b=p.current;return a!=null&&b!=null&&a.contains(b)},debugLogId:String(n.current.loggingMetaData.instanceKey),handleFatalError:function(a){m(a)},initialProps:n.current,setExposedStateInReact:g})});d=f!=null?f:q.initialExposedState;f=(f=d.error)!=null?f:h;if(f!=null){h=a.VideoPlayerShakaPerformanceLoggerClass;h&&(c("gkx")("24350")||c("qex")._("1655"))&&h.flushQueuedLogs();throw v(f,n.current.videoFBID)}j(function(){q.handleReactEffectInit();return function(){q.handleReactEffectCleanup()}},[q]);var r=k(null);j(function(){a!==r.current&&q.handleReactPropsChanged(a),r.current=a},void 0);h=c("useSEOLoggedOutWebCrawler")();f=a.renderVideoPixelsFit?a.renderVideoPixelsFit(d):null;h=h?i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,poster:a.poster,seoSrc:a.seoWebCrawlerLookasideUrl,seoWebCrawlerVideoTracks:a.seoWebCrawlerVideoTracks,videoElementCallbacks:null,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:null,videoPixelsFit:f}):i.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,isSpatial:a.isSpatial,poster:a.poster,videoElementCallbacks:q.videoElementCallbacks,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:q.videoElementRefCallback,videoPixelsFit:f});var s=a.renderWithExposedState({implementationController:q.implementationController,implementationExposedState:d});e=i.jsxs(i.Fragment,{children:[c("gkx")("24349")?i.jsx("div",{ref:p,style:{display:"none"}}):null,d.isDRM===!0?b("cr:2336")?i.jsx(b("cr:2336"),{controller:q.implementationController}):b("cr:4596")?i.jsx(b("cr:4596"),{controller:q.implementationController}):null:null,e?e(h):h,b("cr:355")!=null&&d.playerVersion==="comet_nextgendash"?i.jsx(b("cr:355"),{}):null,i.jsx(c("VideoPlayerVideoPixelsFitContext").Provider,{value:f,children:s})]});return{engine:q,exposedState:d,reactVideoComponents:s,reactVideoFrame:h,reactVideoFrameAndComponents:e}}g.internal_createVideoPlayerImplementationControllerImpl=n;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=q;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=u;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=v;g.useVideoPlayerImplementationEngine=e}),98);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}f.getDroppedFrames=a;f.getTotalFrames=b}),66);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){var b=[];try{a=a.buffered;for(var c=0;c<a.length;++c)b.push({endTime:a.end(c),startTime:a.start(c)})}catch(a){}return b}function l(a){try{a=a.buffered;if(a.length>0)return a.end(a.length-1)}catch(a){}return 0}function m(a){return i(a.currentTime)}function n(a){try{a=a.buffered;if(a.length>0)return a.start(0)}catch(a){}return 0}function a(a){return{exitPictureInPicture:function(){window.document.exitPictureInPicture()},getBufferedRanges:function(){return k(a)},getCanPlayPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(h||(h=b("Promise")))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return l(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return m(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVideoPixelsDimensions:function(){if(a.readyState<a.HAVE_CURRENT_DATA)return null;var b=a.videoWidth,c=a.videoHeight;if(b<=0||c<=0)return null;var d=a.offsetWidth,e=a.offsetHeight;if(d<=0||e<=0)return null;b=b/c;c=d/e;c>b?d=e*b:e=d/b;return{height:e,width:d}},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?(h||(h=b("Promise"))).resolve(c):null;return c},requestPictureInPicture:function(){typeof a.requestPictureInPicture==="function"&&a.requestPictureInPicture()},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=n(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=j;g.getBufferedRangesFromVideoElement=k;g.getLastBufferEndPositionFromVideoElement=l;g.getPlayheadPositionFromVideoElement=m;g.createVideoPlayerImplementationEngineVideoElementAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;function d(){var a=b(),c="progressive_SD",d="progressive_HD";return a==null?null:h(a.hdSrc)||h(a.sdSrc)?null:a.hdSrc!=null&&a.playingSrc===a.hdSrc?d:a.sdSrc!=null&&a.playingSrc===a.sdSrc?c:null}return{getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAvailableAudioTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableAudioTracks)!=null?a:[]},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getAvailableVideoTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableVideoTracks)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingAudioRepresentationID:function(){if(c("gkx")("440"))return d();else return null},getCurrentPlayingAudioTrackID:function(){var a;return(a=(a=b())==null?void 0:a.playingAudioTrackID)!=null?a:null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentPlayingVideoRepresentationID:function(){if(c("gkx")("440"))return d();else return"oep_hd"},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();return a==null?"progressive":h(a.hdSrc)||h(a.sdSrc)?"hls":"progressive"},getTargetAudioTrack:function(){return null},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getUserSelectedVideoVariant:function(){return null},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isLiveRewindAvailable:function(){return!1},isMixedCodecManifest:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a,setUserSelectedVideoVariant:function(a){}}}g.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=[],d=[],e=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableAudioTracks:c,availableQualities:b,availableVideoTracks:d,playingAudioTrackID:null,playingQuality:null,playingSrc:null,selectedQuality:e,targetQuality:e,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("videoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";b=1<<31;var g=~b,h=b+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=b;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isCdnUrlExpired=a}),66);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","Promise","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1680308","emptyFunction","err","getErrorNameFromMediaErrorCode","getErrorSafe","gkx","promiseDone","unrecoverableViolation","videoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction");function j(a,b,c){var e=typeof a==="object"&&a!=null&&typeof a.name==="string"?a.name:null;return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError(["PROGRESSIVE_JAVASCRIPT_NATIVE",e].filter(Boolean).join("/"),a,b,c)}function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,m=a.initialProps;a=a.setExposedStateInReact;var n={current:null},o={current:null},p={current:null},q={current:null},r=function(){var a=x(),e=o.current;if(a==null||e==null)return;a.addEventListener("error",function(){var e=a.error,f=e==null?void 0:e.code,g=c("getErrorNameFromMediaErrorCode")(f);f=e==null?void 0:e.message;var i=f==null||f===""?"Unknown media error":f,j=[],k=f!=null?d("VideoPlayerImplementationErrors").getMoreGranularErrorNameFromHTMLVideoElementErrorMessage(f):null,l=a.src;!e&&a.poster!=null&&a.poster!==""&&(i+="(possible_poster_load_failure)");if(l!==""){var m=null;(h||(h=b("Promise"))).resolve().then(function(){return window.fetch(l)}).then(function(a){var b,c=a.status;b=(b=a.headers.get("Content-Type"))!=null?b:"unknown";i=i+". Fetched video content with Status:"+c+" Content-Type:"+b;m="URL_RESPONSE_HTTP_"+c;if(c<200||c>=300)return a.text().then(function(a){j.push(a.length.toString()),i+=" Body:%s:"+a.substr(0,200)+(a.length>200?"...":"")},function(){})})["catch"](function(a){if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&typeof a.message==="string"){var b;m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED/"+a.name;i=i+". Failed fetching video content with error: "+a.name+" "+a.message}else{m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED";i=i+". Failed fetching video content with unknown error"}})["finally"](function(){var a=c("err").apply(void 0,[i].concat(j));a.name=[g,k,m].filter(Boolean).join("/");z(a,"progressive_implementation_error_with_more_info")})}else{f=c("err").apply(void 0,[i].concat(j));f.name=[g,k,"VIDEO_ELEMENT_SRC_EMPTY"].filter(Boolean).join("/");z(f,"progressive_implementation_error_with_empty_src")}});try{var f=e.audioOnly,g=e.graphQLVideoDRMInfo,i=e.videoFBID;f===!0&&(a.style.display="none");f=g?(f=g.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&g&&f!=null&&i!=null){q.current=b("cr:1680308").newIfSupported(f,a,i,g.videoLicenseUriMap);if(q.current==null){f=c("err")("Fairplay not supported");z(f,"progressive_player_fairplay_handler_missing")}else q.current.addListener("error",function(a){a=c("err")(a.error);z(a,"progressive_player_fairplay_handler_error")})}var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);B.current=j;p.current=e;i=w();y({inbandCaptionsAutogeneratedFromManifest:u.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:u.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:i==null?void 0:i.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:u.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:i==null?void 0:i.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:i==null?void 0:i.sideLoadCaptionsUrlFromProps});A.dispatch({payload:{selectedVideoQuality:u.getUserSelectedVideoQuality(),streamingFormat:u.getStreamType()},type:"implementation_engine_initialized"});g=function(){j.setPlayheadPosition(m.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(g)):g()}catch(a){z(a,"progressive_player_create_exception")}},s=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},t=function(a){var b;b={audioOnly:a.audioOnly,graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!s(b,n.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");n.current=b;o.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);r();return!0},u=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){if(c("gkx")("440")){var a,b=p.current;if(!b)return null;a=(a=B.current)==null?void 0:a.getUnderlyingVideoElement().currentSrc;return babelHelpers["extends"]({},b,{playingSrc:a!=null&&a!==""?a:null})}else return p.current},setUserSelectedVideoQuality:function(a){var b=p.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=B.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");p.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);var f=p.current.targetSrc;if(f===null){c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).warn("Received null targetSrc from setUserSelectedVideoQuality, selectedQuality: %s",String(a));return}k(f,m.expiredVideoUrlRefreshHandler).then(function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;l(e.getUnderlyingVideoElement(),{crossOrigin:m.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING},a);a=(b=A.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?b:0;a>0&&e.setPlayheadPosition(a);A.getCurrentState().controlledState.playbackState==="playing"&&e.play();A.dispatch({payload:{},type:"representation_changed"})})["catch"](function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;b=c("getErrorSafe")(a);c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).catching(b).warn("Failed refreshing video URL with original error: %s",String(b))})}}),v=function(){q.current&&(q.current.destroy(),q.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.loggerToVPL;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:u,getVideoElementAPI:c,loggerToVPL:a}):null},createVideoPlayerError:function(a,b){return j(a,b,(a=p.current)==null?void 0:a.targetSrc)},debugLog:i,debugLogId:f,destroyEngineParts:function(){v()},engineExtrasAPI:u,engineMetadata:{isAbrEnabled:!1,playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:g,handleVideoElementChanged:function(a){a!=null&&r()},handleVideoInfoChange:t,initialProps:m,setExposedStateInReact:a});f=e.engine;var w=e.getCaptionsInfo,x=e.getVideoElement,y=e.handleCaptionsInfoChange,z=e.handleFatalImplementationError,A=e.machine,B=e.videoElementAPIRef;return f}function k(a,e){if(e&&d("videoUrlUtils").isCdnUrlExpired(a))return e(a).then(function(a){var d;return(d=a.refreshedUrl)!=null?d:(h||(h=b("Promise"))).reject(c("err")("Failed refreshing URL"+(a.reason!==null?" with reason: "+a.reason:"")))});else return(h||(h=b("Promise"))).resolve(a)}function l(a,b,c){b=b.crossOrigin;if(c==null||c==="")a.removeAttribute("src");else{var d=a.playbackRate;a.setAttribute("src",c);var e=null;if(b!=null){try{e=new URL(c).origin}catch(a){}if(e!=null&&location.origin!==e)switch(b){case"anonymous":case"use-credentials":a.setAttribute("crossOrigin",b);break;default:a.removeAttribute("crossOrigin");break}}a.playbackRate=d}}g.createVideoPlayerProgressiveImplementationEngine=a;g.internal_setHTMLVideoElementSrc=l}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("usePolarisLOXDashPrefetch",["CometRelay","fetchPolarisLoggedOutExperiment","gkx","polarisGetAppPlatform","promiseDone","react","react-compiler-runtime","shouldPrefetchLOXDash"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(){!d("polarisGetAppPlatform").isIOS()&&c("gkx")("15065")&&c("promiseDone")(c("fetchPolarisLoggedOutExperiment")(b,{name:"ig_mweb_dash_video_playback_universe",param:"is_dash_prefetch_enabled"}));return c("shouldPrefetchLOXDash")()},a[0]=b,a[1]=e):e=a[1];return e}g.usePolarisLOXDashPrefetch=a}),98);
__d("usePolarisVideoImplementations",["PolarisIsLoggedIn","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","cr:21166","cr:21289","cr:21369","err","gkx","usePolarisLOXDashPrefetch"],(function(a,b,c,d,e,f,g){"use strict";var h=(f=(e=b("cr:21166"))!=null?e:b("cr:21289"))!=null?f:b("cr:21369");function a(a){var b=a.dashInfo,e=a.hdSrc,f=a.isAd,g=a.isLive;a=a.sdSrc;var j=[],k=d("usePolarisLOXDashPrefetch").usePolarisLOXDashPrefetch();f=(b=h==null?void 0:h({dashInfo:b,isAd:f,isLive:g}))!=null?b:[];g=f[0];b=f[1];g!=null&&(k(),j.push(g));f=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:e,hdSrcPreferred:d("PolarisIsLoggedIn").isLoggedIn()?c("gkx")("5688"):!0,sdSrc:a});f instanceof Error||j.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:f,typename:"VideoPlayerProgressiveImplementation"});j.length===0&&i(b);return j}function i(a){var b;a!=null?(b=c("err")("Cannot play video: "+a.message+" and no progressive URL is available"),a.name&&(b.name=a.name)):(b=c("err")("Cannot play video: No progressive URL is available"),b.name="VideoImplementationsNoProgressiveURL");b.project="comet_video_player";throw b}g["default"]=a}),98);
__d("PolarisVideo.react",["CometVideoPlayerLoggingConfigForPolaris","PolarisContainerModuleUtils","PolarisNavChain","PolarisRoutePropUtils","PolarisVideoHelpers","VideoPlayerErrorBoundary.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","defaultErrorBoundaryFallback","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisGetDashInfo","usePolarisVideoImplementations","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(a){var b=d("react-compiler-runtime").c(39),e=a.adInfo,f=a.alt,g=a.autoplay,h=a.canAutoplay,k=a.children,m=a.dashInfo,n=a.hdSrc,o=a.isAd,p=a.isLive,q=a.loopCount,r=a.mediaId,s=a.originalHeight,t=a.originalWidth,u=a.ownerId,v=a.poster,w=a.renderVideoPixelsFit,x=a.sdSrc,y=a.seoWebCrawlerLookasideUrl;a=a.trackingToken;m=c("usePolarisGetDashInfo")(m);var z;b[0]!==m||b[1]!==n||b[2]!==o||b[3]!==p||b[4]!==x?(z={dashInfo:m,hdSrc:n,isAd:o,isLive:p,sdSrc:x},b[0]=m,b[1]=n,b[2]=o,b[3]=p,b[4]=x,b[5]=z):z=b[5];m=c("usePolarisVideoImplementations")(z);b[6]!==g||b[7]!==h?(n=d("PolarisVideoHelpers").getVideoPlayerAutoplayProps(g,h),b[6]=g,b[7]=h,b[8]=n):n=b[8];o=n;b[9]!==s||b[10]!==t?(p=c("computeAspectRatio")(t,s),b[9]=s,b[10]=t,b[11]=p):p=b[11];x=p;z=c("usePolarisAnalyticsContext")();g=c("useStable")(l);h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);b[12]!==(h==null?void 0:h.routePropQE)?(n=h==null?void 0:h.routePropQE.getBool("is_ssr_enabled"),b[12]=h==null?void 0:h.routePropQE,b[13]=n):n=b[13];s=n;t=h==null?void 0:h.routeProp.getString("general_uuid");b[14]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("CometVideoPlayerLoggingConfigForPolaris").createCometVideoPlayerLoggingConfigForPolaris(),b[14]=p):p=b[14];b[15]!==z?(n=d("PolarisContainerModuleUtils").getContainerModule(z),b[15]=z,b[16]=n):n=b[16];z=(h=e==null?void 0:e.tracking_token)!=null?h:a;h=e?"paid":"organic";b[17]!==g||b[18]!==u||b[19]!==n||b[20]!==z||b[21]!==h?(a={author_id:u,current_watching_module:n,nav_chain:g,tracking_token:z,tracking_type:h},b[17]=g,b[18]=u,b[19]=n,b[20]=z,b[21]=h,b[22]=a):a=b[22];e=s&&t!=null?r+t:void 0;b[23]!==k?(g=k!=null?k:i.jsx(c("VideoPlayerSurface.react"),{}),b[23]=k,b[24]=g):g=b[24];b[25]!==f||b[26]!==o||b[27]!==m||b[28]!==s||b[29]!==q||b[30]!==r||b[31]!==v||b[32]!==w||b[33]!==y||b[34]!==e||b[35]!==g||b[36]!==a||b[37]!==x?(u=i.jsx(c("VideoPlayerX.react"),babelHelpers["extends"]({alt:f,bypassUseCometSizeError:s,disableLoadingIndicator:!0,doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn:!0,implementations:m,loggingConfig:p,loggingToSNAPLAdditionalData:a,loopCount:q,portalingEnabled:!1,poster:v,preloadForProgressiveDisabled:!0,renderVideoPixelsFit:w,seoWebCrawlerLookasideUrl:y,subOrigin:"inline",videoFBID:r,videoPixelsAspectRatio:x,videoPlayerUniqueIDOverride:e},o,{children:g})),b[25]=f,b[26]=o,b[27]=m,b[28]=s,b[29]=q,b[30]=r,b[31]=v,b[32]=w,b[33]=y,b[34]=e,b[35]=g,b[36]=a,b[37]=x,b[38]=u):u=b[38];return u}function l(){var a;return(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend()}function a(a){return i.jsx(c("VideoPlayerErrorBoundary.react"),{description:"PolarisVideoX",fallback:c("defaultErrorBoundaryFallback"),children:i.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.onPress,e=a.playbackIcon,f=a.showTooltip;f=f===void 0?!0:f;a=a.useOutlineIcons;var g,j;switch(e){case"pause":g=h._(/*BTDS*/"Pausar");j=a===!0?d("fbicon")._(i("497677"),20):d("fbicon")._(i("497675"),20);break;case"replay":g=h._(/*BTDS*/"Ver de nuevo");j=a===!0?d("fbicon")._(i("534222"),20):d("fbicon")._(i("534219"),20);break;case"play":g=h._(/*BTDS*/"Reproducir");j=a===!0?d("fbicon")._(i("484866"),20):d("fbicon")._(i("484863"),20);break;default:e;throw c("unrecoverableViolation")("The playback icon is unsupported "+e,"comet_video_player")}return k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:g,onPress:b,tooltip:f?g:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useFeedClickEventHandler",["react","useStoryClickEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){var d=c("useStoryClickEventLogger")();return i(function(c){a&&a(c);var e=c.type;if(e==="click"||e==="contextmenu"||e==="mousedown"&&typeof c.button==="number"&&(c.button===1||c.button===2)||e==="keydown"&&(c.key==="Enter"||c.key===" ")){e=typeof c.button==="number"?c.button:0;d(c.timeStamp,e,b)}},[a,d,b])}g["default"]=a}),98);
__d("useMinifiedProductAttribution",["CometProductAttribution","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useRouteProductAttribution")();return a!=null?d("CometProductAttribution").minifyProductAttributionV2(a):null}g["default"]=a}),98);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var b=a.isNPC,e=b===void 0?!1:b;b=a.showTooltip;b=b===void 0?!0:b;var f=a.unmuteOnPlay,g=f===void 0?!1:f;f=a.useOutlineIcons;k(function(){e&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},[e]);a=c("useVideoPlayerControllerSubscription")(function(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}});var h=a.showPauseButton;a=a.showReplayButton;var l=(i||(i=d("VideoPlayerHooks"))).useController(),m=c("useMinifiedProductAttribution")(),n=c("useFeedClickEventHandler")(function(){e&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:m,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),h?l.pause("user_initiated"):(g&&l.setMuted(!1,"user_initiated"),l.play("user_initiated"))});a=h?"pause":a?"replay":"play";return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:n,playbackIcon:a,showTooltip:b,useOutlineIcons:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.currentTime;a=a.duration;return i.jsxs("div",babelHelpers["extends"]({className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},{children:[i.jsx("span",babelHelpers["extends"]({className:"x1s688f x15hfatp"},{children:c("getFormattedTimestamp")(b)})),a!=null&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:" / "}),i.jsx("span",{children:c("getFormattedTimestamp")(a)})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=10,n=10;function a(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){var c=a.getCurrentState().seekableRanges;c=c!=null?(c=c.end(c.length()-1))!=null?c:0:0;var d=Math.min(a.getPlayheadPosition()+m,c);d===c?(a.setIsLiveRewindActive(!1),a.seek(c)):a.seek(d);b.onLiveRewindControlEvent()},[b,a])}function b(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){var c=a.getCurrentState().seekableRanges;c=(c=c==null?void 0:c.start(0))!=null?c:0;c=Math.max(a.getPlayheadPosition()-n,c);a.seek(c);a.setIsLiveRewindActive(!0);b.onLiveRewindControlEvent()},[b,a])}function e(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){var c=a.getCurrentState().seekableRanges;c=c!=null?(c=c.end(c.length()-1))!=null?c:0:0;a.seek(c);a.play("user_initiated");a.setIsLiveRewindActive(!1);b.onLiveRewindControlEvent()},[b,a])}function f(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){var c=a.getCurrentState().seekableRanges;c=(c=c==null?void 0:c.start(0))!=null?c:0;a.seek(c);a.setIsLiveRewindActive(!0);b.onLiveRewindControlEvent()},[b,a])}function o(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){a.play("user_initiated"),b.onLiveRewindControlEvent()},[b,a])}function p(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){a.pause("user_initiated"),a.setIsLiveRewindActive(!0),b.onLiveRewindControlEvent()},[b,a])}function q(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(){var c=a.getCurrentState().seekableRanges;c=(c=c==null?void 0:c.start(0))!=null?c:0;a.seek(c);a.setIsLiveRewindActive(!0);a.play("user_initiated");b.onLiveRewindControlEvent()},[b,a])}function r(){var a=(i||(i=d("VideoPlayerHooks"))).useController(),b=l(c("VideoPlayerLiveRewindControlContext"));return k(function(c){var d,e=a.getCurrentState().seekableRanges;d=(d=e==null?void 0:e.start(0))!=null?d:0;e=e!=null?(e=e.end(e.length()-1))!=null?e:0:0;d=Math.min(d+c,e);a.scrubEnd(d);d===e?a.setIsLiveRewindActive(!1):a.setIsLiveRewindActive(!0);b.onLiveRewindControlEvent()},[b,a])}function s(){return c("useVideoPlayerControllerSubscription")(function(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0})}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=o;g.useLiveRewindPause=p;g.useLiveRewindReplay=q;g.useLiveRewindScrub=r;g.useLiveRewindSeekableStartTime=s}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");b=a;function k(){var a=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),b=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),e=i.useCurrentTimeThrottled(1e3,function(a){var b=a.getCurrentState();a=a.getPlayheadPosition();return a-b.duration}),f=i.useIsLiveRewindActive();f=f?e:b-a;return j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:f,duration:null})}k.displayName=k.name+" [from "+f.id+"]";function l(){var a=(i||(i=d("VideoPlayerHooks"))).useDuration(),b=i.useCurrentTimeThrottled(200);return j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:b,duration:a})}l.displayName=l.name+" [from "+f.id+"]";function a(){var a=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(a)return j.jsx(k,{});else return j.jsx(l,{})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("XControllerURIBuilder",["invariant","URI","gkx","isInternalFBURI"],(function(a,b,c,d,e,f,g,h){var i;a=function(){function a(a,b){this.$1={},this.$2=a,this.$3=b}var b=a.prototype;b.setInt=function(a,b){return this.__setParam(a,"Int",b)};b.setFBID=function(a,b){return this.__setParam(a,"FBID",b)};b.setFloat=function(a,b){return this.__setParam(a,"Float",b)};b.setString=function(a,b){return this.__setParam(a,"String",b)};b.setExists=function(a,b){b===!1&&(b=void 0);return this.__setParam(a,"Exists",b)};b.setBool=function(a,b){return this.__setParam(a,"Bool",b)};b.setBoolVector=function(a,b){return this.__setParam(a,"BoolVector",b)};b.setEnum=function(a,b){return this.__setParam(a,"Enum",b)};b.setPath=function(a,b){return this.__setParam(a,"Path",b)};b.setIntVector=function(a,b){return this.__setParam(a,"IntVector",b)};b.setIntKeyset=function(a,b){return this.__setParam(a,"IntKeyset",b)};b.setIntSet=function(a,b){return this.__setParam(a,"IntSet",b.join(","))};b.setFloatVector=function(a,b){return this.__setParam(a,"FloatVector",b)};b.setFloatSet=function(a,b){return this.__setParam(a,"FloatSet",b.join(","))};b.setStringVector=function(a,b){return this.__setParam(a,"StringVector",b)};b.setStringKeyset=function(a,b){return this.__setParam(a,"StringKeyset",b)};b.setStringSet=function(a,b){return this.__setParam(a,"StringSet",b)};b.setFBIDVector=function(a,b){return this.__setParam(a,"FBIDVector",b)};b.setFBIDSet=function(a,b){return this.__setParam(a,"FBIDSet",b)};b.setFBIDKeyset=function(a,b){return this.__setParam(a,"FBIDKeyset",b)};b.setEnumVector=function(a,b){return this.__setParam(a,"EnumVector",b)};b.setEnumSet=function(a,b){return this.__setParam(a,"EnumSet",b)};b.setEnumKeyset=function(a,b){return this.__setParam(a,"EnumKeyset",b)};b.setIntToIntMap=function(a,b){return this.__setParam(a,"IntToIntMap",b)};b.setIntToFloatMap=function(a,b){return this.__setParam(a,"IntToFloatMap",b)};b.setIntToStringMap=function(a,b){return this.__setParam(a,"IntToStringMap",b)};b.setIntToBoolMap=function(a,b){return this.__setParam(a,"IntToBoolMap",b)};b.setStringToIntMap=function(a,b){return this.__setParam(a,"StringToIntMap",b)};b.setStringToFloatMap=function(a,b){return this.__setParam(a,"StringToFloatMap",b)};b.setStringToStringMap=function(a,b){return this.__setParam(a,"StringToStringMap",b)};b.setStringToNullableStringMap=function(a,b){return this.__setParam(a,"StringToNullableStringMap",b)};b.setStringToBoolMap=function(a,b){return this.__setParam(a,"StringToBoolMap",b)};b.setStringToEnumMap=function(a,b){return this.__setParam(a,"StringToEnumMap",b)};b.setEnumToStringVectorMap=function(a,b){return this.__setParam(a,"EnumToStringVectorMap",b)};b.setEnumToStringMap=function(a,b){return this.__setParam(a,"EnumToStringMap",b)};b.setEnumToBoolMap=function(a,b){return this.__setParam(a,"EnumToBoolMap",b)};b.setEnumToEnumMap=function(a,b){return this.__setParam(a,"EnumToEnumMap",b)};b.setEnumToIntMap=function(a,b){return this.__setParam(a,"EnumToIntMap",b)};b.setEnumToFBIDVectorMap=function(a,b){return this.__setParam(a,"EnumToFBIDVectorMap",b)};b.setStringToIntDict=function(a,b){return this.__setParam(a,"StringToIntDict",b)};b.setStringToNullableIntDict=function(a,b){return this.__setParam(a,"StringToNullableIntDict",b)};b.setStringToFloatDict=function(a,b){return this.__setParam(a,"StringToFloatDict",b)};b.setStringToStringKeysetDict=function(a,b){return this.__setParam(a,"StringToStringKeysetDict",b)};b.setStringToNullableFloatDict=function(a,b){return this.__setParam(a,"StringToNullableFloatDict",b)};b.setStringToStringDict=function(a,b){return this.__setParam(a,"StringToStringDict",b)};b.setStringToNullableStringDict=function(a,b){return this.__setParam(a,"StringToNullableStringDict",b)};b.setStringToBoolDict=function(a,b){return this.__setParam(a,"StringToBoolDict",b)};b.setStringToEnumDict=function(a,b){return this.__setParam(a,"StringToEnumDict",b)};b.setEnumToIntDict=function(a,b){return this.__setParam(a,"EnumToIntDict",b)};b.setEnumToStringDict=function(a,b){return this.__setParam(a,"EnumToStringDict",b)};b.setHackType=function(a,b){return this.__setParam(a,"HackType",b)};b.setTypeAssert=function(a,b){return this.__setParam(a,"TypeAssert",b)};b.__validateRequiredParamsExistence=function(){for(var a in this.$3)!this.$3[a].required||Object.prototype.hasOwnProperty.call(this.$1,a)||h(0,903,a)};b.setParams=function(a){for(var b in a){this.__assertParamExists(b);var c=this.$3[b].type;this.__setParam(b,c,a[b])}return this};b.__assertParamExists=function(a){a in this.$3||h(0,37339,a)};b.__setParam=function(a,b,c){this.__assertParamExists(a);var d=this.$3[a].type,e={StringOrPFBID:"String",IntOrPFBID:"Int",FBIDOrPFBID:"FBID",PaymentLegacyAdAccountID:"Int"};e=e[d];d===b||e===b||h(0,37340,a,b,d);this.__setParamInt(a,c);return this};b.__setParamInt=function(a,b){this.$1[a]=b};b.getRequest_LEGACY_UNTYPED=function(a){return a.setReplaceTransportMarkers().setURI(this.getURI())};b.setPreviousActorIsPageVoice=function(a){this.__setParamInt("paipv",a?1:0);return this};b.getURI=function(){this.__validateRequiredParamsExistence();var a={},b="",d=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,e=this.$2.split("/"),f=!1;for(var g=0;g<e.length;g++){var j=e[g];if(j==="")continue;var k=d.exec(j);if(!k)b+="/"+j;else{j=k[2]==="?";var l=k[4],m=this.$3[l];m||h(0,11837,l,this.$2);if(j&&f)continue;if(this.$1[l]==null&&j){f=!0;continue}j=this.$1[l]!=null?this.$1[l]:m.defaultValue;j!=null||h(0,907,l);m=k[1]?k[1]:"";k=k[5]?k[5]:"";b+="/"+m+j+k;a[l]=!0}}this.$2.slice(-1)==="/"&&(b+="/");b===""&&(b="/");m=new(i||(i=c("URI")))(b);for(j in this.$1){k=this.$1[j];if(!a[j]&&k!=null){l=this.$3[j];m.addQueryData(j,l&&l.type==="Exists"?null:k)}}return m};b.getLookasideURI=function(){var a="lookaside.facebook.com";c("isInternalFBURI")((i||(i=c("URI"))).getRequestURI())?a="lookaside.internalfb.com":c("gkx")("21116")&&(a="lookaside.internmc.facebook.com");return this.getURI().setDomain(a).setProtocol("https")};a.create=function(b,c){return function(){return new a(b,c)}};return a}();a.prototype.getRequest=function(a){return this.getRequest_LEGACY_UNTYPED(a)};g["default"]=a}),98);
__d("XRequest",["invariant"],(function(a,b,c,d,e,f,g){var h=function a(b,c,d){var e;switch(b){case"Bool":e=c&&c!=="false"&&c!=="0"||!1;break;case"Int":e=c.toString();/-?\d+/.test(e)||g(0,11839,c);break;case"Float":e=parseFloat(c,10);isNaN(e)&&g(0,11840,c);break;case"FBID":e=c.toString();for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);48<=h&&h<=57||g(0,11841,c)}break;case"String":e=c.toString();break;case"Enum":d===0?e=a("Int",c,null):d===1?e=a("String",c,null):d===2?e=c:g(0,5044,d);break;default:if(h=/^Nullable(\w+)$/.exec(b))c===null?e=null:e=a(h[1],c,d);else if(f=/^(\w+)Vector$/.exec(b)){!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c;var i=f[1];typeof i==="string"||g(0,5045);e=e.map(function(b){return a(i,b,d&&d.member)})}else if(h=/^(\w+)(Set|Keyset)$/.exec(b))!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c,e=e.reduce(function(a,b){a[b]=b;return a},{}),i=h[1],typeof i==="string"||g(0,5045),e=Object.keys(e).map(function(b){return a(i,e[b],d&&d.member)});else if(f=/^(\w+)To(\w+)Map$/.exec(b)){e={};var j=f[1],k=f[2];typeof j==="string"&&typeof k==="string"||g(0,5045);Object.keys(c).forEach(function(b){e[a(j,b,d&&d.key)]=a(k,c[b],d&&d.value)})}else g(0,11842,b)}return e};a=function(){function a(a,b,c){var d=this;this.$1=b;this.$2=babelHelpers["extends"]({},c.getQueryData());b=a.split("/").filter(function(a){return a});a=c.getPath().split("/").filter(function(a){return a});var e;for(var f=0;f<b.length;++f){var h=/^\{(\?)?(\*)?(\w+)\}$/.exec(b[f]);if(!h){b[f]===a[f]||g(0,5047,c.getPath());continue}var i=!!h[1],j=!!h[2];!j||f===b.length-1||g(0,11843,e);e=h[3];Object.prototype.hasOwnProperty.call(this.$1,e)||g(0,11844,e);this.$1[e].required?i&&g(0,5050,e):i||this.$1[e].defaultValue!=null||g(0,5057,e);a[f]&&(this.$2[e]=j?a.slice(f).join("/"):a[f])}Object.keys(this.$1).forEach(function(a){!d.$1[a].required||Object.prototype.hasOwnProperty.call(d.$2,a)||g(0,5051)})}var b=a.prototype;b.getExists=function(a){return this.$2[a]!==void 0};b.getBool=function(a){return this.$3(a,"Bool")};b.getInt=function(a){return this.$3(a,"Int")};b.getFloat=function(a){return this.$3(a,"Float")};b.getFBID=function(a){return this.$3(a,"FBID")};b.getString=function(a){return this.$3(a,"String")};b.getEnum=function(a){return this.$3(a,"Enum")};b.getOptionalInt=function(a){return this.$4(a,"Int")};b.getOptionalFloat=function(a){return this.$4(a,"Float")};b.getOptionalFBID=function(a){return this.$4(a,"FBID")};b.getOptionalString=function(a){return this.$4(a,"String")};b.getOptionalEnum=function(a){return this.$4(a,"Enum")};b.getIntVector=function(a){return this.$3(a,"IntVector")};b.getFloatVector=function(a){return this.$3(a,"FloatVector")};b.getFBIDVector=function(a){return this.$3(a,"FBIDVector")};b.getStringVector=function(a){return this.$3(a,"StringVector")};b.getEnumVector=function(a){return this.$3(a,"EnumVector")};b.getOptionalIntVector=function(a){return this.$4(a,"IntVector")};b.getOptionalFloatVector=function(a){return this.$4(a,"FloatVector")};b.getOptionalFBIDVector=function(a){return this.$4(a,"FBIDVector")};b.getOptionalStringVector=function(a){return this.$4(a,"StringVector")};b.getOptionalEnumVector=function(a){return this.$4(a,"EnumVector")};b.getIntSet=function(a){return this.$3(a,"IntSet")};b.getFBIDSet=function(a){return this.$3(a,"FBIDSet")};b.getFBIDKeyset=function(a){return this.$3(a,"FBIDKeyset")};b.getStringSet=function(a){return this.$3(a,"StringSet")};b.getEnumKeyset=function(a){return this.$3(a,"EnumKeyset")};b.getOptionalIntSet=function(a){return this.$4(a,"IntSet")};b.getOptionalFBIDSet=function(a){return this.$4(a,"FBIDSet")};b.getOptionalFBIDKeyset=function(a){return this.$4(a,"FBIDKeyset")};b.getOptionalStringSet=function(a){return this.$4(a,"StringSet")};b.getEnumToBoolMap=function(a){return this.$3(a,"EnumToBoolMap")};b.getEnumToEnumMap=function(a){return this.$3(a,"EnumToEnumMap")};b.getEnumToFloatMap=function(a){return this.$3(a,"EnumToFloatMap")};b.getEnumToIntMap=function(a){return this.$3(a,"EnumToIntMap")};b.getEnumToStringMap=function(a){return this.$3(a,"EnumToStringMap")};b.getIntToBoolMap=function(a){return this.$3(a,"IntToBoolMap")};b.getIntToEnumMap=function(a){return this.$3(a,"IntToEnumMap")};b.getIntToFloatMap=function(a){return this.$3(a,"IntToFloatMap")};b.getIntToIntMap=function(a){return this.$3(a,"IntToIntMap")};b.getIntToStringMap=function(a){return this.$3(a,"IntToStringMap")};b.getStringToBoolMap=function(a){return this.$3(a,"StringToBoolMap")};b.getStringToEnumMap=function(a){return this.$3(a,"StringToEnumMap")};b.getStringToFloatMap=function(a){return this.$3(a,"StringToFloatMap")};b.getStringToIntMap=function(a){return this.$3(a,"StringToIntMap")};b.getStringToStringMap=function(a){return this.$3(a,"StringToStringMap")};b.getOptionalEnumToBoolMap=function(a){return this.$4(a,"EnumToBoolMap")};b.getOptionalEnumToEnumMap=function(a){return this.$4(a,"EnumToEnumMap")};b.getOptionalEnumToFloatMap=function(a){return this.$4(a,"EnumToFloatMap")};b.getOptionalEnumToIntMap=function(a){return this.$4(a,"EnumToIntMap")};b.getOptionalEnumToStringMap=function(a){return this.$4(a,"EnumToStringMap")};b.getOptionalIntToBoolMap=function(a){return this.$4(a,"IntToBoolMap")};b.getOptionalIntToEnumMap=function(a){return this.$4(a,"IntToEnumMap")};b.getOptionalIntToFloatMap=function(a){return this.$4(a,"IntToFloatMap")};b.getOptionalIntToIntMap=function(a){return this.$4(a,"IntToIntMap")};b.getOptionalIntToStringMap=function(a){return this.$4(a,"IntToStringMap")};b.getOptionalStringToBoolMap=function(a){return this.$4(a,"StringToBoolMap")};b.getOptionalStringToEnumMap=function(a){return this.$4(a,"StringToEnumMap")};b.getOptionalStringToFloatMap=function(a){return this.$4(a,"StringToFloatMap")};b.getOptionalStringToIntMap=function(a){return this.$4(a,"StringToIntMap")};b.getOptionalStringToStringMap=function(a){return this.$4(a,"StringToStringMap")};b.getEnumToNullableEnumMap=function(a){return this.$3(a,"EnumToNullableEnumMap")};b.getEnumToNullableFloatMap=function(a){return this.$3(a,"EnumToNullableFloatMap")};b.getEnumToNullableIntMap=function(a){return this.$3(a,"EnumToNullableIntMap")};b.getEnumToNullableStringMap=function(a){return this.$3(a,"EnumToNullableStringMap")};b.getIntToNullableEnumMap=function(a){return this.$3(a,"IntToNullableEnumMap")};b.getIntToNullableFloatMap=function(a){return this.$3(a,"IntToNullableFloatMap")};b.getIntToNullableIntMap=function(a){return this.$3(a,"IntToNullableIntMap")};b.getIntToNullableStringMap=function(a){return this.$3(a,"IntToNullableStringMap")};b.getStringToNullableEnumMap=function(a){return this.$3(a,"StringToNullableEnumMap")};b.getStringToNullableFloatMap=function(a){return this.$3(a,"StringToNullableFloatMap")};b.getStringToNullableIntMap=function(a){return this.$3(a,"StringToNullableIntMap")};b.getStringToNullableStringMap=function(a){return this.$3(a,"StringToNullableStringMap")};b.getOptionalEnumToNullableEnumMap=function(a){return this.$4(a,"EnumToNullableEnumMap")};b.getOptionalEnumToNullableFloatMap=function(a){return this.$4(a,"EnumToNullableFloatMap")};b.getOptionalEnumToNullableIntMap=function(a){return this.$4(a,"EnumToNullableIntMap")};b.getOptionalEnumToNullableStringMap=function(a){return this.$4(a,"EnumToNullableStringMap")};b.getOptionalIntToNullableEnumMap=function(a){return this.$4(a,"IntToNullableEnumMap")};b.getOptionalIntToNullableFloatMap=function(a){return this.$4(a,"IntToNullableFloatMap")};b.getOptionalIntToNullableIntMap=function(a){return this.$4(a,"IntToNullableIntMap")};b.getOptionalIntToNullableStringMap=function(a){return this.$4(a,"IntToNullableStringMap")};b.getOptionalStringToNullableEnumMap=function(a){return this.$4(a,"StringToNullableEnumMap")};b.getOptionalStringToNullableFloatMap=function(a){return this.$4(a,"StringToNullableFloatMap")};b.getOptionalStringToNullableStringMap=function(a){return this.$4(a,"StringToNullableStringMap")};b.$3=function(a,b){this.$5(a,b);var c=this.$1[a];if(!Object.prototype.hasOwnProperty.call(this.$2,a)&&c.defaultValue!=null){c.required&&g(0,5052);return h(b,c.defaultValue,c.enumType)}c.required||b==="Bool"||c.defaultValue!=null||g(0,11845,b,a,b,a);return h(b,this.$2[a],c.enumType)};b.$4=function(a,b){this.$5(a,b);var c=this.$1[a];c.required&&g(0,11846,b,a,b,a);c.defaultValue&&g(0,5052);return Object.prototype.hasOwnProperty.call(this.$2,a)?h(b,this.$2[a],c.enumType):null};b.$5=function(a,b){Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,37317,a),this.$1[a].type===b||g(0,11848,a,b,this.$1[a].type)};return a}();f["default"]=a}),66);
__d("XController",["XControllerURIBuilder","XRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getURIBuilder=function(a){var b=this,d=new(c("XControllerURIBuilder"))(this.$1,this.$2);if(a){var e=this.getRequest(a);Object.keys(this.$2).forEach(function(a){var c=b.$2[a],f="";!c.required&&!Object.prototype.hasOwnProperty.call(c,"defaultValue")&&(f="Optional");f="get"+f+c.type;f=e[f](a);if(f==null||Object.prototype.hasOwnProperty.call(c,"defaultValue")&&f===c.defaultValue)return;c="set"+c.type;d[c](a,f)})}return d};b.getRequest=function(a){return new(c("XRequest"))(this.$1,this.$2,a)};a.create=function(b,c){return new a(b,c)};return a}();g["default"]=a}),98);
__d("XLogoutControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/logout.php",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getPasskeyCredentials",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("nullthrows")(navigator.credentials)}g.getPasskeyCredentials=a}),98);
__d("polarisGetUserFromUserInfo",["normalizr"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("normalizr").schema.Entity)("userInfo",{},{idAttribute:function(a){return String(a.pk)},processStrategy:function(a){var b;b=(b=a.mutual_followers_count)!=null?b:0;var c={additional_count:0,usernames:[]};if(b>0){var d;c.usernames=(d=(d=a.profile_context_links_with_user_ids)==null?void 0:d.map(function(a){return a.username}).filter(Boolean))!=null?d:[];c.additional_count=b-c.usernames.length}return{aiAgentOwnerUsername:a.ai_agent_owner_username,aiAgentType:a.ai_agent_type,bio:a.biography,counts:{followedBy:a.follower_count,follows:a.following_count,media:a.media_count},fullName:a.full_name,id:String(a.pk),interopMessagingUserFbid:a.interop_messaging_user_fbid!=null&&a.interop_messaging_user_fbid!==""?String(a.interop_messaging_user_fbid):void 0,isPrivate:a.is_private,isUnpublished:a.is_unpublished,isUserInCanada:a.is_in_canada,isVerified:a.is_verified,mutualFollowers:c,profilePictureUrl:a.profile_pic_url,shouldRemoveMessageButtonRiskyInteraction:a.remove_message_entrypoint,showAccountTransparencyDetails:a.show_account_transparency_details,transparencyLabel:(d=a.transparency_label)!=null?d:void 0,transparencyProduct:(b=a.transparency_product)!=null?b:void 0,username:a.username,website:a.external_url,websiteLinkshimmed:a.external_lynx_url}}});function a(a){return d("normalizr").normalize(a,h).entities.userInfo}g["default"]=a}),98);
__d("polarisManifestHasUnsupportedCodecs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b="mse");if(b==="mmse"&&window.ManagedMediaSource==null||b!=="mmse"&&window.MediaSource==null||a==null||typeof a!=="string")return!1;var c=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=c.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(b==="mmse"){if(!window.ManagedMediaSource.isTypeSupported(d))return!0}else if(!window.MediaSource.isTypeSupported(d))return!0}return!1}f["default"]=a}),66);
__d("usePolarisShowToast",["PolarisReactRedux.react","PolarisToastActions","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("PolarisReactRedux.react").useDispatch(),c;a[0]!==b?(c=function(a){b(d("PolarisToastActions").showToast(a))},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FxAuthenticationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5227");b=d("FalcoLoggerInternal").create("fx_authentication",a);e=b;g["default"]=e}),98);
__d("IGDSFacebookCircleFilled16Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("g",{clipPath:"url(#a)",children:i.jsx("path",{d:"M8 0C3.6 0 0 3.6 0 8c0 4 2.9 7.3 6.8 7.9v-5.6h-2V8h2V6.2c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.3V8h2.2l-.4 2.3H9.2v5.6C13.1 15.3 16 12 16 8c0-4.4-3.6-8-8-8Z",fill:"currentColor"})}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("defs",{children:i.jsx("clipPath",{id:"a",children:i.jsx("rect",{fill:"currentColor",height:"16",width:"16"})})}),b[1]=f):f=b[1];b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 16 16",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IgtsDefaultsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4193");b=d("FalcoLoggerInternal").create("igts_defaults",a);e=b;g["default"]=e}),98);
__d("InstagramGenericSettingStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Se ha guardado la configuraci\u00f3n.");b=h._(/*BTDS*/"Se ha producido un problema al guardar tu configuraci\u00f3n.");c=h._(/*BTDS*/"Se ha producido un error. Vuelve a intentarlo m\u00e1s tarde.");g.GENERIC_SETTINGS_SAVED=a;g.GENERIC_SETTINGS_ERROR=b;g.GENERIC_ERROR=c}),226);
__d("PolarisAPIFXCALAuthLogin",["PolarisEncryptionHelper","PolarisInstapi","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e={requestUUID:c("uuidv4")()};b=babelHelpers["extends"]({},yield d("PolarisEncryptionHelper").getEncryptedParam("password",b,e),{etoken:f,username:a});return d("PolarisInstapi").apiPost("/api/v1/web/fxcal/auth/login/ajax/",{body:b}).then(function(a){return a.data})});return h.apply(this,arguments)}g.fxcalAuthLogin=a}),98);
__d("PolarisAPIFxcalAuthTwoFactorLogin",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h){g={app_id:g,etoken:h,identifier:a,trust_signal:b,two_fac_code:e,username:c,verification_method:f};return d("PolarisInstapi").apiPost("/api/v1/web/fxcal/auth/two_fac_login/ajax/",{body:g}).then(function(a){return a.data})}g.fxcalAuthTwoFactorLogin=a}),98);
__d("PolarisAPILoginTwoFactor",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h){h===void 0&&(h=!1);a={identifier:a,isPrivacyPortalReq:h,queryParams:g,trust_signal:b,username:c,verification_method:f,verificationCode:e};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/login/ajax/two_factor/",{body:a}).then(function(a){return a.data})}g.loginTwoFactor=a}),98);
__d("PolarisAPISendAccountRecoveryEmail",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/accounts/send_account_recovery_email_ajax/",{body:{query:a}}).then(function(a){return a.data})}g.sendAccountRecoveryEmail=a}),98);
__d("PolarisAPISendAccountRecoverySms",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/accounts/send_account_recovery_sms_ajax/",{body:{query:a}}).then(function(a){return a.data})}g.sendAccountRecoverySms=a}),98);
__d("PolarisAPISendTwoFactorLoginSms",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={identifier:b,username:a};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/send_two_factor_login_sms/",{body:b}).then(function(a){return a.data})}g.sendTwoFactorLoginSms=a}),98);
__d("PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10060380564020189"}),null);
__d("PolarisAPISendTwoFactorLoginWhatsappMutation.graphql",["PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"request_data",variableName:"input"}],concreteType:"XDTSendTwoFactorLoginResponse",kind:"LinkedField",name:"xdt_send_two_factor_login_whatsapp",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTTwoFactorLoginInfo",kind:"LinkedField",name:"two_factor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"obfuscated_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_messenger_code_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_new_login_screen",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms_not_allowed_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms_two_factor_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totp_two_factor_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"two_factor_identifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_two_factor_on",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"two_factor_required",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPISendTwoFactorLoginWhatsappMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPISendTwoFactorLoginWhatsappMutation",selections:c},params:{id:b("PolarisAPISendTwoFactorLoginWhatsappMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_send_two_factor_login_whatsapp"]},name:"PolarisAPISendTwoFactorLoginWhatsappMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisAPISendTwoFactorLoginWhatsapp",["CometRelay","PolarisAPISendTwoFactorLoginWhatsappMutation.graphql","PolarisRelayEnvironment","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("PolarisAPISendTwoFactorLoginWhatsappMutation.graphql");function a(a,e){return new(i||(i=b("Promise")))(function(b,f){d("CometRelay").commitMutation(c("PolarisRelayEnvironment"),{mutation:j,onCompleted:function(a,c){if(c&&c.length){f(c);return}b(a)},onError:function(a){f([a])},variables:{input:{identifier:e,username:a}}})})}g.sendTwoFactorLoginWhatsapp=a}),98);
__d("PolarisAPISetPrivateAccount",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){a={is_private:a};b&&(a.bypass_rate_limit_dialog="1");c&&(a.privacy_nux_action=!0);e&&(a.using_confirmation_dialog=!0);return d("PolarisInstapi").apiPost("/api/v1/web/accounts/set_private/",{body:a}).then(function(a){return babelHelpers["extends"]({},a.data,{status:a.status})})}g.setPrivateAccount=a}),98);
__d("PolarisAcceptTermsOfUseBody.react",["IGDSBox.react","IGDSCheckbox.react","IGDSDivider.react","IGDSListItem.react","IGDSText.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisExternalLink.react","PolarisGenericStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;e="https://help.instagram.com/581066165581870";f="https://help.instagram.com/519522125107875";b="https://help.instagram.com/626057554667531";var l=new Map([[d("PolarisAuthStrings").TERMS_OF_USE_REQUIRED,e],[d("PolarisAuthStrings").DATA_POLICY_REQUIRED,f],[d("PolarisAuthStrings").LOCATION_BASED_FEATURES_REQUIRED,b]]);function m(a){var b=d("react-compiler-runtime").c(12),e=a.onToggle,f=a.selected,g=a.subtitleHref;a=a.title;var h;b[0]!==e||b[1]!==f?(h=i.jsx(c("IGDSCheckbox.react"),{checkboxShape:"circle",isChecked:f,name:"acceptTermsCheckbox",onChange:e}),b[0]=e,b[1]=f,b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",children:d("PolarisGenericStrings").LEARN_MORE}),b[3]=e):e=b[3];b[4]!==g?(f=i.jsx(c("IGDSBox.react"),{marginBottom:1,children:i.jsx(c("PolarisExternalLink.react"),{href:g,children:e})}),b[4]=g,b[5]=f):f=b[5];b[6]!==a?(e=i.jsx(c("IGDSBox.react"),{marginTop:3,children:i.jsx(c("IGDSText.react"),{maxLines:1,zeroMargin:!0,children:a})}),b[6]=a,b[7]=e):e=b[7];b[8]!==h||b[9]!==f||b[10]!==e?(g=i.jsx(c("IGDSListItem.react"),{addOnEnd:h,paddingX:0,paddingY:0,subtitle:f,title:e}),b[8]=h,b[9]=f,b[10]=e,b[11]=g):g=b[11];return g}function a(a){var b=d("react-compiler-runtime").c(19),e=a.onAcceptAllTermsChange,f=l.size;a=k(!1);var g=a[0],h=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=new Set(),b[0]=a):a=b[0];a=k(a);var n=a[0],o=a[1];b[1]!==g?(a=function(){g?o(new Set()):o(new Set(l.keys())),h(!g)},b[1]=g,b[2]=a):a=b[2];a=a;var p,q;b[3]!==g||b[4]!==e?(p=function(){e(g)},q=[g,e],b[3]=g,b[4]=e,b[5]=p,b[6]=q):(p=b[5],q=b[6]);j(p,q);b[7]!==a||b[8]!==g?(p=i.jsx(c("IGDSCheckbox.react"),{checkboxShape:"circle",isChecked:g,name:"acceptAllTermsCheckbox",onChange:a}),b[7]=a,b[8]=g,b[9]=p):p=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=i.jsx(c("IGDSBox.react"),{paddingY:4,children:i.jsx(c("IGDSText.react"),{maxLines:1,children:d("PolarisAuthStrings").agreeToAllTermsText(f)})}),b[10]=q):q=b[10];b[11]!==p?(a=i.jsx(c("IGDSListItem.react"),{addOnEnd:p,paddingX:0,paddingY:0,title:q}),b[11]=p,b[12]=a):a=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(q=i.jsx(c("IGDSDivider.react"),{}),b[13]=q):q=b[13];b[14]!==n?(p=Array.from(l.entries()).map(function(a){var b=a[0];a=a[1];var c=n.has(b);return i.jsx(m,{onToggle:function(){var a=new Set(n);c?a["delete"](b):a.add(b);o(a);h(a.size===f)},selected:c,subtitleHref:a,title:b},b.toString())}),b[14]=n,b[15]=p):p=b[15];b[16]!==a||b[17]!==p?(q=i.jsxs(c("IGDSBox.react"),{width:"100%",children:[a,q,p]}),b[16]=a,b[17]=p,b[18]=q):q=b[18];return q}g["default"]=a}),98);
__d("PolarisAuthConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="IG_REG_MSITE";c="IG_REG_WEB";d="IG_REG_WEB";e="IG_REG_MSITE";var g="IG_NUX_MSITE",h="IG_NUX_WEB",i="IG_REG_WEB_OIDC",j="ssfErrorAlert";b=b("$InternalEnum").Mirrored(["Login","Signup"]);f.FLOW_TYPE_REG_MOBILE=a;f.FLOW_TYPE_REG_DESKTOP=c;f.FLOW_TYPE_IG_WEB_REG_DESKTOP=d;f.FLOW_TYPE_IG_WEB_REG_MOBILE=e;f.FLOW_TYPE_IG_WEB_NUX_MOBILE=g;f.FLOW_TYPE_IG_WEB_NUX_DESKTOP=h;f.FLOW_TYPE_IG_REG_WEB_OIDC=i;f.SLIM_SIGNUP_FORM_ALERT_ID=j;f.AuthPageType=b}),66);
__d("PolarisSignupFormFields.react",["IGDSBox.react","IGDSDialogFooter.react","IGDSTextVariants.react","PolarisAuthConstants","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(31),e=a.children,f=a.handleGoBack,g=a.handleNext,h=a.header,j=a.icon,k=a.isNextActionDisabled,l=a.requestInFlight,m=a.signupNonSpecificError,n=a.style;a=a.subHeader;var o;b[0]!==h?(o=i.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"center",children:h})}),b[0]=h,b[1]=o):o=b[1];b[2]!==a?(h=i.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:a})}),b[2]=a,b[3]=h):h=b[3];b[4]!==g||b[5]!==k||b[6]!==l||b[7]!==n?(a=n==="default"&&i.jsx(c("IGDSBox.react"),{paddingX:2,paddingY:4,position:"relative",width:"100%",children:i.jsx(c("PolarisIGCoreButton.react"),{disabled:k,fullWidth:!0,loading:l,onClick:g,children:d("PolarisGenericStrings").NEXT})}),b[4]=g,b[5]=k,b[6]=l,b[7]=n,b[8]=a):a=b[8];var p;b[9]!==m?(p=m!=null&&i.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xkmlbd1 x78zum5 xdt5ytf x2lah0s xln7xf2 xvs91rp xd4r4e8 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf"},{children:i.jsx("p",{"aria-atomic":"true",id:d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID,role:"alert",children:m})}))}),b[9]=m,b[10]=p):p=b[10];b[11]!==f||b[12]!==n?(m=n==="default"&&i.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:d("PolarisGenericStrings").GO_BACK})}),b[11]=f,b[12]=n,b[13]=m):m=b[13];var q;b[14]!==e||b[15]!==j||b[16]!==o||b[17]!==h||b[18]!==a||b[19]!==p||b[20]!==m?(q=i.jsxs(c("IGDSBox.react"),{alignItems:"center",maxWidth:350,paddingX:7,paddingY:2,position:"relative",children:[j,o,h,e,a,p,m]}),b[14]=e,b[15]=j,b[16]=o,b[17]=h,b[18]=a,b[19]=p,b[20]=m,b[21]=q):q=b[21];b[22]!==f||b[23]!==g||b[24]!==k||b[25]!==l||b[26]!==n?(e=n==="modal"&&i.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:i.jsx(c("IGDSDialogFooter.react"),{endAdornment:i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,disabled:k,loading:l,onClick:g,children:d("PolarisAuthStrings").CONTINUE}),startAdornment:i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:d("PolarisGenericStrings").BACK_TEXT})})}),b[22]=f,b[23]=g,b[24]=k,b[25]=l,b[26]=n,b[27]=e):e=b[27];b[28]!==q||b[29]!==e?(j=i.jsxs(i.Fragment,{children:[q,e]}),b[28]=q,b[29]=e,b[30]=j):j=b[30];return j}g["default"]=a}),98);
__d("PolarisSignupTypesHelpers",["vulture"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={fullName:"",username:""};(a==null?void 0:a.fields)!=null&&Object.keys(a.fields).forEach(function(d){var e;if(((e=a.fields[d])==null?void 0:e.value)!=null)switch(d){case"optIntoOneTap":c("vulture")("filfxXxvJZCkPm41WFAx2HsSY7o=");b[d]=Boolean(a.fields[d].value);break;default:b[d]=a.fields[d].value}});return b}g.convertSignupResultToSignupFields=a}),98);
__d("usePolarisEmailOrPhoneContactpointType",["PolarisReactRedux.react","polarisIsPhoneNumber"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("PolarisReactRedux.react").useSelector(h);a=a==null?void 0:(a=a.fields.emailOrPhone)==null?void 0:a.value;if(a==null)return null;a=c("polarisIsPhoneNumber")(a);return a?"phone":"email"}function h(a){return(a=a.auth.signup)==null?void 0:a.signupResult}g["default"]=a}),98);
__d("PolarisAcceptTermsOfUseForm.react",["PolarisAcceptTermsOfUseBody.react","PolarisAuthStrings","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","react","react-compiler-runtime","usePolarisEmailOrPhoneContactpointType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onSignup,f=a.requestInFlight,g=a.signupNonSpecificError;a=a.style;a=a===void 0?"default":a;var h=d("PolarisReactRedux.react").useDispatch(),m=d("PolarisReactRedux.react").useSelector(l),n=c("usePolarisEmailOrPhoneContactpointType")(),o;b[0]!==n||b[1]!==h?(o=function(){h(d("PolarisSignupActions").returnToBaseSignupForm()),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:n,event_name:"back_button_clicked",step:"acceptTerms"})},b[0]=n,b[1]=h,b[2]=o):o=b[2];o=o;var p;b[3]!==n||b[4]!==e||b[5]!==m?(p=function(){e(d("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(m)),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:n,event_name:"accept_terms_form_next_clicked"})},b[3]=n,b[4]=e,b[5]=m,b[6]=p):p=b[6];p=p;var q,r;b[7]!==n?(q=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:n,event_name:"form_load",step:"acceptTerms"})},r=[n],b[7]=n,b[8]=q,b[9]=r):(q=b[8],r=b[9]);j(q,r);q=k(!0);r=q[0];var s=q[1];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=i.jsx(c("PolarisAcceptTermsOfUseBody.react"),{onAcceptAllTermsChange:function(a){s(!a)}}),b[10]=q):q=b[10];b[11]!==o||b[12]!==p||b[13]!==r||b[14]!==f||b[15]!==g||b[16]!==a?(q=i.jsx(c("PolarisSignupFormFields.react"),{handleGoBack:o,handleNext:p,header:d("PolarisAuthStrings").AGREE_TO_TERMS,isNextActionDisabled:r,requestInFlight:f,signupNonSpecificError:g,style:a,subHeader:d("PolarisAuthStrings").PERSONAL_INFO_SECURE,children:q}),b[11]=o,b[12]=p,b[13]=r,b[14]=f,b[15]=g,b[16]=a,b[17]=q):q=b[17];return q}function l(a){return(a=a.auth.signup)==null?void 0:a.signupResult}g["default"]=a}),98);
__d("PolarisAccountPrivacyHelpers",[],(function(a,b,c,d,e,f){"use strict";a={PRIVATE:"private",PUBLIC:"public"};b={NUX_FORM_IMPRESSION:"web_pbd_nux_form_impression",NUX_FORM_NEXT_BUTTON_CLICK:"web_pbd_nux_form_next_button_click",NUX_FORM_SELECT_OPTION:"web_pbd_nux_form_select_option",NUX_FORM_SET_PRIVATE_FAILURE:"web_pbd_nux_form_set_private_failure",NUX_FORM_SET_PRIVATE_SUCCESS:"web_pbd_nux_form_set_private_success",NUX_PAGE_IMPRESSION:"web_pbd_nux_page_impression"};f.PrivacyOptionsEnum=a;f.PBDNuxEventsEnum=b}),66);
__d("PolarisAccountPrivacyBody.react",["IGDSBox.react","IGDSRadioButton.react","IGDSTextVariants.react","PolarisAccountPrivacyHelpers","PolarisAuthStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.selectedBodyOption,f=a.setSelectedBodyOption;if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){a=[{desc:(a=d("PolarisAuthStrings")).PRIVATE_ACCOUNT_DESCRIPTION,label:a.PRIVATE_ACCOUNT,value:d("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE},{desc:a.PUBLIC_ACCOUNT_DESCRIPTION,label:a.PUBLIC_ACCOUNT,value:d("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PUBLIC}];b[0]=a}else a=b[0];a=a;b[1]!==e||b[2]!==f?(a=i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:a.map(function(a){return i.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:3,children:i.jsx(c("IGDSRadioButton.react"),{isChecked:a.value===e,label:i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{children:i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"start",children:a.label})}),i.jsx(c("IGDSBox.react"),{marginTop:1,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"start",children:a.desc})})]}),onChange:function(){return f(a.value)},value:a.value})},a.value)})}),b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("PolarisSettingsActionSetPrivateAccount",["FBLogger","InstagramGenericSettingStrings","PolarisAPISetPrivateAccount","PolarisGenericStrings","PolarisSentryFeedbackActions"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.handleFailure,e=a.handleSuccess,f=a.isNuxAction,g=a.isUsingConfirmationDialog,i=a.privateAccount,j=a.publicToPrivateRateLimitOverride,k=a.setErrorMessage,l=a.setLoading;return function(a){l!=null&&l(!0);k!=null&&k(null);a({privateAccount:i,type:"PRIVATE_ACCOUNT_UPDATE_REQUESTED"});return d("PolarisAPISetPrivateAccount").setPrivateAccount(i,j,f,g).then(function(c){if(i&&c.status==="ok"&&c.has_private_public_switch_restriction){var f=c.privacy_rate_limit_dialog_message;a({message:f,title:c.privacy_rate_limit_dialog_title,type:"ACCOUNT_PRIVACY_PUBLIC_TO_PRIVATE_SWITCH_RATE_LIMITED"});l!=null&&l(!1);k!=null&&k(f);b!=null&&b();return}if(!i&&c.status==="ok"&&c.has_private_public_switch_restriction){f=c.privacy_rate_limit_dialog_message;a({message:f,title:c.privacy_rate_limit_dialog_title,type:"ACCOUNT_PRIVACY_PRIVATE_TO_PUBLIC_SWITCH_RATE_LIMITED"});l!=null&&l(!1);k!=null&&k(f);b!=null&&b();return}c.status==="ok"?(a({privateAccount:i,toast:{text:d("InstagramGenericSettingStrings").GENERIC_SETTINGS_SAVED},type:"PRIVATE_ACCOUNT_UPDATE_SUCCEEDED"}),e!=null&&e()):(a({privateAccount:!i,toast:{actionHandler:function(){return a(h({privateAccount:i}))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("InstagramGenericSettingStrings").GENERIC_SETTINGS_ERROR},type:"PRIVATE_ACCOUNT_UPDATE_FAILED"}),l!=null&&l(!1),k!=null&&k(d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE),b!=null&&b())},function(e){var f;l!=null&&l(!1);f=((f=e.responseObject)==null?void 0:f.spam)||!1;if(f){var g,j,m,n,o,p,q;g=(g=e.responseObject)==null?void 0:g.feedback_title;j=(j=e.responseObject)==null?void 0:j.feedback_message;m=(m=e.responseObject)==null?void 0:m.feedback_url;n=(n=e.responseObject)==null?void 0:n.feedback_action;o=(o=e.responseObject)==null?void 0:o.feedback_appeal_label;p=(p=e.responseObject)==null?void 0:p.restriction_enrollment_data;q=(q=e.responseObject)==null?void 0:q.enforcement_transparency_instance_identifier;a(d("PolarisSentryFeedbackActions").showSentryFeedback({action:n,enforcement_transparency_instance_identifier:q,feedback_appeal_label:o,message:j,restriction_enrollment_data:p,sourceOfAction:"set_private_account",title:g,url:m}));k!=null&&k(j);b!=null&&b()}q=(n=e.responseObject)==null?void 0:n.message;a({privateAccount:!i,toast:f?void 0:{actionHandler:function(){return a(h({privateAccount:i}))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:q||d("InstagramGenericSettingStrings").GENERIC_SETTINGS_ERROR},type:"PRIVATE_ACCOUNT_UPDATE_FAILED"});k!=null&&k(q||d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE);b!=null&&b();c("FBLogger")("ig_web").catching(e)})}}g.setPrivateAccount=h}),98);
__d("PolarisAccountPrivacyForm.react",["IGDSBox.react","IGDSLockOutline96Icon.react","IGDSTextVariants.react","IgtsDefaultsFalcoEvent","InstagramODS","PolarisAccountPrivacyBody.react","PolarisAccountPrivacyHelpers","PolarisAuthStrings","PolarisConfig","PolarisGenericOnboardingUnit.react","PolarisGenericStrings","PolarisReactRedux.react","PolarisSettingsActionSetPrivateAccount","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(27),e=a.defaultedToPrivate,f=a.handleNext,g=e||c("gkx")("6489")||c("gkx")("25363");a=k(g?d("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE:null);var h=a[0],l=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisConfig").getViewerId(),b[0]=e):e=b[0];var m=e,n=d("PolarisReactRedux.react").useDispatch();a=k(!1);e=a[0];var o=a[1];a=k(null);var p=a[0],q=a[1],r;b[1]!==g?(a=function(){c("InstagramODS").incr("web.pbd.impression"),c("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:m,event_type:d("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_IMPRESSION,is_set_to_private:g}})},r=[g,m],b[1]=g,b[2]=a,b[3]=r):(a=b[2],r=b[3]);j(a,r);b[4]!==f||b[5]!==h?(a=function(){c("InstagramODS").incr("web.pbd.set_private_success"),c("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:m,event_type:d("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SET_PRIVATE_SUCCESS,target_control_type:h}}),f()},b[4]=f,b[5]=h,b[6]=a):a=b[6];var s=a;b[7]!==h?(r=function(){c("InstagramODS").incr("web.pbd.set_private_failure"),c("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:m,event_type:d("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SET_PRIVATE_FAILURE,target_control_type:h}})},b[7]=h,b[8]=r):r=b[8];var t=r;b[9]!==n||b[10]!==t||b[11]!==s||b[12]!==h?(a=function(){c("InstagramODS").incr("web.pbd.next_button_click"),c("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:m,event_type:d("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_NEXT_BUTTON_CLICK,target_control_type:h}}),n(d("PolarisSettingsActionSetPrivateAccount").setPrivateAccount({handleFailure:t,handleSuccess:s,isNuxAction:!0,privateAccount:h===d("PolarisAccountPrivacyHelpers").PrivacyOptionsEnum.PRIVATE,publicToPrivateRateLimitOverride:!0,setErrorMessage:q,setLoading:o}))},b[9]=n,b[10]=t,b[11]=s,b[12]=h,b[13]=a):a=b[13];r=a;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){c("InstagramODS").incr("web.pbd.option_select"),c("IgtsDefaultsFalcoEvent").log(function(){return{client_userid:m,event_type:d("PolarisAccountPrivacyHelpers").PBDNuxEventsEnum.NUX_FORM_SELECT_OPTION,target_control_type:a}}),l(a)},b[14]=a):a=b[14];a=a;var u;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(u=i.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:d("PolarisAuthStrings").ACCOUNT_PRIVACY_SUBHEADER_TEXT})}),b[15]=u):u=b[15];b[16]!==h?(u=i.jsxs(i.Fragment,{children:[u,i.jsx(c("PolarisAccountPrivacyBody.react"),{selectedBodyOption:h,setSelectedBodyOption:a})]}),b[16]=h,b[17]=u):u=b[17];a=h==null;var v;b[18]!==p?(v=p!=null?i.jsx(c("IGDSBox.react"),{paddingX:1,paddingY:4,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:p})}):null,b[18]=p,b[19]=v):v=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx(c("IGDSLockOutline96Icon.react"),{alt:d("PolarisAuthStrings").ACCOUNT_PRIVACY_HEADER_TEXT,size:64}),b[20]=p):p=b[20];b[21]!==r||b[22]!==e||b[23]!==a||b[24]!==v||b[25]!==u?(p=i.jsx(c("PolarisGenericOnboardingUnit.react"),{bodyText:u,buttonDisabled:a,buttonText:d("PolarisGenericStrings").NEXT,footer:v,headerText:d("PolarisAuthStrings").ACCOUNT_PRIVACY_HEADER_TEXT,icon:p,isProcessing:e,onButtonClick:r}),b[21]=r,b[22]=e,b[23]=a,b[24]=v,b[25]=u,b[26]=p):p=b[26];return p}g["default"]=a}),98);
__d("PolarisAccountRecoveryActions",["PolarisAPISendAccountRecoveryEmail","PolarisAPISendAccountRecoverySms","PolarisAuthStrings","PolarisInstajax","PolarisToastActions","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a instanceof d("PolarisInstajax").AjaxError&&a.message?a.message:d("PolarisAuthStrings").SEND_ACCOUNT_RECOVERY_LINK_FAILED_TEXT}function a(){return function(a,b){a({type:"ACCOUNT_RECOVERY_MODAL_DISMISSED"})}}function b(){return function(a,b){a({type:"ACCOUNT_RECOVERY_MODAL_DISMISSED"});b=b();b=b.auth.accountRecovery;b=b==null?void 0:b.query;d("PolarisAPISendAccountRecoveryEmail").sendAccountRecoveryEmail(c("nullthrows")(b)).then(function(b){a(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:b.toast_message}))})["catch"](function(b){a(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:h(b)}))})}}function e(){return function(a,b){a({type:"ACCOUNT_RECOVERY_MODAL_DISMISSED"});b=b();b=b.auth.accountRecovery;b=b==null?void 0:b.query;d("PolarisAPISendAccountRecoverySms").sendAccountRecoverySms(c("nullthrows")(b)).then(function(b){a(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:b.toast_message}))})["catch"](function(b){a(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:h(b)}))})}}g.closeAccountRecoveryModal=a;g.sendAccontRecoveryEmail=b;g.sendAccountRecoverySms=e}),98);
__d("PolarisAccountRecoveryOptionsConfig",["fbt","PolarisAuthStrings","isStringNullOrEmpty","keyMirror","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;j||d("react");var k=c("keyMirror")({SEND_EMAIL:null,SEND_LOGIN_LINK_FOR_BOOST:null,SEND_PHONE:null,TRY_AGAIN:null,USE_FBC:null}),l=c("keyMirror")({EMAIL:null,EMAIL_BOOST:null,EMAIL_PHONE:null,FB_EMAIL:null,FB_PHONE:null,FBC:null,NOT_AVAILABLE:null,PHONE:null,PHONE_EMAIL:null,TRY_AGAIN_ONLY:null}),m=[k.TRY_AGAIN];b=h._(/*BTDS*/"Volver a intentar");e=h._(/*BTDS*/"Usar Facebook");f=h._(/*BTDS*/"Enviar correo electr\u00f3nico");var n=h._(/*BTDS*/"Enviar enlace de acceso"),o=h._(/*BTDS*/"Enviar mensaje de texto");b=(i={},i[k.TRY_AGAIN]={text:b},i[k.USE_FBC]={text:e},i[k.SEND_EMAIL]={text:f},i[k.SEND_LOGIN_LINK_FOR_BOOST]={text:n},i[k.SEND_PHONE]={text:o},i);function p(a){switch(a){case l.TRY_AGAIN_ONLY:return[k.TRY_AGAIN];case l.FBC:c("vulture")("tvOoRkjIHbww5govvbWoIbgNt2M=");return[k.USE_FBC,k.TRY_AGAIN];case l.EMAIL:c("vulture")("VD-4ryUVkMamodvJ16ew2FfkwaU=");return[k.SEND_EMAIL,k.TRY_AGAIN];case l.EMAIL_BOOST:c("vulture")("Ft8TYANo0dQAUnWCrEi6yX8rJlk=");return[k.SEND_LOGIN_LINK_FOR_BOOST,k.TRY_AGAIN];case l.PHONE:c("vulture")("lNKXS4zqiPjqh73WeRnHZM139_E=");return[k.SEND_PHONE,k.TRY_AGAIN];case l.EMAIL_PHONE:c("vulture")("-67eRoKkOA1HkHDKdGj7GAmzMZM=");return[k.SEND_EMAIL,k.SEND_PHONE,k.TRY_AGAIN];case l.PHONE_EMAIL:c("vulture")("Hl7oP97d65e60mahvddEBUvNNC4=");return[k.SEND_PHONE,k.SEND_EMAIL,k.TRY_AGAIN];case l.FB_PHONE:c("vulture")("N10bvp8fz2k29qvHISjsaGzZM-I=");return[k.USE_FBC,k.SEND_PHONE,k.TRY_AGAIN];case l.FB_EMAIL:c("vulture")("h7-L6NvtmKIuw1GF-4xj6cmpFOg=");return[k.USE_FBC,k.SEND_EMAIL,k.TRY_AGAIN];default:c("vulture")("9hMnHRTT_QPHolmkOUra_NW1M7o=");return m}}function q(a,b,e,f,g){e=!c("isStringNullOrEmpty")(g)&&g!==b?h._(/*BTDS*/"El nombre de usuario y la contrase\u00f1a no coinciden"):c("isStringNullOrEmpty")(b)?h._(/*BTDS*/"Contrase\u00f1a incorrecta"):e==="username"?h._(/*BTDS*/"\u00bfHas olvidado la contrase\u00f1a de {username}?",[h._param("username",b)]):h._(/*BTDS*/"\u00bfHas olvidado la contrase\u00f1a?");b=c("isStringNullOrEmpty")(g)?f!=null&&f?d("PolarisAuthStrings").ERROR_LOGIN_PASSWORD_OCL_EMAIL_SENT:h._(/*BTDS*/"La contrase\u00f1a que has escrito no es correcta. Vuelve a intentarlo."):h._(/*BTDS*/"Vuelve a intentarlo o env\u00eda un enlace a tu correo electr\u00f3nico para ayudarte a iniciar sesi\u00f3n.");switch(a){case l.FBC:c("vulture")("hYDGZXlUH6Er43vOhhrWd5qF4L8=");return{description:h._(/*BTDS*/"Puedes iniciar sesi\u00f3n con tu cuenta de Facebook asociada."),title:e};case l.EMAIL:c("vulture")("-tYpz_E0QLht6Qp4fH_-wDgKo8w=");return{description:h._(/*BTDS*/"Podemos enviarte un correo electr\u00f3nico para ayudarte a volver a entrar en tu cuenta."),title:e};case l.PHONE:c("vulture")("E6nsLemrLegMzRwqsf4qrzHF8iM=");return{description:h._(/*BTDS*/"Podemos enviarte un mensaje de texto para ayudarte a volver a entrar en tu cuenta."),title:e};case l.EMAIL_PHONE:case l.PHONE_EMAIL:c("vulture")("qagOiH1Fh1ID1oeN22lsfs_0K2E=");return{description:h._(/*BTDS*/"Podemos enviarte un enlace de acceso para ayudarte a volver a entrar en tu cuenta."),title:e};case l.NOT_AVAILABLE:c("vulture")("ioyrXbaX-5Yj6T-Vi-1phqr9AXU=");return{description:h._(/*BTDS*/"No hemos podido enviarte el enlace de acceso. Visita el servicio de ayuda de Instagram para obtener m\u00e1s informaci\u00f3n sobre c\u00f3mo acceder a tu cuenta."),title:h._(/*BTDS*/"Obtener acceso a tu cuenta")};default:c("vulture")("FOZT6spXvKU3MFka12T_nOZwpjc=");return{description:b,title:e}}}function a(a,b,c,d){var e=l.TRY_AGAIN_ONLY;if(!a)return babelHelpers["extends"]({},q(e,void 0,void 0,c),{optionsList:p(e)});var f=a.can_send_email,g=a.can_send_phone,h=a.can_use_facebook,i=a.is_boost_user_eligible_for_account_recovery;a=a.query_type;if(h){f===!0&&g===!0?e=a==="email"?l.FB_EMAIL:l.FB_PHONE:f===!0?e=l.FB_EMAIL:g===!0?e=l.FB_PHONE:e=l.FBC;return babelHelpers["extends"]({},q(e,b,a),{optionsList:p(e)})}(a==="username"||a==="email")&&(f===!0?e=g===!0?l.EMAIL_PHONE:l.EMAIL:e=g===!0?l.PHONE:l.NOT_AVAILABLE);a==="phone"&&(g===!0?e=f===!0?l.PHONE_EMAIL:l.PHONE:e=f===!0?l.EMAIL:l.NOT_AVAILABLE);i==!0&&(e=l.EMAIL_BOOST);return babelHelpers["extends"]({},q(e,b,a,c,d),{optionsList:p(e)})}g.Option=k;g.ACCOUNT_RECOVERY_OPTIONS=b;g.getOptions=a}),226);
__d("PolarisAuthTestIDs",[],(function(a,b,c,d,e,f){"use strict";a="login-error-message";b="login-info-message";c="login-success-message";d="auth-message-modal";f.DESKTOP_AUTH_ERROR_MESSAGE=a;f.DESKTOP_AUTH_INFO_MESSAGE=b;f.DESKTOP_AUTH_SUCCESS_MESSAGE=c;f.MOBILE_AUTH_MESSAGE_MODAL=d}),66);
__d("usePolarisSendAccountRecoveryEmailForBoost",["PolarisAPISendAccountRecoveryEmail","PolarisAuthStrings","PolarisInstajax","PolarisLoginLogger","PolarisReactRedux.react","nullthrows","react-compiler-runtime","useIGDSToaster"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a instanceof d("PolarisInstajax").AjaxError&&a.message?a.message:d("PolarisAuthStrings").SEND_ACCOUNT_RECOVERY_LINK_FAILED_TEXT}function a(){var a=d("react-compiler-runtime").c(6),b=c("useIGDSToaster")(),e=b.add,f=d("PolarisReactRedux.react").useDispatch(),g=d("PolarisReactRedux.react").useSelector(i);a[0]!==e?(b=function(a){e({message:a,target:"bottom"},{duration:1e4})},a[0]=e,a[1]=b):b=a[1];var j=b;a[2]!==j||a[3]!==f||a[4]!==g?(b=function(){f({type:"ACCOUNT_RECOVERY_MODAL_DISMISSED"});var a=g.accountRecovery,b=a==null?void 0:a.targetUsername;b=b!=null?b:a==null?void 0:a.query;var e={event_flow:"account_recovery",login_identifier:b!=null?b:void 0};d("PolarisLoginLogger").logLoginEvent(babelHelpers["extends"]({event_name:"boost_account_recovery_send_email_submit"},e));d("PolarisAPISendAccountRecoveryEmail").sendAccountRecoveryEmail(c("nullthrows")(b)).then(function(a){j(a.toast_message),d("PolarisLoginLogger").logLoginEvent(babelHelpers["extends"]({event_name:"boost_account_recovery_send_email_success"},e))})["catch"](function(a){j(h(a)),d("PolarisLoginLogger").logLoginEvent(babelHelpers["extends"]({event_name:"boost_account_recovery_send_email_error",extra_client_data:{error_message:a.message}},e))})},a[2]=j,a[3]=f,a[4]=g,a[5]=b):b=a[5];a=b;return a}function i(a){return a.auth}g["default"]=a}),98);
__d("PolarisAccountRecoveryModalContainer.react",["FBLogger","IGCoreDialog.react","PolarisAccountRecoveryActions","PolarisAccountRecoveryOptionsConfig","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthTestIDs","PolarisFBConnectHelpers","PolarisLoginLogger","PolarisReactRedux.react","emptyFunction","react","react-compiler-runtime","usePolarisSendAccountRecoveryEmailForBoost","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$2=function(){d("PolarisLoginLogger").logLoginEvent({event_name:"recovery_facebook"});if(b.props.isFBLoggedIn===!0){b.props.onUseFBC();return}d("PolarisFBConnectHelpers").redirectToFBOAuth("/","loginPage");return},b.$3=function(){b.props.onSendEmail(),d("PolarisLoginLogger").logLoginEvent({event_name:"recovery_email"})},b.$4=function(){b.props.onSendLoginLinkForBoost==null?void 0:b.props.onSendLoginLinkForBoost(),d("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_dialog_click"})},b.$5=function(){b.props.onSendPhone(),d("PolarisLoginLogger").logLoginEvent({event_name:"recovery_sms"})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.$1=function(a){switch(a){case d("PolarisAccountRecoveryOptionsConfig").Option.TRY_AGAIN:c("vulture")("9id5WQum30p0Hi06wJCO3dek11k=");return this.props.onTryAgain;case d("PolarisAccountRecoveryOptionsConfig").Option.USE_FBC:c("vulture")("LnmMPKJAM33CnYzyqGj7n0s0xXs=");return this.$2;case d("PolarisAccountRecoveryOptionsConfig").Option.SEND_EMAIL:c("vulture")("fyQ4jifn_l-u28BTmFkseMezyb0=");return this.$3;case d("PolarisAccountRecoveryOptionsConfig").Option.SEND_LOGIN_LINK_FOR_BOOST:c("vulture")("RElhdYH8S-vN_FOV3im1QbEPZi8=");return this.$4;case d("PolarisAccountRecoveryOptionsConfig").Option.SEND_PHONE:return this.$5;default:c("vulture")("VVCfWTBzxcf_39-P9eihqiJsw9o="),c("FBLogger")("ig_web").mustfix("AccountRecoveryModal: missing handler for "+a+" option")}return c("emptyFunction")};e.render=function(){var a=this,b=this.props.options,c=b.description,e=b.optionsList;b=b.title;return i.jsx(d("IGCoreDialog.react").IGCoreDialog,{body:c,"data-testid":void 0,onModalClose:this.props.onTryAgain,title:b,children:e.map(function(b){return i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:b===d("PolarisAccountRecoveryOptionsConfig").Option.TRY_AGAIN&&e.length!==1?"ig-secondary-button":"ig-primary-button",onClick:a.$1(b),children:d("PolarisAccountRecoveryOptionsConfig").ACCOUNT_RECOVERY_OPTIONS[b].text},b)})})};return b}(i.Component);function a(a){a=a.auth;var b=a.accountRecovery;a=a.login;var c=b==null?void 0:b.options,e=b==null?void 0:b.query;a=a?a.submissionCount:0;c=d("PolarisAccountRecoveryOptionsConfig").getOptions(c,e,b==null?void 0:b.wasRecoveryEmailSentForBoostUser,b==null?void 0:b.targetUsername);return{options:c,showAccountRecoveryModal:!!(b==null?void 0:b.showAccountRecoveryModal),submissionCount:a}}function b(a,b){return{onSendEmail:function(){a(d("PolarisAccountRecoveryActions").sendAccontRecoveryEmail())},onSendPhone:function(){a(d("PolarisAccountRecoveryActions").sendAccountRecoverySms())},onTryAgain:function(){a(d("PolarisAccountRecoveryActions").closeAccountRecoveryModal()),d("PolarisLoginLogger").logLoginEvent({event_name:"try_again_click"}),b.isBoostUserEligibleForAccountRecovery===!0&&d("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_dialog_try_again_click"})},onUseFBC:function(){a(d("PolarisAuthActions").switchAuthType(d("PolarisAuthActionConstants").AUTH.fbLogin))}}}var k=d("PolarisReactRedux.react").connect(a,b)(f);function e(a){var b=d("react-compiler-runtime").c(7);a=a.isFBLoggedIn;var e=c("usePolarisSendAccountRecoveryEmailForBoost")(),f=d("PolarisReactRedux.react").useSelector(l),g=f==null?void 0:(f=f.accountRecovery)==null?void 0:(f=f.options)==null?void 0:f.is_boost_user_eligible_for_account_recovery,h;b[0]!==g?(f=function(){g===!0&&d("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_dialog_view"})},h=[g],b[0]=g,b[1]=f,b[2]=h):(f=b[1],h=b[2]);j(f,h);b[3]!==g||b[4]!==a||b[5]!==e?(f=i.jsx(k,{isBoostUserEligibleForAccountRecovery:g,isFBLoggedIn:a,onSendLoginLinkForBoost:e}),b[3]=g,b[4]=a,b[5]=e,b[6]=f):f=b[6];return f}function l(a){return a.auth}g["default"]=e}),98);
__d("PolarisAppsellUnit.react",["fbt","IGDSTextVariants.react","PolarisAppInstallLink.react","PolarisConfigConstants","gkx","polarisGetAppPlatform","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Descarga la aplicaci\u00f3n."),a[0]=b):b=a[0];b=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({className:"x1anpbxc x3aesyq xyorhqc xqsn43r"},{children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:b})})),a[1]=b):b=a[1];return b}function a(a){var b=d("react-compiler-runtime").c(21),e=a.appInstallCampaign,f=a.ctaTypeV2;a=a.hideText;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("polarisGetAppPlatform").isWindowsNT()&&c("gkx")("25364"),b[0]=g):g=b[0];g=g;var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x78zum5 xdt5ytf"},b[1]=h):h=b[1];var i;b[2]!==a?(i=a!==!0&&j.jsx(k,{}),b[2]=a,b[3]=i):i=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x78zum5 x1b7blni xl56j7k x1anpbxc x14z9mp xyorhqc x1lziwak"},b[4]=a):a=b[4];var l;b[5]!==e||b[6]!==f?(l=!d("polarisGetAppPlatform").isAndroid()&&!g&&j.jsx(c("PolarisAppInstallLink.react"),{campaign:e,ctaTypeV2:f,"data-testid":void 0,platform:d("PolarisConfigConstants").appPlatformTypes.IOS}),b[5]=e,b[6]=f,b[7]=l):l=b[7];var m;b[8]!==e||b[9]!==f?(m=!d("polarisGetAppPlatform").isIOS()&&j.jsx(c("PolarisAppInstallLink.react"),{campaign:e,ctaTypeV2:f,"data-testid":void 0,platform:d("PolarisConfigConstants").appPlatformTypes.ANDROID}),b[8]=e,b[9]=f,b[10]=m):m=b[10];b[11]!==e||b[12]!==f?(g=g&&j.jsx(c("PolarisAppInstallLink.react"),{campaign:e,ctaTypeV2:f,"data-testid":void 0,platform:d("PolarisConfigConstants").appPlatformTypes.WINDOWSNT10}),b[11]=e,b[12]=f,b[13]=g):g=b[13];b[14]!==l||b[15]!==m||b[16]!==g?(e=j.jsxs("div",babelHelpers["extends"]({},a,{children:[l,m,g]})),b[14]=l,b[15]=m,b[16]=g,b[17]=e):e=b[17];b[18]!==i||b[19]!==e?(f=j.jsxs("div",babelHelpers["extends"]({},h,{children:[i,e]})),b[18]=i,b[19]=e,b[20]=f):f=b[20];return f}g["default"]=a}),226);
__d("PolarisTooManyAccountsDialog.react",["fbt","PolarisConfirmDialog.react","PolarisGenericStrings","PolarisOneTapLogin","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.onClose;a=a.onConfirm;var f=k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=f(),b[0]=f):f=b[0];var g;b[1]!==a?(g=a!=null?h._(/*BTDS*/"Editar cuentas"):void 0,b[1]=a,b[2]=g):g=b[2];a=a!=null?a:void 0;var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"No se puede a\u00f1adir la cuenta"),b[3]=i):i=b[3];b[4]!==e||b[5]!==g||b[6]!==a?(f=j.jsx(c("PolarisConfirmDialog.react"),{body:f,cancelLabel:d("PolarisGenericStrings").OK_TEXT,confirmLabel:g,onClose:e,onConfirm:a,title:i}),b[4]=e,b[5]=g,b[6]=a,b[7]=f):f=b[7];return f}function k(){return d("PolarisOneTapLogin").TOO_MANY_ACCOUNTS_TEXT}g["default"]=a}),226);
__d("XPolarisLoginControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/accounts/login/",Object.freeze({force_authentication:!1,enable_fb_login:!1,is_from_rle:!1,mtn:!1,flo:!1}),new Set(["force_authentication","enable_fb_login","is_from_rle","mtn"]));b=a;g["default"]=b}),98);
__d("usePolarisOneTapLoginEditModeStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XDTViewer",kind:"LinkedField",name:"xdt_viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"PolarisOneTapLogin",kind:"LinkedField",name:"one_tap_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"edit_mode",storageKey:null}],storageKey:null}]}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisOneTapLoginEditModeStateQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"usePolarisOneTapLoginEditModeStateQuery",selections:a},params:{cacheID:"fded0f553435868ea14676d1156763b5",id:null,metadata:{is_distillery:!0,root_field_name:["xdt_viewer"]},name:"usePolarisOneTapLoginEditModeStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("usePolarisOneTapLoginEditModeState",["CometRelay","PolarisLoginLogger","react","react-compiler-runtime","usePolarisOneTapLoginEditModeStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(7),c=d("CometRelay").useRelayEnvironment(),e,f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("usePolarisOneTapLoginEditModeStateQuery.graphql"),f={},a[0]=e,a[1]=f):(e=a[0],f=a[1]);e=d("CometRelay").useClientQuery(e,f);a[2]!==c?(f=function(a){d("CometRelay").commitLocalUpdate(c,function(b){b.getRoot().getOrCreateLinkedRecord("xdt_viewer","XDTViewer").getOrCreateLinkedRecord("one_tap_login","PolarisOneTapLogin").setValue(a,"edit_mode")}),d("PolarisLoginLogger").logLoginEvent({event_name:a?"one_tap_login_done_editing_click":"one_tap_login_manage_accounts_click",login_type:"device_based_login"})},a[2]=c,a[3]=f):f=a[3];f=f;e=(e=e==null?void 0:(e=e.xdt_viewer)==null?void 0:(e=e.one_tap_login)==null?void 0:e.edit_mode)!=null?e:!1;var g;a[4]!==e||a[5]!==f?(g=[e,f],a[4]=e,a[5]=f,a[6]=g):g=a[6];return g}g["default"]=a}),98);
__d("PolarisAuthTypeSwitcher.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisFastLink.react","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoginLogger","PolarisMultiSignupTypes","PolarisOneTapLogin","PolarisOneTapLoginStorage","PolarisReactRedux.react","PolarisRoutes","PolarisSignupActions","PolarisTooManyAccountsDialog.react","PolarisUA","XPolarisLoginControllerRouteBuilder","XPolarisMultiStepSignupControllerRouteBuilder","react","react-compiler-runtime","usePolarisOneTapLoginEditModeState","usePolarisPageID"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));f=i;f.useCallback;var k=f.useState,l=d("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration();function m(a){var b=d("react-compiler-runtime").c(17),e=a.className,f=a.fromLoggedOutDialog,g=a.onClick,i=f===void 0?!1:f,k=d("PolarisReactRedux.react").useDispatch(),m=c("usePolarisPageID")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryButton",children:h._(/*BTDS*/"Reg\u00edstrate")}),b[0]=a):a=b[0];f=a;b[1]!==k||b[2]!==i||b[3]!==g||b[4]!==m?(a=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup",i?"auth_form_dialog":"auth_form",m);l&&k(d("PolarisSignupActions").setShowRegulatoryConsentModal());return g},b[1]=k,b[2]=i,b[3]=g,b[4]=m,b[5]=a):a=b[5];a=a;var n;b[6]!==m?(n=function(){if(d("PolarisUA").isMobile()&&!l)return c("XPolarisMultiStepSignupControllerRouteBuilder").buildUri({step_name:d("PolarisMultiSignupTypes").getFirstStep()}).toString();else if(!d("PolarisUA").isMobile()&&!l||m!=="unifiedHome")return d("PolarisRoutes").EMAIL_SIGNUP_PATH},b[6]=m,b[7]=n):n=b[7];n=n;var o;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"\u00bfNo tienes una cuenta?"),b[8]=o):o=b[8];var p;b[9]!==n?(p=n(),b[9]=n,b[10]=p):p=b[10];b[11]!==a||b[12]!==p?(n=j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:p,onClick:a,children:f}),b[11]=a,b[12]=p,b[13]=n):n=b[13];b[14]!==e||b[15]!==n?(f=j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"auto",children:j.jsxs("p",{className:e,children:[o," ",n]})}),b[14]=e,b[15]=n,b[16]=f):f=b[16];return f}function n(a){var b=d("react-compiler-runtime").c(10),e=a.className,f=a.fromLoggedOutDialog,g=a.onClick,i=f===void 0?!1:f,k=c("usePolarisPageID")();b[0]!==i||b[1]!==g||b[2]!==k?(a=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login",i?"auth_form_dialog":"auth_form",k);return g},b[0]=i,b[1]=g,b[2]=k,b[3]=a):a=b[3];f=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"primaryButton",children:h._(/*BTDS*/"Entrar")}),b[4]=a):a=b[4];a=a;b[5]!==f?(a=h._(/*BTDS*/"\u00bfTienes una cuenta? {link that reads Log in}",[h._param("link that reads Log in",j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:d("PolarisLinkBuilder").buildLoginLink("",{source:"auth_switcher"}),onClick:f,children:a}))]),b[5]=f,b[6]=a):a=b[6];b[7]!==e||b[8]!==a?(f=j.jsx("p",{className:e,children:a}),b[7]=e,b[8]=a,b[9]=f):f=b[9];return f}function o(a){var b=d("react-compiler-runtime").c(21),e=a.onSwitchAuthType;a=a.pageType;var f=d("PolarisReactRedux.react").useDispatch(),g=c("usePolarisPageID")(),i=c("usePolarisOneTapLoginEditModeState")(),m=i[0],n=i[1];i=k(!1);var o=i[0],p=i[1];b[0]!==e?(i=function(){d("PolarisOneTapLogin").hasMaxOneTapNonces()?(p(!0),d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_switch_account_too_many_accounts",login_type:"device_based_login"})):(e(d("PolarisAuthActionConstants").AUTH.login),d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_switch_account_click",login_type:"device_based_login"}))},b[0]=e,b[1]=i):i=b[1];i=i;var q;b[2]!==m||b[3]!==n?(q=function(){n(!m)},b[2]=m,b[3]=n,b[4]=q):q=b[4];var r=q;b[5]!==g?(q=function(){if(l&&g==="unifiedHome")return;return d("PolarisUA").isMobile()?c("XPolarisMultiStepSignupControllerRouteBuilder").buildUri({step_name:d("PolarisMultiSignupTypes").getFirstStep()}).toString():d("PolarisRoutes").EMAIL_SIGNUP_PATH},b[5]=g,b[6]=q):q=b[6];q=q;if(b[7]!==f||b[8]!==q||b[9]!==i||b[10]!==e||b[11]!==a){var s;b[13]!==a?(s=d("PolarisOneTapLogin").hasMaxOneTapNonces()?void 0:a===d("PolarisAuthConstants").AuthPageType.Signup?c("XPolarisLoginControllerRouteBuilder").buildURL({}):void 0,b[13]=a,b[14]=s):s=b[14];s=j.jsx("div",{children:h._(/*BTDS*/"{link that reads Switch Accounts} o {link that reads sign up}",[h._param("link that reads Switch Accounts",j.jsx(c("IGDSButton.react"),{display:"block",href:s,label:h._(/*BTDS*/"Cambiar de cuenta"),onClick:i,variant:"primary_link"})),h._param("link that reads sign up",j.jsx(c("IGDSButton.react"),{display:"block",href:q(),label:h._(/*BTDS*/"Registrarte"),onClick:function(){if(l){f(d("PolarisSignupActions").setShowRegulatoryConsentModal());return}e(d("PolarisAuthActionConstants").AUTH.signup);d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_signup_click",login_type:"device_based_login"})},variant:"primary_link"}))])});b[7]=f;b[8]=q;b[9]=i;b[10]=e;b[11]=a;b[12]=s}else s=b[12];b[15]!==r||b[16]!==o?(q=o&&j.jsx(c("PolarisTooManyAccountsDialog.react"),{onClose:function(){return p(!1)},onConfirm:function(){r(),p(!1)}}),b[15]=r,b[16]=o,b[17]=q):q=b[17];b[18]!==s||b[19]!==q?(i=j.jsxs(j.Fragment,{children:[s,q]}),b[18]=s,b[19]=q,b[20]=i):i=b[20];return i}function a(a){var b=d("react-compiler-runtime").c(29),e=a.authType,f=a.className,g=a.fromLoggedOutDialog,h=a.onNavigate,i=a.onSwitchAuthType,k=a.pageType;a=a.primary;g=g===void 0?!1:g;if(e===d("PolarisAuthActionConstants").AUTH.login||e===d("PolarisAuthActionConstants").AUTH.none){var l;b[0]!==h?(l=function(){return h==null?void 0:h("signup")},b[0]=h,b[1]=l):l=b[1];var p;b[2]!==f||b[3]!==g||b[4]!==l?(p=j.jsx(m,{className:f,fromLoggedOutDialog:g,onClick:l}),b[2]=f,b[3]=g,b[4]=l,b[5]=p):p=b[5];return p}else if(e===d("PolarisAuthActionConstants").AUTH.signup){b[6]!==h?(l=function(){return h==null?void 0:h("login")},b[6]=h,b[7]=l):l=b[7];b[8]!==f||b[9]!==g||b[10]!==l?(p=j.jsx(n,{className:f,fromLoggedOutDialog:g,onClick:l}),b[8]=f,b[9]=g,b[10]=l,b[11]=p):p=b[11];return p}else if(e===d("PolarisAuthActionConstants").AUTH.fbLogin||e===d("PolarisAuthActionConstants").AUTH.fbAccountPicker||e===d("PolarisAuthActionConstants").AUTH.oneTapLogin){if(b[12]!==e||b[13]!==f){var q;g=d("PolarisOneTapLoginStorage").getLoginNonces();if(e===d("PolarisAuthActionConstants").AUTH.oneTapLogin&&Object.values(g).length===1){l=Object.keys(g)[0];q=g[l].username}p=f;g=q!=null&&j.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:1,position:"relative",children:d("PolarisAuthStrings").notUsernameText(q)});b[12]=e;b[13]=f;b[14]=p;b[15]=g}else p=b[14],g=b[15];b[16]!==i||b[17]!==k||b[18]!==a?(l=j.jsx(o,{onSwitchAuthType:i,pageType:k,primary:a}),b[16]=i,b[17]=k,b[18]=a,b[19]=l):l=b[19];b[20]!==p||b[21]!==g||b[22]!==l?(e=j.jsxs("div",{className:p,children:[g,l]}),b[20]=p,b[21]=g,b[22]=l,b[23]=e):e=b[23];return e}else if(d("PolarisUA").isMobile()){b[24]!==h?(i=function(){return h==null?void 0:h("signup")},b[24]=h,b[25]=i):i=b[25];b[26]!==f||b[27]!==i?(k=j.jsx(m,{className:f,onClick:i}),b[26]=f,b[27]=i,b[28]=k):k=b[28];return k}return null}function b(a){a=a.auth.authType;return{authType:a}}function e(a){return{onSwitchAuthType:function(b){a(d("PolarisAuthActions").switchAuthType(b))}}}f=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=f}),226);
__d("PolarisBarcelonaAppSVGIcon.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="Threads";function a(a){var b=d("react-compiler-runtime").c(5),c=a.fill;a=a.size;c=c===void 0?"var(--barcelona-logo)":c;a=a===void 0?34:a;var e;b[0]!==c?(e=i.jsx("path",{d:"M141.537 88.9883C140.71 88.5919 139.87 88.2104 139.019 87.8451C137.537 60.5382 122.616 44.905 97.5619 44.745C97.4484 44.7443 97.3355 44.7443 97.222 44.7443C82.2364 44.7443 69.7731 51.1409 62.102 62.7807L75.881 72.2328C81.6116 63.5383 90.6052 61.6848 97.2286 61.6848C97.3051 61.6848 97.3819 61.6848 97.4576 61.6855C105.707 61.7381 111.932 64.1366 115.961 68.814C118.893 72.2193 120.854 76.925 121.825 82.8638C114.511 81.6207 106.601 81.2385 98.145 81.7233C74.3247 83.0954 59.0111 96.9879 60.0396 116.292C60.5615 126.084 65.4397 134.508 73.775 140.011C80.8224 144.663 89.899 146.938 99.3323 146.423C111.79 145.74 121.563 140.987 128.381 132.296C133.559 125.696 136.834 117.143 138.28 106.366C144.217 109.949 148.617 114.664 151.047 120.332C155.179 129.967 155.42 145.8 142.501 158.708C131.182 170.016 117.576 174.908 97.0135 175.059C74.2042 174.89 56.9538 167.575 45.7381 153.317C35.2355 139.966 29.8077 120.682 29.6052 96C29.8077 71.3178 35.2355 52.0336 45.7381 38.6827C56.9538 24.4249 74.2039 17.11 97.0132 16.9405C119.988 17.1113 137.539 24.4614 149.184 38.788C154.894 45.8136 159.199 54.6488 162.037 64.9503L178.184 60.6422C174.744 47.9622 169.331 37.0357 161.965 27.974C147.036 9.60668 125.202 0.195148 97.0695 0H96.9569C68.8816 0.19447 47.2921 9.6418 32.7883 28.0793C19.8819 44.4864 13.2244 67.3157 13.0007 95.9325L13 96L13.0007 96.0675C13.2244 124.684 19.8819 147.514 32.7883 163.921C47.2921 182.358 68.8816 191.806 96.9569 192H97.0695C122.03 191.827 139.624 185.292 154.118 170.811C173.081 151.866 172.51 128.119 166.26 113.541C161.776 103.087 153.227 94.5962 141.537 88.9883ZM98.4405 129.507C88.0005 130.095 77.1544 125.409 76.6196 115.372C76.2232 107.93 81.9158 99.626 99.0812 98.6368C101.047 98.5234 102.976 98.468 104.871 98.468C111.106 98.468 116.939 99.0737 122.242 100.233C120.264 124.935 108.662 128.946 98.4405 129.507Z",fill:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=i.jsx("svg",{"aria-label":j,height:a,role:"img",viewBox:"0 0 192 192",width:a,xmlns:"http://www.w3.org/2000/svg",children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("PolarisFacebookAccountPicker.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisAuthTypeSwitcher.react","PolarisIGCoreConstants","PolarisIGCorePressable.react","PolarisLoginLogger","PolarisReactRedux.react","PolarisUA","PolarisUserAvatar.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(7),e=a.fbConnectedIgProfiles;a=a.onRequestFBLogin;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1qjc9v5 x1xp8e9x x5kv4kf xh05dso x13lttk3 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a x1n2onr6 x11njtxf"},b[0]=f):f=b[0];b[1]!==e||b[2]!==a?(f=j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(l,{fbConnectedIgProfiles:e,onRequestFBLogin:a})}))}),b[1]=e,b[2]=a,b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisUA").isMobile()&&j.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:j.jsx(c("PolarisAuthTypeSwitcher.react"),{primary:!0})}),b[4]=e):e=b[4];b[5]!==f?(a=j.jsxs("div",{children:[f,e]}),b[5]=f,b[6]=a):a=b[6];return a}function l(a){var b=d("react-compiler-runtime").c(15),e=a.fbConnectedIgProfiles,f=a.onRequestFBLogin,g=d("PolarisReactRedux.react").useSelector(n),h=d("PolarisReactRedux.react").useSelector(m);if(!f||!e)return null;b[0]!==g||b[1]!==h?(a=function(a){return g&&a!==h},b[0]=g,b[1]=h,b[2]=a):a=b[2];var i=a;b[3]!==g||b[4]!==h?(a=function(a){return g&&a===h},b[3]=g,b[4]=h,b[5]=a):a=b[5];var k=a;if(b[6]!==e||b[7]!==i||b[8]!==k||b[9]!==f){b[11]!==i||b[12]!==k||b[13]!==f?(a=function(a){var b=a.username,e=i(b),g=k(b),h=function(){return f(b)};return j.jsxs(c("PolarisIGCorePressable.react"),{className:"x6s0dn4 x5n08af x1ypdohk x78zum5 x1q0g3np xwhw2v2 xsag5q8",onPress:e?c("emptyFunction"):h,role:"button",tabIndex:"0",children:[j.jsx(c("IGDSBox.react"),{marginEnd:3,position:"relative",children:j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,username:b})}),j.jsx(c("IGDSBox.react"),{display:"block",flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react"),{weight:"semibold",children:b})}),j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("IGDSButton.react"),{display:"block",isDisabled:e,isLoading:g,label:d("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:h})})]},b)},b[11]=i,b[12]=k,b[13]=f,b[14]=a):a=b[14];a=e.map(a);b[6]=e;b[7]=i;b[8]=k;b[9]=f;b[10]=a}else a=b[10];return a}function m(a){return a.auth.login.igUsername}function n(a){return a.auth.login.requestInFlight}function a(a){var b=d("react-compiler-runtime").c(5),e=a.fbConnectedIgProfiles;a=a.onRequestFBLogin;d("PolarisLoginLogger").logLoginEvent({event_name:"account_picker_multi_linked_user_form_load"});var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Puedes iniciar sesi\u00f3n en estas cuentas porque est\u00e1n en tu centro de cuentas."),b[0]=f):f=b[0];f=f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:2,paddingX:3,position:"relative",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:f})}),b[1]=f):f=b[1];b[2]!==e||b[3]!==a?(f=j.jsxs(c("IGDSBox.react"),{position:"relative",width:"350px",children:[f,j.jsx(k,{fbConnectedIgProfiles:e,onRequestFBLogin:a})]}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),226);
__d("XPolarisEmailSignupControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/accounts/emailsignup/",Object.freeze({hide_fb_signup:!1}),void 0);b=a;g["default"]=b}),98);
__d("PolarisFacebookLoginForm.react",["fbt","IGDSBox.react","IGDSButton.react","PolarisAuthActionConstants","PolarisAuthConstants","PolarisAuthStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisLoggedOutCtaImpressionLogger","PolarisLoginActionConstants","PolarisLoginLogger","XPolarisEmailSignupControllerRouteBuilder","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$1=function(a,c){a.preventDefault(),b.props.onSwitchAccountsClick(c)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.componentDidMount=function(){c("polarisLogAction")("facebookLoginFormDisplayed"),d("PolarisLoginLogger").logLoginEvent({event_name:"fb_login_form_load",fbconnect_status:this.props.fbConnectStatus,login_type:"fbconnect"}),d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("auth_form",this.props.pageID)};e.$2=function(){var a,b;this.props.errorMessage!=null&&this.props.errorMessage!==""&&(a=this.props.errorMessage,b="xkmlbd1 x1qoy3rc xdj266r xyu1916 xat24cr xbt2mb3 xexx8yu xf159sx xx6bls6 xe2zdcy xxymvpz");return a==null||a===""||a===d("PolarisLoginActionConstants").FB_SSO_DISABLED?null:j.jsx("div",{className:b,children:j.jsx("p",{"aria-atomic":"true",id:"errorAlert",role:"alert",children:a},"message")})};e.$3=function(){var a=this,b=this.props.accountInfo.profilePictureUrl,d=this.props.accountInfo.username,e=this.props.requestInFlight;return j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(b){return a.props.onRequestLogin(d,b)},children:j.jsx("img",babelHelpers["extends"]({alt:h._(/*BTDS*/"Foto del perfil de {username}",[h._param("username",d)])},{0:{className:"x1yhgra7 xmqs1i9 xxobgh8 xj5vorr x1ekkm8c x1143rjc xum4auv xj21bgg x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1m2trrv xxy3q5o x119j0k9 x1ynp9ky x1lliihq xln7xf2 xk390pu xpyat2d x1anpbxc x11t971q xyorhqc xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1exxlbk"},1:{className:"x1yhgra7 xmqs1i9 xxobgh8 xj5vorr x1ekkm8c x1143rjc xum4auv xj21bgg x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1m2trrv xxy3q5o x119j0k9 x1ynp9ky x1lliihq xln7xf2 xk390pu xpyat2d x1anpbxc x11t971q xyorhqc xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1exxlbk xz5rk10"}}[!!e<<0],{src:b}))})})};e.render=function(){var a=this,b=this.props.accountInfo,e=h._(/*BTDS*/"Continuar como {username}",[h._param("username",b.username)]);return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{children:[this.$2(),this.$3(),j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:"auto",marginStart:"auto",marginTop:4,maxWidth:"100%",minWidth:120,position:"relative",width:"intrinsic",children:j.jsx(c("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:function(c){return a.props.onRequestLogin(b.username,c)},children:j.jsx(c("IGDSBox.react"),{paddingX:4,position:"relative",children:j.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",display:"truncated",zeroMargin:!0,children:e})})})}),j.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xcxhlts x14z9mp x1fqp7bg x1lziwak xexx8yu xp48ta0 x18d9i69 xtssl2i x1n2onr6 x2b8uid x11njtxf"},{children:j.jsxs("span",babelHelpers["extends"]({className:"x972fbf x10w94by x1qhh985 x14e42zd x5n08af xt0psk2 xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},{children:[d("PolarisAuthStrings").notUsernameText(b.username)," ",this.props.pageType===d("PolarisAuthConstants").AuthPageType.Signup?j.jsx(c("IGDSButton.react"),{display:"block",href:c("XPolarisEmailSignupControllerRouteBuilder").buildURL({}),label:h._(/*BTDS*/"Registrarte"),onClick:function(b){return a.$1(b,d("PolarisAuthActionConstants").AUTH.signup)},variant:"primary_link"}):j.jsx(c("IGDSButton.react"),{display:"block",label:h._(/*BTDS*/"Cambiar de cuenta"),onClick:function(b){return a.$1(b,d("PolarisAuthActionConstants").AUTH.login)},variant:"primary_link"})]}))}))]}))};return b}(j.Component);g["default"]=a}),226);
__d("PolarisLandingFormButtonGroup.react",["IGDSBox.react","IGDSText.react","PolarisAuthStrings","PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(6);a=a.button;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={__className:"x5yr21d"},b[0]=e):e=b[0];var f;b[1]!==a.label?(f=i.jsx(c("IGDSText.react"),{color:"primaryButton",weight:"semibold",children:a.label}),b[1]=a.label,b[2]=f):f=b[2];b[3]!==a.onClick||b[4]!==f?(e=i.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:e,"data-testid":void 0,onClick:a.onClick,children:f}),b[3]=a.onClick,b[4]=f,b[5]=e):e=b[5];return e}function k(a){var b=d("react-compiler-runtime").c(11),e=a.buttonEnd;a=a.buttonStart;var f;b[0]!==a?(f=a&&i.jsx(j,{button:a}),b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==a?(g=a&&e&&i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:1,marginStart:1,position:"relative",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",children:d("PolarisAuthStrings").OR})}),b[2]=e,b[3]=a,b[4]=g):g=b[4];b[5]!==e?(a=e&&i.jsx(j,{button:e}),b[5]=e,b[6]=a):a=b[6];b[7]!==f||b[8]!==g||b[9]!==a?(e=i.jsxs(c("IGDSBox.react"),{alignSelf:"center",display:"inlineBlock",marginTop:5,position:"relative",children:[f,g,a]}),b[7]=f,b[8]=g,b[9]=a,b[10]=e):e=b[10];return e}function a(a){var b=d("react-compiler-runtime").c(11),e=a.primaryButton,f=a.secondaryButtonEnd;a=a.secondaryButtonStart;var g;b[0]!==e.label?(g=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",position:"relative",children:e.label}),b[0]=e.label,b[1]=g):g=b[1];var h;b[2]!==e.onClick||b[3]!==g?(h=i.jsx(c("IGDSBox.react"),{marginEnd:10,marginStart:10,marginTop:4,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{large:!0,onClick:e.onClick,children:g})}),b[2]=e.onClick,b[3]=g,b[4]=h):h=b[4];b[5]!==f||b[6]!==a?(e=i.jsx(k,{buttonEnd:f,buttonStart:a}),b[5]=f,b[6]=a,b[7]=e):e=b[7];b[8]!==h||b[9]!==e?(g=i.jsxs(i.Fragment,{children:[h,e]}),b[8]=h,b[9]=e,b[10]=g):g=b[10];return g}g["default"]=a}),98);
__d("PolarisLandingForm.react",["IGDSBox.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisIGCoreText","PolarisIgLiteCarbonUpsellsUtils","PolarisLandingFormButtonGroup.react","PolarisLandingFormUtils","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutUpsellUtils","PolarisReactRedux.react","PolarisRoutePropUtils","PolarisSignupActions","XPolarisLoginControllerRouteBuilder","qex","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisOpenApp","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext;function k(a,b,c){return{primary:{label:c.buttonText,onClick:c.onClickFn},secondary:{end:{label:d("PolarisAuthStrings").SIGN_UP_BUTTON_TEXT_SENTENCE_CASE,onClick:b},start:{label:d("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:a}}}}function a(a){var b=d("react-compiler-runtime").c(29);a=a.ref;var e=d("PolarisReactRedux.react").useDispatch(),f=c("usePolarisPageID")(),g=c("useCometRouterDispatcher")(),h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),b[0]=h):h=b[0];var l=h;h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);var m;b[1]!==h.routePropQE?(m=h.routePropQE.getNumber("landing_page_value_prop_variant",0),b[1]=h.routePropQE,b[2]=m):m=b[2];h=Number(m);b[3]!==e||b[4]!==f?(m=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup","full_page",f),d("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration()?e(d("PolarisSignupActions").setShowRegulatoryConsentModal()):e(d("PolarisAuthActions").switchAuthType(d("PolarisAuthActionConstants").AUTH.signup))},b[3]=e,b[4]=f,b[5]=m):m=b[5];m=m;var n;b[6]!==g||b[7]!==e||b[8]!==f?(n=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login","full_page",f),c("qex")._("1510")===!0||c("qex")._("3256")===!0?g==null?void 0:g.go(c("XPolarisLoginControllerRouteBuilder").buildUri({mtn:!0}).toString(),{}):e(d("PolarisAuthActions").switchAuthType(d("PolarisAuthActionConstants").AUTH.login))},b[6]=g,b[7]=e,b[8]=f,b[9]=n):n=b[9];n=n;var o=c("usePolarisOpenApp")(),p;b[10]!==o||b[11]!==f?(p=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("app_open","full_page",f),o(l?{utmCampaignDefault:"rootLandingPage",utmMedium:"installLink"}:void 0)},b[10]=o,b[11]=f,b[12]=p):p=b[12];p=p;p=d("PolarisLoggedOutUpsellUtils").useGetUpsellTextAndAction(p,l);var q;b[13]!==n||b[14]!==m||b[15]!==p?(q=k(n,m,p),b[13]=n,b[14]=m,b[15]=p,b[16]=q):q=b[16];n=q;b[17]!==h?(m=d("PolarisLandingFormUtils").getLoginValuePropText(h),b[17]=h,b[18]=m):m=b[18];b[19]!==m?(p=i.jsx(c("IGDSBox.react"),{marginBottom:4,paddingX:7,position:"relative",children:i.jsx(c("PolarisIGCoreText"),{Element:"h1",size:"headline2",textAlign:"center",weight:"normal",children:m})}),b[19]=m,b[20]=p):p=b[20];b[21]!==n.primary||b[22]!==n.secondary.end||b[23]!==n.secondary.start?(q=i.jsx(c("PolarisLandingFormButtonGroup.react"),{primaryButton:n.primary,secondaryButtonEnd:n.secondary.end,secondaryButtonStart:n.secondary.start}),b[21]=n.primary,b[22]=n.secondary.end,b[23]=n.secondary.start,b[24]=q):q=b[24];b[25]!==a||b[26]!==p||b[27]!==q?(h=i.jsxs(c("IGDSBox.react"),{containerRef:a,flex:"grow",marginTop:5,position:"relative",width:"100%",children:[p,q]}),b[25]=a,b[26]=p,b[27]=q,b[28]=h):h=b[28];return h}g["default"]=a}),98);
__d("PolarisLoggedOutContentWallDialogAuthCTAs.react",["IGDSText.react","PolarisAppInstallStrings","PolarisConsentStrings.react","PolarisLoggedOutLoginButton.react","PolarisLoggedOutSignupButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={button:{height:"xn3w4p2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b,e,f,g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"xkh2ocl x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x3pnbk8"},e=i.jsx(c("PolarisLoggedOutSignupButton.react"),{ctaTypeV2:"auth_form_dialog",isDismissible:!0,label:d("PolarisAppInstallStrings").SIGNUP_UP_FOR_INSTAGRAM_APP,loginSource:"logged_out_megaphone_signup",variant:"primary",xstyle:j.button}),f=i.jsx(c("PolarisLoggedOutLoginButton.react"),{ctaTypeV2:"auth_form_dialog",loginSource:"logged_out_megaphone_signup",variant:"secondary",xstyle:j.button}),g={className:"xz9dl7a xsag5q8"},a[0]=b,a[1]=e,a[2]=f,a[3]=g):(b=a[0],e=a[1],f=a[2],g=a[3]);a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("div",babelHelpers["extends"]({},b,{children:[e,f,i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",children:d("PolarisConsentStrings.react").instagramTermsOfUseAndPrivacyPolicyText("secondaryText")})}))]})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("PolarisLoginActionClearStopDeletionNonce",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a,b){a({deletionDate:null,deletionNonce:null,type:"ACCOUNT_DELETED"})}}f.clearStopDeletionNonce=a}),66);
__d("PolarisLoginActionOneTapLoginRemove",["PolarisAuthStrings","PolarisLoginLogger","PolarisOneTapLogin","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,c){d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_account_remove_click",ig_userid:a,login_type:"device_based_login"});try{d("PolarisOneTapLogin").removeLoginNonce(a)}catch(a){d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_account_remove_failed",login_type:"device_based_login"}),b(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:d("PolarisAuthStrings").LOGIN_FAILED_TEXT}))}window.location.reload()}}g.oneTapLoginRemove=a}),98);
__d("PolarisOneTapLoginForm.react",["fbt","CometPressable.react","IGDSBox.react","IGDSButton.react","IGDSDivider.react","IGDSXPanoFilledIcon.react","PolarisAuthStrings","PolarisAuthTypeSwitcher.react","PolarisConfirmDialog.react","PolarisGenericStrings","PolarisIGCoreSVGIconButton.react","PolarisLoginActionOneTapLogin","PolarisLoginActionOneTapLoginRemove","PolarisLoginLogger","PolarisReactRedux.react","PolarisUA","PolarisUserAvatar.react","emptyFunction","react","react-compiler-runtime","stylex","usePolarisOneTapLoginEditModeState","useSingleSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j,m=l.useCallback,n=l.useState,o=h._(/*BTDS*/"Administrar cuentas"),p={account:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",fontWeight:"xwhw2v2",$$css:!0},multiContainer:{paddingBottom:"xx6bls6",paddingTop:"x7sb2j6",$$css:!0},profilePicture:{borderTopColor:"x1w6pcvv",borderInlineEndColor:"x1kr3336",borderBottomColor:"x1e5933n",borderInlineStartColor:"x8itksh",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbmvrgn",$$css:!0},profilePictureSingle:{borderTopColor:"x1w6pcvv",borderInlineEndColor:"x1kr3336",borderBottomColor:"x1e5933n",borderInlineStartColor:"x8itksh",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginTop:"x1xmf6yo",marginInlineEnd:"x11t971q",marginBottom:"x1yztbdb",marginInlineStart:"xvc5jky",$$css:!0},root:{fontSize:"xvs91rp",fontWeight:"xz5fbns",maxWidth:"x1dc814f",width:"xh8yej3",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(12),e=a.handleRemoveOneTapLoginDialogClose,f=a.handleRemoveOneTapLoginDialogConfirm,g=a.userId;a=a.username;var i;b[0]!==a?(i=h._(/*BTDS*/"La pr\u00f3xima vez que entres como {username} deber\u00e1s introducir tu nombre de usuario y contrase\u00f1a",[h._param("username",a)]),b[0]=a,b[1]=i):i=b[1];var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cancelar"),j=h._(/*BTDS*/"Suprimir"),b[2]=a,b[3]=j):(a=b[2],j=b[3]);var l;b[4]!==f||b[5]!==g?(l=function(){return f(g)},b[4]=f,b[5]=g,b[6]=l):l=b[6];var m;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"\u00bfQuieres eliminar la cuenta?"),b[7]=m):m=b[7];b[8]!==e||b[9]!==i||b[10]!==l?(a=k.jsx(c("PolarisConfirmDialog.react"),{body:i,cancelLabel:a,confirmLabel:j,onClose:e,onConfirm:l,title:m}),b[8]=e,b[9]=i,b[10]=l,b[11]=a):a=b[11];return a}function r(a){var b=d("react-compiler-runtime").c(33),e=a.fbConnectedUser,f=a.isLoginButtonDisabled,g=a.isLoginButtonLoading,h=a.onRequestFBLogin;if(!e||!h)return null;a=e.fbUserID;var i=e.profilePictureUrl,j=e.username;e=String(a);b[0]!==e||b[1]!==f?(a=f(e),b[0]=e,b[1]=f,b[2]=a):a=b[2];f=a;b[3]!==e||b[4]!==g?(a=g(e),b[3]=e,b[4]=g,b[5]=a):a=b[5];e=a;b[6]!==f||b[7]!==h||b[8]!==j?(g=f?c("emptyFunction"):function(){h(j)},b[6]=f,b[7]=h,b[8]=j,b[9]=g):g=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a="x1w6pcvv x1kr3336 x1e5933n x8itksh x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xbmvrgn",b[10]=a):a=b[10];var l;b[11]!==h||b[12]!==j?(l=function(){return h(j)},b[11]=h,b[12]=j,b[13]=l):l=b[13];b[14]!==i||b[15]!==l||b[16]!==j?(a=k.jsx(c("PolarisUserAvatar.react"),{className:a,isLink:!1,onClick:l,profilePictureUrl:i,size:s,username:j}),b[14]=i,b[15]=l,b[16]=j,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1qjc9v5 xdt5ytf x1iyjqo2 xs83m0k x6ikm8r x10wlt62 xlyipyv xuxw1ft"},b[18]=i):i=b[18];b[19]!==j?(l=k.jsx("div",babelHelpers["extends"]({},i,{children:j})),b[19]=j,b[20]=l):l=b[20];b[21]!==h||b[22]!==j?(i=function(){h(j)},b[21]=h,b[22]=j,b[23]=i):i=b[23];var m;b[24]!==f||b[25]!==e||b[26]!==i?(m=k.jsx(c("IGDSBox.react"),{justifyContent:"end",children:k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:f,isLoading:e,label:d("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:i})}),b[24]=f,b[25]=e,b[26]=i,b[27]=m):m=b[27];b[28]!==m||b[29]!==g||b[30]!==a||b[31]!==l?(f=k.jsxs(c("CometPressable.react"),{onPress:g,role:"button",xstyle:p.account,children:[a,l,m]}),b[28]=m,b[29]=g,b[30]=a,b[31]=l,b[32]=f):f=b[32];return f}var s=38,t=86;function u(a){var b=d("react-compiler-runtime").c(14),e=a.handleLoginClick,f=a.isSingleAccount,g=a.loginNonces,h=a.userId;a=g[h];var j=a.nonce;g=a.profilePicUrl;a=a.username;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x78zum5 xl56j7k"},b[0]=l):l=b[0];var m=f?p.profilePictureSingle:p.profilePicture,n;b[1]!==m?(n=(i||(i=c("stylex")))(m),b[1]=m,b[2]=n):n=b[2];b[3]!==e||b[4]!==f||b[5]!==j||b[6]!==h?(m=f?function(){return e(h,j)}:void 0,b[3]=e,b[4]=f,b[5]=j,b[6]=h,b[7]=m):m=b[7];f=f?t:s;b[8]!==g||b[9]!==n||b[10]!==m||b[11]!==f||b[12]!==a?(l=k.jsx("div",babelHelpers["extends"]({},l,{children:k.jsx(c("PolarisUserAvatar.react"),{className:n,isLink:!1,onClick:m,profilePictureUrl:g,size:f,username:a})})),b[8]=g,b[9]=n,b[10]=m,b[11]=f,b[12]=a,b[13]=l):l=b[13];return l}function v(a){var b=d("react-compiler-runtime").c(39),e=a.editMode,f=a.handleLoginClick,g=a.handleRemoveAccountClick,h=a.isLoginButtonDisabled,i=a.isLoginButtonLoading,j=a.loginNonces,l=a.userId,m=j[l].nonce,n=j[l].username;b[0]!==h||b[1]!==l?(a=h(l),b[0]=h,b[1]=l,b[2]=a):a=b[2];h=a;b[3]!==i||b[4]!==l?(a=i(l),b[3]=i,b[4]=l,b[5]=a):a=b[5];i=a;b[6]!==e||b[7]!==f||b[8]!==h||b[9]!==m||b[10]!==l?(a=e||h?c("emptyFunction"):function(){return f(l,m)},b[6]=e,b[7]=f,b[8]=h,b[9]=m,b[10]=l,b[11]=a):a=b[11];a=a;var o=h||i,q;b[12]!==g||b[13]!==l||b[14]!==n?(q=function(){return g(l,n)},b[12]=g,b[13]=l,b[14]=n,b[15]=q):q=b[15];var r;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsx(c("IGDSXPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,size:12}),b[16]=r):r=b[16];b[17]!==o||b[18]!==q?(r=k.jsx(c("PolarisIGCoreSVGIconButton.react"),{disabled:o,onClick:q,padding:0,children:r}),b[17]=o,b[18]=q,b[19]=r):r=b[19];o=r;b[20]!==f||b[21]!==j||b[22]!==l?(q=k.jsx(u,{handleLoginClick:f,isSingleAccount:!1,loginNonces:j,userId:l}),b[20]=f,b[21]=j,b[22]=l,b[23]=q):q=b[23];b[24]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1qjc9v5 xdt5ytf x1iyjqo2 xs83m0k x6ikm8r x10wlt62 xlyipyv xuxw1ft"},b[24]=r):r=b[24];b[25]!==n?(j=k.jsx("div",babelHelpers["extends"]({},r,{children:n})),b[25]=n,b[26]=j):j=b[26];b[27]!==e||b[28]!==a||b[29]!==h||b[30]!==i||b[31]!==o?(r=k.jsx(c("IGDSBox.react"),{justifyContent:"end",children:e?o:k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:h,isLoading:i,label:d("PolarisAuthStrings").LOG_IN_BUTTON_TEXT,onClick:a})}),b[27]=e,b[28]=a,b[29]=h,b[30]=i,b[31]=o,b[32]=r):r=b[32];b[33]!==a||b[34]!==j||b[35]!==r||b[36]!==q||b[37]!==l?(e=k.jsx(c("IGDSBox.react"),{alignItems:"center",columnGap:2,direction:"row",flex:"grow",paddingY:2,children:k.jsxs(c("CometPressable.react"),{onPress:a,role:"button",xstyle:p.account,children:[q,j,r]},l)}),b[33]=a,b[34]=j,b[35]=r,b[36]=q,b[37]=l,b[38]=e):e=b[38];return e}function w(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{paddingX:9,paddingY:2,position:"relative",width:"100%",children:k.jsx(c("IGDSDivider.react"),{})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(k.Fragment,{children:[b,k.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:4,marginTop:4,position:"relative",children:k.jsx(c("PolarisAuthTypeSwitcher.react"),{primary:!0})})]}),a[1]=b):b=a[1];return b}function x(a){var b=d("react-compiler-runtime").c(3);a=a.onRemoveClick;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Suprimir cuenta"),b[0]=e):e=b[0];b[1]!==a?(e=k.jsx(c("IGDSButton.react"),{display:"block",label:e,onClick:a,variant:"primary_link"}),b[1]=a,b[2]=e):e=b[2];return e}function y(a){var b=d("react-compiler-runtime").c(29),e=a.handleLoginClick,f=a.handleRemoveAccountClick,g=a.isLoginButtonLoading,i=a.loginNonces;a=a.showSingleAccountProfilePicture;var j;b[0]!==i?(j=Object.keys(i),b[0]=i,b[1]=j):j=b[1];var l=j[0];j=i[l];var m=j.nonce,n=j.username;b[2]!==n?(j=h._(/*BTDS*/"Continuar como {username}",[h._param("username",n)]),b[2]=n,b[3]=j):j=b[3];j=j;var o;b[4]!==e||b[5]!==i||b[6]!==a||b[7]!==l?(o=a&&k.jsx(u,{handleLoginClick:e,isSingleAccount:!0,loginNonces:i,userId:l}),b[4]=e,b[5]=i,b[6]=a,b[7]=l,b[8]=o):o=b[8];b[9]!==g||b[10]!==l?(i=g(l),b[9]=g,b[10]=l,b[11]=i):i=b[11];b[12]!==e||b[13]!==m||b[14]!==l?(a=function(){return e(l,m)},b[12]=e,b[13]=m,b[14]=l,b[15]=a):a=b[15];b[16]!==j||b[17]!==i||b[18]!==a?(g=k.jsx(c("IGDSBox.react"),{marginBottom:5,marginEnd:"auto",marginStart:"auto",marginTop:4,minWidth:120,position:"relative",width:"intrinsic",children:k.jsx(c("IGDSButton.react"),{isLoading:i,label:j,onClick:a,size:"small",variant:"primary"})}),b[16]=j,b[17]=i,b[18]=a,b[19]=g):g=b[19];b[20]!==f||b[21]!==l||b[22]!==n?(j=k.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:5,position:"relative",children:k.jsx(x,{onRemoveClick:function(){return f(l,n)}})}),b[20]=f,b[21]=l,b[22]=n,b[23]=j):j=b[23];b[24]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("PolarisUA").isMobile()&&k.jsx(w,{}),b[24]=i):i=b[24];b[25]!==o||b[26]!==g||b[27]!==j?(a=k.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",children:[o,g,j,i]}),b[25]=o,b[26]=g,b[27]=j,b[28]=a):a=b[28];return a}function z(a){var b=d("react-compiler-runtime").c(27),e=a.editMode,f=a.fbConnectedUser,g=a.handleLoginClick,i=a.handleManageAccountsClick,j=a.handleRemoveAccountClick,l=a.isLoginButtonDisabled,m=a.isLoginButtonLoading,n=a.loginNonces;a=a.onRequestFBLogin;var q;b[0]!==e?(q=e?h._(/*BTDS*/"Edici\u00f3n terminada"):o,b[0]=e,b[1]=q):q=b[1];q=q;var s;b[2]!==n?(s=Object.keys(n),b[2]=n,b[3]=s):s=b[3];var t;b[4]!==e||b[5]!==g||b[6]!==j||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==s?(t=s.map(function(a){return k.jsx(v,{editMode:e,handleLoginClick:g,handleRemoveAccountClick:j,isLoginButtonDisabled:l,isLoginButtonLoading:m,loginNonces:n,userId:a},"account_"+a)}),b[4]=e,b[5]=g,b[6]=j,b[7]=l,b[8]=m,b[9]=n,b[10]=s,b[11]=t):t=b[11];s=t;b[12]!==f||b[13]!==l||b[14]!==m||b[15]!==a?(t=k.jsx(r,{fbConnectedUser:f,isLoginButtonDisabled:l,isLoginButtonLoading:m,onRequestFBLogin:a}),b[12]=f,b[13]=l,b[14]=m,b[15]=a,b[16]=t):t=b[16];b[17]!==s||b[18]!==t?(f=k.jsxs(c("IGDSBox.react"),{alignItems:"stretch",direction:"column",paddingX:4,xstyle:p.multiContainer,children:[s,t]}),b[17]=s,b[18]=t,b[19]=f):f=b[19];b[20]!==i||b[21]!==q?(a=k.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",children:k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(c("IGDSButton.react"),{display:"block",label:q,onClick:i,variant:"primary_link"})})}),b[20]=i,b[21]=q,b[22]=a):a=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(s=d("PolarisUA").isMobile()&&k.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:k.jsx(c("PolarisAuthTypeSwitcher.react"),{primary:!0})}),b[23]=s):s=b[23];b[24]!==f||b[25]!==a?(t=k.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",children:[f,a,s]}),b[24]=f,b[25]=a,b[26]=t):t=b[26];return t}function a(a){var b=a.fbConnectedUser,e=a.loginNonces,f=a.onLoginClick,g=a.onRemoveClick,h=a.onRequestFBLogin,i=a.requestInFlight,j=a.requestUserId;a=a.showSingleAccountProfilePicture;a=a===void 0?!0:a;var l=n({id:"",username:""}),o=l[0],r=l[1];l=n(!1);var s=l[0],t=l[1];l=c("usePolarisOneTapLoginEditModeState")();var u=l[0],v=l[1];c("useSingleSimpleImpression")(function(){Object.keys(e).length===1?d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_single_user_form_load",login_type:"device_based_login"}):d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_multi_user_form_load",login_type:"device_based_login"}),d("PolarisLoginLogger").logLoginEvent({event_category:"aymh_home_page_init",event_flow:"aymh",event_name:"aymh_step_view_loaded",event_step:"home_page",extra_client_data:{total_count:Object.keys(e).length.toString()}})});var w=m(function(a,b){f(a,b,function(){return w(a,b)}),d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_login_click",login_type:"device_based_login"})},[f]);l=m(function(a,b){r({id:a,username:b}),t(!0),d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_remove_account_prompt_show",login_type:"device_based_login"})},[]);var x=m(function(a){g(a)},[g]),A=m(function(){r({id:"",username:""}),t(!1),d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_remove_account_prompt_hide",login_type:"device_based_login"})},[]),B=m(function(){v(!u)},[u,v]),C=function(a){return i&&a!==j},D=function(a){return i&&a===j},E=Object.keys(e).length===1&&!b;return k.jsxs(c("IGDSBox.react"),{alignItems:"stretch",direction:"column",xstyle:p.root,children:[E?k.jsx(y,{handleLoginClick:w,handleRemoveAccountClick:l,isLoginButtonLoading:D,loginNonces:e,showSingleAccountProfilePicture:a}):k.jsx(z,{editMode:u,fbConnectedUser:b,handleLoginClick:w,handleManageAccountsClick:B,handleRemoveAccountClick:l,isLoginButtonDisabled:C,isLoginButtonLoading:D,loginNonces:e,onRequestFBLogin:h}),s&&o.id&&o.username&&k.jsx(q,{handleRemoveOneTapLoginDialogClose:A,handleRemoveOneTapLoginDialogConfirm:x,userId:o.id,username:o.username})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b;a=a.auth;return{requestInFlight:(a==null?void 0:(b=a.login)==null?void 0:b.requestInFlight)===!0,requestUserId:a==null?void 0:(b=a.login)==null?void 0:b.userId}}function e(a){return{onLoginClick:function(b,c,e){a(d("PolarisLoginActionOneTapLogin").oneTapLogin({loginNonce:c,retry:e,userId:b}))},onRemoveClick:function(b){a(d("PolarisLoginActionOneTapLoginRemove").oneTapLoginRemove(b))}}}l=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=l}),226);
__d("PolarisBirthdaySignupForm.react",["ix","IGCoreImage.react","IGDSBox.react","IGDSTextVariants.react","PolarisAgeCollectionHelpers","PolarisAuthStrings","PolarisBirthdayFormInput.react","PolarisBirthdaysAdditionalInfoModal.react","PolarisDateHelpers","PolarisDateStrings","PolarisIGCoreButton.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","gkx","react","usePolarisEmailOrPhoneContactpointType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState;function a(a){var b=a.onBirthdayEntered,e=a.onSignup,f=a.pageIdentifier,g=a.requestInFlight,i=a.signupNonSpecificError;a=a.style;a=a===void 0?"default":a;var m=d("PolarisReactRedux.react").useDispatch(),n=l(!1),o=n[0],p=n[1],q=d("PolarisReactRedux.react").useSelector(function(a){return(a=a.auth.signup)==null?void 0:a.signupResult});n=l((q==null?void 0:(n=q.fields.birthday)==null?void 0:n.value)!=null?d("PolarisDateHelpers").dateToDateType(new Date(q.fields.birthday.value)):d("PolarisDateHelpers").getOneYearAgoDateType());var r=n[0],s=n[1],t=c("usePolarisEmailOrPhoneContactpointType")();n=function(){m(d("PolarisSignupActions").returnToBaseSignupForm()),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:t,event_name:"back_button_clicked",step:"birthday"})};var u=d("PolarisAgeCollectionHelpers").isDOBInputAttemptDisabled(r),v=function(){var a=d("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(q);a.birthday=d("PolarisDateHelpers").dateTypeToString(r);c("gkx")("14029")===!0&&b();e(a)},w=function(a){d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f,event_name:"birthday_interaction"}),s(a)};k(function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:t,event_name:"form_load",step:"birthday"})},[t]);return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisSignupFormFields.react"),{handleGoBack:n,handleNext:v,header:d("PolarisAuthStrings").BIRTHDAY_HEADER_TEXT,icon:j.jsx(c("IGCoreImage.react"),{alt:d("PolarisAgeCollectionHelpers").BIRTHDAY_ICON_ALT_TEXT,src:{dark:h("877412"),light:h("877413")}}),isNextActionDisabled:u,requestInFlight:g,signupNonSpecificError:i,style:a,subHeader:d("PolarisAuthStrings").BIRTHDAY_SUBHEADER_TEXT,children:j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return p(!0)},children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",children:d("PolarisAuthStrings").BIRTHDAY_WHY_LINK_TEXT})})}),j.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:j.jsx(c("PolarisBirthdayFormInput.react"),{birthday:d("PolarisDateHelpers").dateTypeToString(r),onBirthdayChange:w})}),j.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:j.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",textAlign:"center",children:d("PolarisDateStrings").getBirthdayDisclaimerText()})})})]})}),o&&j.jsx(c("PolarisBirthdaysAdditionalInfoModal.react"),{onClose:function(){return p(!1)}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCaptchaSignupForm.react",["IGDSBox.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisReactRedux.react","PolarisRecaptcha","PolarisRegistrationLogger","PolarisSignupActions","PolarisSignupFormFields.react","PolarisSignupTypesHelpers","react","usePolarisEmailOrPhoneContactpointType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSignup,e=a.requestInFlight,f=a.signupNonSpecificError;a=a.style;a=a===void 0?"default":a;var g=d("PolarisReactRedux.react").useDispatch(),h=k(function(){return""}),l=h[0],m=h[1],n=d("PolarisReactRedux.react").useSelector(function(a){return(a=a.auth.signup)==null?void 0:a.signupResult}),o=c("usePolarisEmailOrPhoneContactpointType")();j(function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:o,event_name:"form_load",step:"captcha"})},[o]);h=function(){g(d("PolarisSignupActions").returnToBaseSignupForm()),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:o,event_name:"back_button_clicked",step:"captcha"})};var p=l==="",q=function(){var a=d("PolarisSignupTypesHelpers").convertSignupResultToSignupFields(n);a.captcha=l;b(a)},r=function(a){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:o,event_name:"captcha_solved"}),m(a)};return i.jsxs(c("PolarisSignupFormFields.react"),{handleGoBack:h,handleNext:q,header:d("PolarisAuthStrings").SIGN_UP_BUTTON_TEXT,isNextActionDisabled:p,requestInFlight:e,style:a,subHeader:d("PolarisAuthStrings").SIGN_UP_PHONE_LINK_TEXT,children:[i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:i.jsx(c("PolarisRecaptcha"),{onChange:r})}),f!=null&&i.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:f})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmailConfirmationForm.react",["fbt","ix","IGCoreImage.react","IGDSBox.react","IGDSButton.react","IGDSDialogFooter.react","IGDSTextVariants.react","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreTextInput.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useState,n=6,o=h._(/*BTDS*/"Confirmaci\u00f3n del correo electr\u00f3nico"),p=350;function a(a){var b,e=d("react-compiler-runtime").c(64),f=a.onSubmit,g=a.pageIdentifier,h=a.requestInFlight,j=a.signupNonSpecificError;a=a.style;a=a===void 0?"default":a;var r=d("PolarisReactRedux.react").useDispatch(),s=d("PolarisReactRedux.react").useSelector(q),t=(b=s==null?void 0:(b=s.fields.emailOrPhone)==null?void 0:b.value)!=null?b:"";b=m("");var u=b[0],v=b[1];b=m(!1);var w=b[0],x=b[1],y=u.length<n||h;b=j;if(b==null&&(s==null?void 0:s.fields)!=null){var z=s.fields;j=Object.keys(z).some(function(a){return((a=z[a])==null?void 0:a.error)!=null});j&&(b=d("PolarisAuthStrings").ERROR_SIGNUP_UNKNOWN)}e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){v(a.target.value)},e[0]=j):j=e[0];j=j;var A;e[1]!==r?(A=function(){r(d("PolarisSignupActions").returnToBaseSignupForm()),d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",event_name:"back_button_clicked",step:"emailConfirmation"})},e[1]=r,e[2]=A):A=e[2];A=A;var B;e[3]!==r||e[4]!==t?(B=function(){r(d("PolarisSignupActions").requestConfirmationEmailWithLogging(t,null,!0))},e[3]=r,e[4]=t,e[5]=B):B=e[5];B=B;var C;e[6]!==u||e[7]!==y||e[8]!==f||e[9]!==s?(C=function(){if(!y&&s!=null){var a=Object.keys(s.fields).reduce(function(a,b){var c;c=(c=s.fields[b])==null?void 0:c.value;c!=null&&b!=="optIntoOneTap"&&(a[b]=c);return a},{});a.emailConfirmationCode=u;f(a)}},e[6]=u,e[7]=y,e[8]=f,e[9]=s,e[10]=C):C=e[10];var D=C,E;e[11]!==g?(C=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",containermodule:g,event_name:"form_load",step:"emailConfirmation"})},E=[g],e[11]=g,e[12]=C,e[13]=E):(C=e[12],E=e[13]);l(C,E);e[14]!==u.length||e[15]!==D||e[16]!==w?(C=function(){if(w)return;u.length===n&&c("qex")._("2155")===!0&&(x(!0),D())},e[14]=u.length,e[15]=D,e[16]=w,e[17]=C):C=e[17];e[18]!==u||e[19]!==D||e[20]!==w?(E=[u,D,w],e[18]=u,e[19]=D,e[20]=w,e[21]=E):E=e[21];l(C,E);e[22]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx(c("IGCoreImage.react"),{alt:o,src:{dark:i("148908"),light:i("835354")}}),e[22]=C):C=e[22];e[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=k.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",children:k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"center",children:d("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE_HEADER})}),e[23]=E):E=e[23];var F;e[24]!==t?(F=d("PolarisAuthStrings").emailConfirmationCodeSubheader(t),e[24]=t,e[25]=F):F=e[25];var G;e[26]!==B?(G=k.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisAuthStrings").EMAIL_CONFIRMATION_RESEND_CODE,onClick:B,variant:"primary_link"}),e[26]=B,e[27]=G):G=e[27];e[28]!==F||e[29]!==G?(B=k.jsxs(c("IGDSBox.react"),{alignItems:"center",maxWidth:p,paddingX:7,paddingY:2,position:"relative",children:[C,E,k.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginBottom:4,marginTop:4,position:"relative",children:k.jsxs(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:[F," ",G]})})]}),e[28]=F,e[29]=G,e[30]=B):B=e[30];e[31]!==D?(C=function(a){a.preventDefault(),D()},e[31]=D,e[32]=C):C=e[32];e[33]===Symbol["for"]("react.memo_cache_sentinel")?(E=k.jsx("input",babelHelpers["extends"]({className:"x1s85apg"},{type:"submit"})),e[33]=E):E=e[33];e[34]!==g?(F=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"email",containermodule:g,event_name:"confirmation_interaction"})},e[34]=g,e[35]=F):F=e[35];e[36]!==u||e[37]!==F?(G=k.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:k.jsx(c("PolarisIGCoreTextInput.react"),{"aria-label":d("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,autoComplete:"off",maxLength:8,name:"email_confirmation_code",onChange:j,onFocus:F,placeholder:d("PolarisAuthStrings").EMAIL_CONFIRMATION_CODE,value:u})}),e[36]=u,e[37]=F,e[38]=G):G=e[38];e[39]!==y||e[40]!==A||e[41]!==D||e[42]!==h||e[43]!==a?(j=a==="default"&&k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",width:"100%",children:k.jsx(c("IGDSButton.react"),{fullWidth:!0,isDisabled:y,isLoading:h,label:d("PolarisGenericStrings").NEXT,onClick:D})}),k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:h,label:d("PolarisGenericStrings").GO_BACK,onClick:A,variant:"primary_link"})})]}),e[39]=y,e[40]=A,e[41]=D,e[42]=h,e[43]=a,e[44]=j):j=e[44];e[45]!==b?(F=b!=null&&k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"errorOrDestructive",textAlign:"center",children:b})}),e[45]=b,e[46]=F):F=e[46];e[47]!==G||e[48]!==j||e[49]!==F?(b=k.jsxs(c("IGDSBox.react"),{alignItems:"center",margin:"auto",marginBottom:2,marginTop:2,maxWidth:p,paddingX:10,position:"relative",children:[G,j,F]}),e[47]=G,e[48]=j,e[49]=F,e[50]=b):b=e[50];e[51]!==y||e[52]!==A||e[53]!==D||e[54]!==h||e[55]!==a?(G=a==="modal"&&k.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:k.jsx(c("IGDSDialogFooter.react"),{endAdornment:k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:y,isLoading:h,label:d("PolarisAuthStrings").CONTINUE,onClick:D,variant:"primary_link"}),startAdornment:k.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisGenericStrings").BACK_TEXT,onClick:A,variant:"primary_link"})})}),e[51]=y,e[52]=A,e[53]=D,e[54]=h,e[55]=a,e[56]=G):G=e[56];e[57]!==C||e[58]!==b||e[59]!==G?(j=k.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:k.jsxs("form",{method:"POST",noValidate:!1,onSubmit:C,children:[E,b,G]})}),e[57]=C,e[58]=b,e[59]=G,e[60]=j):j=e[60];e[61]!==B||e[62]!==j?(F=k.jsxs(k.Fragment,{children:[B,j]}),e[61]=B,e[62]=j,e[63]=F):F=e[63];return F}function q(a){return(a=a.auth.signup)==null?void 0:a.signupResult}g["default"]=a}),226);
__d("PolarisPhoneSignupChangeNumberForm.react",["fbt","IGDSBox.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisSlimTextInput.react","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n="phoneSignupConfirmErrorAlert",o=h._(/*BTDS*/"Nuevo n\u00famero de tel\u00e9fono");function a(a){var b=d("react-compiler-runtime").c(35),e=a.errorMessage,f=a.initialPhoneNumber,g=a.onGoBackClick,i=a.onSubmit;a=a.requestInFlight;var p=l(null),q=m(""),r=q[0],s=q[1],t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a;(a=p.current)==null?void 0:a.focus()},t=[],b[0]=q,b[1]=t):(q=b[0],t=b[1]);k(q,t);b[2]!==r||b[3]!==i?(q=function(a){a.preventDefault(),i(r)},b[2]=r,b[3]=i,b[4]=q):q=b[4];t=q;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){s(a.target.value)},b[5]=q):q=b[5];q=q;var u,v,w,x,y,z;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x889kno xyri2b x1a8lsjc x1c1uobl"},w=j.jsx("h2",{className:"x972fbf x10w94by x1qhh985 x14e42zd x1lliihq xln7xf2 x1jchvi3 x1s688f xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x2b8uid x11njtxf",children:h._(/*BTDS*/"Cambiar n\u00famero de tel\u00e9fono")}),x={className:"x972fbf x10w94by x1qhh985 x14e42zd x1lliihq xln7xf2 x1f6kntn x1fcty0u xd4r4e8 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x2b8uid x11njtxf"},y=j.jsx("span",babelHelpers["extends"]({className:"x972fbf x10w94by x1qhh985 x14e42zd x5n08af xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},{children:h._(/*BTDS*/"N\u00famero de tel\u00e9fono actual:")})),z=j.jsx("br",{}),u={className:"x972fbf x10w94by x1qhh985 x14e42zd x1roi4f4 xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[6]=u,b[7]=v,b[8]=w,b[9]=x,b[10]=y,b[11]=z):(u=b[6],v=b[7],w=b[8],x=b[9],y=b[10],z=b[11]);b[12]!==f?(x=j.jsxs("p",babelHelpers["extends"]({},x,{children:[y,z,j.jsx("span",babelHelpers["extends"]({},u,{children:f}))]})),b[12]=f,b[13]=x):x=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp x1lziwak x1yztbdb xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[14]=y):y=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(z="xdj266r x11gldyt x1iymm2a x11hdunq",b[15]=z):z=b[15];b[16]!==r?(u=j.jsx(c("PolarisSlimTextInput.react"),{"aria-label":o,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:z,name:"newPhoneNumber",onChange:q,placeholder:o,ref:p,type:"tel",value:r}),b[16]=r,b[17]=u):u=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Cambiar"),b[18]=f):f=b[18];b[19]!==t||b[20]!==a?(z=j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{loading:a,onClick:t,children:f})}),b[19]=t,b[20]=a,b[21]=z):z=b[21];b[22]!==t||b[23]!==u||b[24]!==z?(q=j.jsxs("form",babelHelpers["extends"]({},y,{method:"POST",onSubmit:t,children:[u,z]})),b[22]=t,b[23]=u,b[24]=z,b[25]=q):q=b[25];b[26]!==e?(f=!c("isStringNullOrEmpty")(e)&&j.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 xkmlbd1 x78zum5 xdt5ytf x2lah0s xln7xf2 x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf"},{children:j.jsx("p",{"aria-atomic":"true",id:n,role:"alert",children:e})})),b[26]=e,b[27]=f):f=b[27];b[28]!==g?(a=j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,children:d("PolarisGenericStrings").GO_BACK}),b[28]=g,b[29]=a):a=b[29];b[30]!==x||b[31]!==q||b[32]!==f||b[33]!==a?(y=j.jsxs("div",babelHelpers["extends"]({},v,{children:[w,x,q,f,a]})),b[30]=x,b[31]=q,b[32]=f,b[33]=a,b[34]=y):y=b[34];return y}g["default"]=a}),226);
__d("PolarisPhoneSignupConfirmForm.react",["fbt","IGDSBox.react","IGDSText.react","IGDSTextVariants.react","PolarisIGCoreButton.react","PolarisMultiSignupConstants","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSlimTextInput.react","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useRef,m=b.useState,n="phoneSignupConfirmErrorAlert",o="confirmationCodeDescription",p=h._(/*BTDS*/"Solo falta un paso");function q(a){return h._(/*BTDS*/"Introduce el c\u00f3digo de seis d\u00edgitos que hemos enviado al {phone number}.",[h._param("phone number",a)])}var r="######",s=h._(/*BTDS*/"Confirmar");function t(a,b){return j.jsx("div",{className:b,children:j.jsx("p",{"aria-atomic":"true",id:n,role:"alert",children:a})})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(57),e=a.errorMessage,f=a.onChangeNumberClick,g=a.onResendClick,i=a.onSubmit,n=a.pageIdentifier,t=a.phoneNumber,x=a.requestInFlight;a=a.successMessage;var y=m(""),z=y[0],A=y[1];y=m(!1);var B=y[0],C=y[1],D=l(null),E;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){(D==null?void 0:D.current)!=null&&D.current.focus()},E=[],b[0]=y,b[1]=E):(y=b[0],E=b[1]);k(y,E);y=w;E=v;var F=d("PolarisReactRedux.react").useSelector(u),G;b[2]!==z||b[3]!==i||b[4]!==F?(G=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",event_name:"twofac_form_next_clicked"});var a=z.replace(/\s+/g,"");if((F==null?void 0:F.fields)!=null){var b=Object.keys(F.fields).reduce(function(a,b){var c;c=(c=F.fields[b])==null?void 0:c.value;c!=null&&b!=="optIntoOneTap"&&(a[b]=c);return a},{});b.twofac=a;i(b)}},b[2]=z,b[3]=i,b[4]=F,b[5]=G):G=b[5];var H=G;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(G=function(a){a=a.target.value;if(!a.match(/^[0-9 ]*$/))return;A(a)},b[6]=G):G=b[6];G=G;var I;b[7]!==z.length||b[8]!==H||b[9]!==B?(I=function(){if(B)return;z.length===d("PolarisMultiSignupConstants").TWO_FAC_CODE_MIN_LENGTH&&c("qex")._("2156")===!0&&(C(!0),H())},b[7]=z.length,b[8]=H,b[9]=B,b[10]=I):I=b[10];var J;b[11]!==z||b[12]!==H||b[13]!==B?(J=[z,H,B],b[11]=z,b[12]=H,b[13]=B,b[14]=J):J=b[14];k(I,J);b[15]===Symbol["for"]("react.memo_cache_sentinel")?(I={className:"x889kno xyri2b x1a8lsjc x1c1uobl"},b[15]=I):I=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(J=j.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:2,position:"relative",children:j.jsx(c("IGDSText.react"),{size:"label",textAlign:"center",weight:"semibold",children:p})}),b[16]=J):J=b[16];var K;b[17]!==t?(K=q(t),b[17]=t,b[18]=K):K=b[18];b[19]!==K?(t=j.jsxs(c("IGDSBox.react"),{alignItems:"center",id:o,paddingX:7,position:"relative",children:[J,j.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:4,position:"relative",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:K})})]}),b[19]=K,b[20]=t):t=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(J={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp x1lziwak x1yztbdb xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[21]=J):J=b[21];b[22]!==H?(K=function(a){a.preventDefault(),H()},b[22]=H,b[23]=K):K=b[23];var L;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(L="xdj266r x11gldyt x1iymm2a x11hdunq",b[24]=L):L=b[24];var M;b[25]!==n?(M=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",containermodule:n,event_name:"confirmation_interaction"})},b[25]=n,b[26]=M):M=b[26];b[27]!==z||b[28]!==M?(L=j.jsx(c("PolarisSlimTextInput.react"),{"aria-describedby":o,"aria-label":r,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:L,maxLength:6,name:"confirmationCode",onChange:G,onFocus:M,placeholder:r,ref:D,type:"tel",value:z}),b[27]=z,b[28]=M,b[29]=L):L=b[29];b[30]!==H||b[31]!==x?(G=j.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{loading:x,onClick:H,children:s})}),b[30]=H,b[31]=x,b[32]=G):G=b[32];b[33]!==K||b[34]!==L||b[35]!==G?(M=j.jsxs("form",babelHelpers["extends"]({},J,{method:"POST",onSubmit:K,children:[L,G]})),b[33]=K,b[34]=L,b[35]=G,b[36]=M):M=b[36];b[37]!==e?(x=e!=null&&e!==""&&y(e),b[37]=e,b[38]=x):x=b[38];b[39]!==a?(J=a!=null&&a!==""&&E(a),b[39]=a,b[40]=J):J=b[40];b[41]===Symbol["for"]("react.memo_cache_sentinel")?(K={className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt x1yztbdb x11hdunq x2b8uid"},b[41]=K):K=b[41];b[42]===Symbol["for"]("react.memo_cache_sentinel")?(L=h._(/*BTDS*/"Cambiar n\u00famero"),b[42]=L):L=b[42];b[43]!==f?(G=j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:L}),b[43]=f,b[44]=G):G=b[44];b[45]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"Solicitar nuevo c\u00f3digo"),b[45]=y):y=b[45];b[46]!==g?(e=j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,children:y}),b[46]=g,b[47]=e):e=b[47];b[48]!==G||b[49]!==e?(E=j.jsxs("div",babelHelpers["extends"]({},K,{children:[G," | ",e]})),b[48]=G,b[49]=e,b[50]=E):E=b[50];b[51]!==t||b[52]!==M||b[53]!==x||b[54]!==J||b[55]!==E?(a=j.jsxs("div",babelHelpers["extends"]({},I,{children:[t,M,x,J,E]})),b[51]=t,b[52]=M,b[53]=x,b[54]=J,b[55]=E,b[56]=a):a=b[56];return a}function u(a){return(a=a.auth.signup)==null?void 0:a.signupResult}function v(a){return t(a,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x5n08af")}function w(a){return t(a,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid xkmlbd1")}g["default"]=a}),226);
__d("PolarisPhoneSignupForm.react",["fbt","invariant","FBLogger","IGDSBox.react","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon.react","PolarisPhoneSignupChangeNumberForm.react","PolarisPhoneSignupConfirmForm.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisSignupActions","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect,m=h._(/*BTDS*/"Confirmaci\u00f3n del n\u00famero de tel\u00e9fono");function a(a){var b,e=d("react-compiler-runtime").c(33),f=a.onSubmit,g=a.pageIdentifier;a=a.requestInFlight;var j=(b=d("PolarisReactRedux.react")).useSelector(q),r=b.useSelector(p),s=b.useSelector(o),t=b.useSelector(n),u=b.useDispatch();e[0]!==u?(b=function(){return u(d("PolarisSignupActions").switchPhoneSignupStep("changePhoneNumber"))},e[0]=u,e[1]=b):b=e[1];b=b;var v;e[2]!==u?(v=function(){return u(d("PolarisSignupActions").switchPhoneSignupStep("enterCode"))},e[2]=u,e[3]=v):v=e[3];v=v;var w;e[4]!==u?(w=function(a){return u(d("PolarisSignupActions").rerequestSMSCode(a))},e[4]=u,e[5]=w):w=e[5];w=w;var x;e[6]!==u?(x=function(){return u(d("PolarisSignupActions").rerequestSMSCode())},e[6]=u,e[7]=x):x=e[7];x=x;c("isStringNullOrEmpty")(r)&&i(0,51615);var y,z;e[8]!==g?(y=function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:"phone",containermodule:g,event_name:"form_load",step:"twofac"})},z=[g],e[8]=g,e[9]=y,e[10]=z):(y=e[9],z=e[10]);l(y,z);if(s==="enterCode"){e[11]!==t?(y=t&&k.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x5n08af x78zum5 xdt5ytf x2lah0s xln7xf2 x1f6kntn xd4r4e8 x1anpbxc x3aesyq xyorhqc xqsn43r xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x2b8uid x11njtxf"},{children:h._(/*BTDS*/"Tu c\u00f3digo se ha vuelto a enviar.")})),e[11]=t,e[12]=y):y=e[12];e[13]!==b||e[14]!==x||e[15]!==f||e[16]!==g||e[17]!==r||e[18]!==a||e[19]!==j?(z=k.jsx(c("PolarisPhoneSignupConfirmForm.react"),{errorMessage:j,onChangeNumberClick:b,onResendClick:x,onSubmit:f,pageIdentifier:g,phoneNumber:r,requestInFlight:a,successMessage:null}),e[13]=b,e[14]=x,e[15]=f,e[16]=g,e[17]=r,e[18]=a,e[19]=j,e[20]=z):z=e[20];e[21]!==y||e[22]!==z?(t=k.jsxs("div",{children:[y,z]}),e[21]=y,e[22]=z,e[23]=t):t=e[23];b=t}else if(s==="changePhoneNumber"){e[24]!==w||e[25]!==v||e[26]!==r||e[27]!==a||e[28]!==j?(x=k.jsx(c("PolarisPhoneSignupChangeNumberForm.react"),{errorMessage:j,initialPhoneNumber:r,onGoBackClick:v,onSubmit:w,requestInFlight:a}),e[24]=w,e[25]=v,e[26]=r,e[27]=a,e[28]=j,e[29]=x):x=e[29];b=x}else{c("FBLogger")("ig_web").mustfix("Unexpected phone signup step");return null}e[30]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("PolarisIGCoreIcon.react"),{alt:m,icon:d("PolarisAssetManagerGlyphMapping").ICONS.PHONE_CONFIRM}),e[30]=f):f=e[30];e[31]!==b?(y=k.jsxs(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:[f,b]}),e[31]=b,e[32]=y):y=e[32];return y}function n(a){return((a=a.auth.signup)==null?void 0:a.resentResetCode)||!1}function o(a){return(a=a.auth.signup)==null?void 0:a.phoneSignupConfirmStep}function p(a){return(a=a.auth.signup)==null?void 0:(a=a.signupCredentials)==null?void 0:a.phoneNumber}function q(a){return(a=a.auth.signup)==null?void 0:a.signupNonSpecificError}g["default"]=a}),226);
__d("PolarisEmailDomainHelpers",["PolarisConfig","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h={"aol.com":{initialSuggestion:!1},"bk.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"gmail.com":{initialSuggestion:!0},"gmx.de":{countryCodeFilter:"DE",initialSuggestion:!1},"hotmail.com":{initialSuggestion:!0},"icloud.com":{initialSuggestion:!1},"inbox.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"list.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"live.com":{initialSuggestion:!1},"mail.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"msn.com":{initialSuggestion:!1},"naver.com":{initialSuggestion:!1},"onet.pl":{countryCodeFilter:"PL",initialSuggestion:!1},"outlook.com":{initialSuggestion:!0},"qq.com":{initialSuggestion:!1},"rambler.ru":{countryCodeFilter:"RU",initialSuggestion:!1},"web.de":{countryCodeFilter:"DE",initialSuggestion:!1},"yahoo.co.jp":{countryCodeFilter:"JP",initialSuggestion:!1},"yahoo.com":{initialSuggestion:!0},"yandex.com":{initialSuggestion:!1},"yandex.ru":{countryCodeFilter:"RU",initialSuggestion:!1}},i=c("memoize")(function(){return Object.keys(h).filter(function(a){a=h[a];return"countryCodeFilter"in a?a.countryCodeFilter===d("PolarisConfig").getCountryCode():!0})});b=c("memoize")(function(){return i().reduce(function(a,b){var c=h[b];return!c.initialSuggestion?a:[].concat(a,[b])},[])});var j={"gail.com":"gmail.com","gamel.com":"gmail.com","gamil.com":"gmail.com","gamli.com":"gmail.com","gemil.com":"gmail.com","gma.com":"gmail.com","gmail.co":"gmail.com","gmaile.com":"gmail.com","gmali.com":"gmail.com","gmall.com":"gmail.com","gmel.com":"gmail.com","gmeli.com":"gmail.com","gmile.com":"gmail.com"};function a(a){a=a.split("@");var b=a[0];a=a[1];return a&&Object.prototype.hasOwnProperty.call(j,a)?b+"@"+j[a]:null}g.getPopularDomainList=i;g.getInitialSuggestedPopularDomains=b;g.getSuggestedEmail=a}),98);
__d("PolarisMultiSignupEmailSuggestionDialog.react",["fbt","IGCoreDialog.react","PolarisRegistrationLogger","memoizeStringOnly","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.handleSuggestionClick=function(a){a===b.props.emailSuggestion?d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:a,contactpoint_type:"email",event_name:"typo_fix_accept"}):d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint:a,contactpoint_type:"email",event_name:"typo_fix_skip"}),b.props.onSelection(a)},b.$1=c("memoizeStringOnly")(function(a){return b.handleSuggestionClick.bind(babelHelpers.assertThisInitialized(b),a)}),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.getEmailDomain=function(a){return a.split("@")[1]};e.render=function(){var a=this.props,b=a.emailSuggestion;a=a.originalEmail;return j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:h._(/*BTDS*/"Parece que no has escrito tu direcci\u00f3n de correo electr\u00f3nico correctamente. \u00bfQuer\u00edas usar {filled email domain}?",[h._param("filled email domain",j.jsx("span",babelHelpers["extends"]({className:"x972fbf x10w94by x1qhh985 x14e42zd xln7xf2 xk390pu xl7tqy7 xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},{children:"@"+this.getEmailDomain(a)})))]),onModalClose:this.props.onClose,title:h._(/*BTDS*/"\u00bfHas cometido un error?"),children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1(b),children:h._(/*BTDS*/"Usar {email suggestion} en su lugar",[h._param("email suggestion","@"+this.getEmailDomain(b))])}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$1(a),children:h._(/*BTDS*/"Dejarla igual")})]})};return b}(j.Component);g["default"]=a}),226);
__d("PolarisOrBar.react",["PolarisAuthStrings","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={bar:{backgroundColor:"x11mr3az",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",height:"xjm9jq1",position:"x1n2onr6",top:"xwtuau4",$$css:!0},defaultColor:{backgroundColor:"x11mr3az",$$css:!0},elevatedColor:{backgroundColor:"x1e9ncm4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12);a=a.isElevated;a=a===void 0?!1:a;var e=a!==!0&&k.defaultColor;a=a===!0&&k.elevatedColor;var f;b[0]!==e||b[1]!==a?(f=(h||(h=c("stylex")))(k.bar,e,a),b[0]=e,b[1]=a,b[2]=f):f=b[2];e=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x78zum5 x1q0g3np"},b[3]=a):a=b[3];b[4]!==e?(f=j.jsx("div",{className:e}),b[4]=e,b[5]=f):f=b[5];var g;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x1roi4f4 x78zum5 xdt5ytf x1c4vz4f x2lah0s x1nxh6w3 x1s688f x1ly1vsg xdj266r x14iifvp xat24cr xnkmj2t xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 xtvhhri x11njtxf"},{children:d("PolarisAuthStrings").OR})),b[6]=g):g=b[6];var i;b[7]!==e?(i=j.jsx("div",{className:e}),b[7]=e,b[8]=i):i=b[8];b[9]!==f||b[10]!==i?(e=j.jsxs("div",babelHelpers["extends"]({},a,{children:[f,g,i]})),b[9]=f,b[10]=i,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("isEmail",[],(function(a,b,c,d,e,f){var g=/^[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i;function a(a){return g.test(a)}f["default"]=a}),66);
__d("PolarisSlimSignupUsernameSuggestions.react",["IGDSBox.react","IGDSButton.react","PolarisRegistrationLogger","isEmail","polarisIsPhoneNumber","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=38,m=134;function n(a){if(a==null||a==="")return null;if(c("isEmail")(a))return"email";return c("polarisIsPhoneNumber")(a)?"phone":null}function a(a){var b=d("react-compiler-runtime").c(15),e=a.emailOrPhone,f=a.onUsernameUpdate,g=a.pageIdentifier;a=a.usernameSuggestions;var h;b[0]!==a?(h=a.filter(o),b[0]=a,b[1]=h):h=b[1];var p=h;a=k(p);h=a[0];var q=a[1],r;b[2]!==p||b[3]!==g?(a=function(){p.length>0&&d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:g,event_name:"username_suggestion_fetch_success"}),q(p)},r=[p,g],b[2]=p,b[3]=g,b[4]=a,b[5]=r):(a=b[4],r=b[5]);j(a,r);if(p.length===0)return null;if(b[6]!==e||b[7]!==f||b[8]!==h){b[10]!==e||b[11]!==f?(a=function(a){return i.jsx("div",{className:"x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x6ikm8r x10wlt62 x1n2onr6",style:{height:l,width:m},children:i.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:1,position:"relative",children:i.jsx(c("IGDSButton.react"),{label:a,onClick:function(){d("PolarisRegistrationLogger").logRegistrationEvent({contactpoint_type:n(e),event_name:"click_username_suggestions"}),f(a)},variant:"secondary"})})},a)},b[10]=e,b[11]=f,b[12]=a):a=b[12];r=h.slice(0,2).map(a);b[6]=e;b[7]=f;b[8]=h;b[9]=r}else r=b[9];b[13]!==r?(a=i.jsx(c("IGDSBox.react"),{direction:"row",height:l,marginEnd:10,marginStart:10,position:"relative",children:r}),b[13]=r,b[14]=a):a=b[14];return a}function o(a){return a.length<14}g["default"]=a}),98);
__d("PolarisTermsPrivacyPolicyBlurb.react",["fbt","IGDSTextVariants.react","PolarisConsentTypes","PolarisExternalRoutes","PolarisFastLink.react","PolarisReactRedux.react","PolarisRoutes","gkx","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(){return c("gkx")("25366")===!0}function l(a){var b=d("react-compiler-runtime").c(3);a=a.className;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:h._(/*BTDS*/"Al registrarte, aceptas nuestras {=Terms} y la {=Privacy Policy}.",[h._param("=Terms",j.jsx(c("PolarisFastLink.react"),{href:"/legal/terms/",target:"_blank",children:h._(/*BTDS*/"Condiciones")})),h._param("=Privacy Policy",j.jsx(c("PolarisFastLink.react"),{href:"/legal/privacy/",target:"_blank",children:h._(/*BTDS*/"Pol\u00edtica de privacidad")}))])}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx("p",{className:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function m(a){a===void 0&&(a=!0);return j.jsxs(j.Fragment,{children:[j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:h._(/*BTDS*/"Es posible que los usuarios de nuestro servicio hayan subido tu informaci\u00f3n de contacto en Instagram. {Contact uploading for non-users privacy policy}",[h._param("Contact uploading for non-users privacy policy",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").FACEBOOK_CONTACT_UPLOADING_AND_NON_USERS,target:"_blank",children:h._(/*BTDS*/"M\u00e1s informaci\u00f3n")}))])}),a&&j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsx("br",{})]})]})}function n(a){var b=d("react-compiler-runtime").c(7);a=a.className;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:[m(),h._(/*BTDS*/"Al registrarte, aceptas nuestras {=Terms}. Obt\u00e9n m\u00e1s informaci\u00f3n en la {Privacy Policy} sobre c\u00f3mo recogemos, usamos y compartimos tus datos, as\u00ed como sobre el uso que hacemos de las cookies y tecnolog\u00edas similares en la {Cookies Policy}.",[h._param("=Terms",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,target:"_blank",children:h._(/*BTDS*/"Condiciones")})),h._param("Privacy Policy",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").NEW_PRIVACY_POLICY_PATH,target:"_blank",children:h._(/*BTDS*/"Pol\u00edtica de privacidad")})),h._param("Cookies Policy",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisRoutes").NEW_COOKIE_POLICY_PATH,target:"_blank",children:h._(/*BTDS*/"Pol\u00edtica de cookies")}))])]}),b[0]=e):e=b[0];var f;b[1]!==a?(e=j.jsx("p",{className:a,children:e}),f=k()&&j.jsx("p",{className:a,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:h._(/*BTDS*/"{=fund our services} usando tus datos personales para mostrarte anuncios.",[h._param("=fund our services",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,target:"_blank",children:h._(/*BTDS*/"Financiamos nuestros servicios")}))])})}),b[1]=a,b[2]=e,b[3]=f):(e=b[2],f=b[3]);b[4]!==e||b[5]!==f?(a=j.jsxs(j.Fragment,{children:[e,f]}),b[4]=e,b[5]=f,b[6]=a):a=b[6];return a}function o(a){var b=d("react-compiler-runtime").c(3);a=a.className;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:[m(),h._(/*BTDS*/"Al registrarte, aceptas nuestras {=Terms}, nuestra {Privacy Policy} y nuestra {Cookies Policy}.",[h._param("=Terms",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").NEW_LEGAL_TERMS_PATH,target:"_blank",children:h._(/*BTDS*/"Condiciones")})),h._param("Privacy Policy",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisExternalRoutes").NEW_PRIVACY_POLICY_PATH,target:"_blank",children:h._(/*BTDS*/"Pol\u00edtica de privacidad")})),h._param("Cookies Policy",j.jsx(c("PolarisFastLink.react"),{href:d("PolarisRoutes").NEW_COOKIE_POLICY_PATH,target:"_blank",children:h._(/*BTDS*/"Pol\u00edtica de cookies")}))])]}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx("p",{className:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function p(a){var b=d("react-compiler-runtime").c(3);a=a.className;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=m(!1),b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("p",{className:a,children:c}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var b=d("react-compiler-runtime").c(8),e=a.className,f=a.cpeOnly;a=a.tosVersion;f=f===void 0?!1:f;if(f){b[0]!==e?(f=j.jsx(p,{className:e}),b[0]=e,b[1]=f):f=b[1];return f}switch(a){case d("PolarisConsentTypes").TosVersion.EU:b[2]!==e?(f=j.jsx(n,{className:e}),b[2]=e,b[3]=f):f=b[3];return f;case d("PolarisConsentTypes").TosVersion.ROW:c("vulture")("k8Ve7Ew5f0zJAqmwO5JuGcbTfn8=");b[4]!==e?(a=j.jsx(o,{className:e}),b[4]=e,b[5]=a):a=b[5];return a;case d("PolarisConsentTypes").TosVersion.DEFAULT:default:c("vulture")("mzw_Kyi_OlzS4PNt3WcRdVp__aE=");b[6]!==e?(f=j.jsx(l,{className:e}),b[6]=e,b[7]=f):f=b[7];return f}}function b(a){return{tosVersion:a.signup.tosVersion}}e=d("PolarisReactRedux.react").connect(b)(a);g["default"]=e}),226);
__d("whitelistObjectKeys",[],(function(a,b,c,d,e,f){function a(a,b){var c={};b=Array.isArray(b)?b:Object.keys(b);for(var d=0;d<b.length;d++)typeof a[b[d]]!=="undefined"&&(c[b[d]]=a[b[d]]);return c}f["default"]=a}),66);
__d("PolarisSlimSignupForm.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","IGDSTextVariants.react","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisAuthStrings","PolarisEmailDomainHelpers","PolarisIGCoreButton.react","PolarisIsLoggedIn","PolarisMultiSignupEmailSuggestionDialog.react","PolarisOrBar.react","PolarisRegistrationLogger","PolarisRelayEnvironment","PolarisSlimSignupUsernameSuggestions.react","PolarisSlimTextInput.react","PolarisTermsPrivacyPolicyBlurb.react","PolarisUA","fetchPolarisLoggedOutExperiment","joinClasses","nullthrows","polarisIsPhoneNumber","polarisSignupSelectors","promiseDone","qex","react","whitelistObjectKeys"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=["username","password","emailOrPhone","fullName","optIntoOneTap"];a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e,f;f=a.call(this,b)||this;f.$5=function(){f.setState({emailSuggestion:null})};f.$6=function(a){f.setState({emailOrPhone:a,emailSuggestion:null},function(){f.$7()})};f.$8=function(){var a=f.props.usernameSuggestions.indexOf(f.state.username);f.setState({username:f.props.usernameSuggestions[++a]||f.props.usernameSuggestions[0]});d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f.props.pageIdentifier,event_name:"suggested_username_refreshed"})};f.$9=function(a){var b;a=a.target;var c=a.name;a=a.value;f.setState((b={},b[c]=a,b))};f.$10=function(){var a=f.state.isPasswordHidden;f.setState({isPasswordHidden:!a});a?d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f.props.pageIdentifier,event_name:"show_password_clicked"}):d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f.props.pageIdentifier,event_name:"hide_password_clicked"})};f.$11=function(a){if(a.relatedTarget instanceof HTMLElement&&f.$1&&f.$1.contains(a.relatedTarget))return;f.$4(f.state,null)};f.$12=function(a,b){a=a.target.name;f.$4(f.state,a);b&&d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f.props.pageIdentifier,event_name:b})};f.$14=function(a){a.preventDefault();a=f.state.emailOrPhone;d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:f.props.pageIdentifier,event_name:"base_form_next_clicked"});if(a!=null&&!c("polarisIsPhoneNumber")(a)){a=d("PolarisEmailDomainHelpers").getSuggestedEmail(a);if(a!=null){f.setState({emailSuggestion:a});return}}f.$7()};f.$15=function(a){a.keyCode===13&&f.$14(a)};f.$23=function(a){f.setState({username:a})};e={emailOrPhone:((e=b.signupResult)==null?void 0:(e=e.fields)==null?void 0:(e=e.emailOrPhone)==null?void 0:e.value)||"",emailSuggestion:null,fullName:(e=(e=(e=b.signupResult)==null?void 0:(e=e.fields)==null?void 0:(e=e.fullName)==null?void 0:e.value)!=null?e:b.initialFullName)!=null?e:"",isPasswordHidden:!0,optIntoOneTap:!1,username:((e=b.signupResult)==null?void 0:(e=e.fields)==null?void 0:(e=e.username)==null?void 0:e.value)||""};if(f.props.needEmailOrPhone){e.emailOrPhone=(b=(b=(b=b.signupResult)==null?void 0:(b=b.fields)==null?void 0:(b=b.emailOrPhone)==null?void 0:b.value)!=null?b:f.props.prefillPhoneNumber)!=null?b:""}f.props.needPassword&&(e.password="");f.state=e;f.$2={};f.$3=!1;return f}var e=b.prototype;e.componentDidMount=function(){var a=this.props.pageIdentifier==="fbSignupPage"?"fb_signup_form_load":"form_load";d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:this.props.pageIdentifier,event_name:a,fb_userid:this.props.fbUserID,fbconnect_status:this.props.fbConnectedStatus})};e.componentDidUpdate=function(a,b){var c=this.props;this.state.username.length===0&&this.props.usernameSuggestions.length===0&&c.usernameSuggestions.length>=1&&this.setState({username:c.usernameSuggestions[0]});var d=this.state;a.usernameSuggestions.length===0&&c.usernameSuggestions.length>=1&&b.username!==d.username&&this.$4(d,"username")};e.focusUsername=function(){c("nullthrows")(this.$2.username).focus()};e.$4=function(a,b){var d=this.props.onSignupFocusChange;if(d){a=c("whitelistObjectKeys")(a,l);d(a,b)}};e.$13=function(){var a,b,e,f;if(this.props.requestInFlight)return!0;a=(a=this.props.signupResult)==null?void 0:a.fields;b=a==null?void 0:(b=a.emailOrPhone)==null?void 0:b.error;e=a==null?void 0:(e=a.username)==null?void 0:e.error;f=a==null?void 0:(f=a.password)==null?void 0:f.error;a=a==null?void 0:(a=a.fullName)==null?void 0:a.error;if(b!==void 0||e!==void 0||f!==void 0||a!==void 0){c("promiseDone")(c("fetchPolarisLoggedOutExperiment")(c("PolarisRelayEnvironment"),{name:"ig_web_signup_lox_universe_desktop",param:"is_inactive_next_button_enabled"}));b=c("qex")._("4816")===!0;return b}e=this.props;f=e.needEmailOrPhone;a=e.needPassword;b=this.state;e=b.emailOrPhone;var g=b.password;b=b.username;return d("polarisSignupSelectors").getSubmitDisabled({needEmailOrPhone:f,needPassword:a},{emailOrPhone:e,password:g,username:b})};e.$7=function(){var a=c("whitelistObjectKeys")(this.state,l);this.$3=!0;this.props.onSubmit(a)};e.$16=function(a){return!!(this.props.signupResult&&((a=this.props.signupResult.fields[a])==null?void 0:a.validated))};e.$17=function(){if(d("PolarisIsLoggedIn").isLoggedIn())return!1;c("promiseDone")(c("fetchPolarisLoggedOutExperiment")(c("PolarisRelayEnvironment"),{name:"ig_web_signup_lox_universe_desktop",param:"is_move_up_field_label_enabled"}));var a=c("qex")._("1285")===!0;return a};e.$18=function(a){var b;b=(b=this.props.signupResult)==null?void 0:b.fields;if(a==="emailOrPhone"){var c;return(b==null?void 0:(c=b.emailOrPhone)==null?void 0:c.value)!==this.state.emailOrPhone}else if(a==="username"){return(b==null?void 0:(c=b.username)==null?void 0:c.value)!==this.state.username}else if(a==="password"){return(b==null?void 0:(c=b.password)==null?void 0:c.value)!==this.state.password}return!1};e.$19=function(a){var b=this.props,c=b.focusedFields;b=b.signupResult;var d=b==null?void 0:b.wasDryRun;d=!d;if(c){var e=c.current===a;c=c.previous.indexOf(a)>-1;c=!e&&c;var f=this.$18(a)===!1;d=(c||e)&&f}if(d){return b==null?void 0:(c=b.fields)==null?void 0:(e=c[a])==null?void 0:e.error}return null};e.$20=function(a){return k.jsx("div",{className:"_aaht",children:k.jsx("p",{"aria-atomic":"true",id:d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID,role:"alert",children:a})})};e.$21=function(){return d("PolarisUA").isMobile()?d("PolarisAuthStrings").FB_CONTINUE_BUTTON_TEXT:d("PolarisAuthStrings").FB_LOGIN_BUTTON_TEXT};e.$22=function(){var a=this.props.hideHeader;if(a)return null;a=d("PolarisAuthStrings").SIGN_UP_VALUE_PROP_WITHOUT_GRADIENT;return d("PolarisUA").isMobile()?k.jsx("div",{className:"_aahx",children:k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:a})}):k.jsx("div",{className:"_aahw",children:k.jsx(d("IGDSTextVariants.react").IGDSTextSection,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:a})})};e.render=function(){var a,b=this,e=this.props,f=e.canUsePhone,g=e.signupNonSpecificError;e=e.signupResult;var h=!!(this.props.usernameSuggestions.length&&(!this.props.needEmailOrPhone||this.state.emailOrPhone)),j=e==null?void 0:e.otherError;g!=null&&(j=g);g=j!=null&&(e==null?void 0:e.wasDryRun)===!0;var l=this.$19("emailOrPhone"),m=this.$19("fullName"),n=this.$19("username"),o=this.$19("password"),p=d("PolarisUA").isMobile()?"_aahv":"_aahy";e=(e==null?void 0:(a=e.fields.username)==null?void 0:a.errorCode)==null||(e==null?void 0:(a=e.fields.username)==null?void 0:a.errorCode)==="username_is_taken";return k.jsxs("div",{className:c("joinClasses")(this.props.className,"_aahz"),"data-testid":void 0,children:[this.state.emailSuggestion!=null?k.jsx(c("PolarisMultiSignupEmailSuggestionDialog.react"),{emailSuggestion:this.state.emailSuggestion,onClose:this.$5,onSelection:this.$6,originalEmail:c("nullthrows")(this.state.emailOrPhone)}):null,k.jsxs("form",{className:"_aah-",method:"post",onBlur:this.$11,onSubmit:this.$14,ref:function(a){return b.$1=a},children:[this.$22(),!this.props.hideFBOption&&k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:k.jsxs(c("PolarisIGCoreButton.react"),{onClick:this.props.onSignupWithFBClick,children:[k.jsx("span",{className:"_9zlu _aah_"}),this.$21()]})}),k.jsx("div",{className:"_aai0",children:k.jsx(c("PolarisOrBar.react"),{})})]}),this.props.needEmailOrPhone&&k.jsx(c("PolarisSlimTextInput.react"),{accepted:this.$16("emailOrPhone"),"aria-describedby":l!=null&&!g?d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":f?d("PolarisAuthStrings").EMAIL_OR_PHONE:d("PolarisAuthStrings").EMAIL,"aria-required":"true",autoCapitalize:"off",autoComplete:"tel",autoCorrect:"off",className:p,errorMessage:l,hasError:!!l,isInputFocused:this.$17(),name:"emailOrPhone",onChange:this.$9,onFocus:function(a){return b.$12(a,"contactpoint_interaction")},onKeyDown:this.$15,placeholder:f?d("PolarisAuthStrings").EMAIL_OR_PHONE:d("PolarisAuthStrings").EMAIL,ref:function(a){return b.$2.emailOrPhone=a},value:this.state.emailOrPhone}),this.props.needPassword&&k.jsx(c("PolarisSlimTextInput.react"),{accepted:this.$16("password"),"aria-describedby":o!=null&&!g?d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":d("PolarisAuthStrings").PASSWORD,"aria-required":"true",autoCapitalize:"off",autoComplete:"new-password",autoCorrect:"off",className:p,errorMessage:o,hasError:!!o,isInputFocused:this.$17(),isPasswordHidden:this.state.isPasswordHidden,name:"password",onChange:this.$9,onFocus:function(a){return b.$12(a,"password_interaction")},onKeyDown:this.$15,onPasswordToggle:this.$10,placeholder:d("PolarisAuthStrings").PASSWORD,ref:function(a){return b.$2.password=a},showPasswordToggleLink:!!this.state.password,type:this.state.isPasswordHidden?"password":"text",value:this.state.password}),k.jsx(c("PolarisSlimTextInput.react"),{accepted:this.$16("fullName"),"aria-describedby":m!=null&&!g?d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":d("PolarisAuthStrings").FULL_NAME,"aria-required":"false",autoCapitalize:"sentences",autoCorrect:"off",className:p,errorMessage:m,hasError:!!m,isInputFocused:this.$17(),name:"fullName",onChange:this.$9,onFocus:function(a){return b.$12(a,"name_interaction_full_name")},onKeyDown:this.$15,placeholder:d("PolarisAuthStrings").FULL_NAME,ref:function(a){return b.$2.fullName=a},value:this.state.fullName}),k.jsx(c("PolarisSlimTextInput.react"),{accepted:this.$16("username"),"aria-describedby":n!=null&&!g?d("PolarisAuthConstants").SLIM_SIGNUP_FORM_ALERT_ID:void 0,"aria-label":d("PolarisAuthStrings").USERNAME,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",canRefresh:h,className:p,errorMessage:n,hasError:!!n,isInputFocused:this.$17(),maxLength:30,name:"username",omitErrorMarginBottom:e,onChange:this.$9,onFocus:function(a){return b.$12(a,"username_interaction")},onKeyDown:this.$15,onRefresh:this.$8,placeholder:d("PolarisAuthStrings").USERNAME,ref:function(a){return b.$2.username=a},value:this.state.username}),e&&k.jsx(c("PolarisSlimSignupUsernameSuggestions.react"),{emailOrPhone:this.state.emailOrPhone,onUsernameUpdate:this.$23,pageIdentifier:this.props.pageIdentifier,usernameSuggestions:this.props.usernameSuggestions}),d("PolarisUA").isDesktop()&&k.jsx(c("PolarisTermsPrivacyPolicyBlurb.react"),{className:"_aai1",cpeOnly:d("PolarisAuthLimitedRegistrationHelpers").shouldShowSouthKoreaTOS()}),k.jsxs("div",{children:[k.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{disabled:this.$13(),onClick:this.$14,type:"submit",children:!this.props.gdprRequired&&d("PolarisUA").isDesktop()?i._(/*BTDS*/"Registrarte"):i._(/*BTDS*/"Siguiente")})}),this.props.requestInFlight?k.jsx(c("IGDSSpinner.react"),{position:"absolute"}):null]}),j&&!g&&this.$20(j)]})]})};return b}(k.Component);a.defaultProps={hideFBOption:!1,hideHeader:!1,needPassword:!0};g["default"]=a}),226);
__d("polarisIsEligibleForFacebookLogin",["PolarisConfig","PolarisQueryParams"],(function(a,b,c,d,e,f,g){"use strict";var h={CN:!0,CU:!0,IR:!0,KP:!0},i=/^((preprod|business|www)\.)?([a-z0-9-]+\.){0,}instagram\.com$/;function j(a){return!!h[a]}function k(a){return i.test(a)}function a(){return k(window.location.hostname)&&!j(d("PolarisConfig").getCountryCode()||"")&&(!d("PolarisQueryParams").hasForceAuthenticationParam()||d("PolarisQueryParams").hasEnableFBLoginParam())}g["default"]=a}),98);
__d("PolarisSignupForm.react",["invariant","CometRouteURL","IGCoreDialog.react","PolarisAcceptTermsOfUseForm.react","PolarisAccountPrivacyForm.react","PolarisAgeCollectionHelpers","PolarisBirthdaySignupForm.react","PolarisCaptchaSignupForm.react","PolarisEmailConfirmationForm.react","PolarisFBConnectHelpers","PolarisFBConnectStatus","PolarisGenericStrings","PolarisLoggedOutCtaClickLogger","PolarisPhoneSignupForm.react","PolarisReactRedux.react","PolarisRegistrationLogger","PolarisRoutes","PolarisSignupActions","PolarisSignupTypes","PolarisSlimSignupForm.react","PolarisUA","polarisIsEligibleForFacebookLogin","qex","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=function(){d("PolarisRegistrationLogger").logRegistrationEvent({containermodule:e.props.pageIdentifier,event_name:"fbconnect_click",fb_userid:e.props.fbUserID,fbconnect_status:e.props.fbConnectedStatus});var a=d("PolarisRoutes").FXCAL_DISCLOSURE_PATH;d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",e.props.pageIdentifier);d("PolarisFBConnectHelpers").redirectToFBOAuth(a,"signupPage")};e.state={showFacebookLogin:c("polarisIsEligibleForFacebookLogin")()};return e}var e=b.prototype;e.componentDidMount=function(){var a=d("CometRouteURL").getWindowURLParams()||{};a=a.hide_fb_signup;Boolean(a)===!0&&this.setState({showFacebookLogin:!1})};e.$2=function(){return d("PolarisUA").isDesktop()&&c("qex")._("33")===!0};e.render=function(){switch(this.props.step){case d("PolarisSignupTypes").STEP.emailConfirmation:return j.jsx(c("PolarisEmailConfirmationForm.react"),{onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case d("PolarisSignupTypes").STEP.phoneConfirmation:c("vulture")("y7IT8AkbRfo0-5xvNg9y6z-j-oA=");return j.jsx(c("PolarisPhoneSignupForm.react"),{onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,signupResult:this.props.signupResult,usernameSuggestions:this.props.usernameSuggestions});case d("PolarisSignupTypes").STEP.birthday:c("vulture")("l4zuxBzakDgSMwln5uhsj8h-wSA=");return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisBirthdaySignupForm.react"),{onBirthdayEntered:this.props.onBirthdayEntered,onSignup:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style}),this.props.signupAgeSpecificError!=null&&j.jsx(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:this.props.onClearAgeError,title:d("PolarisAgeCollectionHelpers").WE_COULDNT_CREATE_AN_ACC,children:j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.props.onClearAgeError,children:d("PolarisGenericStrings").OK_TEXT})})]});case d("PolarisSignupTypes").STEP.accountPrivacy:c("vulture")("CSF1e4Q94Qx1U5d393aPFU3T8yY=");return j.jsx(c("PolarisAccountPrivacyForm.react"),{defaultedToPrivate:!1,handleNext:function(){}});case d("PolarisSignupTypes").STEP.acceptTerms:c("vulture")("ldoG3d8E3K_i9CqYSCtQx1ow2Rc=");return j.jsx(c("PolarisAcceptTermsOfUseForm.react"),{onSignup:this.props.onSignup,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case d("PolarisSignupTypes").STEP.captcha:c("vulture")("flG-3BXw3CrUJC0UYefsiV1HhCs=");return j.jsx(c("PolarisCaptchaSignupForm.react"),{onSignup:this.props.onSignup,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,style:this.props.style});case d("PolarisSignupTypes").STEP.base:default:c("vulture")("3hBviHuk29ka_O_UPRoOt1oWNpg=");var a=this.$2()||!this.state.showFacebookLogin;return j.jsx(c("PolarisSlimSignupForm.react"),{canUsePhone:!0,errorNonce:this.props.errorNonce,fbConnectedStatus:this.props.fbConnectedStatus,fbUserID:this.props.fbUserID,focusedFields:this.props.focusedFields,gdprRequired:this.props.gdprRequired,hideFBOption:a,hideHeader:this.props.hideHeader,needEmailOrPhone:!0,onSignupFocusChange:this.props.onSignupFocusChange,onSignupWithFBClick:this.$1,onSubmit:this.props.onSignup,pageIdentifier:this.props.pageIdentifier,requestInFlight:this.props.requestInFlight,signupNonSpecificError:this.props.signupNonSpecificError,signupResult:this.props.signupResult,usernameSuggestions:this.props.usernameSuggestions})}};return b}(j.Component);function a(a,b){var c=a.auth,e=c.login&&c.login.submissionCount||c.signup&&c.signup.submissionCount||0;b=c.signup&&c.signup.requestInFlight||b.requestInFlight;return{errorNonce:e,fbConnectedStatus:a.fb.status,fbEligible:a.fb.status!==d("PolarisFBConnectStatus").STATUS.ineligible,fbUserID:a==null?void 0:(e=a.fb)==null?void 0:(e=e.authResponse)==null?void 0:e.userID,focusedFields:c.signup&&c.signup.signupFocusedField,gdprRequired:a.signup.gdprRequired,requestInFlight:b,signupAgeSpecificError:c.signup&&c.signup.signupAgeSpecificError,signupNonSpecificError:c.signup&&c.signup.signupNonSpecificError,signupResult:c.signup&&c.signup.signupResult,step:c.signup&&c.signup.step||d("PolarisSignupTypes").STEP.base,usernameSuggestions:c.signup&&c.signup.usernameSuggestions||[]}}function b(a,b){return{onBirthdayEntered:function(){a(d("PolarisSignupActions").processBirthday())},onClearAgeError:function(){a({errorMessage:void 0,type:"SIGNUP_ERROR"})},onSignup:function(c){c.emailOrPhone!=null||h(0,51567),a(d("PolarisSignupActions").validateFormAndContinue(c,b.pageIdentifier))},onSignupFocusChange:function(b,c){a(d("PolarisSignupActions").changeSignupFormFocus(b,c)),a(d("PolarisSignupActions").performDryRun(b))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisFacebookLoginButtonRevamped",["IGDSBox.react","IGDSFacebookCircleFilled16Icon.react","PolarisAuthStrings","PolarisIGCoreButton.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isAccountSwitcherOpen,f=a.isTextOnMediaVariant;a=a.onClick;e=!d("PolarisUA").isMobile()&&!e===!0||f;var g=d("PolarisUA").isMobile()?d("PolarisAuthStrings").FB_CONTINUE_BUTTON_TEXT:d("PolarisAuthStrings").FB_LOGIN_BUTTON_TEXT;f=d("PolarisUA").isMobile()?f===!0?"ig-text-on-media":"web-always-white":"ig-primary-button";var h;b[0]!==f?(h=i.jsx(c("IGDSBox.react"),{marginEnd:1,paddingX:1,position:"relative",children:i.jsx(c("IGDSFacebookCircleFilled16Icon.react"),{alt:g,color:f,size:20})}),b[0]=f,b[1]=h):h=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("span",babelHelpers["extends"]({},{0:{className:"xvs91rp xwhw2v2 x2ltsn7"},1:{className:"xvs91rp xwhw2v2 x9bdzbf"}}[!!d("PolarisUA").isMobile()<<0],{children:g})),b[2]=f):f=b[2];b[3]!==h?(g=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",position:"relative",children:[h,f]}),b[3]=h,b[4]=g):g=b[4];b[5]!==e||b[6]!==a||b[7]!==g?(f=i.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{borderless:e,onClick:a,children:g})}),b[5]=e,b[6]=a,b[7]=g,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisStopDeletionDialogStrings",["fbt","PolarisExternalLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");var j=b.jsx(c("PolarisExternalLink.react"),{href:"https://help.instagram.com/370452623149242",children:h._(/*BTDS*/"M\u00e1s informaci\u00f3n")});function a(a,b){return h._(/*BTDS*/"Has solicitado que se elimine la cuenta {username}. Si quieres conservarla, tienes hasta el {date} para avisarnos. De lo contrario, se eliminar\u00e1n tus publicaciones y tu informaci\u00f3n. {Learn More}",[h._param("username",a),h._param("date",b),h._param("Learn More",j)])}e=h._(/*BTDS*/"\u00bfQuieres seguir usando esta cuenta?");f=h._(/*BTDS*/"Conservar cuenta");d=h._(/*BTDS*/"Volver al inicio de sesi\u00f3n");g.getDeletionBodyText=a;g.DELETION_TITLE=e;g.DELETION_KEEP_ACCOUNT=f;g.DELETION_BACK_TO_LOGIN=d}),226);
__d("PolarisStopDeletionDialog.react",["IGCoreDialog.react","PolarisStopDeletionDialogStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),c=a.onClose,e=a.onStopDeletion,f=a.stopDeletionDate,g=a.stopDeletionNonce;a=a.username;var h;b[0]!==f||b[1]!==a?(h=d("PolarisStopDeletionDialogStrings").getDeletionBodyText(a,f),b[0]=f,b[1]=a,b[2]=h):h=b[2];b[3]!==e||b[4]!==g?(f=i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:function(){return e(g)},children:d("PolarisStopDeletionDialogStrings").DELETION_KEEP_ACCOUNT}),b[3]=e,b[4]=g,b[5]=f):f=b[5];b[6]!==c?(a=i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisStopDeletionDialogStrings").DELETION_BACK_TO_LOGIN}),b[6]=c,b[7]=a):a=b[7];b[8]!==h||b[9]!==f||b[10]!==a?(c=i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:h,title:d("PolarisStopDeletionDialogStrings").DELETION_TITLE,children:[f,a]}),b[8]=h,b[9]=f,b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),98);
__d("PolarisThirdPartyAuthHelpers",["InstagramQueryParamsHelper","PolarisFBConnectHelpers","PolarisRoutes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){if(c||e){b();return}c=d("PolarisRoutes").FXCAL_DISCLOSURE_PATH;e=a!=null?d("InstagramQueryParamsHelper").appendQueryParams(c,{next:a}):c;d("PolarisFBConnectHelpers").redirectToFBOAuth(e,"loginPage");return}g.handleLoginOrFacebookAuth=a}),98);
__d("PolarisSlimLoginForm.react",["fbt","CometImage.react","IGDSBox.react","IGDSButton.react","IGDSCheckbox.react","IGDSIconButton.react","IGDSInfoPanoFilledIcon.react","IGDSText.react","IGDSTextVariants.react","InstagramQueryParamsHelper","PolarisAccountSwitcherActions","PolarisAuthStrings","PolarisAuthTestIDs","PolarisAuthTypeSwitcher.react","PolarisConsentQEHelpers","PolarisConsentStrings.react","PolarisFacebookLoginButtonRevamped","PolarisFastLink.react","PolarisIGCoreButton.react","PolarisIsLoggedIn","PolarisLoggedOutCtaClickLogger","PolarisLoginLogger","PolarisLoginQPL","PolarisOneTapLogin","PolarisOrBar.react","PolarisQueryParams","PolarisReactRedux.react","PolarisRoutes","PolarisSlimTextInput.react","PolarisStopDeletionDialog.react","PolarisThirdPartyAuthHelpers","PolarisTooManyAccountsDialog.react","PolarisUA","gkx","justknobx","react","react-compiler-runtime","usePolarisPageID","usePolarisSendAccountRecoveryEmailForBoost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n="slfErrorAlert",o=6,p={profilePicture:{maxWidth:"x193iq5w",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(12),e=a.checkboxId,f=a.checkboxOnChange,g=a.checkboxState,h=a.checkboxText;a=a.disabled;var i=d("PolarisReactRedux.react").useSelector(r);i=d("PolarisUA").isMobile()&&i&&d("PolarisIsLoggedIn").isLoggedIn()?4:10;var k=a?"secondaryText":"primaryText",l;b[0]!==h||b[1]!==k?(l=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:k,children:h}),b[0]=h,b[1]=k,b[2]=l):l=b[2];b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==l?(h=j.jsx(c("IGDSCheckbox.react"),{checkboxShape:"square",isChecked:g,isDisabled:a,name:"LoginCheckbox",onChange:f,size:16,zeroPadding:!0,children:l}),b[3]=f,b[4]=g,b[5]=a,b[6]=l,b[7]=h):h=b[7];b[8]!==e||b[9]!==i||b[10]!==h?(k=j.jsx(c("IGDSBox.react"),{id:e,marginBottom:3,marginEnd:2,marginStart:i,marginTop:3,position:"relative",children:h}),b[8]=e,b[9]=i,b[10]=h,b[11]=k):k=b[11];return k}function r(a){return a.navigation.isAccountSwitcherOpen}function s(a){var b=d("react-compiler-runtime").c(23),e=a.fromLoggedOutDialog,f=a.hideForgotPassword,g=a.isThreadsRequest,i=a.newAuthDesign,k=a.onClick,l=e===void 0?!1:e;a=g===void 0?!1:g;e=i===void 0?!1:i;var m=d("PolarisReactRedux.react").useDispatch();b[0]!==m?(g=function(){return m(d("PolarisAccountSwitcherActions").closeAccountSwitcher())},b[0]=m,b[1]=g):g=b[1];var n=g,o=d("PolarisReactRedux.react").useSelector(t);i=a?"center":"end";if(f===!0)return null;b[2]!==e?(g=e?h._(/*BTDS*/"\u00bfLo has olvidado?"):h._(/*BTDS*/"\u00bfHas olvidado la contrase\u00f1a?"),b[2]=e,b[3]=g):g=b[3];f=g;g=d("PolarisRoutes").PASSWORD_RESET_PATH;if(d("PolarisQueryParams").isFromLoginForAPI()){var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("InstagramQueryParamsHelper").appendQueryParams(d("PolarisRoutes").PASSWORD_RESET_PATH,{source:"api-login"}),b[4]=p):p=b[4];g=p}else if(d("PolarisQueryParams").isFromFxcal()){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("InstagramQueryParamsHelper").appendQueryParams(d("PolarisRoutes").PASSWORD_RESET_PATH,{source:"fxcal"}),b[5]=p):p=b[5];g=p}b[6]!==f||b[7]!==a||b[8]!==e?(p=a?j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:f}):e?j.jsx(d("IGDSTextVariants.react").IGDSTextFootnote,{color:"link",maxLines:1,textAlign:"center",children:f}):d("PolarisUA").isMobile()?j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryButton",textAlign:"center",children:f}):j.jsx(c("IGDSText.react"),{color:"link",zeroMargin:!0,children:f}),b[6]=f,b[7]=a,b[8]=e,b[9]=p):p=b[9];p=p;var q;b[10]!==l||b[11]!==o||b[12]!==k||b[13]!==n?(q=function(a){k==null?void 0:k(),d("PolarisLoginLogger").logLoginEvent({event_name:"forgot_password_click"}),d("PolarisLoginLogger").logLoginEvent({event_category:"search",event_flow:"account_recovery_start",event_name:"account_recovery_start",event_step:"search",extra_client_data:l?{event_source:"login_logged_out_dialog_forgot"}:null}),o&&n()},b[10]=l,b[11]=o,b[12]=k,b[13]=n,b[14]=q):q=b[14];q=q;b[15]!==f||b[16]!==q||b[17]!==o||b[18]!==a||b[19]!==i||b[20]!==e||b[21]!==p?(g=d("PolarisUA").isMobile()&&!(o&&d("PolarisIsLoggedIn").isLoggedIn())||a?j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:i,marginBottom:e?0:2,marginEnd:e?0:10,marginStart:10,paddingY:3,position:"relative",children:j.jsx(c("PolarisFastLink.react"),{href:g,onClick:q,children:p},"reset")}):j.jsx(c("IGDSBox.react"),{alignContent:"center",alignSelf:"center",display:"flex",marginTop:3,children:j.jsx(c("IGDSButton.react"),{href:g,label:f,onClick:q,variant:d("PolarisUA").isMobile()&&o?"primary_link":"secondary_link"},"reset")}),b[15]=f,b[16]=q,b[17]=o,b[18]=a,b[19]=i,b[20]=e,b[21]=p,b[22]=g):g=b[22];return g}function t(a){return a.navigation.isAccountSwitcherOpen}function aa(a){var b=d("react-compiler-runtime").c(20),e=a.fromLoggedOutDialog,f=a.hideForgotPassword,g=a.isThreadsRequest,h=a.onForgotPasswordClick;a=a.onNavigate;e=e===void 0?!1:e;g=g===void 0?!1:g;var i=d("PolarisReactRedux.react").useSelector(u);if(g)return null;if(d("PolarisUA").isMobile()&&!(i&&d("PolarisIsLoggedIn").isLoggedIn())){if(d("PolarisQueryParams").isFromFxcal()||d("PolarisQueryParams").hasDisableSignupParam())return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("PolarisConsentQEHelpers").shouldShowIPFingerPrintingDisclosure(),b[0]=g):g=b[0];g=g;var k;b[1]!==a?(k=j.jsx(c("PolarisAuthTypeSwitcher.react"),{onNavigate:a}),b[1]=a,b[2]=k):k=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=g&&j.jsx(c("IGDSBox.react"),{paddingY:9,width:"80%",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:d("PolarisConsentStrings.react").INSTAGRAM_TERMS_OF_USE_AND_PRIVACY_POLICY_TEXT})}),b[3]=g):g=b[3];b[4]!==k?(g=j.jsxs(c("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",children:[k,g]}),b[4]=k,b[5]=g):g=b[5];return g}if(d("PolarisUA").isDesktop()&&!(i&&d("PolarisIsLoggedIn").isLoggedIn())&&d("PolarisQueryParams").hasEnableSignupWeb()){b[6]!==e||b[7]!==f||b[8]!==h?(k=j.jsx(s,{fromLoggedOutDialog:e,hideForgotPassword:f,onClick:h}),b[6]=e,b[7]=f,b[8]=h,b[9]=k):k=b[9];b[10]!==e||b[11]!==a?(g=j.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",children:j.jsx(c("PolarisAuthTypeSwitcher.react"),{fromLoggedOutDialog:e,onNavigate:a})}),b[10]=e,b[11]=a,b[12]=g):g=b[12];b[13]!==k||b[14]!==g?(i=j.jsxs(j.Fragment,{children:[k,g]}),b[13]=k,b[14]=g,b[15]=i):i=b[15];return i}b[16]!==e||b[17]!==f||b[18]!==h?(a=j.jsx(s,{fromLoggedOutDialog:e,hideForgotPassword:f,onClick:h}),b[16]=e,b[17]=f,b[18]=h,b[19]=a):a=b[19];return a}function u(a){return a.navigation.isAccountSwitcherOpen}function v(a){var b=d("react-compiler-runtime").c(6),e=a.className,f=a.message;a=a.testid;var g;b[0]!==e||b[1]!==f?(g=j.jsx("div",{className:e,children:f}),b[0]=e,b[1]=f,b[2]=g):g=b[2];b[3]!==g||b[4]!==a?(e=j.jsx(c("IGDSText.react"),{testid:void 0,children:g}),b[3]=g,b[4]=a,b[5]=e):e=b[5];return e}function ba(a){var b=d("react-compiler-runtime").c(18);a=a.errorMessage;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xkmlbd1 xvs91rp xd4r4e8 x1anpbxc x11gldyt xyorhqc x11hdunq x2b8uid",b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(v,{className:e,message:a,testid:void 0}),b[1]=a,b[2]=e):e=b[2];e=e;var f=c("usePolarisSendAccountRecoveryEmailForBoost")(),g=m(!1),h=g[0],i=g[1],l=a===d("PolarisAuthStrings").ERROR_LOGIN_PASSWORD_BOOST_ACCOUNT_RECOVERY||a===d("PolarisAuthStrings").ERROR_LOGIN_USERNAME_BOOST_ACCOUNT_RECOVERY;g=d("PolarisReactRedux.react").useSelector(w);g=g==null?void 0:(g=g.accountRecovery)==null?void 0:(g=g.options)==null?void 0:g.is_boost_user_eligible_for_account_recovery;var n;b[3]!==h||b[4]!==f?(n=function(){h||(i(!0),f(),d("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_message_click"}))},b[3]=h,b[4]=f,b[5]=n):n=b[5];n=n;var o;b[6]!==l?(o=function(){l&&d("PolarisLoginLogger").logLoginEvent({event_flow:"account_recovery",event_name:"boost_account_recovery_error_message_view"})},b[6]=l,b[7]=o):o=b[7];var p;b[8]!==a||b[9]!==l?(p=[l,a],b[8]=a,b[9]=l,b[10]=p):p=b[10];k(o,p);if(l&&g===!0){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSText.react"),{color:"link",maxLines:1,textAlign:"center",zeroMargin:!0,children:d("PolarisAuthStrings").ERROR_LOGIN_BOOST_ACCOUNT_RECOVERY_EMAIL_LINK}),b[11]=a):a=b[11];b[12]!==h||b[13]!==n?(o=j.jsx(c("IGDSBox.react"),{margin:"auto",children:j.jsx(c("PolarisFastLink.react"),{disabled:h,onClick:n,children:a})}),b[12]=h,b[13]=n,b[14]=o):o=b[14];b[15]!==e||b[16]!==o?(p=j.jsxs(c("IGDSBox.react"),{children:[e,o]}),b[15]=e,b[16]=o,b[17]=p):p=b[17];return p}return e}function w(a){return a.auth}function a(a){var b=d("react-compiler-runtime").c(140),e=a.dialogSource,f=a.errorMessage,g=a.fbConnectStatus,i=a.forceLoginIgId,r=a.forceLoginProfilePicUrl,t=a.forceLoginUsername,u=a.fromLoggedOutDialog,w=a.hideFBLogin,x=a.hideForgotPassword,y=a.infoMessage,z=a.isFBLoggedIn,ha=a.isIGSSODisabled,A=a.isThreadsRequest,B=a.nextUrl,ia=a.onClearStopDeletionNonce,ja=a.onLoginWithFBClick,ka=a.onStopAccountDeletion,la=a.onSubmit,C=a.requestInFlight,D=a.stopDeletionDate,E=a.stopDeletionNonce,ma=a.style,F=a.successMessage;a=a.usernameHint;var G=u===void 0?!1:u;u=A===void 0?!1:A;a=m((A=t!=null?t:a)!=null?A:"");var H=a[0],na=a[1];A=m("");var I=A[0],oa=A[1];a=m(!1);var J=a[0],pa=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(A=d("PolarisOneTapLogin").hasMaxOneTapNonces(),b[0]=A):A=b[0];a=A;var qa=a,ra=c("usePolarisPageID")();A=d("PolarisReactRedux.react").useSelector(ga);b[1]!==z||b[2]!==ha||b[3]!==B||b[4]!==ja||b[5]!==ra?(a=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",ra),d("PolarisThirdPartyAuthHelpers").handleLoginOrFacebookAuth(B!=null?B:void 0,ja,z,ha)},b[1]=z,b[2]=ha,b[3]=B,b[4]=ja,b[5]=ra,b[6]=a):a=b[6];a=a;var K;b[7]!==G||b[8]!==la||b[9]!==J||b[10]!==I||b[11]!==H?(K=function(a){d("PolarisLoginLogger").logLoginEvent({event_category:G?"logged_out_dialog_interaction":null,event_flow:"login_manual",event_name:"login_button_clicked",event_step:G?"logged_out_dialog":null}),a.preventDefault(),J===!0&&d("PolarisLoginLogger").logLoginEvent({event_name:"one_tap_login_optin"}),c("PolarisLoginQPL").addPointLoginButtonClick(),la(H,I,J)},b[7]=G,b[8]=la,b[9]=J,b[10]=I,b[11]=H,b[12]=K):K=b[12];K=K;var L;bb0:{if(d("PolarisQueryParams").isFromFxcal()||d("PolarisIsLoggedIn").isLoggedIn()||u){L=!1;break bb0}L=!w&&c("gkx")("5230")===!1}w=L;L=m(!1);var M=L[0],sa=L[1];L=m(!0);var N=L[0],ta=L[1],ua=l(null);L=d("PolarisAuthStrings").PHONE_USERNAME_OR_EMAIL;bb1:{if(d("PolarisUA").isMobile()){var O;b[13]!==A?(O=A&&d("PolarisIsLoggedIn").isLoggedIn()?"xdj266r x1ys307a xzueoph xyqm7xq":"xdj266r x11gldyt xzueoph x11hdunq",b[13]=A,b[14]=O):O=b[14];O=O;break bb1}var P;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(P="xdj266r x11gldyt xzueoph x11hdunq",b[15]=P):P=b[15];O=P}P=O;var Q;b[16]!==e||b[17]!==g||b[18]!==G?(O=function(){d("PolarisLoginLogger").logLoginEvent({event_name:"login_form_load",fbconnect_status:g}),G?d("PolarisLoginLogger").logLoginEvent({event_category:"logged_out_dialog_init",event_flow:"login_manual",event_name:"login_step_view_loaded",event_step:"logged_out_dialog",extra_client_data:{dialog_source:e!=null?e:""}}):d("PolarisLoginLogger").logLoginEvent({event_flow:"login_manual",event_name:"login_step_view_loaded"}),d("PolarisQueryParams").hasForceAuthenticationParam()&&ua.current!=null&&ua.current.focus()},Q=[e,g,G],b[16]=e,b[17]=g,b[18]=G,b[19]=Q,b[20]=O):(Q=b[19],O=b[20]);k(O,Q);O=m(!1);var R=O[0],va=O[1];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(Q=c("justknobx")._("912"),b[21]=Q):Q=b[21];var wa=Q;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(O=function(){var a=function(){if(wa){var a;a=!!((a=document.querySelector("input[name=username]"))==null?void 0:a.matches("*:-webkit-autofill"));va(a)}};a();window.setTimeout(a,200)},Q=[wa],b[22]=O,b[23]=Q):(O=b[22],Q=b[23]);k(O,Q);b[24]!==N?(O=function(a){ta(!N),a.preventDefault()},b[24]=N,b[25]=O):O=b[25];Q=O;b[26]!==J?(O=function(){qa?sa(!0):pa(!J)},b[26]=J,b[27]=O):O=b[27];O=O;var xa=fa,ya=ea,S;b[28]!==R?(S=function(){R&&va(!1)},b[28]=R,b[29]=S):S=b[29];var T=S;b[30]!==A?(S=d("PolarisUA").isMobile()&&A&&d("PolarisIsLoggedIn").isLoggedIn(),b[30]=A,b[31]=S):S=b[31];S=S;var U;b[32]!==A?(U=d("PolarisUA").isMobile()&&!(A&&d("PolarisIsLoggedIn").isLoggedIn()),b[32]=A,b[33]=U):U=b[33];U=U;var V=!H&&!I&&!R&&wa;V=!H||!I||I.length<o||V;var W;b[34]!==A?(W=A&&d("PolarisIsLoggedIn").isLoggedIn(),b[34]=A,b[35]=W):W=b[35];W=W;W=W;var X=f==null||f===""?void 0:n;b[36]!==X||b[37]!==i||b[38]!==r||b[39]!==t||b[40]!==T||b[41]!==P||b[42]!==H?(L=j.jsx(j.Fragment,{children:i!=null&&t!=null&&r!=null?j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1q0g3np xdj266r x11gldyt x1fqp7bg x11hdunq"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x1ekkm8c x1143rjc xum4auv xj21bgg x972fbf x10w94by x1qhh985 x14e42zd x1kmio9f xln7xf2 xk390pu xc9qbxq xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x14qfxbe"},{children:j.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Foto del perfil de {username}",[h._param("username",t)]),src:r,xstyle:p.profilePicture})})),j.jsx("div",babelHelpers["extends"]({className:"x1kmio9f x13fj5qh"},{children:j.jsx(c("IGDSText.react"),{size:"label",textAlign:"start",weight:"normal",children:t})}))]})):j.jsx(c("PolarisSlimTextInput.react"),{"aria-describedby":X,"aria-label":L,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:P,"data-testid":void 0,maxLength:75,name:"username",onChange:function(a){a=a.target;a=a.value;na(a);T()},onFocus:da,placeholder:L,ref:ua,value:H})}),b[36]=X,b[37]=i,b[38]=r,b[39]=t,b[40]=T,b[41]=P,b[42]=H,b[43]=L):L=b[43];r=L;t=d("PolarisAuthStrings").PASSWORD;L=d("PolarisAuthStrings").ONE_TAP_CHECKBOX_TEXT;var Y;b[44]!==i||b[45]!==T||b[46]!==I.length?(Y=function(a){a=a.target;a=a.value;I.length===0&&a.length>=6&&d("PolarisLoginLogger").logLoginEvent({event_name:"login_form_autofill",ig_userid:i!=null?i:void 0});oa(a);T()},b[44]=i,b[45]=T,b[46]=I.length,b[47]=Y):Y=b[47];var Z=!!I,$=N?"password":"text";b[48]!==X||b[49]!==Q||b[50]!==P||b[51]!==N||b[52]!==I||b[53]!==Y||b[54]!==Z||b[55]!==$?(t=j.jsx(c("PolarisSlimTextInput.react"),{"aria-describedby":X,"aria-label":t,"aria-required":"true",autoCapitalize:"off",autoCorrect:"off",className:P,"data-testid":void 0,isPasswordHidden:N,name:"password",onChange:Y,onFocus:ca,onPasswordToggle:Q,placeholder:t,showPasswordToggleLink:Z,type:$,value:I}),b[48]=X,b[49]=Q,b[50]=P,b[51]=N,b[52]=I,b[53]=Y,b[54]=Z,b[55]=$,b[56]=t):t=b[56];b[57]!==O||b[58]!==J||b[59]!==W||b[60]!==M?(X=W&&j.jsxs(j.Fragment,{children:[j.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[j.jsx(q,{checkboxId:"optIntoOneTap",checkboxOnChange:O,checkboxState:J,checkboxText:L,disabled:qa}),qa&&j.jsx(c("IGDSIconButton.react"),{onClick:O,padding:0,children:j.jsx(c("IGDSInfoPanoFilledIcon.react"),{alt:L,color:"ig-secondary-text",size:16})})]}),M&&j.jsx(c("PolarisTooManyAccountsDialog.react"),{onClose:function(){sa(!1)}})]}),b[57]=O,b[58]=J,b[59]=W,b[60]=M,b[61]=X):X=b[61];b[62]!==x||b[63]!==U||b[64]!==u?(Q=U&&!u&&j.jsx(s,{hideForgotPassword:x,onClick:xa}),b[62]=x,b[63]=U,b[64]=u,b[65]=Q):Q=b[65];b[66]!==t||b[67]!==X||b[68]!==Q?(P=j.jsxs(j.Fragment,{children:[t,X,Q]}),b[66]=t,b[67]=X,b[68]=Q,b[69]=P):P=b[69];Y=P;Z=S?4:10;$=S?4:10;L=S?3:2;O=u?"barcelona-primary-button":"ig-primary-button";b[70]===Symbol["for"]("react.memo_cache_sentinel")?(W=j.jsx(c("IGDSBox.react"),{position:"relative",children:h._(/*BTDS*/"Entrar")}),b[70]=W):W=b[70];b[71]!==K||b[72]!==V||b[73]!==C||b[74]!==O?(M=j.jsx(c("PolarisIGCoreButton.react"),{color:O,"data-testid":void 0,disabled:V,loading:C,onClick:K,type:"submit",children:W}),b[71]=K,b[72]=V,b[73]=C,b[74]=O,b[75]=M):M=b[75];b[76]!==Z||b[77]!==$||b[78]!==L||b[79]!==M?(U=j.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:Z,marginStart:$,marginTop:L,position:"relative",children:M}),b[76]=Z,b[77]=$,b[78]=L,b[79]=M,b[80]=U):U=b[80];b[81]!==x||b[82]!==u?(t=u&&j.jsx(s,{hideForgotPassword:x,isThreadsRequest:u,onClick:xa}),b[81]=x,b[82]=u,b[83]=t):t=b[83];b[84]!==U||b[85]!==t?(X=j.jsxs(j.Fragment,{children:[U,t]}),b[84]=U,b[85]=t,b[86]=X):X=b[86];Q=X;b[87]!==r||b[88]!==Y||b[89]!==Q?(P=j.jsxs(j.Fragment,{children:[r,Y,Q]}),b[87]=r,b[88]=Y,b[89]=Q,b[90]=P):P=b[90];W=P;b[91]===Symbol["for"]("react.memo_cache_sentinel")?(V=j.jsx("div",babelHelpers["extends"]({className:"x1hmvnq2 x11gldyt x91k8ka x11hdunq"},{children:j.jsx(c("PolarisOrBar.react"),{})})),b[91]=V):V=b[91];C=V;if(!w)O=W;else if(d("PolarisUA").isMobile()||A){b[92]!==A||b[93]!==a?(Z=j.jsx(c("PolarisFacebookLoginButtonRevamped"),{isAccountSwitcherOpen:A,onClick:a}),b[92]=A,b[93]=a,b[94]=Z):Z=b[94];b[95]!==W||b[96]!==Z?($=j.jsxs(j.Fragment,{children:[Z,C,W]}),b[95]=W,b[96]=Z,b[97]=$):$=b[97];O=$}else{b[98]!==A||b[99]!==a?(L=j.jsx(c("PolarisFacebookLoginButtonRevamped"),{isAccountSwitcherOpen:A,onClick:a}),b[98]=A,b[99]=a,b[100]=L):L=b[100];b[101]!==W||b[102]!==L?(M=j.jsxs(j.Fragment,{children:[W,C,L]}),b[101]=W,b[102]=L,b[103]=M):M=b[103];O=M}b[104]!==y?(U=y!=null&&y!==""&&j.jsx(v,{className:"x1roi4f4 xvs91rp xd4r4e8 x1anpbxc x11gldyt x4n8cb0 x11hdunq x2b8uid",message:y,testid:void 0}),b[104]=y,b[105]=U):U=b[105];b[106]!==F?(t=F!=null&&F!==""&&j.jsx(v,{className:"x5n08af xvs91rp xd4r4e8 x1anpbxc x11gldyt x4n8cb0 x11hdunq x2b8uid",message:F,testid:void 0}),b[106]=F,b[107]=t):t=b[107];b[108]===Symbol["for"]("react.memo_cache_sentinel")?(X={className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},b[108]=X):X=b[108];r=S?3:6;b[109]!==O||b[110]!==r?(Y=j.jsx(c("IGDSBox.react"),{marginTop:r,position:"relative",children:O}),b[109]=O,b[110]=r,b[111]=Y):Y=b[111];b[112]!==f?(Q=f!=null&&f!==""&&j.jsx(ba,{errorMessage:f}),b[112]=f,b[113]=Q):Q=b[113];b[114]!==G||b[115]!==x||b[116]!==u?(P=j.jsx(aa,{fromLoggedOutDialog:G,hideForgotPassword:x,isThreadsRequest:u,onForgotPasswordClick:xa,onNavigate:ya}),b[114]=G,b[115]=x,b[116]=u,b[117]=P):P=b[117];b[118]!==ia||b[119]!==ka||b[120]!==J||b[121]!==I||b[122]!==D||b[123]!==E||b[124]!==H?(V=E!=null&&D!=null&&j.jsx(c("PolarisStopDeletionDialog.react"),{onClose:ia,onStopDeletion:function(a){return ka(H,I,J,a)},stopDeletionDate:D,stopDeletionNonce:E,username:H}),b[118]=ia,b[119]=ka,b[120]=J,b[121]=I,b[122]=D,b[123]=E,b[124]=H,b[125]=V):V=b[125];b[126]!==S||b[127]!==ma?(w=ma==="modal"&&!S&&j.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative"}),b[126]=S,b[127]=ma,b[128]=w):w=b[128];b[129]!==K||b[130]!==Y||b[131]!==Q||b[132]!==P||b[133]!==V||b[134]!==w?(Z=j.jsxs("form",babelHelpers["extends"]({},X,{"data-testid":void 0,id:"loginForm",method:"post",onSubmit:K,children:[Y,Q,P,V,w]})),b[129]=K,b[130]=Y,b[131]=Q,b[132]=P,b[133]=V,b[134]=w,b[135]=Z):Z=b[135];b[136]!==U||b[137]!==t||b[138]!==Z?($=j.jsxs("div",{children:[U,t,Z]}),b[136]=U,b[137]=t,b[138]=Z,b[139]=$):$=b[139];return $}function ca(){return c("PolarisLoginQPL").addPointPasswordFocus()}function da(){return c("PolarisLoginQPL").addPointUsernameFocus()}function ea(a){a==="signup"&&c("PolarisLoginQPL").endCancelNavigateToSignup()}function fa(){c("PolarisLoginQPL").endCancelNavigateToForgotPassword()}function ga(a){return a.navigation.isAccountSwitcherOpen}g["default"]=a}),226);
__d("PolarisStrategicWebTraffic",["ExecutionEnvironment","PolarisConfig","PolarisDismissEntry","PolarisQueryParams","PolarisUA","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("memoize")(function(){if((h||(h=c("ExecutionEnvironment"))).canUseDOM&&d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").PROMOTED_TRAFFIC_TYPE))return!0;else if((h||(h=c("ExecutionEnvironment"))).canUseDOM&&d("PolarisUA").isMobile()&&d("PolarisQueryParams").parseQueryParams().utm_source&&d("PolarisQueryParams").parseQueryParams().utm_source.includes("_sd")){d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").PROMOTED_TRAFFIC_TYPE);return!0}return!1});a=c("memoize")(function(){return d("PolarisConfig").isProgressiveWebApp()||i()});g.isStrategicTraffic=a}),98);
__d("PolarisFXAuthenticationLogger",["FxAuthenticationFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.event;a=a.target_account_id;a=a===void 0?null:a;var d={fx_auth_event:b,target_account_id:a,target_account_type:1};c("FxAuthenticationFalcoEvent").log(function(){return d})}g.logEvent=a}),98);
__d("PolarisFXAuthActions",["PolarisAPIExtractTwoFactorChallengeIfPresent","PolarisAPIFXCALAuthLogin","PolarisAuthStrings","PolarisFXAuthenticationLogger","PolarisNavigationUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return function(f,g){f({appId:c,etoken:e,type:"FX_AUTH_LOGIN_ATTEMPTED"});return d("PolarisAPIFXCALAuthLogin").fxcalAuthLogin(a.replace(/\s+$/,""),b,c,e).then(function(a){a.authenticated?h(String(a.username),String(a.profile_pic_url),String(a.blob),String(a.token))(f,g):f({errorDescription:d("PolarisAuthStrings").ERROR_LOGIN_PASSWORD,type:"FX_AUTH_LOGIN_FAILED"})},function(a){a=d("PolarisAPIExtractTwoFactorChallengeIfPresent").extractTwoFactorChallengeIfPresent(a);if(a){f(babelHelpers["extends"]({fromFB:!1,fromFxAuth:!0,timeReceived:Date.now(),type:"TWO_FACTOR_CHALLENGE_RECEIVED"},a));f({type:"FX_AUTH_TWO_FACTOR_REQUIRED"});return}f({errorDescription:d("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN,type:"FX_AUTH_LOGIN_FAILED"})})["catch"]()}}function b(){return function(a){a({type:"FX_AUTH_LOGOUT"}),d("PolarisFXAuthenticationLogger").logEvent({event:"web_auth_force_logout"})}}function c(a,b,c){return function(e){if(a==null||b==null||c==null)return;var f=new URL(a);f.searchParams.append("blob",b);f.searchParams.append("token",c);e({redirectUrl:f.toString(),type:"FX_AUTH_CONFIRMED"});d("PolarisFXAuthenticationLogger").logEvent({event:"web_auth_confirmed_redirect"});e=f.toString();d("PolarisNavigationUtils").openURLWithFullPageReload(e);e.startsWith("accountscenter://")&&window.close()}}function h(a,b,c,e){return function(f){f({blob:c,profilePicUrl:b,token:e,type:"FX_AUTH_LOGIN_SUCCEEDED",username:a}),d("PolarisFXAuthenticationLogger").logEvent({event:"web_auth_confirm_page_view"})}}g.fxAuthLoginAction=a;g.fxAuthLogoutAction=b;g.fxAuthConfirmedAction=c;g.fxAuthSucceededAction=h}),98);
__d("polarisUpdateTwoFactorLoginNoncesFromResponse",["PolarisOneTapLogin","PolarisTrustedDevicesUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.loginNonce,e=a.trustedDeviceNonce;a=a.userId;if(a==null)return;c("isStringNullOrEmpty")(e)||d("PolarisTrustedDevicesUtils").addTrustedDevicesNonce(a,e);c("isStringNullOrEmpty")(b)||d("PolarisOneTapLogin").updateLoginNonce(a,b)}g["default"]=a}),98);
__d("PolarisTwoFactorActions",["invariant","CAAWebLoginLoggingUtils","PolarisAPIFxcalAuthTwoFactorLogin","PolarisAPILoginTwoFactor","PolarisAPISendTwoFactorLoginSms","PolarisAPISendTwoFactorLoginWhatsapp","PolarisAuthStrings","PolarisFXAuthActions","PolarisInstajax","PolarisLoginQPL","PolarisOneTapLogin","PolarisQueryParams","PolarisRedirectHelper","polarisGetAppPlatform","polarisLogAction","polarisUpdateTwoFactorLoginNoncesFromResponse"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g){g===void 0&&(g=!1);return function(i,j){j=j();var k=j.auth,l=k.dyiJobID,m=k.next,n=k.showOneTap;k=j.auth.twoFactor;k||h(0,51503);var o=k.fromFB,p=k.fromFxAuth,q=k.identifier,r=k.username;k=j.fxAuth;j=k.appId;k=k.etoken;i({type:"TWO_FACTOR_VERIFY_ATTEMPTED"});var s={fb:o,platform:d("polarisGetAppPlatform").getAppPlatform(),source:a};o=p?d("PolarisAPIFxcalAuthTwoFactorLogin").fxcalAuthTwoFactorLogin(q,b,r,e,f,j!=null?j:"0",k!=null?k:""):d("PolarisAPILoginTwoFactor").loginTwoFactor(q,b,r,e,f,d("PolarisOneTapLogin").queryParamStringWithOneTapInfo(d("PolarisQueryParams").parseQueryParams()),g);c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointTwoFactorFormSubmit(f);c("polarisLogAction")("twoFacLoginAttempt",s);o.then(function(a){if(a.authenticated)i({type:"TWO_FACTOR_VERIFY_SUCCEEDED"}),c("polarisLogAction")("loginSuccess",babelHelpers["extends"]({},s,{twoFac:!0})),d("CAAWebLoginLoggingUtils").logLoginResult("two_fac_redirect","two_fac",1,!0),c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").endSuccess(),c("polarisUpdateTwoFactorLoginNoncesFromResponse")(a),p&&a.blob!==null?i(d("PolarisFXAuthActions").fxAuthSucceededAction(r,String(a.profile_pic_url),String(a.blob),String(a.token))):d("PolarisRedirectHelper").redirectAfterLogin(m,!!a.reactivated,n&&!!a.oneTapPrompt,a.nonce!=null&&a.nonce!==""?a.nonce:"",l);else{a=d("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN;i({message:a,type:"TWO_FACTOR_VERIFY_FAILED"});c("polarisLogAction")("loginFailure",babelHelpers["extends"]({},s,{twoFac:!0}));c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointUserError("two_factor_failed")}},function(a){a=a instanceof d("PolarisInstajax").AjaxError&&((a=a.responseObject)==null?void 0:a.message)||d("PolarisAuthStrings").ERROR_LOGIN_UNKNOWN;i({message:a,type:"TWO_FACTOR_VERIFY_FAILED"});c("polarisLogAction")("loginFailure",babelHelpers["extends"]({},s,{twoFac:!0}));d("CAAWebLoginLoggingUtils").logLoginResult("two_fac_redirect","two_fac",1,!1);c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointUserError("two_factor_failed")})}}function i(){return{type:"TWO_FACTOR_CODE_REQUESTED"}}function j(a){return{message:a,type:"TWO_FACTOR_CODE_REQUEST_FAILED"}}function k(a,b){return{identifier:a,timeSent:Date.now(),type:"TWO_FACTOR_CODE_SENT",verificationMethod:b}}function b(){return l("SMS")}function e(){return l("WHATSAPP")}function l(a){return function(b,e){b(i());e=e().auth.twoFactor;e||h(0,51504);var f=e.identifier;e=e.username;c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointTwoFactorRequestNewSMSCode();return a==="SMS"?d("PolarisAPISendTwoFactorLoginSms").sendTwoFactorLoginSms(e,f).then(function(a){b(k(a.two_factor_info.two_factor_identifier,"SMS"))},function(a){var e;e=a instanceof d("PolarisInstajax").AjaxError&&((e=a.responseObject)==null?void 0:e.message)||d("PolarisAuthStrings").TWOFAC_CODE_RESEND_FAILED_TEXT;b(j(e));c("polarisLogAction")("newCodeSentFailure",{platform:d("polarisGetAppPlatform").getAppPlatform()});c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").markError("request_new_sms_code_failed",a)}):d("PolarisAPISendTwoFactorLoginWhatsapp").sendTwoFactorLoginWhatsapp(e,f).then(function(a){b(k(a.xdt_send_two_factor_login_whatsapp.two_factor_info.two_factor_identifier,"WHATSAPP"))},function(a){var e;e=a instanceof d("PolarisInstajax").AjaxError&&((e=a.responseObject)==null?void 0:e.message)||d("PolarisAuthStrings").TWOFAC_CODE_RESEND_FAILED_TEXT;b(j(e));c("polarisLogAction")("newCodeSentFailure",{platform:d("polarisGetAppPlatform").getAppPlatform()});c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").markError("request_new_whatsapp_code_failed",a)})}}function f(a){return{eligibleForMultipleTotp:!1,fromFB:!1,fromFxAuth:!1,identifier:a.identifier||"",isInSowaExperience:a.isInSowaExperience,lastFourDigits:a.lastFourDigits||"",maskedPhoneNumber:a.maskedPhoneNumber||"",showTrustedDevice:!1,smsTwoFactorOn:a.smsTwoFactorOn||!1,timeReceived:Date.now(),totpTwoFactorOn:a.totpTwoFactorOn||!1,type:"TWO_FACTOR_CHALLENGE_RECEIVED",username:a.username||""}}g.submitVerificationCode=a;g.requestSMSCode=b;g.requestWhatsappCode=e;g.loadTwoFactorAuthenticationData=f}),98);
__d("PolarisTwoFactorForm.react",["fbt","invariant","IGDSBox.react","IGDSCheckbox.react","IGDSDialogFooter.react","IGDSText.react","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreText","PolarisIsLoggedIn","PolarisLoginQPL","PolarisNavigationUtils","PolarisReactRedux.react","PolarisSlimTextInput.react","PolarisTwoFactorActions","PolarisUA","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l="twoFactorErrorAlert",m=h._(/*BTDS*/"c\u00f3digos de respaldo"),n=h._(/*BTDS*/"mensaje de texto"),o=h._(/*BTDS*/"aplicaci\u00f3n de autenticaci\u00f3n"),p=h._(/*BTDS*/"volver a enviarlo"),q=h._(/*BTDS*/"Enviar c\u00f3digo por SMS"),r=h._(/*BTDS*/"Enviar c\u00f3digo por WhatsApp"),s=h._(/*BTDS*/"Confiar en este dispositivo"),t=h._(/*BTDS*/"No te pediremos ning\u00fan c\u00f3digo la pr\u00f3xima vez"),u=h._(/*BTDS*/"C\u00f3digo de seguridad"),v=h._(/*BTDS*/"Confirmar");h._(/*BTDS*/"Introduce el c\u00f3digo de inicio de sesi\u00f3n");var w=h._(/*BTDS*/"Introduce el c\u00f3digo de seis d\u00edgitos que ha generado la aplicaci\u00f3n de autenticaci\u00f3n."),x=h._(/*BTDS*/"Introduce el c\u00f3digo de inicio de sesi\u00f3n de seis d\u00edgitos que ha generado la aplicaci\u00f3n de autenticaci\u00f3n."),y=h._(/*BTDS*/"Introduce uno de los c\u00f3digos de ocho d\u00edgitos que se han proporcionado al configurar la autenticaci\u00f3n en dos pasos.");function z(a){var b=d("react-compiler-runtime").c(9),e=a.onClickAuthAppCode,f=a.onClickBackupCode;a=a.verificationMethod;var g=d("PolarisReactRedux.react").useSelector(A),i;b[0]!==g?(i={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&g&&d("PolarisIsLoggedIn").isLoggedIn())<<0],b[0]=g,b[1]=i):i=b[1];b[2]!==e||b[3]!==f||b[4]!==a?(g=a==="TOTP"?h._(/*BTDS*/"Si no puedes recibir el c\u00f3digo de inicio de sesi\u00f3n de tu aplicaci\u00f3n de autenticaci\u00f3n, usa uno de tus {=backup codes}",[h._param("=backup codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):h._(/*BTDS*/"Si no puedes usar uno de tus c\u00f3digos adicionales, puedes usar uno de tus {=auth app codes}",[h._param("=auth app codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:o}))]),b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];b[6]!==i||b[7]!==g?(e=k.jsx("div",babelHelpers["extends"]({},i,{children:g})),b[6]=i,b[7]=g,b[8]=e):e=b[8];return e}function A(a){return a.navigation.isAccountSwitcherOpen}function B(a){var b=d("react-compiler-runtime").c(9),e=a.onClickBackupCode,f=a.onClickSmsCode;a=a.verificationMethod;var g=d("PolarisReactRedux.react").useSelector(C),i;b[0]!==g?(i={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&g&&d("PolarisIsLoggedIn").isLoggedIn())<<0],b[0]=g,b[1]=i):i=b[1];b[2]!==e||b[3]!==f||b[4]!==a?(g=a==="SMS"||a==="WHATSAPP"?h._(/*BTDS*/"Si no puedes recibir el c\u00f3digo de seguridad, usa uno de tus {=backup codes}.",[h._param("=backup codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):h._(/*BTDS*/"Si no puedes usar un c\u00f3digo de seguridad de tus c\u00f3digos adicionales, puedes {=resend it}",[h._param("=resend it",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:n}))]),b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];b[6]!==i||b[7]!==g?(e=k.jsx("div",babelHelpers["extends"]({},i,{children:g})),b[6]=i,b[7]=g,b[8]=e):e=b[8];return e}function C(a){return a.navigation.isAccountSwitcherOpen}function D(a){var b=d("react-compiler-runtime").c(10),e=a.onClickAuthAppCode,f=a.onClickBackupCode,g=a.onClickSmsCode;a=a.verificationMethod;var i=d("PolarisReactRedux.react").useSelector(E),j;b[0]!==i?(j={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&i&&d("PolarisIsLoggedIn").isLoggedIn())<<0],b[0]=i,b[1]=j):j=b[1];b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(i=a==="TOTP"?h._(/*BTDS*/"Si no puedes usar un c\u00f3digo de inicio de sesi\u00f3n de tu aplicaci\u00f3n de autenticaci\u00f3n, puedes enviar un {=sms code} para obtener uno o usar uno de tus {=backup codes}",[h._param("=sms code",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,children:n})),h._param("=backup codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):a==="SMS"?h._(/*BTDS*/"Si no puedes recibir el c\u00f3digo de seguridad a trav\u00e9s de un mensaje de texto, puedes usar uno de tus {=auth app codes} o de tus {=backup codes}",[h._param("=auth app codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:o})),h._param("=backup codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:m})}))]):h._(/*BTDS*/"Si no puedes usar un c\u00f3digo de seguridad de tus c\u00f3digos adicionales, puedes {=resend it} o usar uno de tus {=auth app codes}",[h._param("=resend it",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:g,children:n})),h._param("=auth app codes",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:o}))]),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i):i=b[6];b[7]!==j||b[8]!==i?(e=k.jsx("div",babelHelpers["extends"]({},j,{children:i})),b[7]=j,b[8]=i,b[9]=e):e=b[9];return e}function E(a){return a.navigation.isAccountSwitcherOpen}function F(a){var b=d("react-compiler-runtime").c(7);a=a.onNewCodeClicked;var e=d("PolarisReactRedux.react").useSelector(G),f;b[0]!==e?(f={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&e&&d("PolarisIsLoggedIn").isLoggedIn())<<0],b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=h._(/*BTDS*/"\u00bfNo has recibido el c\u00f3digo de seguridad? Podemos {=resend it}.",[h._param("=resend it",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:p})}))]),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=k.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}function G(a){return a.navigation.isAccountSwitcherOpen}function H(a){var b=d("react-compiler-runtime").c(13),e=a.onNewCodeClicked,f=a.onOtherMethodCodeClicked;a=a.verificationMethod;var g=d("PolarisReactRedux.react").useSelector(I),i;b[0]!==g?(i={0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&g&&d("PolarisIsLoggedIn").isLoggedIn())<<0],b[0]=g,b[1]=i):i=b[1];b[2]!==e||b[3]!==f||b[4]!==a?(g=a==="SMS"&&h._(/*BTDS*/"\u00bfNo has recibido el c\u00f3digo de seguridad? Podemos {=resend it}. {=send WhatsApp instead}",[h._param("=resend it",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:p})})),h._param("=send WhatsApp instead",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:r})}))]),b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];b[6]!==f||b[7]!==a?(e=a==="WHATSAPP"&&h._(/*BTDS*/"\u00bfNo has recibido el c\u00f3digo de seguridad? {=send sms instead}",[h._param("=send sms instead",k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:f,children:k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-action",children:q})}))]),b[6]=f,b[7]=a,b[8]=e):e=b[8];b[9]!==i||b[10]!==g||b[11]!==e?(f=k.jsxs("div",babelHelpers["extends"]({},i,{children:[g,e]})),b[9]=i,b[10]=g,b[11]=e,b[12]=f):f=b[12];return f}function I(a){return a.navigation.isAccountSwitcherOpen}var J="verificationCodeDescription";function K(a){switch(a){case"SMS":c("vulture")("6F4B_OooqbdI0pt20YncndjF-1g=");return 1;case"BACKUP_CODE":c("vulture")("SScabl6LUkpc5w-96oG4TiipiRo=");return 2;case"TOTP":return 3;case"WHATSAPP":c("vulture")("2U94XkBZc4GgykSvNO9Zh3XPFoo=");return 6;default:c("vulture")("yhGvsyGQ7jRu4D6I_6RGJXqrpD8=");return 0}}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.$3=function(){c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointTwoFactorCodeFocus()};d.$4=function(a){c("PolarisLoginQPL").isActive()&&c("PolarisLoginQPL").addPointTwoFactorSubmitButtonClick(),d.$5(a)};d.$5=function(a){a.preventDefault();a=d.state;var b=a.currentVerificationMethod,c=a.trustSignal;a=a.verificationCode;a=a.replace(/\s+/g,"");b=K(b).toString();d.props.onSubmit(c,a,b)};d.$6=function(a){a=a.target.value;if(!a.match(/^[0-9 ]*$/))return;d.setState({verificationCode:a})};d.state={currentVerificationMethod:b.totpTwoFactorOn?"TOTP":b.isInSowaExperience?"WHATSAPP":"SMS",trustSignal:b.showTrustedDevice,verificationCode:""};return d}var e=b.prototype;e.componentDidMount=function(){this.$1&&this.$1.focus(),this.$2()};e.componentDidUpdate=function(){this.$2()};e.$2=function(){this.props.hasTwoFactorState||d("PolarisNavigationUtils").openURL("/")};e.$7=function(a){return this.$8(a,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x1atzwio")};e.$9=function(a){return this.$8(a,"x1f6kntn xd4r4e8 xdj266r x11gldyt xyorhqc x11hdunq x2b8uid x5n08af")};e.$8=function(a,b){return k.jsx("div",{className:b,children:k.jsx("p",{"aria-atomic":"true",id:l,role:"alert",size:"footnote",children:a})})};e.getSubTextIndex=function(){var a=this.state.currentVerificationMethod,b=this.props,d=b.eligibleForMultipleTotp;b=b.isInSowaExperience;switch(a){case"TOTP":c("vulture")("hOADhsIp159S-PuynLWb1PAHPOM=");return d===!0?0:1;case"BACKUP_CODE":c("vulture")("x-ZFYWClr5Fu-izapG4kvZZVh9Y=");return 2;case"WHATSAPP":c("vulture")("IRMI8UlRCyDCh1gFTn-XqgQ6yKA=");return 3;case"SMS":c("vulture")("qiiHyqjNXkJj9TXONo8gUV0tLLM=");return b?4:5}};e.render=function(){var a=this,b=this.props,e=b.errorMessage,f=b.isAccountSwitcherOpen,g=b.showTrustedDevice,j=b.smsTwoFactorOn,l=b.successMessage;b=b.totpTwoFactorOn;var m=this.state.currentVerificationMethod;j||b||i(0,51594);var n=h._(/*BTDS*/"Introduce el c\u00f3digo que hemos enviado por WhatsApp a tu n\u00famero de m\u00f3vil: {maskedPhoneNumber}.",[h._param("maskedPhoneNumber",this.props.maskedPhoneNumber)]),o=h._(/*BTDS*/"Introduce el c\u00f3digo que hemos enviado por SMS a tu n\u00famero de m\u00f3vil: {maskedPhoneNumber}.",[h._param("maskedPhoneNumber",this.props.maskedPhoneNumber)]),p=h._(/*BTDS*/"Introduce el c\u00f3digo que te hemos enviado al n\u00famero de tel\u00e9fono que termina en {lastFourDigits}.",[h._param("lastFourDigits",this.props.lastFourDigits)]);n=[x,w,y,n,o,p];return k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x889kno xyri2b x1a8lsjc x1c1uobl"},1:{className:"x889kno xyri2b x18d9i69 x1c1uobl"}}[!!(this.props.style==="modal")<<0],{children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 xdj266r x11gldyt xod5an3 x11hdunq x2b8uid"},1:{className:"x5n08af x1lliihq x1f6kntn x1fcty0u xd4r4e8 x2b8uid xdj266r x1ys307a xod5an3 xyqm7xq"}}[!!(d("PolarisUA").isMobile()&&f&&d("PolarisIsLoggedIn").isLoggedIn())<<0],{id:J,children:n[this.getSubTextIndex()]})),k.jsxs("form",babelHelpers["extends"]({className:"x972fbf x10w94by x1qhh985 x14e42zd x78zum5 xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},{method:"POST",onSubmit:this.$5,children:[k.jsx(c("PolarisSlimTextInput.react"),{"aria-describedby":J,"aria-label":u,"aria-required":"true",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:{0:"xdj266r x11gldyt xzueoph x11hdunq",1:"x14vqqas x1ys307a x1hq5gj4 xyqm7xq"}[!!(d("PolarisUA").isMobile()&&f&&d("PolarisIsLoggedIn").isLoggedIn())<<0],"data-testid":void 0,maxLength:8,name:"verificationCode",onChange:this.$6,onFocus:this.$3,placeholder:u,ref:function(b){return a.$1=b},type:"tel",value:this.state.verificationCode}),this.props.style==="default"&&k.jsx(c("IGDSBox.react"),{marginBottom:4,marginEnd:10,marginStart:10,marginTop:1,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:this.$4,children:v})}),e!=null&&e!==""&&this.$7(e),l!=null&&l!==""&&this.$9(l),g?k.jsx(c("IGDSBox.react"),{marginBottom:6,marginEnd:10,marginStart:10,marginTop:2,position:"relative",children:k.jsx(c("IGDSCheckbox.react"),{isChecked:this.state.trustSignal,onChange:function(){var b=a.state.trustSignal;a.setState({trustSignal:!b})},size:16,children:k.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",position:"relative",children:[k.jsx(c("IGDSText.react"),{size:"footnote",weight:"semibold",children:s}),k.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:k.jsx(c("IGDSText.react"),{size:"footnote",children:t})})]})})}):null,b&&j&&k.jsx(D,{onClickAuthAppCode:function(){a.setState({currentVerificationMethod:"TOTP"})},onClickBackupCode:function(){a.setState({currentVerificationMethod:"BACKUP_CODE"})},onClickSmsCode:function(b){a.props.onNewCodeClicked(b),a.setState({currentVerificationMethod:"SMS"})},verificationMethod:m}),b&&!j&&k.jsx(z,{onClickAuthAppCode:function(){a.setState({currentVerificationMethod:"TOTP"})},onClickBackupCode:function(){a.setState({currentVerificationMethod:"BACKUP_CODE"})},verificationMethod:m}),!b&&m==="WHATSAPP"&&k.jsx(H,{onOtherMethodCodeClicked:function(b){a.props.onNewCodeClicked(b),a.setState({currentVerificationMethod:"SMS"})},verificationMethod:"WHATSAPP"}),!b&&m==="SMS"&&this.props.isInSowaExperience&&k.jsx(H,{onNewCodeClicked:function(b){a.props.onNewCodeClicked(b),a.setState({currentVerificationMethod:"SMS"})},onOtherMethodCodeClicked:function(b){a.props.onNewWhatsappCodeClicked(b),a.setState({currentVerificationMethod:"WHATSAPP"})},verificationMethod:"SMS"}),!b&&m==="SMS"&&!this.props.isInSowaExperience&&k.jsx(F,{onNewCodeClicked:this.props.onNewCodeClicked}),!b&&k.jsx(B,{onClickBackupCode:function(){a.setState({currentVerificationMethod:"BACKUP_CODE"})},onClickSmsCode:function(b){a.props.onNewCodeClicked(b),a.setState({currentVerificationMethod:"SMS"})},verificationMethod:m}),this.props.style==="modal"&&(d("PolarisUA").isMobile()?k.jsx(c("IGDSBox.react"),{marginBottom:8,marginEnd:4,marginStart:3,marginTop:3,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{loading:this.props.requestInFlight,onClick:this.$5,children:d("PolarisAuthStrings").CONTINUE})}):k.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",width:"100%",children:k.jsx(c("IGDSDialogFooter.react"),{endAdornment:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,loading:this.props.requestInFlight,onClick:this.$5,children:d("PolarisAuthStrings").CONTINUE}),startAdornment:this.props.onBackClick!=null?k.jsx(c("IGDSBox.react"),{alignItems:"start",justifyContent:"center",paddingX:3,position:"relative",children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:this.props.onBackClick,children:d("PolarisGenericStrings").BACK_TEXT})}):null})}))]}))]}))};return b}(k.Component);e.defaultProps={style:"default"};function a(a,b){var c,d=a.twoFactor,e=d==null?void 0:d.message;return{eligibleForMultipleTotp:(d==null?void 0:d.eligibleForMultipleTotp)||!1,errorMessage:e&&e.isError&&e.text||((c=b.errorMessage)!=null?c:null),hasTwoFactorState:!!d,isAccountSwitcherOpen:a.navigation.isAccountSwitcherOpen,isInSowaExperience:(d==null?void 0:d.isInSowaExperience)||!1,lastFourDigits:d==null?void 0:d.lastFourDigits,maskedPhoneNumber:d==null?void 0:d.maskedPhoneNumber,requestInFlight:(d==null?void 0:d.requestInFlight)||b.requestInFlight,showTrustedDevice:(d==null?void 0:d.showTrustedDevice)||!1,smsTwoFactorOn:(d==null?void 0:d.smsTwoFactorOn)||!1,successMessage:e&&!e.isError?e.text:"",totpTwoFactorOn:(d==null?void 0:d.totpTwoFactorOn)||!1}}function b(a,b){return{onNewCodeClicked:function(b){a(d("PolarisTwoFactorActions").requestSMSCode())},onNewWhatsappCodeClicked:function(b){a(d("PolarisTwoFactorActions").requestWhatsappCode())},onSubmit:function(c,e,f){a(d("PolarisTwoFactorActions").submitVerificationCode(b.pageIdentifier,c,e,f,(c=b.isPrivacyPortalReq)!=null?c:!1))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),226);
__d("coerceRouteParams",["coerceRouteParam"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return Object.keys(b).reduce(function(d,e){var f=b[e];if(f!=null){var g=c("coerceRouteParam")(a[e],f.coercibleType,f.enumType),h=g.valid;g=g.value;var i=g!=null?g:f["default"];h&&(d[e]=i);f.legacyNames.forEach(function(a){d[a]=i})}return d},{})}g["default"]=a}),98);
__d("recoil-shared/util/Recoil_err",["fb-error"],(function(a,b,c,d,e,f){"use strict";a=b("fb-error").err;e.exports=a}),null);
__d("refine/Refine_API",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(c!=null){var d=c.path.toString();c=c.message;throw b("recoil-shared/util/Recoil_err")("[refine.js (path="+d+", message="+c+")]: "+a)}throw b("recoil-shared/util/Recoil_err")("[refine.js (null result)]: "+a)}function a(a,b){b===void 0&&(b="assertion error");return function(c){c=a(c);return c.type==="success"?c.value:g(b,c)}}function c(a,b){return function(c){c=a(c);b!=null&&b(c);return c.type==="success"?c.value:null}}e.exports={assertion:a,coercion:c}}),null);
__d("refine/Refine_Checkers",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b){a===void 0&&(a=null),b===void 0&&(b="<root>"),this.parent=a,this.field=b}var b=a.prototype;b.extend=function(b){return new a(this,b)};b.toString=function(){var a=[],b=this;while(b!=null){var c=b,d=c.field;c=c.parent;a.push(d);b=c}return a.reverse().join("")};return a}();function a(a,b){return{type:"success",value:a,warnings:b}}function b(a,b){return{type:"failure",message:a,path:b}}function c(a,b){return function(c,d){d===void 0&&(d=new g());c=a(c,d);return c.type==="failure"?c:b(c,d)}}e.exports={Path:g,success:a,failure:b,compose:c}}),null);
__d("refine/Refine_ContainerCheckers",["refine/Refine_Checkers"],(function(a,b,c,d,e,f){"use strict";var g=(b=b("refine/Refine_Checkers")).Path,h=b.compose,i=b.failure,j=b.success;function k(a){if(Object.prototype.toString.call(a)!=="[object Object]")return!1;a=Object.getPrototypeOf(a);return a===null||a===Object.prototype}function l(a){return function(b,c){c===void 0&&(c=new g());if(!Array.isArray(b))return i("value is not an array",c);var d=b.length,e=new Array(d),f=[];for(var h=0;h<d;h++){var k=b[h];k=a(k,c.extend("["+h+"]"));if(k.type==="failure")return i(k.message,k.path);e[h]=k.value;k.warnings.length!==0&&f.push.apply(f,k.warnings)}return j(e,f)}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a,c){c===void 0&&(c=new g());if(!Array.isArray(a))return i("value is not an array",c);var d=new Array(b.length),e=[];for(var f of b.entries()){var h=f[0],k=f[1];k=k(a[h],c.extend("["+h+"]"));if(k.type==="failure")return i(k.message,k.path);d[h]=k.value;k.warnings.length!==0&&e.push.apply(e,k.warnings)}return j(d,e)}}function m(a){return function(b,c){c===void 0&&(c=new g());if(typeof b!=="object"||b===null||!k(b))return i("value is not an object",c);var d={},e=[];for(b of Object.entries(b)){var f=b[0],h=b[1];h=a(h,c.extend("."+f));if(h.type==="failure")return i(h.message,h.path);d[f]=h.value;h.warnings.length!==0&&e.push.apply(e,h.warnings)}return j(d,e)}}var n=function(a){this.checker=a};function c(a){return new n(function(b,c){c===void 0&&(c=new g());b=a(b,c);if(b.type==="failure")return babelHelpers["extends"]({},b,{message:"(optional property) "+b.message});else return b})}function o(a){var b=Object.keys(a);return function(c,d){d===void 0&&(d=new g());if(typeof c!=="object"||c===null||!k(c))return i("value is not an object",d);var e={},f=[];for(var h of b){var l=a[h],m=void 0,o;if(l instanceof n){m=l.checker;if(!Object.prototype.hasOwnProperty.call(c,h))continue;o=c[h]}else m=l,o=Object.prototype.hasOwnProperty.call(c,h)?c[h]:void 0;l=m(o,d.extend("."+h));if(l.type==="failure")return i(l.message,l.path);e[h]=l.value;l.warnings.length!==0&&f.push.apply(f,l.warnings)}return j(e,f)}}function d(a){return function(b,c){c===void 0&&(c=new g());if(!(b instanceof Set))return i("value is not a Set",c);var d=new Set(),e=[];for(b of b){var f=a(b,c.extend("[]"));if(f.type==="failure")return i(f.message,f.path);d.add(f.value);f.warnings.length&&e.push.apply(e,f.warnings)}return j(d,e)}}function f(a,b){return function(c,d){d===void 0&&(d=new g());if(!(c instanceof Map))return i("value is not a Map",d);var e=new Map(),f=[];for(c of c.entries()){var h=c[0],k=c[1],l=a(h,d.extend("["+h+"] key"));if(l.type==="failure")return i(l.message,l.path);var m=b(k,d.extend("["+h+"]"));if(m.type==="failure")return i(m.message,m.path);e.set(h,k);f.push.apply(f,l.warnings.concat(m.warnings))}return j(e,f)}}function p(a){return h(l(a),function(a){var b=a.value;a=a.warnings;return j([].concat(b),a)})}function q(a){return h(m(a),function(a){var b=a.value;a=a.warnings;return j(babelHelpers["extends"]({},b),a)})}function r(a){return h(o(a),function(a){var b=a.value;a=a.warnings;return j(babelHelpers["extends"]({},b),a)})}e.exports={array:l,tuple:a,object:o,optional:c,dict:m,set:d,map:f,writableArray:p,writableDict:q,writableObject:r}}),null);
__d("refine/Refine_JSON",["refine/Refine_API"],(function(a,b,c,d,e,f){"use strict";var g=b("refine/Refine_API").assertion;function h(a,b){if(a==null)return null;try{return JSON.parse(a,b)}catch(a){return null}}function a(a,b){var c=g(a,b!=null?b:"value is invalid");return function(a){return c(h(a!=null?a:""))}}function c(a){return function(b){b=a(h(b));return b.type==="success"?b.value:null}}e.exports={jsonParserEnforced:a,jsonParser:c}}),null);
__d("refine/Refine_PrimitiveCheckers",["refine/Refine_Checkers"],(function(a,b,c,d,e,f){"use strict";var g=(b=b("refine/Refine_Checkers")).Path,h=b.compose,i=b.failure,j=b.success;function a(){return k}var k=function(a){return j(a,[])};function c(a){var b=function(a){return JSON.stringify(a)};return function(c,d){d===void 0&&(d=new g());return c===a?j(a,[]):i("value is not literal "+((c=b(a))!=null?c:"void"),d)}}function d(){return function(a,b){b===void 0&&(b=new g());return typeof a==="boolean"?j(a,[]):i("value is not a boolean",b)}}function f(){return function(a,b){b===void 0&&(b=new g());return typeof a==="number"?j(a,[]):i("value is not a number",b)}}function l(a){return function(b,c){c===void 0&&(c=new g());if(typeof b!=="string")return i("value is not a string",c);return a!=null&&!a.test(b)?i("value does not match regex: "+a.toString(),c):j(b,[])}}function m(a){return function(b,c){c===void 0&&(c=new g());if(typeof b!=="string")return i("value must be a string",c);b=a[b];return b==null?i("value is not one of "+Object.keys(a).join(", "),c):j(b,[])}}function n(a){var b=Object.keys(a).reduce(function(b,c){return Object.assign(b,(b={},b[a[c]]=a[c],b))},{}),c=m(b);return function(a,b){b===void 0&&(b=new g());var d=typeof a==="number"?a.toString():a;d=c(d,b);return d.type==="success"&&typeof d.value!==typeof a?i("input must be the same type as the enum values",b):d}}function o(){return function(a,b){b===void 0&&(b=new g());if(!(a instanceof Date))return i("value is not a date",b);return isNaN(a)?i("invalid date",b):j(a,[])}}function p(){return h(l(),function(a,b){var c=a.value;a=a.warnings;c=new Date(c);return Number.isNaN(c)?i("value is not valid date string",b):j(c,a)})}e.exports={mixed:a,literal:c,bool:d,number:f,string:l,stringLiterals:m,date:o,jsonDate:p,enumObject:n}}),null);
__d("refine/Refine_UtilityCheckers",["refine/Refine_Checkers"],(function(a,b,c,d,e,f){"use strict";var g=(b=b("refine/Refine_Checkers")).Path,h=b.compose,i=b.failure,j=b.success;function a(a,b){return h(a,function(a){var c=a.value;a=a.warnings;return j(b(c),a)})}function k(a,b,c){return i(a+": "+c.map(function(a){return a.message+" at "+a.path.toString()}).join(", "),b)}function c(a,b){return function(c,d){d===void 0&&(d=new g());var e=a(c,d);if(e.type==="success")return j(e.value,e.warnings);c=b(c,d);return c.type==="success"?j(c.value,c.warnings):k("value did not match any types in or()",d,[e,c])}}function l(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a,c){c===void 0&&(c=new g());var d=[];for(var e of b){var f=e(a,c);if(f.type==="success")return j(f.value,f.warnings);d.push(f)}return k("value did not match any types in union",c,d)}}function d(){return l.apply(void 0,arguments)}function f(a,b){b=b!=null?b:{};b=b.nullWithWarningWhenInvalid;var c=b===void 0?!1:b;return function(b,d){d===void 0&&(d=new g());if(b==null)return j(b,[]);b=a(b,d);if(b.type==="success")return j(b.value,b.warnings);if(c)return j(null,[b]);d=b.message;b=b.path;return i(d,b)}}function m(a,b){b=b!=null?b:{};b=b.undefinedWithWarningWhenInvalid;var c=b===void 0?!1:b;return function(b,d){d===void 0&&(d=new g());if(b===void 0)return j(void 0,[]);b=a(b,d);if(b.type==="success")return j(b.value,b.warnings);if(c)return j(void 0,[b]);d=b.message;b=b.path;return i(d,b)}}function n(a,b){return function(c,d){d===void 0&&(d=new g());if(c==null)return j(b,[]);c=a(c,d);return c.type==="failure"||c.value!=null?c:j(b,[])}}function o(a,b){return h(a,function(a,c){var d=a.value;a=a.warnings;var e=b(d);e=typeof e==="boolean"?[e,"value failed constraint check"]:e;var f=e[0];e=e[1];return f?j(d,a):i(e,c)})}function p(a){return function(b,c){c===void 0&&(c=new g());var d=a();return d(b,c)}}function q(a,b){b===void 0&&(b="failed to return non-null from custom checker.");return function(c,d){d===void 0&&(d=new g());try{c=a(c);return c!=null?j(c,[]):i(b,d)}catch(a){return i(a.message,d)}}}e.exports={or:c,union:l,match:d,nullable:f,voidable:m,withDefault:n,constraint:o,asType:a,lazy:p,custom:q}}),null);
__d("refine",["refine/Refine_API","refine/Refine_Checkers","refine/Refine_ContainerCheckers","refine/Refine_JSON","refine/Refine_PrimitiveCheckers","refine/Refine_UtilityCheckers"],(function(a,b,c,d,e,f){"use strict";var g;a=b("refine/Refine_API").assertion;c=b("refine/Refine_API").coercion;d=b("refine/Refine_Checkers").Path;var h=(f=b("refine/Refine_ContainerCheckers")).array,i=f.dict,j=f.map,k=f.object,l=f.optional,m=f.set,n=f.tuple,o=f.writableArray,p=f.writableDict;f=f.writableObject;var q=b("refine/Refine_JSON").jsonParser,r=b("refine/Refine_JSON").jsonParserEnforced,s=(g=b("refine/Refine_PrimitiveCheckers")).bool,t=g.date,u=g.enumObject,v=g.jsonDate,w=g.literal,x=g.mixed,y=g.number,z=g.string;g=g.stringLiterals;var A=(b=b("refine/Refine_UtilityCheckers")).asType,B=b.constraint,C=b.custom,D=b.lazy,E=b.match,F=b.nullable,G=b.or,H=b.union,I=b.voidable;b=b.withDefault;e.exports={assertion:a,coercion:c,jsonParser:q,jsonParserEnforced:r,Path:d,mixed:x,literal:w,bool:s,number:y,string:z,stringLiterals:g,enumObject:u,date:t,jsonDate:v,asType:A,or:G,union:H,match:E,nullable:F,voidable:I,withDefault:b,constraint:B,lazy:D,custom:C,array:h,tuple:n,dict:i,object:k,optional:l,set:m,map:j,writableArray:o,writableDict:p,writableObject:f}}),null);
__d("XPolarisLoginControllerParamsRefineValidator",["coerceRouteParams","refine"],(function(a,b,c,d,e,f,g){e=(b=d("refine")).or(b.literal(null),b.string());f=b.object({e_un:e,enable_fb_login:b.bool(),flo:b.bool(),force_authentication:b.bool(),force_login_igid:e,hl:e,is_from_rle:b.bool(),logged_out_reporting_url:e,mtn:b.bool(),next:e,platform_app_id:e,request_id:e,source:e,target_user_id:e});var h=b.coercion(f),i=Object.freeze({force_authentication:{legacyNames:[],"default":!1,coercibleType:"EXISTS"},target_user_id:{legacyNames:[],"default":null,coercibleType:"STRING"},force_login_igid:{legacyNames:[],"default":null,coercibleType:"STRING"},platform_app_id:{legacyNames:[],"default":null,coercibleType:"STRING"},logged_out_reporting_url:{legacyNames:[],"default":null,coercibleType:"STRING"},next:{legacyNames:[],"default":null,coercibleType:"STRING"},source:{legacyNames:[],"default":null,coercibleType:"STRING"},hl:{legacyNames:[],"default":null,coercibleType:"STRING"},e_un:{legacyNames:[],"default":null,coercibleType:"STRING"},enable_fb_login:{legacyNames:[],"default":!1,coercibleType:"EXISTS"},request_id:{legacyNames:[],"default":null,coercibleType:"STRING"},is_from_rle:{legacyNames:[],"default":!1,coercibleType:"EXISTS"},mtn:{legacyNames:[],"default":!1,coercibleType:"EXISTS"},flo:{legacyNames:[],"default":!1,coercibleType:"BOOL"}});function a(a){return h(c("coerceRouteParams")(a,i))}g.refineXPolarisLoginControllerParams=a}),98);
__d("PolarisAuthFormCard.react",["fbt","invariant","ix","CometRouteParams","FBLogger","IGCoreImage.react","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","IGDSText.react","IGDSTextVariants.react","InstagramQueryParamsHelper","PolarisAppsellUnit.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthTypeSwitcher.react","PolarisBarcelonaAppSVGIcon.react","PolarisConfig","PolarisConsentModal.react","PolarisExternalLink.react","PolarisFBConnectActions","PolarisFBConnectHelpers","PolarisFacebookAccountPicker.react","PolarisFacebookLoginForm.react","PolarisIsLoggedIn","PolarisLandingForm.react","PolarisLoggedOutContentWallDialogAuthCTAs.react","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaImpressionLogger","PolarisLoggedOutNetzDGReportLink.react","PolarisLoggedOutUpsellStrings","PolarisLoginActionClearStopDeletionNonce","PolarisLoginActionLogin","PolarisLoginActionLoginWithFBAccessToken","PolarisLoginActionLoginWithFBJSSDK","PolarisLoginLogger","PolarisLoginQPL","PolarisOneTapLogin","PolarisOneTapLoginForm.react","PolarisOneTapLoginStorage","PolarisQueryParams","PolarisReactRedux.react","PolarisSenderNameHelpers","PolarisSignupForm.react","PolarisSignupTypes","PolarisSlimLoginForm.react","PolarisStrategicWebTraffic","PolarisTwoFactorForm.react","PolarisUA","PolarisUserAvatar.react","URI","XPolarisLoginControllerParamsRefineValidator","nullthrows","polarisIsEligibleForFacebookLogin","polarisUserSelectors","react","react-compiler-runtime","stylex","usePolarisCentralizedUpsellState","usePolarisPageID","usePrevious","useSinglePartialViewImpression","warning"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n=m||(m=d("react")),o=m.useEffect,p=h._(/*BTDS*/"Continuar sin iniciar sesi\u00f3n."),q=h._(/*BTDS*/"Tu contrase\u00f1a se ha cambiado. Intenta iniciar sesi\u00f3n de nuevo."),r=h._(/*BTDS*/"Inicia sesi\u00f3n para seguir a personas en Instagram."),s=h._(/*BTDS*/"Icono de candado de autenticaci\u00f3n en dos pasos"),t={mobileBrandPadding:{paddingTop:"xnk5j39",$$css:!0},mobileFooterPadding:{paddingBottom:"xefzj8c",$$css:!0},root:{color:"x5n08af",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k x7qam4e",marginTop:"x14vqqas x15lw1kp",maxWidth:"x1dc814f x1owpceq",width:"xh8yej3",$$css:!0},rootModal:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",maxWidth:"x1319t99",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(63),e=a.authTypeOverride,f=a.dialogSource,g=a.forceLoginIgId,h=a.forceLoginProfilePicUrl,j=a.forceLoginUsername,l=a.fromLoggedOutDialog,m=a.hideAppUpsells,p=a.hideBorder,q=a.hideForgotPassword,r=a.intentSource,s=a.isPrivacyPortalReq,v=a.pageIdentifier,w=a.pageType,x=a.showNetzDGReportLink,y=a.style,z=a.useMobileBrandPadding,A=a.useMobileFooterPadding,B=a.usernameHint;a=a.xstyle;l=l===void 0?!1:l;m=m===void 0?!1:m;q=q===void 0?!1:q;s=s===void 0?!1:s;x=x===void 0?!1:x;y=y===void 0?"default":y;z=z===void 0?!0:z;A=A===void 0?!0:A;var C=c("usePolarisPageID")();v=v!=null?v:C;C=d("PolarisReactRedux.react").useSelector(u);C=C.auth;C=C.authType;var D=e!=null?e:C;D!=null||i(0,51551);var E=c("usePrevious")(D);b[0]!==D||b[1]!==E?(e=function(){!c("PolarisLoginQPL").isActive()&&E!==d("PolarisAuthActionConstants").AUTH.login&&D===d("PolarisAuthActionConstants").AUTH.login&&c("PolarisLoginQPL").start()},C=[E,D],b[0]=D,b[1]=E,b[2]=e,b[3]=C):(e=b[2],C=b[3]);o(e,C);var F=d("PolarisReactRedux.react").useStore();b[4]!==D||b[5]!==F?(e=function(){if(D===d("PolarisAuthActionConstants").AUTH.login||D===d("PolarisAuthActionConstants").AUTH.twoFactor)return function(){var a=F.getState().auth.authType===d("PolarisAuthActionConstants").AUTH.twoFactor;c("PolarisLoginQPL").isActive()&&!a&&c("PolarisLoginQPL").endCancel()}},C=[D,F],b[4]=D,b[5]=F,b[6]=e,b[7]=C):(e=b[6],C=b[7]);o(e,C);if(b[8]!==D||b[9]!==y||b[10]!==z||b[11]!==A||b[12]!==a){b[14]!==D||b[15]!==z?(e=d("PolarisUA").isMobile()&&D===d("PolarisAuthActionConstants").AUTH.none&&z&&t.mobileBrandPadding,b[14]=D,b[15]=z,b[16]=e):e=b[16];C=(k||(k=c("stylex"))).props(t.root,y==="modal"&&t.rootModal,d("PolarisUA").isMobile()&&!!A&&t.mobileFooterPadding,e,a);b[8]=D;b[9]=y;b[10]=z;b[11]=A;b[12]=a;b[13]=C}else C=b[13];b[17]!==p||b[18]!==y?(e={0:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf"},2:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a xh8yej3"},1:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},3:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu x1n2onr6 x11njtxf x7r02ix xdj266r x14z9mp xat24cr x1lziwak xyri2b x18d9i69 x1c1uobl xz9dl7a xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"}}[!!(y==="modal")<<1|!!(p===!0)<<0],b[17]=p,b[18]=y,b[19]=e):e=b[19];b[20]!==D||b[21]!==v?(z=n.jsx(W,{authType:D,pageID:v}),b[20]=D,b[21]=v,b[22]=z):z=b[22];b[23]!==D||b[24]!==f||b[25]!==g||b[26]!==h||b[27]!==j||b[28]!==l||b[29]!==q||b[30]!==r||b[31]!==s||b[32]!==v||b[33]!==w||b[34]!==y||b[35]!==B?(A=n.jsx(L,{authType:D,dialogSource:f,forceLoginIgId:g,forceLoginProfilePicUrl:h,forceLoginUsername:j,fromLoggedOutDialog:l,hideForgotPassword:q,intentSource:r,isPrivacyPortalReq:s,pageID:v,pageType:w,style:y,usernameHint:B}),b[23]=D,b[24]=f,b[25]=g,b[26]=h,b[27]=j,b[28]=l,b[29]=q,b[30]=r,b[31]=s,b[32]=v,b[33]=w,b[34]=y,b[35]=B,b[36]=A):A=b[36];b[37]!==D||b[38]!==A?(a=n.jsx(J,{authType:D,children:A}),b[37]=D,b[38]=A,b[39]=a):a=b[39];b[40]!==v||b[41]!==x?(f=n.jsx(ca,{pageID:v,showNetzDGReportLink:x}),b[40]=v,b[41]=x,b[42]=f):f=b[42];b[43]===Symbol["for"]("react.memo_cache_sentinel")?(h=n.jsx(da,{}),b[43]=h):h=b[43];b[44]!==e||b[45]!==z||b[46]!==a||b[47]!==f?(j=n.jsxs("div",babelHelpers["extends"]({},e,{"data-testid":void 0,children:[z,a,f,h]})),b[44]=e,b[45]=z,b[46]=a,b[47]=f,b[48]=j):j=b[48];b[49]===Symbol["for"]("react.memo_cache_sentinel")?(q=n.jsx(c("PolarisConsentModal.react"),{}),b[49]=q):q=b[49];b[50]!==D||b[51]!==g||b[52]!==l||b[53]!==m||b[54]!==p||b[55]!==v||b[56]!==w||b[57]!==y?(r=n.jsx(ea,{authType:D,forceLoginIgId:g,fromLoggedOutDialog:l,hideAppUpsells:m,hideBorder:p,pageId:v,pageType:w,style:y}),b[50]=D,b[51]=g,b[52]=l,b[53]=m,b[54]=p,b[55]=v,b[56]=w,b[57]=y,b[58]=r):r=b[58];b[59]!==C||b[60]!==j||b[61]!==r?(s=n.jsxs("div",babelHelpers["extends"]({},C,{children:[j,q,r]})),b[59]=C,b[60]=j,b[61]=r,b[62]=s):s=b[62];return s}function u(a){return a}function v(a,b,e){var f=d("react-compiler-runtime").c(4),g;f[0]!==a||f[1]!==b||f[2]!==e?(g={onImpressionStart:function(){a||d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("auth_form",e,{},b!=null?b:void 0)}},f[0]=a,f[1]=b,f[2]=e,f[3]=g):g=f[3];return c("useSinglePartialViewImpression")(g)}function w(a){var b=c("usePolarisCentralizedUpsellState")();b=b[0];b=b.isProfileOrPostPage;return a===d("PolarisAuthActionConstants").AUTH.signup&&b}function x(a){var b=d("react-compiler-runtime").c(4),e=d("PolarisReactRedux.react").useSelector(y);e=e.auth;e=e.signup;var f=c("usePolarisCentralizedUpsellState")();f=f[0];f=f.isProfileOrPostPage;var g;b[0]!==a||b[1]!==f||b[2]!==(e==null?void 0:e.step)?(g=!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop()&&f&&(a===d("PolarisAuthActionConstants").AUTH.signup?(e==null?void 0:e.step)===d("PolarisSignupTypes").STEP.base:!0),b[0]=a,b[1]=f,b[2]=e==null?void 0:e.step,b[3]=g):g=b[3];return g}function y(a){return a}function z(){var a=d("react-compiler-runtime").c(6),b=d("PolarisReactRedux.react").useSelector(A);b=b.fb;var c=b.authResponse,e=b.igProfile,f=b.igProfiles;b=b.igSSODisabled;if(e==null)return null;c=c==null?void 0:c.userID;var g;a[0]!==e.profilePictureUrl||a[1]!==e.username||a[2]!==f||a[3]!==b||a[4]!==c?(g={fbUserID:c,igSSODisabled:b,linkedIGProfiles:f,profilePictureUrl:e.profilePictureUrl,username:e.username},a[0]=e.profilePictureUrl,a[1]=e.username,a[2]=f,a[3]=b,a[4]=c,a[5]=g):g=a[5];return g}function A(a){return a}function B(){var a=d("PolarisReactRedux.react").useSelector(C);a=a.auth;var b=a.login;a=a.twoFactor;if((b==null?void 0:b.errorMessage)!=null)return b.errorMessage;return(a==null?void 0:(b=a.message)==null?void 0:b.isError)===!0&&(a==null?void 0:(b=a.message)==null?void 0:b.text)!=null?a.message.text:null}function C(a){return a}function D(){var a=d("PolarisReactRedux.react").useSelector(E);a=a.auth;var b=a.login,c=a.signup;a=a.twoFactor;return(c=(b=(b=b==null?void 0:b.requestInFlight)!=null?b:c==null?void 0:c.requestInFlight)!=null?b:a==null?void 0:a.requestInFlight)!=null?c:!1}function E(a){return a}function F(){var a=d("react-compiler-runtime").c(2),b=d("PolarisReactRedux.react").useDispatch(),c;a[0]!==b?(c=function(a){b(d("PolarisAuthActions").switchAuthType(a))},a[0]=b,a[1]=c):c=a[1];return c}function G(){var a=d("react-compiler-runtime").c(2),b=d("PolarisReactRedux.react").useSelector(I);b=b.auth;b=b.next;var e;if(a[0]!==b){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f=new(l||(l=c("URI")))(b),g=f.getPath(),h=f.getDomain();if(h===""&&g==="/oauth/authorize"){h=f.getQueryData();f=(g=h.scope)==null?void 0:g.split(",");e=(f==null?void 0:f.every(H))===!0;break bb0}}a[0]=b;a[1]=e}else e=a[1];return e!==Symbol["for"]("react.early_return_sentinel")?e:!1}function H(a){return a.startsWith("threads_")}function I(a){return a}function J(a){var b=d("react-compiler-runtime").c(1),e=a.authType;a=a.children;var f=d("PolarisReactRedux.react").useSelector(K);f=f.auth;f=f.isFBLoggedIn;if((e===d("PolarisAuthActionConstants").AUTH.fbLogin||e===d("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&f==null){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=n.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",minHeight:160,position:"relative",children:n.jsx(c("IGDSSpinner.react"),{size:"small"})}),b[0]=e):e=b[0];return e}return a}function K(a){return a}function L(a){var b=d("react-compiler-runtime").c(30),e=a.authType,f=a.dialogSource,g=a.forceLoginIgId,h=a.forceLoginProfilePicUrl,i=a.forceLoginUsername,j=a.fromLoggedOutDialog,k=a.hideForgotPassword,l=a.intentSource,m=a.isPrivacyPortalReq,o=a.pageID,p=a.pageType,q=a.style;a=a.usernameHint;m=m===void 0?!1:m;var r=d("PolarisReactRedux.react").useSelector(M);r=r.auth;r=r.isFBLoggedIn;var s=z(),t=G(),u=g!=null;r=(e===d("PolarisAuthActionConstants").AUTH.fbLogin||e===d("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&r===!0&&!!s;if(e===d("PolarisAuthActionConstants").AUTH.signup&&!d("PolarisUA").isMobile()){var v;b[0]!==e||b[1]!==j||b[2]!==l||b[3]!==o||b[4]!==q?(v=n.jsx(N,{authType:e,fromLoggedOutDialog:j,intentSource:l,pageID:o,style:q}),b[0]=e,b[1]=j,b[2]=l,b[3]=o,b[4]=q,b[5]=v):v=b[5];return v}else if(e===d("PolarisAuthActionConstants").AUTH.twoFactor){b[6]!==m||b[7]!==o||b[8]!==q?(v=n.jsx(O,{isPrivacyPortalReq:m,pageID:o,style:q}),b[6]=m,b[7]=o,b[8]=q,b[9]=v):v=b[9];return v}else if(!u&&r&&!t&&(s==null?void 0:s.igSSODisabled)!==!0){b[10]!==e||b[11]!==o||b[12]!==p?(v=n.jsx(P,{authType:e,pageID:o,pageType:p}),b[10]=e,b[11]=o,b[12]=p,b[13]=v):v=b[13];return v}else if(!u&&d("PolarisOneTapLogin").isOneTapLoginEligible()&&e===d("PolarisAuthActionConstants").AUTH.oneTapLogin){b[14]!==e?(r=n.jsx(S,{authType:e}),b[14]=e,b[15]=r):r=b[15];return r}else if(d("PolarisUA").isMobile()&&e===d("PolarisAuthActionConstants").AUTH.none){b[16]!==o?(t=n.jsx(T,{pageID:o}),b[16]=o,b[17]=t):t=b[17];return t}c("warning")(e===d("PolarisAuthActionConstants").AUTH.login||e===d("PolarisAuthActionConstants").AUTH.oneTapLogin||e===d("PolarisAuthActionConstants").AUTH.multiStepSignup,'Expected authType to be "login or oneTapLogin"; got "%s"',e);b[18]!==f||b[19]!==g||b[20]!==h||b[21]!==i||b[22]!==j||b[23]!==k||b[24]!==l||b[25]!==m||b[26]!==o||b[27]!==q||b[28]!==a?(s=n.jsx(U,{dialogSource:f,forceLoginIgId:g,forceLoginProfilePicUrl:h,forceLoginUsername:i,fromLoggedOutDialog:j,hideForgotPassword:k,intentSource:l,isPrivacyPortalReq:m,pageID:o,style:q,usernameHint:a}),b[18]=f,b[19]=g,b[20]=h,b[21]=i,b[22]=j,b[23]=k,b[24]=l,b[25]=m,b[26]=o,b[27]=q,b[28]=a,b[29]=s):s=b[29];return s}function M(a){return a}function N(a){var b=d("react-compiler-runtime").c(9),e=a.authType,f=a.fromLoggedOutDialog,g=a.intentSource,h=a.pageID;a=a.style;f=v(f,g,h);g=D();e=w(e);var i=c("usePolarisCentralizedUpsellState")();i=i[0];i=i.isProfileOrPostPage;if(e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=n.jsx(c("PolarisLoggedOutContentWallDialogAuthCTAs.react"),{}),b[0]=e):e=b[0];return e}b[1]!==i||b[2]!==h||b[3]!==g||b[4]!==a?(e=n.jsx(c("PolarisSignupForm.react"),{hideHeader:i,pageIdentifier:h,requestInFlight:g,style:a}),b[1]=i,b[2]=h,b[3]=g,b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(i=n.jsx("div",{ref:f,children:e}),b[6]=f,b[7]=e,b[8]=i):i=b[8];return i}function O(a){var b=d("react-compiler-runtime").c(6),e=a.isPrivacyPortalReq,f=a.pageID;a=a.style;e=e===void 0?!1:e;var g=B(),h=D();g=g||"";var i;b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==a||b[4]!==g?(i=n.jsx(c("PolarisTwoFactorForm.react"),{errorMessage:g,isPrivacyPortalReq:e,pageIdentifier:f,requestInFlight:h,style:a}),b[0]=e,b[1]=f,b[2]=h,b[3]=a,b[4]=g,b[5]=i):i=b[5];return i}function P(a){var b=d("react-compiler-runtime").c(36),e=a.authType,f=a.pageID;a=a.pageType;var g=d("PolarisReactRedux.react").useSelector(R),h=g.auth;g=g.fb;var i=h.login,j=g.status,k=d("PolarisReactRedux.react").useDispatch();h=z();g=B();var l=F(),m=D(),o=x(e);if(b[0]!==(h==null?void 0:h.linkedIGProfiles)){var p;p=(p=h==null?void 0:h.linkedIGProfiles)!=null?p:[];b[0]=h==null?void 0:h.linkedIGProfiles;b[1]=p}else p=b[1];p=p;var q;b[2]!==k||b[3]!==f?(q=function(a){a!=null?(d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login_with_fb","auth_form",f),k(d("PolarisLoginActionLoginWithFBJSSDK").loginWithFBJSSDK({pageID:f,source:f},a))):(d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("fb_connect","auth_form",f),d("PolarisFBConnectHelpers").redirectToFBOAuth("/",f)["catch"](Q))},b[2]=k,b[3]=f,b[4]=q):q=b[4];q=q;var r;b[5]!==h?(r=!!h&&d("PolarisFBConnectHelpers").isFBCUnique(h.username),b[5]=h,b[6]=r):r=b[6];r=r;var s=p.length<=1,t=d("PolarisQueryParams").getShouldRefreshFBCookie();if(d("PolarisOneTapLogin").isOneTapLoginEligible()&&e!==d("PolarisAuthActionConstants").AUTH.fbAccountPicker&&(!t||s)){b[7]!==r?(e=d("PolarisOneTapLoginStorage").getLoginNonces(),t=Object.values(e).length>=1||r,b[7]=r,b[8]=e,b[9]=t):(e=b[8],t=b[9]);if(t){t=r&&s?h:null;s=r&&s?q:void 0;o=!o;var u;b[10]!==e||b[11]!==t||b[12]!==s||b[13]!==o?(u=n.jsx(c("PolarisOneTapLoginForm.react"),{fbConnectedUser:t,loginNonces:e,onRequestFBLogin:s,showSingleAccountProfilePicture:o}),b[10]=e,b[11]=t,b[12]=s,b[13]=o,b[14]=u):u=b[14];return u}}else if(p.length>1&&r){b[15]!==(i==null?void 0:i.deletionNonce)||b[16]!==k||b[17]!==f?(e=function(a){k(d("PolarisLoginActionLoginWithFBAccessToken").loginWithFBAccessToken({pageID:f,skipped:!1,source:"fbSignupPage"},a,i==null?void 0:i.deletionNonce))},b[15]=i==null?void 0:i.deletionNonce,b[16]=k,b[17]=f,b[18]=e):e=b[18];t=e;b[19]!==p||b[20]!==t?(s=n.jsx(c("PolarisFacebookAccountPicker.react"),{fbConnectedIgProfiles:p,onRequestFBLogin:t}),b[19]=p,b[20]=t,b[21]=s):s=b[21];return s}b[22]!==j||b[23]!==l?(o=function(a){d("PolarisLoginLogger").logLoginEvent({event_name:"fb_switch_accounts_click",fbconnect_status:j}),l(a)},b[22]=j,b[23]=l,b[24]=o):o=b[24];u=o;b[25]!==h?(r=c("nullthrows")(h),b[25]=h,b[26]=r):r=b[26];e=a!=null?a:void 0;b[27]!==j||b[28]!==u||b[29]!==g||b[30]!==q||b[31]!==f||b[32]!==m||b[33]!==r||b[34]!==e?(p=n.jsx(c("PolarisFacebookLoginForm.react"),{accountInfo:r,errorMessage:g,fbConnectStatus:j,onRequestLogin:q,onSwitchAccountsClick:u,pageID:f,pageType:e,requestInFlight:m}),b[27]=j,b[28]=u,b[29]=g,b[30]=q,b[31]=f,b[32]=m,b[33]=r,b[34]=e,b[35]=p):p=b[35];return p}function Q(a){return c("FBLogger")("ig_web").catching(a).mustfix("unexpected")}function R(a){return a}function S(a){var b=d("react-compiler-runtime").c(3);a=a.authType;a=x(a);var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisOneTapLoginStorage").getLoginNonces(),b[0]=e):e=b[0];a=!a;b[1]!==a?(e=n.jsx(c("PolarisOneTapLoginForm.react"),{loginNonces:e,showSingleAccountProfilePicture:a}),b[1]=a,b[2]=e):e=b[2];return e}function T(a){var b=d("react-compiler-runtime").c(4),e=a.pageID;b[0]!==e?(a={onImpressionStart:function(){d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("full_page",e)}},b[0]=e,b[1]=a):a=b[1];a=c("useSinglePartialViewImpression")(a);var f;b[2]!==a?(f=n.jsx(c("PolarisLandingForm.react"),{ref:a}),b[2]=a,b[3]=f):f=b[3];return f}function U(a){var b=d("react-compiler-runtime").c(47),e=a.dialogSource,f=a.forceLoginIgId,g=a.forceLoginProfilePicUrl,h=a.forceLoginUsername,i=a.fromLoggedOutDialog,j=a.hideForgotPassword,k=a.intentSource,l=a.isPrivacyPortalReq,m=a.pageID,o=a.style;a=a.usernameHint;var p=l===void 0?!1:l;l=d("PolarisReactRedux.react").useSelector(V);var s=l.auth;l=l.fb;var t=s.isFBLoggedIn,u=s.login;s=s.next;l=l.status;var w=d("PolarisReactRedux.react").useDispatch(),x=F();k=v(i,k,m);var y=G(),A=z(),C=u&&u.source==="follow"?r:"",E=B(),H=D(),I=u&&u.wasPasswordJustReset?q:"",J;b[0]!==w||b[1]!==i||b[2]!==p||b[3]!==m?(J=function(a,b,c){w(d("PolarisLoginActionLogin").login(a,b,{source:m},c,!1,null,i,p))},b[0]=w,b[1]=i,b[2]=p,b[3]=m,b[4]=J):J=b[4];J=J;var K;b[5]!==w?(K=function(a){w(d("PolarisFBConnectActions").setShowSSODisabledModal(a))},b[5]=w,b[6]=K):K=b[6];var L=K;b[7]!==w||b[8]!==i||b[9]!==m?(K=function(a,b,c,e){w(d("PolarisLoginActionLogin").login(a,b,{source:m},c,!1,e,i))},b[7]=w,b[8]=i,b[9]=m,b[10]=K):K=b[10];K=K;var M;b[11]!==w?(M=function(){w(d("PolarisLoginActionClearStopDeletionNonce").clearStopDeletionNonce())},b[11]=w,b[12]=M):M=b[12];M=M;var N;b[13]!==(A==null?void 0:A.igSSODisabled)||b[14]!==(A==null?void 0:A.linkedIGProfiles)||b[15]!==(A==null?void 0:A.username)||b[16]!==L||b[17]!==x?(N=function(){var a;a=(a=A==null?void 0:A.linkedIGProfiles)!=null?a:[];(A==null?void 0:A.igSSODisabled)===!0?(x(d("PolarisAuthActionConstants").AUTH.login),L(A==null?void 0:A.username)):a.length>1?x(d("PolarisAuthActionConstants").AUTH.fbAccountPicker):x(d("PolarisAuthActionConstants").AUTH.fbLogin)},b[13]=A==null?void 0:A.igSSODisabled,b[14]=A==null?void 0:A.linkedIGProfiles,b[15]=A==null?void 0:A.username,b[16]=L,b[17]=x,b[18]=N):N=b[18];N=N;var O;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(O={className:"xod5an3 x1dc814f xh8yej3"},b[19]=O):O=b[19];t=!!t;var P=(A==null?void 0:A.igSSODisabled)===!0,Q=u==null?void 0:u.deletionDate;u=u==null?void 0:u.deletionNonce;a=a!=null?a:void 0;var R;b[20]!==e||b[21]!==l||b[22]!==f||b[23]!==g||b[24]!==h||b[25]!==i||b[26]!==N||b[27]!==j||b[28]!==C||b[29]!==y||b[30]!==E||b[31]!==s||b[32]!==M||b[33]!==J||b[34]!==K||b[35]!==H||b[36]!==o||b[37]!==I||b[38]!==t||b[39]!==P||b[40]!==Q||b[41]!==u||b[42]!==a?(R=n.jsx(c("PolarisSlimLoginForm.react"),{dialogSource:e,errorMessage:E,fbConnectStatus:l,forceLoginIgId:f,forceLoginProfilePicUrl:g,forceLoginUsername:h,fromLoggedOutDialog:i,hideFBLogin:!c("polarisIsEligibleForFacebookLogin")(),hideForgotPassword:j,infoMessage:C,isFBLoggedIn:t,isIGSSODisabled:P,isThreadsRequest:y,nextUrl:s,onClearStopDeletionNonce:M,onLoginWithFBClick:N,onStopAccountDeletion:K,onSubmit:J,requestInFlight:H,stopDeletionDate:Q,stopDeletionNonce:u,style:o,successMessage:I,usernameHint:a}),b[20]=e,b[21]=l,b[22]=f,b[23]=g,b[24]=h,b[25]=i,b[26]=N,b[27]=j,b[28]=C,b[29]=y,b[30]=E,b[31]=s,b[32]=M,b[33]=J,b[34]=K,b[35]=H,b[36]=o,b[37]=I,b[38]=t,b[39]=P,b[40]=Q,b[41]=u,b[42]=a,b[43]=R):R=b[43];b[44]!==k||b[45]!==R?(e=n.jsx("div",babelHelpers["extends"]({},O,{ref:k,children:R})),b[44]=k,b[45]=R,b[46]=e):e=b[46];return e}function V(a){return a}function W(a){var b=d("react-compiler-runtime").c(8),e=a.authType;a=a.pageID;var f=d("PolarisReactRedux.react").useSelector(X);f=f.auth;f=f.signup;var g=x(e),h=c("usePolarisCentralizedUpsellState")();h=h[0];var i=h.isProfileOrPostPage,j=h.lastViewedOwnerID;b[0]!==i||b[1]!==j?(h=function(a){return i&&j!=null?(a=d("polarisUserSelectors").maybeGetUserById(a,j))!=null?a:{}:{}},b[0]=i,b[1]=j,b[2]=h):h=b[2];h=d("PolarisReactRedux.react").useSelector(h);f=!g&&d("PolarisUA").isDesktop()&&e===d("PolarisAuthActionConstants").AUTH.signup?(f==null?void 0:f.step)===d("PolarisSignupTypes").STEP.base:!0;if(g&&(h==null?void 0:h.username)!=null){b[3]!==a||b[4]!==h?(g=n.jsx(aa,{pageID:a,user:h}),b[3]=a,b[4]=h,b[5]=g):g=b[5];return g}else if(f){b[6]!==e?(a=n.jsx(Y,{authType:e}),b[6]=e,b[7]=a):a=b[7];return a}return null}function X(a){return a}function Y(a){var b=d("react-compiler-runtime").c(3);a=a.authType;var e=G(),f;b[0]!==a||b[1]!==e?(f=n.jsx(c("IGDSBox.react"),{marginBottom:3,marginTop:9,position:"relative",children:e?n.jsx(c("PolarisBarcelonaAppSVGIcon.react"),{fill:"var(--barcelona-logo)",size:34}):a===d("PolarisAuthActionConstants").AUTH.twoFactor?n.jsx(c("IGCoreImage.react"),{alt:s,src:{light:j("222729")}}):n.jsx(c("IGCoreImage.react"),{alt:h._(/*BTDS*/"Instagram"),src:{dark:j("222731"),light:j("222730")}})}),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}var Z={container:{borderTopColor:"x1yhmmig",borderInlineEndColor:"xpcrz0c",borderBottomColor:"xyb01ml",borderInlineStartColor:"x1vpptxl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xmn4e3e",borderInlineEndWidth:"x1if355w",borderBottomWidth:"x2x41l1",borderInlineStartWidth:"xct1zlm",position:"x1n2onr6",$$css:!0}};function aa(a){var b,e=d("react-compiler-runtime").c(15),f=a.pageID;a=a.user;var g=a.fullName,h=a.profilePictureUrl;a=a.username;a=c("nullthrows")(a);var i=d("PolarisReactRedux.react").useSelector(ba);i=i.sharerInformation;f=d("PolarisSenderNameHelpers").shouldShowSenderName(f);b=i!=null&&f?d("PolarisLoggedOutUpsellStrings").seePhotosFromFullNameBodyText((b=i.fullName)!=null?b:i.username):d("PolarisLoggedOutUpsellStrings").seePhotosFromFullNameBodyText(g!=null?g:a);g=i!=null&&f?d("PolarisLoggedOutUpsellStrings").joinSharerHeaderText((g=i.fullName)!=null?g:i.username):d("PolarisLoggedOutUpsellStrings").getSeeMoreFrom(a);f=i!=null&&f?(f=i.profilePicUrl)!=null?f:h:h;var j;e[0]!==b||e[1]!==g||e[2]!==f?(j={body:b,header:g,sharerProfilePictureUrl:f},e[0]=b,e[1]=g,e[2]=f,e[3]=j):j=e[3];b=j;g=b.body;f=b.header;j=b.sharerProfilePictureUrl;b=j!=null?j:h;h=(j=i==null?void 0:i.username)!=null?j:a;e[4]!==b||e[5]!==h?(i=n.jsx(c("IGDSBox.react"),{height:104,justifyContent:"center",marginBottom:4,marginTop:8,shape:"circle",width:104,xstyle:Z.container,children:n.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:b,size:96,username:h})}),e[4]=b,e[5]=h,e[6]=i):i=e[6];e[7]!==f?(j=n.jsx(c("IGDSBox.react"),{marginBottom:5,width:"100%",children:n.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",textAlign:"center",weight:"semibold",children:f})}),e[7]=f,e[8]=j):j=e[8];e[9]!==g?(a=n.jsx(c("IGDSBox.react"),{paddingX:10,children:n.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",children:g})}),e[9]=g,e[10]=a):a=e[10];e[11]!==i||e[12]!==j||e[13]!==a?(b=n.jsxs(c("IGDSBox.react"),{alignItems:"center",marginBottom:4,children:[i,j,a]}),e[11]=i,e[12]=j,e[13]=a,e[14]=b):b=e[14];return b}function ba(a){return a.upsell}function ca(a){var b=d("react-compiler-runtime").c(3),e=a.pageID;a=a.showNetzDGReportLink;if(a!==!0||!d("PolarisConfig").isLoggedOutFRXEligible())return null;a=(a=d("InstagramQueryParamsHelper").getQueryParams(window.location.search))==null?void 0:a.next;a=a!=null?""+window.location.origin+a:e==="StoriesPage"?window.location.href:null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisUA").isMobile()&&n.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",children:n.jsx(c("IGDSDivider.react"),{})}),b[0]=e):e=b[0];b[1]!==a?(e=n.jsxs(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?1:0,marginStart:d("PolarisUA").isMobile()?1:0,paddingX:d("PolarisUA").isMobile()?12:8,paddingY:d("PolarisUA").isMobile()?8:4,position:"relative",children:[e,n.jsx(c("PolarisLoggedOutNetzDGReportLink.react"),{reportedUrlOrContentId:a,textSize:"footnote"})]}),b[1]=a,b[2]=e):e=b[2];return e}function da(){var a=d("react-compiler-runtime").c(3),b=d("CometRouteParams").useCometRefinedRouteParams(d("XPolarisLoginControllerParamsRefineValidator").refineXPolarisLoginControllerParams);b=b==null?void 0:b.logged_out_reporting_url;if(b==null)return null;var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisUA").isMobile()&&n.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",width:"100%",children:n.jsx(c("IGDSDivider.react"),{})}),a[0]=e):e=a[0];a[1]!==b?(e=n.jsxs(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?1:0,marginStart:d("PolarisUA").isMobile()?1:0,paddingX:d("PolarisUA").isMobile()?12:8,paddingY:d("PolarisUA").isMobile()?8:4,position:"relative",children:[e,n.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",children:n.jsx(c("PolarisExternalLink.react"),{href:b,children:p})})]}),a[1]=b,a[2]=e):e=a[2];return e}var $={oneTap:{color:"x1roi4f4",$$css:!0},root:{color:"x5n08af",fontSize:"x1f6kntn",marginTop:"xcxhlts",marginInlineEnd:"xjx09e3",marginBottom:"x1fqp7bg",marginInlineStart:"xx6jrq6",textAlign:"x2b8uid",$$css:!0}};function ea(a){var b=d("react-compiler-runtime").c(18),e=a.authType,f=a.forceLoginIgId,g=a.fromLoggedOutDialog,h=a.hideAppUpsells,i=a.hideBorder,j=a.pageId,l=a.pageType;a=a.style;var m=d("PolarisReactRedux.react").useSelector(ga),o=m.auth;m=m.navigation;o=o.isFBLoggedIn;m=m.isAccountSwitcherOpen;var p=G(),q=w(e),r=z(),s=f!=null,t=(f=r==null?void 0:r.linkedIGProfiles)!=null?f:[],u=(e===d("PolarisAuthActionConstants").AUTH.fbLogin||e===d("PolarisAuthActionConstants").AUTH.fbAccountPicker)&&o===!0&&!!r;f=function(){var a=t.length>1;a=!s&&u&&a;return!p&&d("PolarisUA").isDesktop()&&!d("PolarisQueryParams").hasForceAuthenticationParam()&&(!(e===d("PolarisAuthActionConstants").AUTH.fbLogin&&!d("PolarisOneTapLogin").isOneTapLoginEligible())||a)&&!q};if(!f()||m)return null;o=fa;r=!(h==null||h)&&!d("PolarisStrategicWebTraffic").isStrategicTraffic();b[0]!==i||b[1]!==a?(f={0:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf"},2:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x13fuv20 x1qgpocp x18b5jzi xa0kie1 x1q0q8m5 xxrrrr8 x1t7ytsu x141z70w x178xt8z x1lun4ml xso031l xpilrb4 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x7r02ix"},1:{className:"x6s0dn4 xvbhtw8 x1pmru9 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"},3:{className:"x6s0dn4 x1yvgwvq xjd31um x1ixjvfu xwt6s21 xkqq1k2 x91jh78 x1xkn691 x4oqio7 x9f619 x78zum5 xjl7jj xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp x1lziwak xyorhqc xzboxd6 x889kno xyri2b x1a8lsjc x1c1uobl x1n2onr6 x11njtxf x7r02ix x1ejq31n x18oe1m7 x1sy0etr xstzfhl x972fbf x10w94by x1qhh985 x14e42zd"}}[!!(a==="modal")<<1|!!(i===!0)<<0],b[0]=i,b[1]=a,b[2]=f):f=b[2];m=e===d("PolarisAuthActionConstants").AUTH.oneTapLogin&&$.oneTap;b[3]!==m?(h=(k||(k=c("stylex")))($.root,m),b[3]=m,b[4]=h):h=b[4];i=l!=null?l:void 0;b[5]!==g||b[6]!==h||b[7]!==i?(a=n.jsx(c("PolarisAuthTypeSwitcher.react"),{className:h,fromLoggedOutDialog:g,onNavigate:o,pageType:i,primary:!0}),b[5]=g,b[6]=h,b[7]=i,b[8]=a):a=b[8];b[9]!==f||b[10]!==a?(m=n.jsx("div",babelHelpers["extends"]({},f,{children:a})),b[9]=f,b[10]=a,b[11]=m):m=b[11];b[12]!==r||b[13]!==j?(l=r?n.jsx(c("PolarisAppsellUnit.react"),{appInstallCampaign:j,ctaTypeV2:"auth_form"}):null,b[12]=r,b[13]=j,b[14]=l):l=b[14];b[15]!==m||b[16]!==l?(o=n.jsxs(n.Fragment,{children:[m,l]}),b[15]=m,b[16]=l,b[17]=o):o=b[17];return o}function fa(a){c("PolarisLoginQPL").isActive()&&a==="signup"&&c("PolarisLoginQPL").endCancelNavigateToSignup()}function ga(a){return a}g["default"]=a}),226);
__d("PolarisCAAmWebExperimentAction",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{debugGroup:a,type:"CAA_MWEB_IN_EXPERIMENT_INFO_RECEIVED"}}f.experimentInfoReceived=a}),66);
__d("PolarisDeniedRegistrationActionDialog.react",["fbt","IGCoreDialog.react","PolarisNavigationUtils","PolarisReactRedux.react","PolarisSignupActions","PolarisUA","polarisGetAppPlatform","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Las nuevas cuentas solo se pueden crear en tel\u00e9fonos"),l=h._(/*BTDS*/"Para crear una cuenta, abre la aplicaci\u00f3n de Instagram en un tel\u00e9fono. Si ya tienes una cuenta, puedes iniciar sesi\u00f3n."),m=h._(/*BTDS*/"Confirma tu edad en la aplicaci\u00f3n de Instagram"),n=h._(/*BTDS*/"En respuesta a una nueva ley de tu \u00e1rea, no se puede crear una cuenta aqu\u00ed. Puedes crearla en la aplicaci\u00f3n de Instagram. Si ya tienes una cuenta, puedes iniciar sesi\u00f3n."),o="https://apps.apple.com/us/app/instagram/id389801252",p="https://play.google.com/store/apps/details?id=com.instagram.android";function a(a){var b=d("react-compiler-runtime").c(3);a=a.shouldRedirectToHomePage;var c=a===void 0?!1:a,e=d("PolarisReactRedux.react").useDispatch();b[0]!==e||b[1]!==c?(a=d("PolarisUA").isMobile()?j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:n,title:m,children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:q,children:h._(/*BTDS*/"Ir a la aplicaci\u00f3n de Instagram")}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-secondary-button",onClick:function(){e(d("PolarisSignupActions").setDismissRegulatoryConsentModal()),c&&d("PolarisNavigationUtils").openURLWithFullPageReload("/")},children:h._(/*BTDS*/"Cerrar")})]}):j.jsx(d("IGCoreDialog.react").IGCoreDialog,{body:l,title:k,children:j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:function(){e(d("PolarisSignupActions").setDismissRegulatoryConsentModal()),c&&d("PolarisNavigationUtils").openURLWithFullPageReload("/")},children:h._(/*BTDS*/"Cerrar")})}),b[0]=e,b[1]=c,b[2]=a):a=b[2];return a}function q(){d("PolarisNavigationUtils").openURLWithFullPageReload(d("polarisGetAppPlatform").isIOS()?o:p)}g["default"]=a}),226);
__d("PolarisLanguageSwitcherMobileHeader.react",["PolarisLanguageSwitcher.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={languageSwitcher:{fontSize:"x1pg5gke",fontWeight:null,paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",textTransform:"x1qkh490",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("nav",babelHelpers["extends"]({"data-testid":void 0},{className:"x6s0dn4 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu x1anpbxc x1sa5p1d xat24cr x1hm9lzh xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},{children:i.jsx(c("PolarisLanguageSwitcher.react"),{textColor:"secondaryText",xstyle:j.languageSwitcher})})),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("PolarisMetaBranding.react",["fbt","IGDSBox.react","PolarisIGTheme.react","bx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.forceDarkMode;a=a===void 0?!1:a;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"from Meta"),b[0]=e):e=b[0];e=e;var f=d("PolarisIGTheme.react").useTheme(),g;b[1]!==f?(g=f.getTheme(),b[1]=f,b[2]=g):g=b[2];f=g;b[3]!==a||b[4]!==f?(g=j.jsx(c("IGDSBox.react"),{"data-testid":void 0,height:26,position:"relative",width:52,children:f===d("PolarisIGTheme.react").IGTheme.Light&&!a?j.jsx("img",{alt:e,src:c("bx").getURL(c("bx")("6338"))}):j.jsx("img",{alt:e,src:c("bx").getURL(c("bx")("6337"))})}),b[3]=a,b[4]=f,b[5]=g):g=b[5];return g}g["default"]=a}),226);
__d("PolarisQPManagerDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisQPManager.react").__setRef("PolarisQPManagerDeferred.react"));function a(a){var b=d("react-compiler-runtime").c(2);a=a.slot;var e;b[0]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{slot:a})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisMobileLandingPageLayoutWrapper.react",["IGDSBox.react","PolarisLanguageSwitcherMobileHeader.react","PolarisMetaBranding.react","PolarisQPConstants","PolarisQPManagerDeferred.react","react","react-compiler-runtime","usePolarisRouteConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.hideBranding;a=a===void 0?!1:a;var f=c("usePolarisRouteConfig")();f=f.hideFooter;f=f===void 0?!1:f;var g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("PolarisQPManagerDeferred.react"),{slot:d("PolarisQPConstants").SLOTS.landing}),h=i.jsx(c("PolarisLanguageSwitcherMobileHeader.react"),{}),b[0]=g,b[1]=h):(g=b[0],h=b[1]);var j;b[2]!==a||b[3]!==f?(j=f&&!a&&i.jsx(c("IGDSBox.react"),{bottom:!0,direction:"row",justifyContent:"center",marginBottom:17,position:"relative",children:i.jsx(c("PolarisMetaBranding.react"),{})}),b[2]=a,b[3]=f,b[4]=j):j=b[4];b[5]!==e||b[6]!==j?(a=i.jsxs(i.Fragment,{children:[g,h,e,j]}),b[5]=e,b[6]=j,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("PolarisPhoneHero.react",["CometImage.react","react","react-compiler-runtime","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={heroImg:{height:"x4pkz1m",marginLeft:"x14m272y",marginInlineStart:null,marginInlineEnd:null,width:"x14atkfc",$$css:!0},mobileHeroImg:{height:"x5yr21d",width:"xh8yej3",$$css:!0}},k="/images/instagram/xig/homepage/screenshots_v3/instagram-web-lox-image.png",l="/images/instagram/xig/homepage/screenshots_v3/instagram-web-lox-image-2x.png";function a(a){var b=d("react-compiler-runtime").c(12);a=a.isMobile;a=a===void 0?!1:a;var e=c("usePolarisDisplayProperties")(),f=e.pixelRatio;b[0]!==f?(e=function(){return f>=1.5?l:k},b[0]=f,b[1]=e):e=b[1];e=e;var g;b[2]!==a?(g={0:{className:"x6s0dn4 x78zum5 xdt5ytf x1iyjqo2 xt7dq6l xl56j7k xm5kwj2"},1:{className:"x6s0dn4 xl56j7k xm6i5cn"}}[!!(a===!0)<<0],b[2]=a,b[3]=g):g=b[3];var h;b[4]!==e?(h=e(),b[4]=e,b[5]=h):h=b[5];e=a===!0?j.mobileHeroImg:j.heroImg;b[6]!==h||b[7]!==e?(a=i.jsx(c("CometImage.react"),{src:h,xstyle:e}),b[6]=h,b[7]=e,b[8]=a):a=b[8];b[9]!==g||b[10]!==a?(h=i.jsx("div",babelHelpers["extends"]({"data-testid":void 0},g,{children:a})),b[9]=g,b[10]=a,b[11]=h):h=b[11];return h}g["default"]=a}),98);
__d("PolarisSSODisabledModalContainer.react",["fbt","IGCoreDialog.react","PolarisFBConnectActions","PolarisReactRedux.react","browserHistory_DO_NOT_USE","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(10),b=d("PolarisReactRedux.react").useDispatch(),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"No se puede iniciar sesi\u00f3n con Facebook"),a[0]=c):c=a[0];c=c;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Prueba a iniciar sesi\u00f3n con tu contrase\u00f1a. Una vez hecho esto, puedes activar el inicio de sesi\u00f3n con las cuentas de tu centro de cuentas."),a[1]=e):e=a[1];e=e;var f;a[2]!==b?(f=function(){b(d("PolarisFBConnectActions").setDismissSSODisabledModal())},a[2]=b,a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Aceptar"),a[4]=g):g=a[4];a[5]!==f?(g=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:f,children:g}),a[5]=f,a[6]=g):g=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:k,children:h._(/*BTDS*/"\u00bfHas olvidado la contrase\u00f1a?")}),a[7]=f):f=a[7];a[8]!==g?(e=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:e,title:c,children:[g,f]}),a[8]=g,a[9]=e):e=a[9];return e}function k(){d("browserHistory_DO_NOT_USE").redirect("/accounts/password/reset/")}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(a,b,c,d,e,f,g){var h,i="javascript-sandbox",j="OverrideServer",k="www_sandbox",l="www_tier";a=function(){function a(){}var d=a.prototype;d.patchRequestHeaders=function(a){var d={},e=c("RTISubscriptionManagerConfig").bladerunner_www_sandbox,f=c("RTISubscriptionManagerConfig").is_intern;if(!(h||(h=c("isEmpty")))(c("WebDriverConfig").auxiliaryServiceInfo)){var g;g=(g=c("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?g:c("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];g!=null?(typeof g.ip_address==="string"?d[j]=g.ip_address+":18295":typeof g.hostname==="string"&&(d[j]=g.hostname+":18295"),typeof c("WebDriverConfig").originHost==="string"&&(d[k]="www."+c("WebDriverConfig").originHost)):e!=null&&(d[i]=e)}else e!=null&&(d[i]=e);f===!0&&(d[l]="intern");if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){g=b("cr:3024")==null?void 0:b("cr:3024").get();g!=null&&(d.is_test="true",d.original_request_id=g)}c("gkx")("20929")&&(d["Accept-Ack"]="RSAck");for(e in a)d[e]=a[e];d.http_referer=window.location.href;return d};return a}();d=new a();e=d;g["default"]=e}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(a,b,c,d,e,f,g){var h,i="bladerunner_js_client",j={info:"info",warning:"warning",exception:"exception"};a=function(){function a(){this.setFBLoggerLevel(1)}var b=a.prototype;b.info=function(a){this.$2>=2&&c("FBLogger")(i).info("BladeRunner info: %s",a),this.$3(j.info,a)};b.warn=function(a){this.$2>=1&&c("FBLogger")(i).warn("BladeRunner warn: %s",a),this.$3(j.warning,a)};b.exception=function(a,b){b===void 0&&(b="");var d=b+" "+a.toString();this.$2>=0&&c("FBLogger")(i).warn("BladeRunner exception: %s, %s",b,a.toString());this.$3(j.exception,d)};b.trimForLogging=function(a){var b=1024;return typeof a==="string"&&a.length>b?"[trimmed]:"+a.substring(0,b)+"...":a};b.bumpCounter=function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",a,b)};b.setClientSessionId=function(a){this.$1=a};b.setFBLoggerLevel=function(a){this.$2=a};b.$3=function(a,b){};return a}();b=new a();e=b;g["default"]=e}),98);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f,g){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};g.StreamFrameType=a;g.StreamRequestType=b}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){var h=function(){function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};b.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.updateRetryRequestPayload=function(a){a!=null?this.payload=c("Base64").encode(a):this.payload=null};a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.requestType=o(b.requestType);c.payload=r(b.payload);c.headers=u(b.headers);c.extraHeader=r(b.extraHeader);c.requestTarget=r(b.requestTarget);c.instrumentationData=r(b.instrumentationData);return c};return a}(),i=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=p(b.dataId);c.data=r(b.data);c.shouldAck=w(b.shouldAck);return c};var b=a.prototype;b.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data};b.rawDataSize=function(){return this.data==null?0:this.data.length};b.decodeData=function(){if(this.data==null)throw new Error("Expected data");return c("Base64").decode(this.data)};b.setData=function(a){this.data=c("Base64").encode(a)};b.getInstrumentationData=function(){if(this.instrumentationData!=null)return JSON.parse(this.instrumentationData);else return null};return a}(),j=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=o(b.dataId);c.success=v(b.success);c.message=r(b.message);c.code=p(b.code);return c};return a}();j.ACK_CODE_LANDED_AND_ACCEPTED=20;j.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21;j.ACK_CODE_FAILED_TO_LAND=50;var k=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=p(b.streamId);c.message=r(b.message);return c};return a}(),l=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.status=o(b.status);c.message=r(b.message);c.code=p(b.code);c.shouldRetry=w(b.shouldRetry);c.retryDelayMs=p(b.retryDelayMs);return c};return a}(),m=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.newBody=r(b.newBody);c.newExtraHeader=r(b.newExtraHeader);c.patchExtraHeader=r(b.patchExtraHeader);c.killBody=w(b.killBody);c.temporary=w(b.temporary);return c};return a}(),n=function(){function a(){}var b=a.prototype;b.getRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};b.getData=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};b.getDataAck=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};b.getStatusUpdate=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};b.getLog=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};b.getRewriteRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};b.getStreamId=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")};b.isInstrumented=function(){if(this.type===d("BladeRunnerTypes").StreamFrameType.REQUEST)return this.getRequest().instrumentationData!=null;else if(this.type===d("BladeRunnerTypes").StreamFrameType.DATA)return this.getData().instrumentationData!=null;else return!1};a.readObject=function(b){var e=new a();e.type=o(b.type);switch(e.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:e.request=h.readObject(s(b.request));break;case d("BladeRunnerTypes").StreamFrameType.DATA:e.data=i.readObject(s(b.data));break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:e.dataAck=j.readObject(s(b.dataAck));break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:e.statusUpdate=l.readObject(s(b.statusUpdate));break;case d("BladeRunnerTypes").StreamFrameType.LOG:e.log=k.readObject(s(b.log));break;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:e.rewriteRequest=m.readObject(s(b.rewriteRequest));break;default:c("BladeRunnerLogger").warn("Frame with unexpected type: "+e.type);return null}return e};a.newRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REQUEST;c.request=b;return c};a.newDataFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA;c.data=b;return c};a.newDataAckFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA_ACK;c.dataAck=b;return c};a.newStatusUpdateFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;c.statusUpdate=b;return c};a.newLogFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.LOG;c.log=b;return c};a.newRewriteRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;c.rewriteRequest=b;return c};return a}();a=function(){function a(a,b,c){this.batchId=a,this.frames=b,this.instrumentationData=c}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var a=JSON.parse(this.instrumentationData);return(a=a.dataFlowTracingData)==null?void 0:a.traceId}catch(a){return null}else return null};b.write=function(){return JSON.stringify(this)};b.isInstrumented=function(){return this.getFrames().some(function(a){return a.isInstrumented()})};a.read=function(b){b=JSON.parse(b);var c=b.batchId||0,d=[];for(var e of b.frames){var f=n.readObject(e);f!=null&&d.push(f)}f=b.instrumentationData||null;return new a(c,d,f)};return a}();function o(a){if(typeof a==="number")return a;throw new Error("Expected number")}function p(a){return a==null?null:o(a)}function q(a){if(typeof a==="string")return a;throw new Error("Expected string")}function r(a){return a==null?null:q(a)}function s(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function t(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function u(a){return a==null?null:t(a)}function v(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function w(a){return a==null?null:v(a)}g.GatewayStreamRequest=h;g.GatewayStreamData=i;g.GatewayStreamDataAck=j;g.GatewayStreamLog=k;g.GatewayStreamStatusUpdate=l;g.GatewayStreamRewriteRequest=m;g.GatewayStreamFrame=n;g.GatewayStreamBatch=a}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});f["default"]=a}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});f["default"]=a}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=1e3;a=function(){function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var b=a.prototype;b.onProxyResponse=function(a){this.$4(a);var b=[];for(var e of a.getFrames())this.$2.witnessFrame(e)&&b.push(e);e=this.$2.getRequest();(e=e.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,{},(e=a.getInstrumentationData())==null?void 0:e.auxId,null,a.getInstrumentationDataDfTraceId());b.length>0&&this.$5(new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,b,a.instrumentationData))};b.onDisconnect=function(){this.$2.resetErrors();var a=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};b.$4=function(a){var b=this;a=a.getFrames().filter(function(a){return a.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(a of a){var e=a.getStatusUpdate();if(e.status==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||e.status==d("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var f=e.shouldRetry!=null&&e.shouldRetry,g=e.message!=null?e.message:"null";if(f&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){e.status=d("BladeRunnerStreamStatus").StreamStatus.STOPPED;var i=h;e.retryDelayMs!=null&&(i=e.retryDelayMs);c("BladeRunnerLogger").info("Can retry: stream "+e.streamId+" closed with status "+e.status+", message "+g+". Error count: "+this.$2.getErrorCount()+", retryDelay "+i+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?c("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(c("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),i>0?c("setTimeoutAcrossTransitions")(function(){return b.$6()},i):this.$6())}else c("BladeRunnerLogger").info("Will not retry: stream "+e.streamId+" closed with status "+e.status+", message "+g+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+f.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),f?c("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):c("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(e.streamId)}}};b.$6=function(){this.$2.setRetryRequestScheduled(!1);if(this.$2.isAlive()){var a=this.$1.getUpdatedRequestBody();a!=null&&this.$2.updateRetryRequestPayload(a);this.$3.sendRetryStreamRequest(this.$2)}};b.$5=function(a){c("BladeRunnerLogger").bumpCounter("send_to_handler");var b=[];this.$1.onBatch(a);for(a of a.getFrames())try{switch(a.type){case d("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(a.getData());b.push(a.getData());break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(a.getStatusUpdate().status);break;case d("BladeRunnerTypes").StreamFrameType.LOG:var e=a.getLog().message;e!=null&&this.$1.onLog(e);break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(a){c("BladeRunnerLogger").bumpCounter("send_to_handler_error"),c("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}this.$7(b)};b.$7=function(a){var b=[];for(a of a)if(a.shouldAck===!0&&a.dataId!=null){var c=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();c.streamId=a.streamId;c.dataId=a.dataId;c.success=!0;b.push(c)}this.$3.sendDataAcks(b)};return a}();g["default"]=a}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("819");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",a);e=b;g["default"]=e}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1857112");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client",a);e=b;g["default"]=e}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","FBLQ:comet_notifications_live_query_experimental"],i=0;function j(){var a=Date.now();i>=a?i+=1:i=a;return i.toString()}var k=function(){function a(a,b,c,e,f,g,h,i,j,k){this.$10=[];this.$11=!1;this.$1=a;this.$2=b;this.$3=c;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$8=i;this.$9=j;this.$12=k!=null?k:!1;a=d("ConstUriUtils").getUri(window.location.href);a&&(this.$13=a.getDomain())}var b=a.prototype;b.logE2EEvent=function(a,b,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);if(this.$3==="Falco")return;e={request_id:this.$1,resume_id:"0",retry_id:e,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:a,event:b,timestamp_ms:j(),aux_id:d,additional_data:c,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:f};this.$14(e)};b.$14=function(a){if(!this.$12){c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return a});return}this.$10.push(a);if(this.$11||a.event==c("RequestStreamE2EClientLoggerEvent").FAILURE||a.message_type==c("RequestStreamE2EClientLoggerMessageType").RESPONSE){var b={events:this.$10};c("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return b});this.$10=[];this.$11=!0}};b.getRequestId=function(){return this.$1};return a}();function a(a,b,c){if(a==null||a.method==null)return null;var d=!1;h.includes(a.method)&&(d=!0);if(b==null||b.length==0)return null;b=JSON.parse(b);return b.requestId==null?null:new k(b.requestId,c,a.method,l(a.method,a),b.requestLogContext,b.forceLogContext,b.sampleRate,b.dgwStreamGroupLoggingId,b.dgwCountPriorStreamsInGroup,d)}function l(a,b){if(a==="FBLQ"&&b.config_id)return b.config_id;if(a==="SKY"){if(b.topic){var c=b.topic.lastIndexOf("/");return c>0?b.topic.substr(0,c):b.topic}return}return a}function b(a,b,d,e,f,g){f===void 0&&(f=null);g===void 0&&(g=null);if(a==null||a.requestId==null||a.clientLoggingDisabled!=null)return;var h={request_id:a.requestId,resume_id:"0",transport:b,e2e_sample_rate:a.sampleRate,message_type:d,event:e,timestamp_ms:j(),aux_id:a.auxId,additional_data:f,df_trace_id:g};c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return h})}g.RequestStreamE2ELogger=k;g.createStreamLogger=a;g.logRequestStreamE2EEventStatic=b}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);f.RequestStreamTransport=a}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Connected",j="Disconnected",k="/br_sr",l="/sr_res",m=null;function n(a){var b;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return(b=a.request)==null?void 0:b.getInstrumentationData();case d("BladeRunnerTypes").StreamFrameType.DATA:return(b=a.data)==null?void 0:b.getInstrumentationData()}return null}function o(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case d("BladeRunnerTypes").StreamFrameType.DATA:return c("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function p(a){if(a===null)return null;switch(a){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case d("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function q(a){var b={};a==null?void 0:(a=a.frames)==null?void 0:a.forEach(function(a){if(a.type===d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){a=(a=a.statusUpdate)==null?void 0:a.status;a=p(a);a!==null&&(b.flow_status=a)}});return b}function r(a,b){var c;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:b.data_base64_size=(c=a.request)==null?void 0:(c=c.payload)==null?void 0:(c=c.length)==null?void 0:c.toString();break;case d("BladeRunnerTypes").StreamFrameType.DATA:b.data_base64_size=(c=a.data)==null?void 0:(b=c.rawDataSize())==null?void 0:b.toString();break}return null}function s(a,b,e){var f=n(a);if(f==null)return;var g=o(a);if(g==null)return;var h=null;switch(b){case d("MqttPublishListener").MqttPublishEvent.SENT:h=c("RequestStreamE2EClientLoggerEvent").SENT;break;case d("MqttPublishListener").MqttPublishEvent.ACKED:h=c("RequestStreamE2EClientLoggerEvent").PUBACK;break;case d("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:h=c("RequestStreamE2EClientLoggerEvent").FAILURE;e.reason==null&&(e.reason=b);break}if(h==null)return;r(a,e);if(((b=a.request)==null?void 0:b.e2eLogger)!=null&&f.clientLoggingDisabled==null){(b=a.request)==null?void 0:b.e2eLogger.logE2EEvent(g,h,e,f.auxId)}else d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(f,d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,g,h,e)}a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map(),this.$7=a!=null?a:c("FBMqttChannel"),this.$8=new Map(),c("BladeRunnerLogger").setClientSessionId(c("uuidv4")()),this.$9()}a.get=function(){m==null&&(m=new a(c("FBMqttChannel")));return m};var e=a.prototype;e.sendNewStreamRequest=function(b,d){d=new(c("BladeRunnerEventHandler"))(b,d,this);var e=b.getRequest();this.$6.set(e.streamId,d);if(!this.$10()){this.$11(d,e.streamId);return}this.getStreamCount()<=a.maxStreamCount?this.$12(e):(c("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),c("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(b.getRequest().getHeaders())),this.$11(d,e.streamId))};e.sendRetryStreamRequest=function(a){this.$12(a.getRequest())};e.sendCancel=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_cancel");var b=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();b.streamId=a.streamId;b.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;this.$13(b,a);this.removeStream(a.streamId)};e.sendAmendment=function(a,b,e){c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var f=new(d("BladeRunnerTypesInternal").GatewayStreamData)();f.streamId=a;f.setData(b);e!=null&&(f.instrumentationData=e);this.$14(f)};e.sendAmendmentWithAck=function(a,e,f){var g=this;c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var i=this.$15(),j=new(d("BladeRunnerTypesInternal").GatewayStreamData)();j.streamId=a;j.setData(e);j.shouldAck=!0;j.dataId=i;f!=null&&(j.instrumentationData=f);a=new(h||(h=b("Promise")))(function(a,b){g.$8.set(i,{resolve:a,reject:b})});this.$14(j);return a};e.$14=function(a){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$16()};e.sendDataAcks=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$17(a)};e.removeStream=function(a){this.$6["delete"](a)};e.getStreamCount=function(){return this.$6.size};e.getNextStreamId=function(){this.$5++;return this.$5};e.onMQTTStateChanged=function(a){this.$16();if(a!=j&&a!=i||this.$4==a)return;this.$4=a;c("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==j?(c("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):a==i&&c("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};e.$12=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_request");this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a));if(!this.$16()){(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}};e.$13=function(a,b){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a));if(this.$16()){(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").SENT)}};e.$17=function(a){for(a of a)this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(a));this.$16()};e.$19=function(){this.$2++;return this.$2};e.$15=function(){this.$3++;return this.$3};e.$16=function(){var a=!1;if(this.$7.getConnectionState()===i&&this.$1.length>0)try{this.$20(this.$1),a=!0}catch(a){}finally{this.$1=[]}return a};e.$20=function(a){var b=this,e=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$19(),a),f=e.write();if(f.length>this.$21()){var g=Math.floor(a.length/2);if(g===0){a.forEach(function(a){return s(a,d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var h=new Error("Publish is too long: "+f.length);h.stack;this.$22(e,h,"Publish is too long");throw h}this.$20(a.slice(0,g));this.$20(a.slice(g,a.length))}else try{c("BladeRunnerLogger").info("send message to "+k+" ("+f.length+" bytes)");h={qos:1,skipBuffer:!1};if(e.isInstrumented()){var i=Date.now();h.listener={onEvent:function(b){var c=(Date.now()-i).toString();a.forEach(function(a){s(a,b,{latency:c})})}}}this.$7.publish(k,f,h)["catch"](function(a){b.$22(e,a,"Failed publishing to MQTT")});c("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){this.$22(e,a,"Failed publishing to MQTT");throw a}};e.$9=function(){var a=this;c("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent);this.onMQTTStateChanged(this.$7.getConnectionState());this.$7.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var b=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;b?c("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(c("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),c("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$7.subscribe(k,function(a){throw new Error("Unexpected response: "+k+" "+a.toString())});this.$7.subscribe(l,function(b){a.$23(b)})};e.$23=function(a){a=d("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};e.$22=function(a,b,e){for(a of a.getFrames())if(a.type===d("BladeRunnerTypes").StreamFrameType.REQUEST){var f=a.getRequest(),g=this.$6.get(f.streamId);g!=null&&this.$24(g,f.streamId,d("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(a.type===d("BladeRunnerTypes").StreamFrameType.DATA){g=a.getData();f=g.dataId;if(g.shouldAck!=null&&g.shouldAck&&f!=null){var h=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();h.streamId=g.streamId;h.dataId=f;h.success=!1;h.code=d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND;h.message=e;this.$25(h)}}c("BladeRunnerLogger").info("Failed publishing to MQTT: "+b.message);c("BladeRunnerLogger").bumpCounter("mqtt_publish_error")};e.$25=function(a){var b=this.$8.get(a.dataId);b!=null&&(this.$8["delete"](a.dataId),a.success?b.resolve(!0):a.code===d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?b.resolve(!1):b.reject(a.message))};e.processBatch=function(a){try{d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(a.getInstrumentationData(),d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a),a.getInstrumentationDataDfTraceId());c("BladeRunnerLogger").bumpCounter("socket_process_batch");var b=JSON.stringify(a);c("BladeRunnerLogger").info("Received batch ("+b.length+" bytes)");b=null;for(var e of a.getFrames()){var f=e.getStreamId();b==null&&(b=f);if(f!=null&&b!=f)throw new Error("Received batch with frames for multiple streams");e.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(e.getDataAck())}if(b!=null){f=this.$6.get(b);f!=null?f.onProxyResponse(a):c("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+b)}else c("BladeRunnerLogger").info("Received batch with no frames")}catch(a){c("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");c("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};e.$18=function(){this.$6.forEach(function(a,b,c){a.onDisconnect()})};e.$11=function(a,b){this.$24(a,b,d("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)};e.$24=function(a,b,c,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();g.streamId=b;g.status=c;g.shouldRetry=e;g.retryDelayMs=f;b=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(g)]);a.onProxyResponse(b)};e.$10=function(){if(!c("CurrentUser").isLoggedIn()){c("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out");return!1}return!0};e.$21=function(){var a=1024*1024,b=512*1024;try{var d=c("justknobx")._("317");b=d*a}catch(a){}return Math.max(b-1024,0)};return a}();a.maxStreamCount=2e3;g["default"]=a}),98);
__d("BladeRunnerStream",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStreamHandler=function(){return this.$1};c.cancel=function(){};c.amendWithAck=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return!1});function c(b){return a.apply(this,arguments)}return c}();c.amendFireAndForget=function(a){};c.amendWithoutAck=function(a){};c.start=function(){return(g||(g=b("Promise"))).resolve()};c.isAlive=function(){return!1};c.canAmend=function(){return!1};c.getStatus=function(){return null};c.getStreamId=function(){return 0};return a}();f["default"]=a}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var b=a.prototype;b.getRequest=function(){return this.$1};b.updateRetryRequestPayload=function(a){this.$1.updateRetryRequestPayload(a)};b.isAlive=function(){return!(this.$2==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.REJECTED)};b.canAmend=function(){return this.$2==d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STOPPED};b.getLastStatus=function(){return this.$2};b.setLastStatus=function(a){this.$2=a};b.onError=function(){this.$3+=1};b.getErrorCount=function(){return this.$3};b.resetErrors=function(){this.$3=0};b.getRetryRequestScheduled=function(){return this.$6};b.setRetryRequestScheduled=function(a){this.$6=a};b.witnessFrame=function(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var b=a.getStatusUpdate(),c=!0;switch(b.status){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:c=!this.$4;this.$4||(this.$4=!0);break;case d("BladeRunnerStreamStatus").StreamStatus.STARTED:c=this.getLastStatus()!=d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:c=this.getLastStatus()==d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:c=!0}this.setLastStatus(b.status);return c;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};b.setRetriesAllowed=function(a){this.$5=a};b.getRetriesAllowed=function(){return this.$5};b.$7=function(a){if(!(a.temporary!=null||a.temporary==!0)){a.newBody!=null&&(this.$1.payload=a.newBody);a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader));if(a.patchExtraHeader!=null)try{var b=JSON.parse(a.patchExtraHeader),d=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});for(var e of Object.keys(b))this.$1.headers[e]=b[e],d[e]=b[e];this.$1.extraHeader=JSON.stringify(d)}catch(b){c("BladeRunnerLogger").warn("Failed to patch header: "+a.patchExtraHeader)}a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null)}};return a}();g["default"]=a}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){var h,i=4,j={reason:"stream_dead"};a=function(a){babelHelpers.inheritsLoose(e,a);function e(b,d,e){b=a.call(this,b)||this;b.$BladeRunnerSocketStream$p_1=e;b.$BladeRunnerSocketStream$p_2=new(c("BladeRunnerStreamState"))(d);b.$BladeRunnerSocketStream$p_2.setRetriesAllowed(i);return b}var f=e.prototype;f.start=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.send(),b()})};f.send=function(){var a,b=this.$BladeRunnerSocketStream$p_2.getRequest();(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(a=b.payload)==null?void 0:(b=a.length)==null?void 0:b.toString()});this.$BladeRunnerSocketStream$p_1.sendNewStreamRequest(this.$BladeRunnerSocketStream$p_2,this.getStreamHandler())};f.amendWithAck=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=this.$BladeRunnerSocketStream$p_2.getRequest(),e=d.getInstrumentationData();if(e){var f;e.auxId=c("uuidv4")();(f=d.e2eLogger)==null?void 0:f.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(f=a.length)==null?void 0:f.toString()},e.auxId)}if(this.canAmend()){if(e){(f=d.e2eLogger)==null?void 0:f.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(f=a.length)==null?void 0:f.toString()},e.auxId)}return this.$BladeRunnerSocketStream$p_1.sendAmendmentWithAck(d.streamId,this.$BladeRunnerSocketStream$p_3(a),e==null?null:JSON.stringify(e))}(f=d.e2eLogger)==null?void 0:f.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,e==null?void 0:e.auxId);return(h||(h=b("Promise"))).reject("Stream is closed or not accepted")});function d(b){return a.apply(this,arguments)}return d}();f.amendFireAndForget=function(a){var b=this.$BladeRunnerSocketStream$p_2.getRequest(),d=b.getInstrumentationData();if(d){var e;d.auxId=c("uuidv4")();(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}if(this.canAmend()){this.$BladeRunnerSocketStream$p_1.sendAmendment(this.$BladeRunnerSocketStream$p_2.getRequest().streamId,this.$BladeRunnerSocketStream$p_3(a),d==null?null:JSON.stringify(d));if(d){(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}}else{(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,j,d==null?void 0:d.auxId);throw new Error("Stream is closed or not accepted")}};f.amendWithoutAck=function(a){this.amendFireAndForget(a)};f.$BladeRunnerSocketStream$p_3=function(a){return typeof a=="object"?btoa(new TextDecoder("utf8").decode(a)):a};f.cancel=function(){var a=this.$BladeRunnerSocketStream$p_2.getRequest();(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.isAlive()&&(this.$BladeRunnerSocketStream$p_1.sendCancel(this.$BladeRunnerSocketStream$p_2.getRequest()),this.$BladeRunnerSocketStream$p_2.setLastStatus(d("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())};f.isAlive=function(){return this.$BladeRunnerSocketStream$p_2.isAlive()};f.canAmend=function(){return this.$BladeRunnerSocketStream$p_2.canAmend()};f.getStatus=function(){return this.$BladeRunnerSocketStream$p_2.getLastStatus()};f.getStreamId=function(){return this.$BladeRunnerSocketStream$p_2.getRequest().streamId};return e}(c("BladeRunnerStream"));g["default"]=a}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a==null?!1:a.requestId!=null&&typeof a.requestId=="string"&&a.forceLogContext!=null&&typeof a.forceLogContext=="string"}function j(a,b){var d=c("RequestStreamE2EClientSamplingConfig").sampleRate;if(d>1&&a!=null){a=c("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[a];a==0?d=0:a!=null&&(d/=a)}return d==1?1:d/b}function k(a,b,d,e){var f=c("uuidv4")();(b.requestId==null||b.requestId===""||typeof b.requestId!="string")&&(a.requestId!=null&&typeof a.requestId=="string"?b.requestId=a.requestId:b.requestId=f);b.requestId+="/_"+f.substring(0,4);b.resumeId="0";d!=null?b.sampleRate=d:b.sampleRate=void 0;f="";e!=null&&e.length>0&&(f=e);f.length>0&&(b.requestLogContext!=null&&b.requestLogContext.length>0?b.requestLogContext+=":":b.requestLogContext="",b.requestLogContext+=f);(a==null?void 0:a.method)==="Falco"&&(b.clientLoggingDisabled="Falco");d={};for(e of Object.keys(b).sort())d[e]=b[e];return JSON.stringify(d)}function a(a,b,d,e){b&&(!b.requestId.includes("/")&&!b.requestId.includes("#")||h(0,41721));e=j(a.method,e!=null?e:1);if(c("Random").coinflip(e))return k(a,b||{requestId:""},e,d);return i(b)?k(a,b||{requestId:""},null,d):""}g.isForceLogged=i;g.getSampleRateForLogging=j;g.normalizeInstrumentationData=k;g.validateInstrumentationData=a}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=a!=null?a:c("BladeRunnerSocket").get(),b&&(this.$2=b)}var e=a.prototype;e.createStream=function(a,b,c,d){return this.$3(a,b,c,d)};e.requestStream=function(a,c,d,e){a=this.$3(a,c,d,e);a.send();b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return a};e.logInfo=function(a){c("BladeRunnerLogger").info(a)};e.bumpCounter=function(a){c("BladeRunnerLogger").bumpCounter(a)};e.$3=function(a,b,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamRequest)();g.streamId=this.$1.getNextStreamId();g.requestType=d("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;g.headers=c("BladeRunnerConfig").patchRequestHeaders(a);g.extraHeader=JSON.stringify(g.headers);g.payload=b!=null?c("Base64").encode(b):null;f!=null&&(f.transport="WEB_RS_MQTT");g.instrumentationData=d("RequestStreamE2ESampling").validateInstrumentationData(g.headers||{},f);g.e2eLogger=d("RequestStreamE2ELogger").createStreamLogger(g.headers,g.instrumentationData,this.$2);return new(c("BladeRunnerSocketStream"))(e,g,this.$1)};return a}();g["default"]=a}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,(c!=null?c:0)-Math.max(a,b!=null?b:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(a of c("objectEntries")(a)){var g=a[0],i=a[1];for(i of i){var j=i[0],l=i[1],n=void 0,o=void 0;switch(l.type){case"async":o=null;n=d;break;case"js":case"css":o=[l.src,l.d===1];n=f;break;default:l,h(0,3721)}m(n[g],j,b,o,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f of c("objectEntries")(b)){var g=f[0],h=f[1];for(h of h.entries()){var i=h[0],j=h[1];a[g].has(i)?e.ef[g].set(i,j):e.overpredicted[g].set(i,j)}}for(i of c("objectEntries")(a)){j=i[0];h=i[1];for(g of h.entries()){f=g[0];a=g[1];b[j].has(f)||e.unpredicted[j].set(f,a)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i of a.components){var m=c("Bootloader").getComponentTiming(i),o=m.tierTwoStart,p=m.tierTwoEnd,q=m.tierThreeStart;m=m.tierThreeEnd;e=Math.max(e,j(b,o,p));f=Math.max(f,j(b,b,p));g=Math.max(g,j(b,q,m));h=Math.max(h,j(b,b,m))}o=new Set();p=k();q=n(a.tierOne,b,p,o);m=n(a.tierTwo,b,p,o);i=n(a.tierThree,b,p,o);var r=p.blocking.downloaded_count!=0,s=k(),t=d("BootloaderEvents").newResourceMapSet(),u=new Set();for(var v of[a.tierOne,a.tierTwo,a.tierThree])for(var w of c("objectValues")(v))for(var x of w.keys())u.add(x);x=0;w=0;v=0;for(var y of a.beRequests.values()){x+=j(b,b,y.requestStart);w+=y.serverGenTime;v+=y.jsmodsEnd-y.jsmodsStart;l(s[r?"blocking":"nonblocking"],y.responseStart-y.requestStart,[y.uri,!1]);for(var z of c("objectEntries")(y.rsrcs)){var A=z[0],B=z[1];for(B of B){var C=B[0],D=B[1];u.has(C)||t[A].set(C,D)}}}C=n(t,b,p,o);return{ref:a.ref,components:a.components,timeslice_context:(D=a.timesliceContext)==null?void 0:D.name,start_time:b,err_count:o.size,resources:{t1:q,t2:m,t3:i,be:s,unpredicted:C,async:p},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:x,be_server_gen:w,be_jsmods:v,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(b of c("objectEntries")(b)){var e=b[0],f=b[1];for(f of c("objectEntries")(f)){var g=f[0],h=f[1];for(h of c("objectEntries")(h)){var i=h[0],j=h[1];a[e+"_"+g+"_resources_"+i]=Math.round(Number(j))}}}for(i of c("objectEntries")(d)){j=i[0];h=i[1];a[j+"_duration"]=Math.round(Number(h))}if(a.payloadStats){for(g of c("objectEntries")(a.payloadStats)){f=g[0];e=g[1];for(b of c("objectEntries")(e)){d=b[0];j=b[1];a[f+"_"+d+"_count"]=Math.round(Number(j))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);
__d("BootloaderLoggingStatusEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["SUCCESS","TIMEOUT","ERROR"]);c=a;f["default"]=c}),66);
__d("CometBootloaderEventsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometBootloaderEventsLoggerConfig")}),null);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1823926");b=d("FalcoLoggerInternal").create("haste_response",a);e=b;g["default"]=e}),98);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsTypedLoggerLite","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","UserTimingUtils","gkx","performance","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=c("gkx")("10211");function a(a){var b=a.bl_sample_rate,e=a.hr_sample_rate,f=a.parent_lid;if(i||!(b||e||j===!0))return;i=!0;d("ResourceTimingStore").init();var g=function(a){return{ms_since_navstart:Math.round(a-c("performanceNavigationStart")()),parent_lid:f,pkg_cohort:c("SiteData").pkg_cohort,request_path:(a=c("CometTimeSpentNavigation").getPathInfo())==null?void 0:a.name,svn_rev:c("SiteData").client_revision}};e&&d("BootloaderEvents").onHasteResponse(function(a){return c("HasteResponseFalcoEvent").log(function(){var b=d("BootloaderEventsPerf").computeHRData(a),c=d("BootloaderEventsPerf").flattenData(b);return babelHelpers["extends"]({},c,{},g(b.start_time))})});j&&(d("BootloaderEvents").onBootload(function(a){d("UserTimingUtils").measureModern("Bootloader: "+a.components.join(", "),{end:a.callbackEnd-(h||(h=c("performance"))).timeOrigin,start:a.startTime-h.timeOrigin},"Bootloader Events")}),d("BootloaderEvents").onHasteResponse(function(a){d("UserTimingUtils").measureModern("Haste: "+a.source,{end:a.jsmodsEnd-(h||(h=c("performance"))).timeOrigin,properties:[["Source Detail",a.sourceDetail]],start:a.startTime-h.timeOrigin},"Bootloader Events")}));var k=function(a,b,e){a=d("BootloaderEventsPerf").computeBLData(a);var f=d("BootloaderEventsPerf").flattenData(a);c("CometBootloaderEventsTypedLoggerLite").log(babelHelpers["extends"]({},f,{},g(a.start_time),{status:b}),{weight:e})};b&&d("BootloaderEvents").onBootload(function(a){return k(a,"SUCCESS",b)});var l=1;d("BootloaderEvents").onBootloaderCallbackTimeout(function(a){return k(a,"TIMEOUT",l)})}g.initLogging=a}),98);
__d("CometRelayEF",["Bootloader","BootloaderEvents","ClientConsistencyEventEmitter","CometRouterSSREntrypoint","cometAsyncFetch","gkx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a){if(!c("gkx")("26332"))return;a=a.filter(function(a){return!i.has(a)});if(a.length===0)return;a.forEach(function(a){d("BootloaderEvents").notifyHasteResponseEFStart("relay_3d",a)});var b=(h||(h=c("performanceAbsoluteNow")))(),e=c("cometAsyncFetch")("/ajax/relay-ef/",{data:{queries:a},method:"POST"}).then(function(a){return{fetchPredictionsEnd:(h||(h=c("performanceAbsoluteNow")))(),fetchPredictionsStart:b,payload:a}});a.forEach(function(a){return i.set(a,e)})}function a(a,b){a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);j(a.map(function(a){a=a.name;return a}))}function k(a){if(!c("gkx")("26332"))return;j(a);var b=(h||(h=c("performanceAbsoluteNow")))();a.forEach(function(a){var e=i.get(a);e&&e!==!0&&c("promiseDone")(e,function(e){var f=e.fetchPredictionsEnd,g=e.fetchPredictionsStart;e=e.payload;if(e!=null&&typeof e==="object"){var h;c("Bootloader").loadPredictedResourceMap(e.predictions[a],{onLog:function(c){return d("BootloaderEvents").notifyHasteResponseEF("relay_3d",a,{fetchPredictionsEnd:f,fetchPredictionsStart:g,fetchRsrcsStart:b,tierOne:c})}},(h=(h=e.consistency)==null?void 0:h.rev)!=null?h:null);e.consistency!=null&&c("ClientConsistencyEventEmitter").emit("newEntry",e.consistency)}});i.set(a,!0)})}function b(a,b){a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);b=a.map(function(a){a=a.name;return a});k(b)}e={fetchPredictedResources:b,fetchPredictedResourcesForQueries:k,fetchPredictions:a,fetchPredictionsForQueries:j};g["default"]=e}),98);
__d("CometToast.react",["fbt","ix","BaseToast.react","CometPressable.react","FDSCircleButton.react","FDSText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useMemo,m={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0}};function a(a){var b=a.action,e=a.href,f=a.icon,g=a.impressionLoggingRef,j=a.message,n=a.onDismiss,o=a.target,p=a.testid;p=p===void 0?"Toast":p;p=a.truncateText;var q=p===void 0?!0:p;p=a.withoutCloseButton;p=p===void 0?!1:p;var r=babelHelpers.objectWithoutPropertiesLoose(a,["action","href","icon","impressionLoggingRef","message","onDismiss","target","testid","truncateText","withoutCloseButton"]),s=l(function(){return e!=null?{target:o,url:e}:void 0},[e,o]);return k.jsx(c("BaseToast.react"),{action:b!=null?{label:b.label,labelRenderer:function(a){return k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"bodyLink3",children:a})},onPress:b.onPress,testid:b.testid}:void 0,addOnStart:f,closeButton:p!==!0&&k.jsx(c("FDSCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._(/*BTDS*/"Cerrar"),onPress:n,size:24,testid:void 0}),linkWrapper:r.onPress!=null||s!=null?function(a){return k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},r,{expanding:!0,linkProps:s,xstyle:m.pressable,children:a}))}:void 0,message:function(a){a=a.toastMessageId;return k.jsx(c("FDSText.react"),{color:"primary",id:a,numberOfLines:q?4:void 0,type:"body3",children:j})},onDismiss:n,testid:void 0,toastRef:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};e=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};f.ANALYTICS_SAMPLE_RATE=a;f.BUCKET_DELIMITER=b;f.CONTEXT_BUCKET_STRATEGY=c;f.CONFIG_TYPE=d;f.EMPTY_RESOLVED_CONTEXTS=e;f.EMPTY_RESOLVED_MONITORS=g;f.EMPTY_RESULT_PARAMS=h;f.ERROR=i;f.JSON_SUB_SAMPLE_RATE=j;f.LIST_DELIMITER=k;f.TYPE=l}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(a of a){var c=a.bucketIndex;if(c==void 0)break;b.push(c)}return b};b=function(a){var b=[];for(a of a){var c=a.bucketName;if(c===void 0)break;b.push(c)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){var b=[];for(a of a){var c=a.value;if(c===void 0)break;b.push(c)}return b};f.getBucketIndices=a;f.getBucketNames=b;f.getContextNames=c;f.getContextValues=d}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["cfg_ver_timestamp","policy_id","version","sample_rate"],i=function(a){return a.join(d("ContextualConfigConstants").LIST_DELIMITER)},j=function(a,b){for(var c of h)b[c]!=null&&(a[c]=b[c]);b.name&&(a.config_name=b.name)},k=function(a,b){var c=b[0],e=b[1],f=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=i(e.map(function(a){return a.value}))||"INVALID";a.context=i(d("ContextualConfigResolvedContextsUtils").getContextNames(f));a.context_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(f));a.bucket_name=i(d("ContextualConfigResolvedContextsUtils").getBucketNames(f));a.monitor=i(d("ContextualConfigResolvedContextsUtils").getContextNames(b));a.monitor_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(b))};function a(a,b,c){var e={sample_rate:d("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};j(e,a);k(e,b);c&&(e.config_contents=JSON.stringify(a));return e}g["default"]=a}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2=a,this.$4=d("Random").random()<1/a.sample_rate,this.$3=b,this.$1=c}var b=a.prototype;b.getData=function(){return this.$2};b.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};b.isSampled=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.createEvent=function(a){var b=this.$1,d=this.$2;a=new(c("ContextualConfigExposureEvent"))(a,d,b);return a};return a}();function a(a,b){return new h(a,b)}g["default"]=a}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){};b=function(a){d("MarauderLogger").log("contextual_config_exposure","",a)};e=c("ContextualConfigExposureLoggerFactory")(a,b);g["default"]=e}),98);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===!1)throw new Error(b)}f["default"]=a}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return Array.isArray(a)};b=function(a){return typeof a==="boolean"};c=function(a){return a!=null};e=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};f=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case d("ContextualConfigConstants").TYPE.BOOL:case d("ContextualConfigConstants").TYPE.FLOAT:case d("ContextualConfigConstants").TYPE.INT:case d("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};g.isArray=a;g.isBoolean=b;g.isDefined=c;g.isKey=e;g.isInteger=f;g.isNonEmptyString=h;g.isNumber=i;g.isString=j;g.isType=k}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(d("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}g["default"]=a}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var f=c("ContextualConfigParseBoolean")(a);e=function(a){return a===f};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:e=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:e=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:e=function(a){return!0};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return e(a)}}g["default"]=a}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseFloat(a);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseInt(a,10);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){return(h||(h=c("ContextualConfigAssert")))(a>0,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};b=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};e=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a<b,d("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};g.assertHasValues=a;g.assertNumberOfValues=b;g.assertValueOrder=e}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=e.map(f?c("ContextualConfigParseInteger"):h||(h=c("ContextualConfigParseFloat"))),i;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var j=f?c("ContextualConfigParseInteger")(a):(h||(h=c("ContextualConfigParseFloat")))(a);i=function(a){return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===j};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,2);d("ContextualConfigPredAssertions").assertValueOrder(g[0],g[1]);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]&&a<g[1]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<=g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a!==g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return i(a)}}g["default"]=a}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=/^\/(.+)\/(.*)$/;function a(a){try{var b=a.match(h);if(b!=null)return new RegExp(b[1],b[2]);else return new RegExp(a)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}g["default"]=a}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(typeof a!=="string")throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return a},i=function(a){var b=[];for(a of a)b.push(h(a));return b};function a(a,b,e){var f=i(e),g;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:g=function(b){return typeof b!=="string"?!1:b===a};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:g=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:g=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:g=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)===-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);g=function(a){return typeof a!=="string"?!1:a.indexOf(f[0])!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);var h=c("ContextualConfigParseRegExp")(f[0]);g=function(a){return typeof a!=="string"?!1:h.test(a)};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(a){return g(a)}}g["default"]=a}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},k=d("ContextualConfigValidators").isKey(d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a)&&k(a.toUpperCase()),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},n=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},o=function(a,b){var e=b.name;n(e);var f=b.strategy;l(f);b=b.values||[];m(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParsePredBoolean")(e,f);case d("ContextualConfigConstants").TYPE.FLOAT:return c("ContextualConfigParsePredNumeric")(e,f,b,!1);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParsePredNumeric")(e,f,b,!0);case d("ContextualConfigConstants").TYPE.STRING:return c("ContextualConfigParsePredString")(e,f,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},p=function(a,b){i(b);var c=b.name;n(c);return{name:c,pred:o(a,b)}};function a(a,b){j(b);return b.map(function(b){return p(a,b)})}g["default"]=a}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a)&&a.length>0,d("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name,d=a.type;a=a.buckets;k(b);l(d);return{name:b,type:d,buckets:c("ContextualConfigParseContextBuckets")(d,a)}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0}f["default"]=a}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a),d("ContextualConfigConstants").ERROR.INVALID_STRING)};function a(a,b){j(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParseBoolean")(b);case d("ContextualConfigConstants").TYPE.FLOAT:return(i||(i=c("ContextualConfigParseFloat")))(b);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParseInteger")(b);case d("ContextualConfigConstants").TYPE.STRING:return b;default:throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_RESULTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},n=function(a,b){for(a of a)if(a.name===b)return a.type;throw new Error(d("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},o=function(a){return function(b){k(b);var d=b.name;l(d);var e=n(a,d);m(e);b=(i||(i=c("ContextualConfigParseResultParamValue")))(e,b.value);return{name:d,type:e,value:b}}};function a(a,b){j(b);return b.map(o(a))}g["default"]=a}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b.map(function(b,c){return{name:a[c].name,value:b}}));i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){try{return c("ContextualConfigParseDenseResultParams")(a,b)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}g["default"]=a}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name;a=a.type;k(b);l(a);return{name:b,type:a}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(m(a),d("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(a){var b={};for(a of a){if(b[a.name])return!1;b[a.name]=!0}return!0},n=function(a){k(a.name);j(a.type);return a};function a(a){i(a);a=a.map(n);l(a);return a}g["default"]=a}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_VECTOR)},k=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},l=function(a,b){k(a.length,b.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=b[d];(i||(i=c("ContextualConfigParseResultParamValue")))(e,f)}},m=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};function a(a,b,c){j(c);b=m(b);var d=a.length;k(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;l(a,c.slice(f,f+d))}return c}g["default"]=a}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};function a(a,b,c){var e=null;a=a.map(function(a){var f=a.name,g={name:f};if(e!=null)return g;var i;c[f]!=null?i=c[f]:b[f]!=null?i=b[f]():i=null;g.value=i;if(a.buckets!=null){f=h(a.buckets,i);if(f==null){e=new Error(d("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH);return g}a=f[0];i=f[1];g.bucketName=a;g.bucketIndex=i}return g});return[e,a]}g["default"]=a}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},j=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},k=function(a,b,d,e){try{b=b.slice(d,d+a.length);return[null,c("ContextualConfigParseDenseResultParams")(a,b)]}catch(a){return[a,e]}},l=function(a,b,d){try{d=d.reduce(function(b,d,e){(h||(h=c("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return b+a[e]*d},0);return[null,d*b]}catch(a){return[a,-1]}};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);var d=c("ContextualConfigParseContexts")(a.contexts);this.aux=j(d);this.contexts=d;this.defaults=c("ContextualConfigParseDenseDefaults")(b,a.vectorDefaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=b;this.vector=c("ContextualConfigParseVector")(b,d,a.vector)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.aux,e=this.globalContextProviders,f=this.contexts,g=this.defaults,h=this.monitors,i=this.outputs,j=this.vector;f=c("ContextualConfigResolveContexts")(f,e,a);var m=f[0];f=f[1];if(m!=null)return[m,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=l(b,i.length,d("ContextualConfigResolvedContextsUtils").getBucketIndices(f));b=m[0];m=m[1];if(b!=null)return[b,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];b=k(i,j,m,g);i=b[0];j=b[1];if(i!=null)return[i,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=c("ContextualConfigResolveContexts")(h,e,a);g=m[0];b=m[1];return g!=null?[g,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,j,f,b]};return a}();g["default"]=a}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.values=c("ContextualConfigParseResultParams")(b,a.values)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.monitors,f=this.values;e=c("ContextualConfigResolveContexts")(e,b,a);b=e[0];a=e[1];return b!=null?[b,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,a]};return a}();g["default"]=a}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(b of b)c[b.name]=b;b=[];for(a of a){var d=c[a.name];b.push(d!=null&&d.name===a.name&&d.type===a.type?d:a)}return b}f["default"]=a}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b);i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(a,b){j(b);var d=b.bucket;b=b.values;k(d);l(b);return{bucket:d,values:c("ContextualConfigParseResultParams")(a,b)}};function a(a,b){i(b);return b.reduce(function(b,c){c=m(a,c);b[c.bucket]=c.values;return b},{})}g["default"]=a}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){j(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.contexts=c("ContextualConfigParseContexts")(a.contexts);this.defaults=c("ContextualConfigParseDefaults")(b,a.defaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.table=c("ContextualConfigParseTable")(b,a.table)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,h=this.table;e=c("ContextualConfigResolveContexts")(e,b,a);var j=e[0];e=e[1];if(j!=null)return[j,f,e,[]];j=d("ContextualConfigResolvedContextsUtils").getBucketNames(e).join(d("ContextualConfigConstants").BUCKET_DELIMITER);h=h[j]||i;j=c("ContextualConfigMergePartialResultParams")(f,h);f=c("ContextualConfigResolveContexts")(g,b,a);h=f[0];g=f[1];return h!=null?[h,j,e,[]]:[null,j,e,g]};return a}();g["default"]=a}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[1],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a)&&d("ContextualConfigValidators").isDefined(a.version),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(i.indexOf(a)!==-1,d("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function a(a,b){j(a);k(a.version);switch(a.cctype){case d("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(c("DenseContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(c("MultiOutputResolvedContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(c("TableContextualConfig"))(a,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f["default"]=a}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var b=a.prototype;b.get=function(a,b){try{a=this.$1[a];if(typeof a!==typeof b){c("ContextualConfigWarn")(d("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND);return b}return a}catch(a){c("ContextualConfigWarn")(a.message);return b}};b.getParams=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,d("ContextualConfigConstants").EMPTY_RESULT_PARAMS,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]};return a}();g["default"]=a}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f,g){"use strict";var h=1/d("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,i=1;a=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var b=a.prototype;b.$5=function(){if(this.$1)return this.$1;var a=this.$2,b=this.$4;try{b=c("ContextualConfigParseConfig")(b,a)}catch(a){b=new(c("ErrorContextualConfig"))(a)}this.$1=b;return b};b.$6=function(a){var b=this.isDebugLoggingEnabled,e=this.$4,f=this.$3;f=!f&&d("Random").random()<h;f&&(this.$3=!0);e=c("ContextualConfigCollateExposureData")(e,a,f);a=c("ContextualConfigExposureLogger").createEvent(e);a.log(b)};b.resolve=function(a){a===void 0&&(a={});var b=this.$1||this.$5();b=b.resolve(a);this.$6(b);return new(c("ContextualConfigResult"))(b[i])};return a}();g["default"]=a}),98);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1755537");b=d("FalcoLoggerInternal").create("dgw_client",a);e=b;g["default"]=e}),98);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a="dgw_client";var i=b("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),j={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function k(a){switch(a){case i.GROUPED_STREAM_COMPONENT:case i.ACK_MANAGER_COMPONENT:return!0;default:return!1}}e=function(){function a(a,b,c,d,e,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.$5=""+a,this.$1=b,this.$4=c,this.$3=d,this.$6=e,this.$2=f,this.$7=g}a.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};var b=a.prototype;b.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=this.$4+"."+a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};b.logEvent=function(a,b,c,d,e){d===void 0&&(d=!1),this.$2||this.$8(a,b,null,j.INFO,c,d,e)};b.$8=function(a,b,d,e,f,g,h){var i=this;g===void 0&&(g=!1);if(g&&!this.$7)return;(k(a)&&this.$1!=null||!k(a)&&this.$6!=null)&&c("DgwClientFalcoEvent").log(function(){return{event:b,logging_id:h!=null?h:i.$1,dgw_version:i.$5,message:d,severity:e,uuid:i.$3,dgw_component:a,extra_info:f,destination_tier:i.$4,sg_transport_id:i.$6,source:2}})};b.logError=function(a,b,c,d,e,f){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.ERROR,d,e,f)};b.logWarn=function(a,b,c,d,e){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.WARNING,d,e)};return a}();g.DGW_MODULE=a;g.DGWLoggingComponent=i;g.DGWLoggingContext=e}),98);
__d("DGWAckManager",["DGWLoggingContext","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var b=a.prototype;b.stopTracking=function(a){window.clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=window.setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitForAck=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");var e=this.$1;try{var f=(yield new(h||(h=b("Promise")))(function(b,d){e.set(a,new i(a,c,b))}));f===!0?this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+a,!0):(this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+c+"ms"));e["delete"](a);return f}catch(b){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error");e["delete"](a);throw b}});function c(b,c){return a.apply(this,arguments)}return c}();c.handleAckReceived=function(a){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var b=this.$1.get(a);if(b===void 0){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked");this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}b.handleAckReceived()};c.clearPendingAcks=function(){var a=this;this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size);this.$1.forEach(function(b,c,e){a.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+b.sendId,null,!0),b.stopTracking(!1),e["delete"](c)})};return a}();g.DGWAckManager=a}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0"});function a(a){if(a==="TEST")return h.TEST;else if(a==="FACEBOOK")return h.FACEBOOK;else if(a==="INTERNALFB")return h.INTERNALFB;else if(a==="OCULUS")return h.OCULUS;else if(a==="ENTERPRISEFB")return h.ENTERPRISEFB;else if(a==="RECRUITINGFB")return h.RECRUITINGFB;else if(a==="INSTAGRAM")return h.INSTAGRAM;else if(a==="HORIZON_WEB")return h.HORIZON_WEB;else if(a==="SPARK_WEB")return h.SPARK_WEB;else if(a==="ABRA")return h.ABRA;else throw c("err")("failed to convert string ("+a+") to DGWAuth Type")}function d(a){if(a===h.FACEBOOK)return"FACEBOOK";else if(a===h.INTERNALFB)return"INTERNALFB";else if(a===h.OCULUS)return"OCULUS";else if(a===h.ENTERPRISEFB)return"ENTERPRISEFB";else if(a===h.RECRUITINGFB)return"RECRUITINGFB";else if(a===h.INSTAGRAM)return"INSTAGRAM";else if(a===h.HORIZON_WEB)return"HORIZON_WEB";else if(a===h.SPARK_WEB)return"SPARK_WEB";else if(a===h.ABRA)return"ABRA";else return"TEST"}g.DGWAuth=h;g.fromStringToDGWAuth=a;g.fromDGWAuthToString=d}),98);
__d("DGWStream",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","TRANSPORT_ESTABLISHMENT_ERROR","TRANSPORT_ESTABLISHMENT_TIMEOUT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR"]);function a(a){switch(a){case g.UNAUTHENTICATED:case g.UNAUTHORIZED:case g.REJECTED:case g.BAD_REQUEST:case g.UNKNOWN_ERROR:case g.SERVER_INTERNAL_ERROR:return!1;default:return!0}}f.StreamError=g;f.isRetryableError=a}),66);
__d("DGWCppBridge",[],(function(l,m,n,o,p,q){var r=function(){var l=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(m){m=m||{};var m=typeof m!=="undefined"?m:{},n=function(){function m(){}function n(l,m){return function(){l.apply(m,arguments)}}function l(m){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof m!=="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];t(m,this)}function o(m,n){while(m._state===3)m=m._value;if(m._state===0){m._deferreds.push(n);return}m._handled=!0;l._immediateFn(function(){var l=m._state===1?n.onFulfilled:n.onRejected;if(l===null){(m._state===1?p:q)(n.promise,m._value);return}var o;try{o=l(m._value)}catch(l){q(n.promise,l);return}p(n.promise,o)})}function p(m,o){try{if(o===m)throw new TypeError("A promise cannot be resolved with itself.");if(o&&(typeof o==="object"||typeof o==="function")){var p=o.then;if(o instanceof l){m._state=3;m._value=o;r(m);return}else if(typeof p==="function"){t(n(p,o),m);return}}m._state=1;m._value=o;r(m)}catch(l){q(m,l)}}function q(l,m){l._state=2,l._value=m,r(l)}function r(m){m._state===2&&m._deferreds.length===0&&l._immediateFn(function(){m._handled||l._unhandledRejectionFn(m._value)});for(var n=0,p=m._deferreds.length;n<p;n++)o(m,m._deferreds[n]);m._deferreds=null}function s(l,m,n){this.onFulfilled=typeof l==="function"?l:null,this.onRejected=typeof m==="function"?m:null,this.promise=n}function t(l,m){var n=!1;try{l(function(l){if(n)return;n=!0;p(m,l)},function(l){if(n)return;n=!0;q(m,l)})}catch(l){if(n)return;n=!0;q(m,l)}}l.prototype["catch"]=function(l){return this.then(null,l)};l.prototype.then=function(l,n){var p=new this.constructor(m);o(this,new s(l,n,p));return p};l.all=function(m){return new l(function(l,n){if(!Array.isArray(m))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(m);if(o.length===0)return l([]);var p=o.length;function q(m,r){try{if(r&&(typeof r==="object"||typeof r==="function")){var s=r.then;if(typeof s==="function"){s.call(r,function(l){q(m,l)},n);return}}o[m]=r;--p===0&&l(o)}catch(l){n(l)}}for(var r=0;r<o.length;r++)q(r,o[r])})};l.resolve=function(m){return m&&typeof m==="object"&&m.constructor===l?m:new l(function(l){l(m)})};l.reject=function(m){return new l(function(l,n){n(m)})};l.race=function(m){return new l(function(n,o){if(!Array.isArray(m))return o(new TypeError("Promise.race accepts an array"));for(var p=0,q=m.length;p<q;p++)l.resolve(m[p]).then(n,o)})};l._immediateFn=typeof setImmediate==="function"&&function(l){setImmediate(l)}||function(l){setTimeout(l,0)};l._unhandledRejectionFn=function(l){typeof console!=="undefined"&&console};return l}(),o,s;m.ready=new n(function(l,m){o=l,s=m});var t={},u;for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(t[u]=m[u]);var v=[];(function(l,m){throw m});var w=!0,x=!1,y="";function z(l){return m.locateFile?m.locateFile(l,y):y+l}var A;(w||x)&&(x?y=self.location.href:typeof document!=="undefined"&&document.currentScript&&(y=document.currentScript.src),l&&(y=l),y.indexOf("blob:")!==0?y=y.substr(0,y.lastIndexOf("/")+1):y="",(function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.send(null);return m.responseText}catch(n){m=ga(l);if(m)return fa(m);throw n}},x&&(A=function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.responseType="arraybuffer";m.send(null);return new Uint8Array(m.response)}catch(n){m=ga(l);if(m)return m;throw n}}),function(l,m,n){var o=new XMLHttpRequest();o.open("GET",l,!0);o.responseType="arraybuffer";o.onload=function(){if(o.status==200||o.status==0&&o.response){m(o.response);return}var p=ga(l);if(p){m(p.buffer);return}n()};o.onerror=n;o.send(null)}),function(l){document.title=l});m.print||emptyFunction.bind(console);var B=m.printErr||emptyFunction.bind(console);for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&(m[u]=t[u]);t=null;m.arguments&&(v=m.arguments);m.thisProgram&&m.thisProgram;m.quit&&m.quit;var C;m.wasmBinary&&(C=m.wasmBinary);m.noExitRuntime||!0;var D={Memory:function(l){this.buffer=new ArrayBuffer(l.initial*65536)},Module:function(l){},Instance:function(l,m){this.exports=function(l){function m(l){l.set=function(l,m){this[l]=m};l.get=function(l){return this[l]};return l}var n,o=new Uint8Array(123);for(var p=25;p>=0;--p)o[48+p]=52+p,o[65+p]=p,o[97+p]=26+p;o[43]=62;o[47]=63;function q(m,n,p){var q,r,l=0,s=n,t=p.length;n=n+(t*3>>2)-(p[t-2]=="=")-(p[t-1]=="=");for(;l<t;l+=4)q=o[p.charCodeAt(l+1)],r=o[p.charCodeAt(l+2)],m[s++]=o[p.charCodeAt(l)]<<2|q>>4,s<n&&(m[s++]=q<<4|r>>2),s<n&&(m[s++]=r<<6|o[p.charCodeAt(l+3)])}function r(l){q(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),q(n,1372,"gAkQ")}function s(l){var o=l.a,p=o.buffer;o.grow=xa;var q=new Int8Array(p),s=new Int16Array(p),t=new Int32Array(p),u=new Uint8Array(p),v=new Uint16Array(p),w=new Uint32Array(p);new Float32Array(p);new Float64Array(p);var x=Math.imul;Math.fround;Math.abs;var y=Math.clz32;Math.min;Math.max;Math.floor;Math.ceil;Math.trunc;Math.sqrt;l.abort;NaN;Infinity;var z=l.b,A=1051008,B;function C(o,p,l,r,m,n){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;var y=0,z=0,B;y=A-80|0;A=y;t[y+72>>2]=o;t[y+68>>2]=p;t[y+64>>2]=l;t[y+60>>2]=r;t[y+56>>2]=m;t[y+52>>2]=n;a:{if(t[y+52>>2]?!t[y+56>>2]|(!t[y+72>>2]|!t[y+68>>2]|(!t[y+64>>2]|!t[y+60>>2])):1){t[y+76>>2]=5;break a}t[t[y+64>>2]>>2]=0;t[t[y+60>>2]>>2]=0;p=t[y+68>>2];l=t[y+56>>2];r=t[y+52>>2];o=A+-64|0;A=o;t[o+56>>2]=t[y+72>>2];t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=0;t[o+36>>2]=t[o+56>>2];b:{c:{d:{while(1){if(!t[o+52>>2])break c;t[o+32>>2]=t[o+36>>2];q[o+31|0]=u[t[o+36>>2]];t[o+52>>2]=t[o+52>>2]-1;t[o+36>>2]=t[o+36>>2]+1;if(u[o+31|0]!=10?u[o+31|0]==2|u[o+31|0]==4|u[o+31|0]==9:1){t[o+40>>2]=t[o+40>>2]+1;continue}t[o+24>>2]=1;if(V(u[o+31|0])&1){z=o,B=X(u[o+31|0])&1,q[z+23|0]=B;t[o+16>>2]=q[o+23|0]&1?1:2;if(w[o+52>>2]<w[o+16>>2]){t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[o+52>>2]=t[o+52>>2]-t[o+16>>2];t[o+24>>2]=t[o+16>>2]+t[o+24>>2];t[o+36>>2]=t[o+16>>2]+t[o+36>>2];if(!(u[o+31|0]!=14?u[o+31|0]!=8:0)){t[o+40>>2]=t[o+40>>2]+1;continue}}if(w[o+52>>2]<3)break d;t[o+12>>2]=0;p=t[o+36>>2];l=u[p|0]|u[p+1|0]<<8;q[o+12|0]=l;q[o+13|0]=l>>>8;q[o+14|0]=u[p+2|0];t[o+52>>2]=t[o+52>>2]-3;t[o+24>>2]=t[o+24>>2]+3;t[o+36>>2]=t[o+36>>2]+3;if(w[o+12>>2]<=w[o+52>>2]){t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]=t[o+12>>2]+t[o+36>>2];t[o+52>>2]=t[o+52>>2]-t[o+12>>2];continue}break}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+44>>2]>>2]=t[o+52>>2]}t[o+60>>2]=t[o+40>>2];A=o- -64|0;t[y+48>>2]=t[o+60>>2];if(!t[y+48>>2]){t[y+76>>2]=0;break a}z=y,B=D(x(t[y+48>>2],20)),t[z+44>>2]=B;if(!t[y+44>>2]){t[y+76>>2]=3;break a}t[y+40>>2]=t[y+44>>2];t[y+36>>2]=t[y+72>>2];t[y+32>>2]=t[y+68>>2]-t[t[y+52>>2]>>2];t[y+28>>2]=0;while(1){if(w[y+28>>2]<w[y+48>>2]){if(w[y+32>>2]<1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}q[y+27|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;e:{if(!u[y+27|0]|u[y+27|0]==1|(u[y+27|0]==2|u[y+27|0]==3)|(u[y+27|0]==4|u[y+27|0]==9|u[y+27|0]==10))break e;if(V(u[y+27|0])&1)break e;O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=6;break a}o=t[y+40>>2];t[o>>2]=u[y+27|0]&15|t[o>>2]&-16;f:{if(u[y+27|0]!=10?u[y+27|0]==2|u[y+27|0]==4|u[y+27|0]==9:1){o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441;t[y+40>>2]=t[y+40>>2]+20;break f}if(V(u[y+27|0])&1){o=A-48|0;A=o;t[o+40>>2]=t[y+40>>2];t[o+36>>2]=y+36;t[o+32>>2]=y+32;g:{if(!(V(t[t[o+40>>2]>>2]&15)&1)){t[o+44>>2]=1;break g}z=o,B=X(t[t[o+40>>2]>>2]&15)&1,q[z+31|0]=B;t[o+24>>2]=q[o+31|0]&1?1:2;if(w[t[o+32>>2]>>2]<w[o+24>>2]){t[o+44>>2]=1;break g}ba(t[o+40>>2]+4|0,t[t[o+36>>2]>>2],t[o+24>>2]);p=t[o+36>>2];t[p>>2]=t[o+24>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+24>>2];if((t[t[o+40>>2]>>2]&15)==8){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==14){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if(w[t[o+32>>2]>>2]<3){t[o+44>>2]=11;break g}t[o+20>>2]=0;p=t[t[o+36>>2]>>2];l=u[p|0]|u[p+1|0]<<8;q[o+20|0]=l;q[o+21|0]=l>>>8;q[o+22|0]=u[p+2|0];p=t[o+36>>2];t[p>>2]=t[p>>2]+3;p=t[o+32>>2];t[p>>2]=t[p>>2]-3;p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441|(t[o+20>>2]&16777215)<<4;if(w[t[o+32>>2]>>2]<w[o+20>>2]){t[o+44>>2]=11;break g}if((t[t[o+40>>2]>>2]&15)==15){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==5){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}h:{if(!((t[t[o+40>>2]>>2]&15)!=6?(t[t[o+40>>2]>>2]&15)!=7:0)){z=o,B=Q(t[o+36>>2],t[o+32>>2],o+19|0,o+18|0),t[z+12>>2]=B;if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}break h}if(!((t[t[o+40>>2]>>2]&15)!=13?(t[t[o+40>>2]>>2]&15)!=12:0)){l=t[o+32>>2];p=A-32|0;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=o+19;t[p+12>>2]=o+16;s[p+10>>1]=0;i:{if(w[t[p+20>>2]>>2]<2){t[p+28>>2]=1;break i}l=t[t[p+24>>2]>>2];l=u[l|0]|u[l+1|0]<<8;q[p+10|0]=l;q[p+11|0]=l>>>8;l=t[p+24>>2];t[l>>2]=t[l>>2]+2;l=t[p+20>>2];t[l>>2]=t[l>>2]-2;q[t[p+16>>2]]=(v[p+10>>1]&32768)==32768;s[t[p+12>>2]>>1]=v[p+10>>1]&32767;t[p+28>>2]=0}t[o+12>>2]=t[p+28>>2];if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}}}if((t[t[o+40>>2]>>2]&15)==12){p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==7){p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==13){l=t[o+32>>2];r=t[o+20>>2];m=t[o+40>>2]+12|0;n=t[o+40>>2];p=A-32|0;A=p;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=r;t[p+12>>2]=m;t[p+8>>2]=n+16;j:{if(w[p+16>>2]<2){t[p+28>>2]=9;break j}t[t[p+8>>2]>>2]=t[p+16>>2]-2;if(w[t[p+20>>2]>>2]<w[t[p+8>>2]>>2]){t[p+28>>2]=1;break j}l=D(t[t[p+8>>2]>>2]);t[t[p+12>>2]>>2]=l;if(!t[t[p+12>>2]>>2]){t[p+28>>2]=3;break j}ba(t[t[p+12>>2]>>2],t[t[p+24>>2]>>2],t[t[p+8>>2]>>2]);l=t[p+24>>2];t[l>>2]=t[t[p+8>>2]>>2]+t[l>>2];l=t[p+20>>2];t[l>>2]=t[l>>2]-t[t[p+8>>2]>>2];t[p+28>>2]=0}A=p+32|0;t[o+8>>2]=t[p+28>>2];if(t[o+8>>2]){t[o+44>>2]=t[o+8>>2];break g}p=t[o+40>>2];s[p+8>>1]=q[o+19|0]&1|v[p+8>>1]&65534;p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==6){z=o,B=M(t[o+36>>2],t[o+32>>2],t[o+20>>2],t[o+40>>2]+12|0,t[o+40>>2]+16|0),t[z+4>>2]=B;if(t[o+4>>2]){t[o+44>>2]=t[o+4>>2];break g}p=t[o+40>>2];q[p+8|0]=q[o+19|0]&1|u[p+8|0]&254;p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}t[o+44>>2]=1}A=o+48|0;t[y+20>>2]=t[o+44>>2];if(!t[y+20>>2]){t[y+40>>2]=t[y+40>>2]+20;break f}O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+20>>2];break a}t[y+16>>2]=0;if(w[y+32>>2]<3){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}o=t[y+36>>2];p=u[o|0]|u[o+1|0]<<8;q[y+16|0]=p;q[y+17|0]=p>>>8;q[y+18|0]=u[o+2|0];t[y+36>>2]=t[y+36>>2]+3;t[y+32>>2]=t[y+32>>2]-3;if(!(t[y+16>>2]==1|u[y+27|0]!=1)){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=7;break a}o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441|(t[y+16>>2]&16777215)<<4;if(u[y+27|0]==3){if(t[y+16>>2]!=1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=10;break a}q[y+15|0]=0;if(w[y+32>>2]<1){J(t[y+44>>2]);t[y+76>>2]=1;break a}q[y+15|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;k:{if(u[y+15|0]<=4){q[t[y+40>>2]+4|0]=u[y+15|0];break k}q[t[y+40>>2]+4|0]=4}t[y+40>>2]=t[y+40>>2]+20;break f}z=y,B=Q(y+36|0,y+32|0,y+14|0,y+13|0),t[z+8>>2]=B;if(t[y+8>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+8>>2];break a}if(u[y+27|0]==1){o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20;break f}if(!u[y+27|0]){z=y,B=M(y+36|0,y+32|0,t[y+16>>2],t[y+40>>2]+8|0,t[y+40>>2]+12|0),t[z+4>>2]=B;if(t[y+4>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+4>>2];break a}o=t[y+40>>2];q[o+4|0]=q[y+14|0]&1|u[o+4|0]&254;o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20}}t[y+28>>2]=t[y+28>>2]+1;continue}break}if(t[y+32>>2]){O(t[y+44>>2],t[y+48>>2]);t[y+76>>2]=1;break a}t[t[y+64>>2]>>2]=t[y+44>>2];t[t[y+60>>2]>>2]=t[y+48>>2];t[y+76>>2]=0}A=y+80|0;return t[y+76>>2]}function D(o){var q=0,l=0,r=0,m=0,n=0,s=0,u=0,v,w=0,x,p;w=8;a:{b:{if(o>>>0>4294967239)break b;while(1){w=w>>>0>8?w:8;l=t[603];n=l;m=t[602];u=m;o=o>>>0>8?o+3&-4:8;c:{if(o>>>0<=127){s=(o>>>3|0)-1|0;break c}r=y(o);s=((o>>>29-r^4)-(r<<2)|0)+110|0;if(o>>>0<=4095)break c;r=((o>>>30-r^2)-(r<<1)|0)+71|0;s=r>>>0<63?r:63}q=s;r=q&31;(q&63)>>>0>=32?(q=0,l=l>>>r|0):(q=l>>>r|0,l=((1<<r)-1&l)<<32-r|u>>>r);r=q;if(l|q){while(1){n=l;q=r;d:{if(q|l){m=q-1|0;v=m+1|0;u=m;m=l-1|0;u=(m|0)!=-1?v:u;m=y(l^m)+32|0;l=y(q^u);l=(l|0)==32?m:l;q=63-l|0;0-(l>>>0>63)|0;break d}q=64}m=q;q=m;l=q&31;(q&63)>>>0>=32?(q=0,u=r>>>l|0):(q=r>>>l|0,u=((1<<l)-1&r)<<32-l|n>>>l);r=q;s=m+s|0;n=s<<4;q=t[n+1384>>2];m=n+1376|0;e:{if((q|0)!=(m|0)){l=I(q,w,o);if(l)break b;l=t[q+4>>2];t[l+8>>2]=t[q+8>>2];t[t[q+8>>2]+4>>2]=l;t[q+8>>2]=m;l=n+1380|0;t[q+4>>2]=t[l>>2];t[l>>2]=q;t[t[q+4>>2]+8>>2]=q;s=s+1|0;l=(r&1)<<31|u>>>1;r=r>>>1|0;break e}x=t[603];q=s;v=q&63;l=v;n=l&31;l>>>0>=32?(l=0,m=-1>>>n|0):(l=-1>>>n|0,m=(1<<n)-1<<32-n|-1>>>n);m=m&-2;n=v&31;v>>>0>=32?(l=m<<n,v=0):(l=(1<<n)-1&m>>>32-n|l<<n,v=m<<n);n=l;m=0-q&63;l=m;q=l&31;l>>>0>=32?(l=-1<<q,q=0):(l=(1<<q)-1&-1>>>32-q|-1<<q,q=-1<<q);p=q&-2;q=m&31;m>>>0>=32?(m=0,q=l>>>q|0):(m=l>>>q|0,q=((1<<q)-1&l)<<32-q|p>>>q);l=q|v;B=n|m;t[602]=t[602]&l;t[603]=B&x;l=u^1}if(l|r)continue;break}m=t[602];n=t[603]}f:{if(n|m){r=y(n);r=63-((r|0)==32?y(m)+32|0:r)<<4;q=r+1376|0;r=t[r+1384>>2];g:{if(!n&m>>>0<1073741824)break g;s=98;if((q|0)==(r|0))break g;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if(!s)break g;s=s-1|0;if((q|0)!=(r|0))continue;break}}if(G(o+48|0))break f;if(!r|(q|0)==(r|0))break a;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if((q|0)!=(r|0))continue;break}break a}if(!G(o+48|0))break a}l=0;if(o>>>0>4294967239)break b;r=w;q=0;while(1){s=q;if(r){r=r-1&r;q=q+1|0;continue}break}if(s>>>0<=1)continue;break}}return l}return 0}function E(o,p,l,r,m,n,x){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;x=x|0;var y=0,z=0;y=A-32|0;A=y;s[y+26>>1]=o;t[y+20>>2]=p;t[y+16>>2]=l;q[y+15|0]=r;s[y+12>>1]=m;t[y+8>>2]=n;t[y+4>>2]=x;a:{if(!(!(q[y+15|0]&1)|v[y+12>>1]<=32767)){t[y+28>>2]=4;break a}p=t[y+20>>2];l=t[y+16>>2];r=t[y+8>>2];m=t[y+4>>2];n=q[y+15|0]&1;o=A+-64|0;A=o;t[o+56>>2]=y+26;t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=m;q[o+39|0]=2;q[o+38|0]=13;t[o+32>>2]=y+12;q[o+31|0]=n;q[o+30|0]=2;b:{c:{if(!(!t[o+52>>2]|(!t[o+44>>2]|!t[o+40>>2]))&&w[o+48>>2]<=16777215)break c;t[o+60>>2]=5;break b}t[o+24>>2]=t[o+48>>2]+(u[o+39|0]+(u[o+30|0]+4|0)|0);z=o,x=D(t[o+24>>2]),t[z+20>>2]=x;if(!t[o+20>>2]){t[o+60>>2]=3;break b}t[o+16>>2]=t[o+20>>2];q[t[o+16>>2]]=u[o+38|0];t[o+16>>2]=t[o+16>>2]+1;ba(t[o+16>>2],t[o+56>>2],u[o+30|0]);t[o+16>>2]=u[o+30|0]+t[o+16>>2];t[o+12>>2]=u[o+39|0]+t[o+48>>2];if(w[o+12>>2]<w[o+48>>2]){J(t[o+20>>2]);t[o+60>>2]=9;break b}p=t[o+16>>2];l=u[o+12|0]|u[o+13|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+14|0];t[o+16>>2]=t[o+16>>2]+3;if(q[o+31|0]&1)d:{if(u[o+38|0]==6){p=t[o+32>>2];q[p|0]=u[p|0]|128;break d}e:{if(u[o+38|0]==13){p=t[o+32>>2];s[p>>1]=v[p>>1]|32768;break e}J(t[o+20>>2]);t[o+60>>2]=1;break b}}ba(t[o+16>>2],t[o+32>>2],u[o+39|0]);t[o+16>>2]=u[o+39|0]+t[o+16>>2];ba(t[o+16>>2],t[o+52>>2],t[o+48>>2]);t[t[o+44>>2]>>2]=t[o+20>>2];t[t[o+40>>2]>>2]=t[o+24>>2];t[o+60>>2]=0}A=o- -64|0;t[y+28>>2]=t[o+60>>2]}A=y+32|0;return t[y+28>>2]}function F(o,p,l,r,m){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;var n=0,v=0;n=A-32|0;A=n;s[n+30>>1]=o;t[n+24>>2]=p;t[n+20>>2]=l;t[n+16>>2]=r;t[n+12>>2]=m;p=t[n+24>>2];l=t[n+20>>2];r=t[n+16>>2];m=t[n+12>>2];o=A-48|0;A=o;t[o+40>>2]=n+30;t[o+36>>2]=p;t[o+32>>2]=l;t[o+28>>2]=r;t[o+24>>2]=m;q[o+23|0]=2;q[o+22|0]=15;a:{if(!(t[o+24>>2]?t[o+28>>2]:0)){t[o+44>>2]=5;break a}t[t[o+28>>2]>>2]=0;t[t[o+24>>2]>>2]=0;if(!(w[o+32>>2]<=16777215?t[o+36>>2]:0)){t[o+44>>2]=5;break a}t[o+16>>2]=t[o+32>>2]+(u[o+23|0]+4|0);v=o,r=D(t[o+16>>2]),t[v+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break a}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+22|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];p=t[o+8>>2];l=u[o+32|0]|u[o+33|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+34|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+36>>2],t[o+32>>2]);t[o+8>>2]=t[o+32>>2]+t[o+8>>2];t[t[o+28>>2]>>2]=t[o+12>>2];t[t[o+24>>2]>>2]=t[o+16>>2];t[o+44>>2]=0}A=o+48|0;A=n+32|0;return t[o+44>>2]}function G(o){var p=0,l,r=0,m=0,n,s=0;r=t[343];l=o+3&-4;p=r+l|0;a:{b:{if(p>>>0<=r>>>0?l:0)break b;if(p>>>0>wa()<<16>>>0&&!(z(p|0)|0))break b;t[343]=p;break a}t[604]=48;r=-1}if((r|0)!=-1){l=o+r|0;p=l-16|0;t[p+12>>2]=16;t[p>>2]=16;o=t[600];o?s=t[o+8>>2]:s=0;c:{d:{if((s|0)==(r|0)){m=r-(t[r-4>>2]&-2)|0;n=t[m-4>>2];t[o+8>>2]=l;o=m-(n&-2)|0;l=-16;if(!(q[(o+t[o>>2]|0)-4|0]&1))break d;l=t[o+4>>2];t[l+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=l;p=p-o|0;t[o>>2]=p;break c}t[r+12>>2]=16;t[r>>2]=16;t[r+8>>2]=l;t[r+4>>2]=o;t[600]=r;l=16}o=r+l|0;p=p-o|0;t[o>>2]=p}t[((p&-4)+o|0)-4>>2]=p|1;s=o;m=t[o>>2]-8|0;e:{if(m>>>0<=127){p=(m>>>3|0)-1|0;break e}n=y(m);p=((m>>>29-n^4)-(n<<2)|0)+110|0;if(m>>>0<=4095)break e;p=((m>>>30-n^2)-(n<<1)|0)+71|0;p=p>>>0<63?p:63}l=p<<4;t[s+4>>2]=l+1376;l=l+1384|0;t[o+8>>2]=t[l>>2];t[l>>2]=o;t[t[o+8>>2]+4>>2]=o;l=t[603];o=p&31;(p&63)>>>0>=32?(p=1<<o,o=0):(p=(1<<o)-1&1>>>32-o,o=1<<o);t[602]=o|t[602];t[603]=p|l}return(r|0)!=-1}function la(o,p,l,r){o=o|0;p=p|0;l=l|0;r=r|0;var m=0,n=0;m=A-16|0;A=m;s[m+10>>1]=o;s[m+8>>1]=p;t[m+4>>2]=l;t[m>>2]=r;a:{if(v[m+8>>1]>32767){t[m+12>>2]=4;break a}p=t[m+4>>2];l=t[m>>2];o=A-48|0;A=o;t[o+40>>2]=m+10;t[o+36>>2]=p;t[o+32>>2]=l;q[o+31|0]=2;q[o+30|0]=12;t[o+24>>2]=m+8;q[o+23|0]=2;b:{if(!(t[o+32>>2]?t[o+36>>2]:0)){t[o+44>>2]=5;break b}t[o+16>>2]=u[o+31|0]+(u[o+23|0]+4|0);n=o,r=D(t[o+16>>2]),t[n+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break b}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+30|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];t[o+4>>2]=u[o+31|0];p=t[o+8>>2];l=u[o+4|0]|u[o+5|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+6|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+24>>2],u[o+31|0]);t[t[o+32>>2]>>2]=t[o+16>>2];t[t[o+36>>2]>>2]=t[o+12>>2];t[o+44>>2]=0}A=o+48|0;t[m+12>>2]=t[o+44>>2]}A=m+16|0;return t[m+12>>2]}function H(o,p,l){o=o|0;p=p|0;l=l|0;var q=0,m=0,n=0,r=0,s=0;n=A+-64|0;A=n;m=1;a:{if(R(o,p,0))break a;m=0;if(!p)break a;q=A+-64|0;A=q;m=t[p>>2];r=t[m-4>>2];s=t[m-8>>2];t[q+20>>2]=0;t[q+16>>2]=1084;t[q+12>>2]=p;t[q+8>>2]=1132;m=0;ca(q+24|0,39);p=p+s|0;b:{if(R(r,1132,0)){t[q+56>>2]=1;ka[t[t[r>>2]+20>>2]](r,q+8|0,p,p,1,0);m=t[q+32>>2]==1?p:0;break b}ka[t[t[r>>2]+24>>2]](r,q+8|0,p,1,0);c:switch(t[q+44>>2]){case 0:m=t[q+48>>2]==1?t[q+36>>2]==1?t[q+40>>2]==1?t[q+28>>2]:0:0:0;break b;case 1:break c;default:break b}if(t[q+48>>2]|t[q+36>>2]!=1|t[q+40>>2]!=1?t[q+32>>2]!=1:0)break b;m=t[q+24>>2]}A=q- -64|0;p=m;m=0;if(!p)break a;ca(n+8|4,52);t[n+56>>2]=1;t[n+20>>2]=-1;t[n+16>>2]=o;t[n+8>>2]=p;ka[t[t[p>>2]+28>>2]](p,n+8|0,t[l>>2],1);o=t[n+32>>2];(o|0)==1&&(t[l>>2]=t[n+24>>2]);m=(o|0)==1}o=m;A=n- -64|0;return o|0}function I(o,p,l){var q=0,m,n=0,r=0;q=o+4|0;m=(q+p|0)-1&0-p;p=t[o>>2];if(m+l>>>0<=(p+o|0)-4>>>0){n=t[o+4>>2];t[n+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=n;(q|0)!=(m|0)&&(m=m-q|0,n=o-(t[o-4>>2]&-2)|0,q=m+t[n>>2]|0,t[n>>2]=q,t[(n+(q&-4)|0)-4>>2]=q,o=o+m|0,p=p-m|0,t[o>>2]=p);a:{if(l+24>>>0<=p>>>0){q=(o+l|0)+8|0;p=(p-l|0)-8|0;t[q>>2]=p;t[(q+(p&-4)|0)-4>>2]=p|1;r=q;n=t[q>>2]-8|0;b:{if(n>>>0<=127){m=(n>>>3|0)-1|0;break b}p=y(n);m=((n>>>29-p^4)-(p<<2)|0)+110|0;if(n>>>0<=4095)break b;p=((n>>>30-p^2)-(p<<1)|0)+71|0;m=p>>>0<63?p:63}p=m;m=p<<4;t[r+4>>2]=m+1376;m=m+1384|0;t[q+8>>2]=t[m>>2];t[m>>2]=q;t[t[q+8>>2]+4>>2]=q;m=t[603];q=p&31;(p&63)>>>0>=32?(p=1<<q,r=0):(p=(1<<q)-1&1>>>32-q,r=1<<q);t[602]=r|t[602];t[603]=p|m;p=l+8|0;t[o>>2]=p;t[((p&-4)+o|0)-4>>2]=p;break a}t[(o+p|0)-4>>2]=p}o=o+4|0}else o=0;return o}function J(o){var p=0,l,q=0,m,n=0;if(o){l=o-4|0;m=t[l>>2];q=m;p=l;n=t[o-8>>2];o=n&-2;(o|0)!=(n|0)&&(p=l-o|0,q=t[p+4>>2],t[q+8>>2]=t[p+8>>2],t[t[p+8>>2]+4>>2]=q,q=o+m|0);o=l+m|0;l=t[o>>2];(l|0)!=t[(o+l|0)-4>>2]&&(m=t[o+4>>2],t[m+8>>2]=t[o+8>>2],t[t[o+8>>2]+4>>2]=m,q=q+l|0);t[p>>2]=q;t[((q&-4)+p|0)-4>>2]=q|1;n=p;q=t[p>>2]-8|0;a:{if(q>>>0<=127){o=(q>>>3|0)-1|0;break a}m=y(q);o=((q>>>29-m^4)-(m<<2)|0)+110|0;if(q>>>0<=4095)break a;o=((q>>>30-m^2)-(m<<1)|0)+71|0;o=o>>>0<63?o:63}l=o<<4;t[n+4>>2]=l+1376;l=l+1384|0;t[p+8>>2]=t[l>>2];t[l>>2]=p;t[t[p+8>>2]+4>>2]=p;l=t[603];p=o&31;(o&63)>>>0>=32?(o=1<<p,p=0):(o=(1<<p)-1&1>>>32-p,p=1<<p);t[602]=p|t[602];t[603]=o|l}}function K(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-48|0;A=p;t[p+40>>2]=n;t[p+36>>2]=o;t[p+32>>2]=l;a:{if(!(t[p+32>>2]?t[p+36>>2]:0)){t[p+44>>2]=5;break a}if(w[p+40>>2]>4){t[p+44>>2]=8;break a}t[p+28>>2]=5;m=p,l=D(t[p+28>>2]),t[m+24>>2]=l;if(!t[p+24>>2]){t[p+44>>2]=3;break a}t[p+20>>2]=t[p+24>>2];q[p+19|0]=3;q[t[p+20>>2]]=u[p+19|0];t[p+20>>2]=t[p+20>>2]+1;t[p+12>>2]=1;n=t[p+20>>2];o=u[p+12|0]|u[p+13|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;q[n+2|0]=u[p+14|0];t[p+20>>2]=t[p+20>>2]+3;q[p+11|0]=t[p+40>>2];q[t[p+20>>2]]=u[p+11|0];t[t[p+36>>2]>>2]=t[p+24>>2];t[t[p+32>>2]>>2]=t[p+28>>2];t[p+44>>2]=0}A=p+48|0;return t[p+44>>2]}function L(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(R(n,t[o>>2],m)){if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+32>>2]=p;b:{if(t[o+44>>2]==4)break b;s[o+52>>1]=0;n=t[n+8>>2];ka[t[t[n>>2]+20>>2]](n,o,l,l,1,m);if(u[o+53|0]){t[o+44>>2]=3;if(!u[o+52|0])break b;break a}t[o+44>>2]=4}t[o+20>>2]=l;t[o+40>>2]=t[o+40>>2]+1;if(t[o+36>>2]!=1|t[o+24>>2]!=2)break a;q[o+54|0]=1;return}n=t[n+8>>2];ka[t[t[n>>2]+24>>2]](n,o,l,p,m)}}function M(o,p,l,q,m){var n=0;n=A-32|0;A=n;t[n+24>>2]=o;t[n+20>>2]=p;t[n+16>>2]=l;t[n+12>>2]=q;t[n+8>>2]=m;a:{if(w[n+16>>2]<1){t[n+28>>2]=9;break a}t[t[n+8>>2]>>2]=t[n+16>>2]-1;if(w[t[n+20>>2]>>2]<w[t[n+8>>2]>>2]){t[n+28>>2]=1;break a}o=D(t[t[n+8>>2]>>2]);t[t[n+12>>2]>>2]=o;if(!t[t[n+12>>2]>>2]){t[n+28>>2]=3;break a}ba(t[t[n+12>>2]>>2],t[t[n+24>>2]>>2],t[t[n+8>>2]>>2]);o=t[n+24>>2];t[o>>2]=t[t[n+8>>2]>>2]+t[o>>2];o=t[n+20>>2];t[o>>2]=t[o>>2]-t[t[n+8>>2]>>2];t[n+28>>2]=0}A=n+32|0;return t[n+28>>2]}function N(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-32|0;A=p;s[p+26>>1]=n;t[p+20>>2]=o;t[p+16>>2]=l;t[t[p+16>>2]>>2]=3;m=p,l=D(t[t[p+16>>2]>>2]),t[m+12>>2]=l;a:{if(!t[p+12>>2]){t[p+28>>2]=3;break a}t[t[p+20>>2]>>2]=t[p+12>>2];q[p+11|0]=14;q[t[p+12>>2]]=u[p+11|0];t[p+12>>2]=t[p+12>>2]+1;n=t[p+12>>2];o=u[p+26|0]|u[p+27|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;t[p+28>>2]=0}A=p+32|0;return t[p+28>>2]}function O(m,n){var l=0;l=A-16|0;A=l;t[l+12>>2]=m;t[l+8>>2]=n;t[l+4>>2]=0;while(1){if(w[l+4>>2]<w[l+8>>2]){t[l>>2]=t[l+12>>2]+x(t[l+4>>2],20);a:{if(!(t[t[l>>2]>>2]&15)){J(t[t[l>>2]+8>>2]);break a}b:{if((t[t[l>>2]>>2]&15)==5){J(t[t[l>>2]+8>>2]);break b}(t[t[l>>2]>>2]&15)==6&&J(t[t[l>>2]+12>>2])}}t[l+4>>2]=t[l+4>>2]+1;continue}break}J(t[l+12>>2]);A=l+16|0}function P(m,n,l,o){q[m+53|0]=1;a:{if(t[m+4>>2]!=(l|0))break a;q[m+52|0]=1;l=t[m+16>>2];if(!l){t[m+36>>2]=1;t[m+24>>2]=o;t[m+16>>2]=n;if((o|0)!=1|t[m+48>>2]!=1)break a;q[m+54|0]=1;return}if((n|0)==(l|0)){l=t[m+24>>2];(l|0)==2&&(t[m+24>>2]=o,l=o);if(t[m+48>>2]!=1|(l|0)!=1)break a;q[m+54|0]=1;return}q[m+54|0]=1;t[m+36>>2]=t[m+36>>2]+1}}function Q(n,o,l,p){var m;m=A-32|0;t[m+24>>2]=n;t[m+20>>2]=o;t[m+16>>2]=l;t[m+12>>2]=p;q[m+11|0]=0;a:{if(w[t[m+20>>2]>>2]<1){t[m+28>>2]=1;break a}q[m+11|0]=u[t[t[m+24>>2]>>2]];n=t[m+24>>2];t[n>>2]=t[n>>2]+1;n=t[m+20>>2];t[n>>2]=t[n>>2]-1;q[t[m+16>>2]]=(u[m+11|0]&128)==128;q[t[m+12>>2]]=u[m+11|0]&127;t[m+28>>2]=0}return t[m+28>>2]}function ma(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(!R(n,t[o>>2],m))break a;if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+20>>2]=l;t[o+32>>2]=p;t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]!=1|t[o+24>>2]!=2||(q[o+54|0]=1);t[o+44>>2]=4}}function R(m,n,l){var o;if(!l)return t[m+4>>2]==t[n+4>>2];if((m|0)==(n|0))return 1;l=t[m+4>>2];m=u[l|0];n=t[n+4>>2];o=u[n|0];a:{if(!m|(o|0)!=(m|0))break a;while(1){o=u[n+1|0];m=u[l+1|0];if(!m)break a;n=n+1|0;l=l+1|0;if((m|0)==(o|0))continue;break}}return(m|0)==(o|0)}function na(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=9;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function S(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=10;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function T(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=2;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function U(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=4;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function V(l){var m=0;m=A-16|0;A=m;t[m+12>>2]=l;l=1;a:{if(X(t[m+12>>2])&1)break a;l=1;if(t[m+12>>2]==15)break a;l=1;if(t[m+12>>2]==13)break a;l=1;if(t[m+12>>2]==12)break a;l=t[m+12>>2]==14}A=m+16|0;return l}function W(m,n,l){var o;o=t[m+16>>2];if(!o){t[m+36>>2]=1;t[m+24>>2]=l;t[m+16>>2]=n;return}a:{if((n|0)==(o|0)){if(t[m+24>>2]!=2)break a;t[m+24>>2]=l;return}q[m+54|0]=1;t[m+24>>2]=2;t[m+36>>2]=t[m+36>>2]+1}}function X(l){var m;m=A-16|0;t[m+12>>2]=l;l=1;a:{if(t[m+12>>2]==5)break a;l=1;if(t[m+12>>2]==6)break a;l=1;if(t[m+12>>2]==7)break a;l=t[m+12>>2]==8}return l}function Y(o,p,l,q,m,n){o=o|0;p=p|0;l=l|0;q=q|0;m=m|0;n=n|0;if(R(o,t[p+8>>2],n)){P(p,l,q,m);return}o=t[o+8>>2];ka[t[t[o>>2]+20>>2]](o,p,l,q,m,n)}function Z(){var m=0,n,l;while(1){n=m<<4;l=n+1376|0;t[n+1380>>2]=l;t[n+1384>>2]=l;m=m+1|0;if((m|0)!=64)continue;break}G(48)}function $(m,n,l,o){m=m|0;n=n|0;l=l|0;o=o|0;if(R(m,t[n+8>>2],0)){W(n,l,o);return}m=t[m+8>>2];ka[t[t[m>>2]+28>>2]](m,n,l,o)}function aa(o,p,l,q,m,n){o=o|0,p=p|0,l=l|0,q=q|0,m=m|0,n=n|0,R(o,t[p+8>>2],n)&&P(p,l,q,m)}function ba(m,n,l){if(l)while(1){q[m|0]=u[n|0];m=m+1|0;n=n+1|0;l=l-1|0;if(l)continue;break}}function ca(l,m){if(m)while(1){q[l|0]=0;l=l+1|0;m=m-1|0;if(m)continue;break}}function oa(m,n,l,o){m=m|0,n=n|0,l=l|0,o=o|0,R(m,t[n+8>>2],0)&&W(n,l,o)}function da(m,n,l){t[m+28>>2]==1|t[m+4>>2]!=(n|0)||(t[m+28>>2]=l)}function pa(l,m){l=l|0;m=m|0;return x(m,20)+l|0}function ea(l){l=l|0;return v[l+8>>1]>>>1|0}function qa(l){l=l|0;return s[l+8>>1]&1}function fa(l){l=l|0;return t[l+12>>2]}function ra(l){l=l|0;return t[l>>2]&15}function sa(l){l=l|0;return t[l+16>>2]}function ga(l){l=l|0;return v[l+4>>1]}function ha(l){l=l|0;return t[l+8>>2]}function ia(l){l=l|0;return u[l+4|0]}function ja(l){l=l|0;return l|0}function ta(l){return D(l)}function ua(l){l=l|0,J(l)}function va(l){l|0}n=u;r(l);var ka=m([null,ja,ua,va,va,H,aa,ma,oa,ua,Y,L,$]);function wa(){return p.byteLength/65536|0}function xa(l){l=l|0;var m=wa()|0;l=m+l|0;if(m<l&&l<65536){l=new ArrayBuffer(x(l,65536));var r=new Int8Array(l);r.set(q);q=new Int8Array(l);s=new Int16Array(l);t=new Int32Array(l);u=new Uint8Array(l);v=new Uint16Array(l);w=new Uint32Array(l);new Float32Array(l);new Float64Array(l);p=l;o.buffer=p;n=u}return m}return{c:Z,d:ta,e:ua,f:T,g:U,h:K,i:F,j:N,k:E,l:la,m:na,n:S,o:C,p:ra,q:ia,r:pa,s:ga,t:ha,u:fa,v:fa,w:sa,x:ea,y:qa,z:ea,A:ka}}return s(l)}(ha)},instantiate:function(l,m){return{then:function(n){var m=new D.Module(l);n({instance:new D.Instance(m)})}}},RuntimeError:Error};C=[];typeof D!=="object"&&Y("no native wasm support detected");var E,F=!1;function G(l,m){l||Y("Assertion failed: "+m)}function la(l,m){l%m>0&&(l+=m-l%m);return l}var H,I;function J(l){H=l,m.HEAP8=new Int8Array(l),m.HEAP16=new Int16Array(l),m.HEAP32=new Int32Array(l),m.HEAPU8=I=new Uint8Array(l),m.HEAPU16=new Uint16Array(l),m.HEAPU32=new Uint32Array(l),m.HEAPF32=new Float32Array(l),m.HEAPF64=new Float64Array(l)}u=m.INITIAL_MEMORY||2097152;m.wasmMemory?E=m.wasmMemory:E=new D.Memory({initial:u/65536,maximum:2147483648/65536});E&&(H=E.buffer);H.byteLength;J(H);var K,L=[],M=[],N=[];function O(){if(m.preRun){typeof m.preRun=="function"&&(m.preRun=[m.preRun]);while(m.preRun.length)ma(m.preRun.shift())}da(L)}function P(){da(M)}function Q(){if(m.postRun){typeof m.postRun=="function"&&(m.postRun=[m.postRun]);while(m.postRun.length)na(m.postRun.shift())}da(N)}function ma(l){L.unshift(l)}function R(l){M.unshift(l)}function na(l){N.unshift(l)}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(l,m){var n=l>>>16;l=l&65535;var o=m>>>16;m=m&65535;return l*m+(n*m+l*o<<16)|0});if(!Math.fround){var S=new Float32Array(1);Math.fround=function(l){S[0]=l;return S[0]}}Math.clz32||(Math.clz32=function(l){var m=32,n=l>>16;n&&(m-=16,l=n);n=l>>8;n&&(m-=8,l=n);n=l>>4;n&&(m-=4,l=n);n=l>>2;n&&(m-=2,l=n);n=l>>1;return n?m-2:m-l});Math.trunc||(Math.trunc=function(l){return l<0?Math.ceil(l):Math.floor(l)});var T=0,U=null,V=null;function W(l){T++,m.monitorRunDependencies&&m.monitorRunDependencies(T)}function X(l){T--;m.monitorRunDependencies&&m.monitorRunDependencies(T);if(T==0){U!==null&&(clearInterval(U),U=null);if(V){l=V;V=null;l()}}}m.preloadedImages={};m.preloadedAudios={};function Y(l){m.onAbort&&m.onAbort(l);l+="";B(l);F=!0;l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";l=new D.RuntimeError(l);s(l);throw l}var Z="data:application/octet-stream;base64,";function $(l){return l.startsWith(Z)}var aa="dgwcppbridge.wasm";$(aa)||(aa=z(aa));function ba(l){try{if(l==aa&&C)return new Uint8Array(C);var m=ga(l);if(m)return m;if(A)return A(l);else throw"both async and sync fetching of the wasm failed"}catch(l){Y(l)}}function ca(){return!C&&(w||x)&&typeof fetch==="function"?fetch(aa,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+aa+"'";return l.arrayBuffer()})["catch"](function(){return ba(aa)}):n.resolve().then(function(){return ba(aa)})}function oa(){var n={a:ha};function o(n,l){l=n.exports;m.asm=l;K=m.asm.A;R(m.asm.c);X("wasm-instantiate")}W("wasm-instantiate");function r(l){o(l.instance)}function t(l){return ca().then(function(l){l=D.instantiate(l,n);return l}).then(l,function(l){B("failed to asynchronously prepare wasm: "+l),Y(l)})}function u(){if(!C&&typeof D.instantiateStreaming==="function"&&!$(aa)&&typeof fetch==="function")return fetch(aa,{credentials:"same-origin"}).then(function(l){l=D.instantiateStreaming(l,n);return l.then(r,function(l){B("wasm streaming compile failed: "+l);B("falling back to ArrayBuffer instantiation");return t(r)})});else return t(r)}if(m.instantiateWasm)try{var l=m.instantiateWasm(n,o);return l}catch(l){B("Module.instantiateWasm callback failed with error: "+l);return!1}u()["catch"](s);return{}}function da(l){while(l.length>0){var n=l.shift();if(typeof n=="function"){n(m);continue}var o=n.func;typeof o==="number"?n.arg===void 0?K.get(o)():K.get(o)(n.arg):o(n.arg===void 0?null:n.arg)}}function pa(l){try{E.grow(l-H.byteLength+65535>>>16);J(E.buffer);return 1}catch(l){}}function ea(l){var m=I.length;l=l>>>0;var n=2147483648;if(l>n)return!1;for(var o=1;o<=4;o*=2){var p=m*(1+.2/o);p=Math.min(p,l+100663296);p=Math.min(n,la(Math.max(l,p),65536));p=pa(p);if(p)return!0}return!1}var qa=!1;function fa(l){var m=[];for(var n=0;n<l.length;n++){var o=l[n];o>255&&(qa&&G(!1,"Character code "+o+" ("+String.fromCharCode(o)+")  at offset "+n+" not in 0x00-0xFF."),o&=255);m.push(String.fromCharCode(o))}return m.join("")}var ra=typeof atob==="function"?atob:function(l){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",o,p,q,r,s,t=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");do p=m.indexOf(l.charAt(t++)),q=m.indexOf(l.charAt(t++)),r=m.indexOf(l.charAt(t++)),s=m.indexOf(l.charAt(t++)),p=p<<2|q>>4,q=(q&15)<<4|r>>2,o=(r&3)<<6|s,n=n+String.fromCharCode(p),r!==64&&(n=n+String.fromCharCode(q)),s!==64&&(n=n+String.fromCharCode(o));while(t<l.length);return n};function sa(l){try{l=ra(l);var m=new Uint8Array(l.length);for(var n=0;n<l.length;++n)m[n]=l.charCodeAt(n);return m}catch(l){throw new Error("Converting base64 string to bytes failed.")}}function ga(l){if(!$(l))return;return sa(l.slice(Z.length))}var ha={b:ea,a:E};oa();m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.c).apply(null,arguments)};m.__malloc=function(){return(m.__malloc=m.asm.d).apply(null,arguments)};m.__free=function(){return(m.__free=m.asm.e).apply(null,arguments)};m.__DgwCodecEncodeEmpty=function(){return(m.__DgwCodecEncodeEmpty=m.asm.f).apply(null,arguments)};m.__DgwCodecEncodeDeauth=function(){return(m.__DgwCodecEncodeDeauth=m.asm.g).apply(null,arguments)};m.__DgwCodecEncodeDrain=function(){return(m.__DgwCodecEncodeDrain=m.asm.h).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(m.__DgwCodecEncodeStreamGroup_EstabStream=m.asm.i).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(m.__DgwCodecEncodeStreamGroup_EndOfData=m.asm.j).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Data=function(){return(m.__DgwCodecEncodeStreamGroup_Data=m.asm.k).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Ack=function(){return(m.__DgwCodecEncodeStreamGroup_Ack=m.asm.l).apply(null,arguments)};m.__DgwCodecEncodePing=function(){return(m.__DgwCodecEncodePing=m.asm.m).apply(null,arguments)};m.__DgwCodecEncodePong=function(){return(m.__DgwCodecEncodePong=m.asm.n).apply(null,arguments)};m.__DgwCodecDecode=function(){return(m.__DgwCodecDecode=m.asm.o).apply(null,arguments)};m.__getFrameType=function(){return(m.__getFrameType=m.asm.p).apply(null,arguments)};m.__getDrainReasonFromDrainFrame=function(){return(m.__getDrainReasonFromDrainFrame=m.asm.q).apply(null,arguments)};m.__getDGWFramePtr=function(){return(m.__getDGWFramePtr=m.asm.r).apply(null,arguments)};m.__getStreamIdFromStreamGroupFrame=function(){return(m.__getStreamIdFromStreamGroupFrame=m.asm.s).apply(null,arguments)};m.__getEncodedParamsFromEstablishStreamFrame=function(){return(m.__getEncodedParamsFromEstablishStreamFrame=m.asm.t).apply(null,arguments)};m.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(m.__getEncodedParamsSizeFromEstablishStreamFrame=m.asm.u).apply(null,arguments)};m.__getDataFromGroupedStreamDataFrame=function(){return(m.__getDataFromGroupedStreamDataFrame=m.asm.v).apply(null,arguments)};m.__getDataSizeFromGroupedStreamDataFrame=function(){return(m.__getDataSizeFromGroupedStreamDataFrame=m.asm.w).apply(null,arguments)};m.__getAckIdFromGroupedStreamDataFrame=function(){return(m.__getAckIdFromGroupedStreamDataFrame=m.asm.x).apply(null,arguments)};m.__getRequiresAckFromGroupedStreamDataFrame=function(){return(m.__getRequiresAckFromGroupedStreamDataFrame=m.asm.y).apply(null,arguments)};m.__getAckIdFromGroupedStreamAckFrame=function(){return(m.__getAckIdFromGroupedStreamAckFrame=m.asm.z).apply(null,arguments)};var ia;V=function l(){ia||ja(),ia||(V=l)};function ja(l){l||v;if(T>0)return;O();if(T>0)return;function n(){if(ia)return;ia=!0;m.calledRun=!0;if(F)return;P();o(m);m.onRuntimeInitialized&&m.onRuntimeInitialized();Q()}m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),n()},1)):n()}m.run=ja;if(m.preInit){typeof m.preInit=="function"&&(m.preInit=[m.preInit]);while(m.preInit.length>0)m.preInit.pop()()}ja();return m.ready}}();typeof q==="object"&&typeof p==="object"?p.exports=r:typeof define==="function"&&define.amd?define([],function(){return r}):typeof q==="object"&&(q.Module=r)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","DGWLoggingContext","Promise","Random","URI","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=4;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=d("Random").random()*16|0;a=a==="x"?b:b&3|8;return a.toString(16)})}function k(a){var b=new TextDecoder();b=b.decode(a);a=c("Base64").encode(b);b=a.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return b}var l=null,m=null;function n(){m==null&&(m=(i||(i=b("Promise"))).resolve().then(function(){return c("DGWCppBridge")()}).then(function(a){l=a}));return m}e=function(){function a(){}a.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return n()});function c(){return a.apply(this,arguments)}return c}();a.constructConnectUrl=function(a){var b,e,f=a.appId,g=a.appVersion,i=a.authType,j=a.deviceId,l=a.dgwVersion,m=a.fbId,n=a.tier,o=a.loggingId,p=a.headers,q=a.endpoint,r=a.serviceId,s=a.regionHint,t=a.establishStreamFrame;a=a.trafficTracing;var u=(b={},b[(e=d("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=f,b[e.HEADER_CONSTANTS.HEADER_APPVERSION]=g,b[e.HEADER_CONSTANTS.HEADER_AUTHTYPE]=i,b[e.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+l,b[e.HEADER_CONSTANTS.HEADER_UUID]=m,b[e.HEADER_CONSTANTS.HEADER_TARGET_TIER]=n,b);t!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=k(t));o!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=o);s!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=s);j!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=j);a!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.TRAFFIC_TRACING]="debug:"+a);Object.keys(p).forEach(function(a){var b=d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(u,b)||(u[b]=p[a])});f=new(h||(h=c("URI")))(q);f.setQueryData(u);f.setPath(f.getPath()+"/"+r);f.toString().length>2e3&&(delete u[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],f.setQueryData(u));return f.toStringRawQuery()};return a}();f=function(){function a(a,b,c){this.$1=null,this.$2=a,this.$3=b,this.$4=c}a.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return n()});function c(){return a.apply(this,arguments)}return c}();var c=a.prototype;c.malloc=function(a){try{a=l.__malloc(a);if(a===0){var b;(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0");return-1}return a}catch(a){(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",a.toString());return-1}};c.free=function(a){l.__free(a)};c.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};c.processData=function(){var a=this;if(this.$1==null)return;var b=this.$1.length,c=this.malloc(b);if(c===-1)return;var e=l.HEAPU8.subarray(c,c+b);if(this.$1)for(var f=0;f<e.length;++f)e[f]=this.$1[f];f=this.malloc(j*4);if(f===-1)return;e=f;var g=e+j,h=g+j,i=h+j;b=l.__DgwCodecDecode(c,b,e,g,h,i);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){this.free(f);(h=this.$2)==null?void 0:h.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return}c=l.HEAPU32.subarray(i/j,i/j+1)[0];if(this.$1==null){this.free(f);return}h=this.$1.length-c;if(this.$1&&this.$1.length>h){this.$1=new Uint8Array(((b=this.$1)==null?void 0:b.subarray(h))||[])}else this.$1=null;i=l.HEAPU32.subarray(g/j,g/j+1)[0];c=l.HEAPU32.subarray(e/j,e/j+1)[0];var k=[];for(b=0;b<i;++b){var m=l.__getDGWFramePtr(c,b);h=l.__getFrameType(m);switch(h){case d("DGWConstants").DgwFrameType.DgwFrameType_Drain:g=function(b){var c=l.__getDrainReasonFromDrainFrame(m),e=d("DGWConstants").drainReasonToDrainReasonString(c);(b=a.$2)==null?void 0:b.logEvent(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+e);k.push(function(){var b;return(b=a.$3)==null?void 0:b.receivedDrainSignal(e)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getEncodedParamsFromEstablishStreamFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getEncodedParamsSizeFromEstablishStreamFrame(m)));a.free(c);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEstablishStreamReceived(b,d)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:h=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getDataFromGroupedStreamDataFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getDataSizeFromGroupedStreamDataFrame(m)));a.free(c);var e=l.__getRequiresAckFromGroupedStreamDataFrame(m)?l.__getAckIdFromGroupedStreamDataFrame(m):null;k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamDataReceived(b,d,e)});return"break"}();if(h==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:g=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getAckIdFromGroupedStreamAckFrame(m);k.push(function(){var d;return(d=a.$3)==null?void 0:d.onGroupedStreamAckReceived(b,c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEndOfDataReceived(b)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_Ping:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPingReceived()});break;case d("DGWConstants").DgwFrameType.DgwFrameType_Pong:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPongReceived()});break;default:break}this.free(m)}this.free(f);for(h=0;h<k.length;h++)k[h]()};c.encodeData=function(a,b,c,e){var f=this.malloc(a.length);if(f===-1)return null;var g=l.HEAPU8.subarray(f,f+a.length);for(var h=0;h<g.length;++h)g[h]=a[h];a=this.malloc(j*2);h=a;var i=a+j;e=l.__DgwCodecEncodeStreamGroup_Data(e,f,g.length,b,c,h,i);this.free(f);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(g=this.$2)==null?void 0:g.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}b=l.HEAPU32.subarray(h/j,h/j+1)[0];c=l.HEAPU32.subarray(i/j,i/j+1)[0];f=new Uint8Array(l.HEAPU8.subarray(b,b+c));this.free(b);this.free(a);return f};c.encodeAck=function(a,b){var c=this.malloc(j*2);if(c===-1)return null;var e=c,f=c+j;b=l.__DgwCodecEncodeStreamGroup_Ack(b,a,e,f);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(a=this.$2)==null?void 0:a.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return null}a=l.HEAPU32.subarray(e/j,e/j+1)[0];b=l.HEAPU32.subarray(f/j,f/j+1)[0];e=new Uint8Array(l.HEAPU8.subarray(a,a+b));this.free(a);this.free(c);return e};c.encodeDrain=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeDrain(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};c.encodeEstablishStream=function(a,b){var c=this.malloc(b.length);if(c===-1)return null;var e=l.HEAPU8.subarray(c,c+b.length);for(var f=0;f<b.length;++f)e[f]=b[f];e=this.malloc(j*2);f=e;var g=e+j;b=l.__DgwCodecEncodeStreamGroup_EstabStream(a,c,b.length,f,g);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(c=this.$2)==null?void 0:c.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b)+" for StreamId "+a);return null}c=l.HEAPU32.subarray(f/j,f/j+1)[0];b=l.HEAPU32.subarray(g/j,g/j+1)[0];a=new Uint8Array(l.HEAPU8.subarray(c,c+b));this.free(c);this.free(e);return a};c.encodeEndOfData=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeStreamGroup_EndOfData(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};c.encodePing=function(){var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePing(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);return b};c.encodePong=function(){if(this.$5!=null)return this.$5;var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePong(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$5=b;return b};return a}();g.uuidv4=a;g.Uint8ArrayToBase64UrlStr=k;g.DGWUtils=e;g.DGWCodec=f}),98);
__d("DGWExponentialBackoff",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g,h={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=h);try{return yield k(a,b)}catch(a){throw a.errors[a.errors.length-1]}});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=0,d=[],e=b.baseRetryInterval,f=b.backoffFactor;while(c<=b.maxRetries){try{var g=(yield a());return g}catch(a){d.push(a)}yield m(e*Math.pow(f,c));++c}throw new i("Max call count exceeded",d)});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield new(g||(g=b("Promise")))(function(b){return window.setTimeout(b,a)})});return n.apply(this,arguments)}f.callWithExponentialBackoff=a}),66);
__d("DGWGlobalLogger",["gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b.prototype;a.$1=function(a){if(window.BroadcastChannel!=null)return new BroadcastChannel(a);else return{onmessage:function(a){},postMessage:function(a){}}};function b(){var a=this;this.tabID=c("uuidv4")();this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={realtime:0,lightspeed:0};this.broadcastChannel=this.$1("DGWGlobalLogger");this.broadcastChannel.onmessage=function(b){b=JSON.parse(String(b.data));var c=!a.otherTabs.has(b.key);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$2())}}a.streamRequested=function(a){switch(a){case"realtime":this.thisTab.realtime++;break;case"lightspeed":this.thisTab.lightspeed++;break}this.$2()};a.streamClosed=function(a){switch(a){case"realtime":this.thisTab.realtime=Math.max(0,this.thisTab.realtime-1);break;case"lightspeed":this.thisTab.lightspeed=Math.max(0,this.thisTab.lightspeed-1);break}this.$2()};a.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.postMessage(JSON.stringify(a))};a.getGlobalState=function(){var a={realtime:this.thisTab.realtime,lightspeed:this.thisTab.lightspeed};this.otherTabs.forEach(function(b){a.realtime+=b.realtime,a.lightspeed+=b.lightspeed});return a};a.$2=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.postMessage(JSON.stringify(a))};return b}();var h=c("gkx")("4337")?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{realtime:-1,lightspeed:-1}}};b=function(){return h};g.getInstance=b}),98);
__d("DGWPinger",["DGWLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;if(this.$3){var b;(b=d("DGWLoggingContext")).DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout_fired.reset");this.$3=!1;this.$4();b.DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout.newtimeout");this.$2=window.setTimeout(function(){a.$6()},this.$1)}else d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null);this.$1>0&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)};return a}();g.DGWPinger=a}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8,TRANSPORT_NORMAL_CLOSURE:9});function a(a){switch(a){case g.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}c=function(){function a(){}var b=a.prototype;b.onStreamGroupError=function(){};b.onStreamGroupMustDrain=function(){};b.onStreamGroupTransportClose=function(){};return a}();f.DGWStreamGroupError=g;f.isRetryableError=a;f.NoOpDGWStreamGroupCallbacks=c}),66);
__d("DGWTransportEvents",["DGWLoggingContext","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=a}var b=a.prototype;b.transportEstablished=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open",a),this.$2=Date.now(),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")};b.transportPingSent=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Ping Frame Sent",a,!0)};b.transportPongReceived=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Pong Frame Received",a,!0)};b.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")};b.transportClosed=function(a,b,c){this.$4=Date.now(),a?(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",b,c))};b.transportEstablishmentFailure=function(a){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+a.code+" reason: "+a.reason+" wasClean: "+String(a.wasClean)),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")};b.streamEstablishmentTimeout=function(a,b,e){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",a,"streamId:"+b+", onLine:"+String(c("NetworkStatus").isOnline()),!1,e),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")};b.streamEstablishmentPending=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")};b.streamEstablishmentSuccess=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")};b.transportError=function(a,b,c){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,a,b,c)};b.receivedFrameForInactiveStream=function(a,b,c){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+a+", streamID: "+b,c)};b.ranOutOfStreamIds=function(a){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",a)};return a}();g.DGWTransportEvents=a}),98);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";a.onopen=function(){};a.onclose=function(){};a.onerror=function(){};return a}f.getWebSocketConnection=a}),66);
__d("DGWStreamEvents",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$5=new Map(),this.$6=a,this.$1=b,c!=null&&(this.$8="streamId:"+c+"::")}var b=a.prototype;b.dataSent=function(a,b,c){var d=b?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,d,((d=this.$8)!=null?d:"")+"sendId:"+c+", payloadSize:"+a,!0);this.$4.set(c,{ackRequested:b,payloadSize:a,sendTimestamp:Date.now()})};b.ackReceived=function(a){var b;this.$6.logEvent(this.$1,"AckReceived",((b=this.$8)!=null?b:"")+"sendId:"+a,!0);this.$6.bumpODSKey(this.$1,"ack_received");b=this.$4.get(a);b!=null&&(b.ackReceivedTimestamp=Date.now())};b.ackSent=function(a){var b;this.$6.bumpODSKey(this.$1,"ack_sent");this.$6.logEvent(this.$1,"ACK sent",((b=this.$8)!=null?b:"")+"ackId:"+a,!0)};b.drainSent=function(a){var b;this.$6.logEvent(this.$1,"Drain sent",((b=this.$8)!=null?b:"")+"drainReason: "+a)};b.dataReceived=function(a,b,c){var d;this.$6.bumpODSKey(this.$1,"data_received");this.$6.logEvent(this.$1,"Data received",((d=this.$8)!=null?d:"")+"sendId:"+(c!=null?c:"null")+", ackRequested:"+b.toString()+", payloadSize:"+a,!0);c!=null&&this.$5.set(c,{ackRequested:b,payloadSize:a,receiveTimestamp:Date.now()})};b.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)};b.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)};b.streamClosed=function(a,b){this.$7=Date.now();var c=this.$9();if(a){this.$6.bumpODSKey(this.$1,"stream_closed_gracefully");this.$6.logEvent(this.$1,"Stream closed gracefully",""+((a=this.$8)!=null?a:"")+c)}else{this.$6.bumpODSKey(this.$1,"stream_closed_with_error");this.$6.logError(this.$1,"Stream closed abnormally",b,""+((a=this.$8)!=null?a:"")+c)}};b.connectionEstablishmentFailure=function(a){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+a)};b.streamEstablishmentFailure=function(a,b){this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+a.toString(),""+((a=this.$8)!=null?a:"")+b);this.$6.bumpODSKey(this.$1,"stream_establishment_failure")};b.error=function(a,b){b={msg:b,state:this.$9()};this.$6.logError(this.$1,a,JSON.stringify(b),this.$8)};b.$9=function(){var a={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","QuickPerformanceLogger","Random","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(701242292,"2919");a=function(){function a(a,b,e,f,g,j,k){this.$1=a,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=b,this.$7=e,this.$8=f,this.$2=j,this.$9=g,this.$10=new(d("DGWAckManager").DGWAckManager)(this.$9),this.$12=new(d("DGWStreamEvents").DGWStreamEvents)(this.$9,d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=k,this.$14=Date.now()+(Math.round(d("Random").random()*1e4)+1e4),(h||(h=c("QuickPerformanceLogger"))).markerStart(i,this.$14)}var e=a.prototype;e.send=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=this.$11++%d("DGWConstants").MAX_ACK_ID;a=this.$15(a,!0,c);if(!this.$16(a,!0,c))return!1;a=(yield this.$10.waitForAck(c,b!=null?b:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS));return a});function c(b,c){return a.apply(this,arguments)}return c}();e.sendFrame=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=this.$11++%d("DGWConstants").MAX_ACK_ID;b=this.$15(b,!0,e);if(b==null)return!1;var f=new Uint8Array(a.length+b.length);f.set(a);f.set(b,a.length);if(!this.$16(f,!0,e))return!1;b=(yield this.$10.waitForAck(e,c!=null?c:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();e.sendAndForget=function(a){a=this.$15(a,!1,0);return this.$16(a,!1,0)};e.sendFrameAndForget=function(a,b){b=this.$15(b,!1,0);if(b==null)return!1;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return this.$16(c,!1,0)};e.close=function(){var a=this.$2.encodeEndOfData(this.$1);if(a==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}a=this.$8.send(a);if(!a){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent();this.$5=!0;this.$4&&this.$17()};e.loggingContext=function(){return this.$9};e.__sendDrain=function(a){var b=d("DGWConstants").drainReasonToDrainReasonString(a);if(this.$5)return!1;a=this.$2.encodeDrain(a);if(a==null)return!1;this.$12.drainSent(b);b=this.$8.send(a);return b};e.__transportCloseHook=function(a){this.$13(),this.$10.clearPendingAcks(),a?(this.$12.error("Received StreamError","StreamErrorType: "+a),this.$6.onError(a)):this.$5&&this.$4?this.$17():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(d("DGWStream").StreamError.PREMATURE_CLOSE))};e.$17=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)};e.__dataReceivedHook=function(a,b){this.$12.dataReceived(a.length,b!=null,b),b!=null&&this.$18(b),this.$6.onDataReceived(a)};e.__ackReceivedHook=function(a){this.$12.ackReceived(a),this.$10.handleAckReceived(a)};e.__drainReceivedHook=function(a){this.$3===!1&&(this.$6.onStreamMustDrain(this,a),this.$3=!0)};e.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$17():this.$6.onServerHasFinishedSendingData(this)};e.__markerPoint=function(a){var b=this.$14;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,a,{instanceKey:b})};e.__markerAnnotate=function(a){var b=this.$14;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,a,{instanceKey:b})};e.__endMarker=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,a,this.$14)};e.$15=function(a,b,c){return this.$2.encodeData(a,b,c,this.$1)};e.$16=function(a,b,c){this.__markerPoint("send_data_start");if(this.$5){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally");return!1}if(a==null)return!1;var e=this.$8.send(a);if(!e){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString());return!1}this.__markerPoint("send_data_end");this.$12.dataSent(a.length,b,c);return!0};e.$18=function(a){var b=this.$2.encodeAck(a,this.$1);if(b==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+a);return!1}b=this.$8.send(b);if(!b){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+a);return!1}this.$12.ackSent(a);return!0};return a}();g.GroupedStream=a}),98);
__d("StreamIdGenerator",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=65535;a=function(){function a(){this.$1=new Set(),this.$2=0}var b=a.prototype;b.getNextStreamId=function(){var a;if(!this.streamIdAvailable())throw c("err")("Max number of stream IDs reached");if(this.$2<=h)return this.$2++;a=(a=this.$1.values().next().value)!=null?a:0;this.$1["delete"](a);return a};b.putBackStreamId=function(a){this.$1.add(a)};b.streamIdAvailable=function(){return this.$1.size>0||this.$2<=h};return a}();g.MAX_STREAM_ID=h;g.StreamIdGeneratorImpl=a}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWGlobalLogger","DGWLoggingContext","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","Promise","QuickPerformanceLogger","Random","Run","StreamIdGenerator","asyncToGeneratorRuntime","err","gkx","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(701238781,"3037"),k=c("gkx")("12124"),l=(a=c("qex")._("4494"))!=null?a:20,m=(e=c("qex")._("4495"))!=null?e:!1,n=(f=c("qex")._("4807"))!=null?f:!1,o=function(a,b,c,e,f){var g=this;this.groupedStream=a;this.$1=window.setTimeout(function(){c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},e);this.handleEstablishFrameReceived=function(){window.clearTimeout(g.$1),b(g.groupedStream)};this.abortStream=function(a){f(),c(a)}};a=function(){function a(b,e,f,g,h,k,l,m){var n=this;this.$18=-1;this.$15=h;this.$17=this.__getStreamIdGenerator();this.$5=new Map();this.$6=new Map();this.$7=g.keepAliveMs;this.$8=!1;this.$9=!1;this.$3=!0;this.$4=!1;this.$21=!1;this.$22=!1;this.$13=f;this.$11=new TextEncoder();this.$12=new TextDecoder();this.$14=g;h={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(a){n.$9||(n.$9=!0,n.$15(),n.$13.transportClosed(!0,""),n.$14.streamGroupCallbacks.onStreamGroupMustDrain(a),n.$5.forEach(function(b){b.__drainReceivedHook(a)}),n.onClose(d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE))},onGroupedStreamDataReceived:function(a,b,c){if(n.$5.has(a)){var d=n.$5.get(a);d==null?void 0:d.__dataReceivedHook(b,c)}else n.$13.receivedFrameForInactiveStream("Data",a,"sendAckID: "+(c!=null?c:"null"))},onGroupedStreamAckReceived:function(a,b){if(n.$5.has(a)){var c=n.$5.get(a);c==null?void 0:c.__ackReceivedHook(b)}else n.$13.receivedFrameForInactiveStream("ACK",a,"ackId: "+(b!=null?b:"null"))},onGroupedStreamEndOfDataReceived:function(a){if(n.$5.has(a)){var b=n.$5.get(a);b==null?void 0:b.__endOfDataHook()}else n.$13.receivedFrameForInactiveStream("EndOfData",a)},onGroupedStreamEstablishStreamReceived:function(a,b){if(n.$6.has(a)){var c=n.$6.get(a);n.$6["delete"](a);b=JSON.parse(n.$12.decode(b));(b.code===void 0||b.code!==200)&&(c==null?void 0:c.abortStream(d("DGWStream").StreamError.ABNORMAL_CLOSURE));c==null?void 0:c.handleEstablishFrameReceived()}else n.$13.receivedFrameForInactiveStream("EstablishStream",a,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var a=n.$2.encodePing();if(a==null)return;n.send(a)},onPongReceived:function(){n.$3=!1,n.$22||(n.$22=!0,n.__markerPoint("auth_success")),n.$13.transportPongReceived("readyState:"+n.$1.readyState+", bufferedAmount:"+n.$1.bufferedAmount)}};this.$2=new(d("DGWUtils").DGWCodec)(k,h,g.dgwVersion);this.$20=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);this.$23=d("DGWGlobalLogger").getInstance();d("Run").onUnload(function(){n.$23.tabClosed()});if(g.enableFirstStreamOnWsHandshake){if(l===void 0)throw c("err")("Missing grouped stream options");if(m===void 0)throw c("err")("Missing grouped stream callbacks");var o=this.$17.getNextStreamId();f=this.createEstablishStreamFrame(o,l);h=d("DGWUtils").DGWUtils.constructConnectUrl({appId:g.appId,appVersion:g.appVersion,authType:g.authType,deviceId:(k=g.deviceId)!=null?k:void 0,dgwVersion:g.dgwVersion,fbId:g.fbId,tier:g.tier,loggingId:(h=g.loggingId)!=null?h:void 0,headers:a.__prefixAppHeaders(g.headers),endpoint:g.connectEndpoint,serviceId:g.serviceId,regionHint:(k=g.regionHint)!=null?k:void 0,establishStreamFrame:f});this.$1=e(h);if(!h.includes(d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;k=new(d("DGWLoggingContext").DGWLoggingContext)(this.$14.dgwVersion,l.loggingId,this.$14.serviceId,this.$14.fbId,this.$14.loggingId,l.disableFalcoLogging);f=this.__createGroupedStream(o,m,l,k);this.$16=this.waitForEstablishStream(o,f,l,function(a){n.$5.set(o,a)},function(){n.$17.putBackStreamId(o)})}else this.$1=e(b);this.$23.streamRequested(g.serviceId);(i||(i=c("QuickPerformanceLogger"))).markerStart(j,this.$20);this.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId}})}var e=a.prototype;e.send=function(a){try{this.$1.send(a);return!0}catch(a){this.$13.transportError("Failed to send over transport","readyState: "+this.$1.readyState,a.toString());return!1}};e.close=function(){this.onClose()};e.onClose=function(a){var b;this.$23.streamClosed(this.$14.serviceId);this.__markerPoint("abort");this.__markerAnnotate({"int":{abort_code:a!=null?a:0}});this.$8=!0;(b=this.$10)==null?void 0:b.cancel();this.$1.close(a)};e.abort=function(a,b,c,d,e){if(this.$8)return;this.$23.streamClosed(this.$14.serviceId);this.$8=!0;this.$13.transportClosed(!1,d,e);this.$5.forEach(function(a){a.__transportCloseHook(b)});this.$6.forEach(function(a){a.abortStream(b)});this.$14.streamGroupCallbacks.onStreamGroupError(a);this.$5.clear();this.$6.clear();this.$15();this.onClose(c)};a.getTransportWithInitialStream=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e,f,g,h){yield d("DGWUtils").DGWCodec.initialize();var i=new(d("DGWTransportEvents").DGWTransportEvents)(f);i.transportEstablishmentPending();var j=function(){return a.$24("",e,i,g,f,b,c)};try{j=(yield d("DGWExponentialBackoff").callWithExponentialBackoff(j,h));h=j.$16!=null?j.$16:j.establishGroupedStream(c,b,new(d("DGWLoggingContext").DGWLoggingContext)(e.dgwVersion,b.loggingId,e.serviceId,e.fbId,e.loggingId,b.disableFalcoLogging));return{transport:j,streamPromise:h}}catch(a){throw a}});function e(a,b,d,e,f,g){return c.apply(this,arguments)}return e}();a.getTransport_DEPRECATED=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e,f,g){yield d("DGWUtils").DGWCodec.initialize();var h=new(d("DGWTransportEvents").DGWTransportEvents)(e);h.transportEstablishmentPending();var i=function(){return a.$24(b,c,h,f,e)};try{return yield d("DGWExponentialBackoff").callWithExponentialBackoff(i,g)}catch(a){throw a}});function e(a,b,d,e,f){return c.apply(this,arguments)}return e}();e.establishGroupedStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f,g,i){var j=this;g===void 0&&(g=!0);var k=this.getStreamId(),l=this.createEstablishStreamFrame(k,d);a=this.__createGroupedStream(k,a,d,e);a.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId,streamId:d.streamTraceId}});i!=null&&a.__markerAnnotate(i);e=this.waitForEstablishStream(k,a,d,function(a){j.$5.set(k,a)},function(){j.$17.putBackStreamId(k)});if(f!=null){a.__markerPoint("send_payload_start");a.__markerAnnotate({"int":{establishStreamPayloadSize:f.byteLength}});i=g?yield a.sendFrame(l,f):a.sendFrameAndForget(l,f);if(!i){a.__endMarker(3);return(h||(h=b("Promise"))).reject("Failed to send data when establishing stream")}a.__markerPoint("send_payload_end");a.__endMarker(2);return(h||(h=b("Promise"))).resolve(a)}a.__markerPoint("send_establish_stream_start");if(!this.send(l)){a.__endMarker(3);throw c("err")("Websocket connection closed before stream established")}a.__markerPoint("send_establish_stream_end");d=(yield e);a.__endMarker(2);return d});function d(b,c,d,e,f,g){return a.apply(this,arguments)}return d}();a.__prefixAppHeaders=function(a){return Object.keys(a).reduce(function(b,c){b[""+d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+c]=a[c];return b},{})};e.waitForEstablishStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e,f){var g=this;this.$13.streamEstablishmentPending(a,d.loggingId);try{var i=(yield new(h||(h=b("Promise")))(function(b,d){g.$6.set(a,new o(c,b,d,3e4,function(){g.streamEndCallback(a)}))}));e(c);this.$13.streamEstablishmentSuccess(a,d.loggingId);return i}catch(b){f();this.$13.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,a,d.loggingId);throw b}});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();a.$24=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e,f,g,h,i){var j=new a(b,d("DGWWebSocketTransport").getWebSocketConnection,e,c,f,g,h,i);j.$1.onmessage=a.$25(j);j.$1.onopen=function(){j.__markerPoint("onopen"),e.transportEstablished(b),j.$10!=null&&j.$10.cancel(),j.$7!=null&&(j.$10=new(d("DGWPinger").DGWPinger)(j.$7,function(){j.$26()},function(){if(n)j.abort(d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,d("DGWStream").StreamError.KEEPALIVE_TIMEOUT,d("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+j.$1.readyState+", bufferedAmount:"+j.$1.bufferedAmount);else if(j.$18===0&&k){var a;(a=j.$10)==null?void 0:a.reset()}else j.abort(d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,d("DGWStream").StreamError.KEEPALIVE_TIMEOUT,d("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+j.$1.readyState+", bufferedAmount:"+j.$1.bufferedAmount)}))};j.$1.onerror=function(){j.__markerPoint("onerror"),j.$13.transportError("onerror","readyState: "+j.$1.readyState)};j.$1.onclose=a.$27(j);c=(yield a.getTransportPromise(j));return c});function e(a,b,d,e,f,g,h){return c.apply(this,arguments)}return e}();a.getTransportPromise=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield new(h||(h=b("Promise")))(function(b,c){var e=a.$1.onerror,f=a.$1.onmessage,g=a.$1.onclose;a.$19=window.setTimeout(function(){a.$15(),a.$13.transportClosed(!1,"TIMEOUT"),a.__markerPoint("connect_timeout"),a.close(),c(d("DGWStream").StreamError.TRANSPORT_ESTABLISHMENT_TIMEOUT)},l*1e3);a.$1.onerror=function(){a.$19!=null&&(window.clearTimeout(a.$19),a.$19=null),e(),m||c(d("DGWStream").StreamError.ESTABLISHMENT_ERROR)};a.$1.onclose=function(b){a.$19!=null&&(window.clearTimeout(a.$19),a.$19=null),g(b),b.code===d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED?c(d("DGWStream").StreamError.UNAUTHORIZED):c(b.code+":"+b.reason)};a.$1.onmessage=function(c){f(c),a.$19!=null&&!a.$3&&(window.clearTimeout(a.$19),a.$19=null,a.__markerPoint("connect_success"),b(a))}}));return c});function c(b){return a.apply(this,arguments)}return c}();a.$25=function(a){return function(b){var c;a.$21||(a.$21=!0,a.__markerPoint("onmessage"));(c=a.$10)==null?void 0:c.reset();if(!(b.data instanceof ArrayBuffer)){a.$13.transportError("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$2.append(new Uint8Array(b.data));a.$2.processData()}};a.$27=function(a){return function(b){var c=a.$23.getGlobalState();a.__markerPoint("onclose");a.__markerAnnotate({string:{reason:b.reason},"int":{code:b.code,realtimeWebSockets:c.realtime,lightspeedWebSockets:c.lightspeed}});a.__endMarker(b.code===d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE?2:3);(c=a.$10)==null?void 0:c.cancel();if(a.$8===!0||a.$4)return;a.$23.streamClosed(a.$14.serviceId);a.$8=!0;if(a.$3===!0){a.$13.transportEstablishmentFailure(b);a.$5.clear();a.$15();return}a.$15();a.$3=!0;if(b.code!==d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){a.$13.transportClosed(!1,"Websocket connection failure with code: "+b.code+" reason: "+b.reason+" wasClean: "+String(b.wasClean));c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;var e=d("DGWStream").StreamError.UNKNOWN_ERROR;switch(b.code){case d("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_NORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case d("DGWConstants").WebsocketCloseCodes.GOING_AWAY:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY;e=d("DGWStream").StreamError.GOING_AWAY;break;case d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED;e=d("DGWStream").StreamError.UNAUTHORIZED;break;case d("DGWConstants").WebsocketCloseCodes.REJECTED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED;e=d("DGWStream").StreamError.REJECTED;break;case d("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST;e=d("DGWStream").StreamError.BAD_REQUEST;break;case d("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.DGW_SERVER_ERROR;c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;e=d("DGWStream").StreamError.UNKNOWN_ERROR;break}a.$14.streamGroupCallbacks.onStreamGroupError(c);a.$5.forEach(function(a){a.__transportCloseHook(e)});a.$6.forEach(function(a){a.abortStream(e)})}else a.$13.transportClosed(!0,""),a.$14.streamGroupCallbacks.onStreamGroupTransportClose(),a.$5.forEach(function(a){a.__transportCloseHook()}),a.$6.forEach(function(a){a.abortStream(d("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});a.$5.clear();a.$6.clear()}};e.$26=function(){var a=this.$2.encodePing();if(a==null)throw c("err")("Failed to encode Ping Frame");var b=this.send(a);this.$18=this.$1.bufferedAmount;this.$13.transportPingSent("readyState:"+this.$1.readyState+", bufferedAmount:"+this.$18+", payloadSize:"+(a==null?void 0:a.byteLength)+", sent:"+String(b))};e.isClosedLocally=function(){return this.$3||this.$8||this.$4};e.streamEndCallback=function(a){this.$5["delete"](a),this.$6["delete"](a),this.$17.putBackStreamId(a)};e.canCreateGroupedStream=function(){return this.$17.streamIdAvailable()};e.createEstablishStreamFrame=function(b,e){var f=a.__prefixAppHeaders(e.groupedStreamHeaders);e.streamTraceId!=null&&(f[d("DGWConstants").HEADER_CONSTANTS.HEADER_STREAM_TRACE_ID]=e.streamTraceId);e=this.$2.encodeEstablishStream(b,new Uint8Array(this.$11.encode(JSON.stringify(f))));if(e==null){this.$17.putBackStreamId(b);throw c("err")("Failed to encode EstablishStreamFrame")}return e};e.getStreamId=function(){try{return this.$17.getNextStreamId()}catch(a){this.$13.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size);throw a}};e.__createGroupedStream=function(a,b,c,e){var f=this;return new(d("GroupedStream").GroupedStream)(a,b,c,this,e,this.$2,function(){f.streamEndCallback(a)})};e.__getStreamIdGenerator=function(){return new(d("StreamIdGenerator").StreamIdGeneratorImpl)()};e.__markerPoint=function(a){var b=this.$20;(i||(i=c("QuickPerformanceLogger"))).markerPoint(j,a,{instanceKey:b})};e.__markerAnnotate=function(a){var b=this.$20;(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(j,a,{instanceKey:b})};e.__endMarker=function(a){(i||(i=c("QuickPerformanceLogger"))).markerEnd(j,a,this.$20)};return a}();g.StreamGroupWebSocketTransport=a}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h={maxRetries:c("justknobx")._("2595"),baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};a=function(){function a(a,b,c,e,f,g,h,i,j){this.$2=j;this.$1=j.getNewStreamGroupId();j=(j=h.overrideUrl)!=null?j:f;this.$5=null;this.$3={appId:a,appVersion:b,authType:c,deviceId:h.deviceId,dgwVersion:e,headers:h.streamGroupAppHeaders,tier:(f=h.serviceTier)!=null?f:d("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:j,fbId:g,loggingId:h.loggingId,serviceId:h.serviceId,streamGroupCallbacks:i,keepAliveMs:h.keepAliveMs,regionHint:h.regionHint,enableFirstStreamOnWsHandshake:!1};this.$4=h;this.streamGroupLoggingContext=new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,null,this.$3.serviceId,this.$3.fbId,this.$4.loggingId,!1,(a=h.verboseLoggingEnabled)!=null?a:!1);this.$6=d("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(b=this.$3.deviceId)!=null?b:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers["extends"]({},this.$3.headers),loggingId:(c=this.$3.loggingId)!=null?c:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(e=this.$3.regionHint)!=null?e:void 0,trafficTracing:(f=this.$4.trafficTracing)!=null?f:void 0})}var c=a.prototype;c.initTransport=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=this,a={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){b.$2.removeStreamGroupAndTransport(b.$1)},a);var c;try{c=(yield this.$5),this.$5=null}catch(a){this.$5=null;throw a}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,c);return c});function c(){return a.apply(this,arguments)}return c}();c.establishStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){var g=this;if(this.$2.containsStreamGroup(this.$1)===!1){this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream");if(!this.$3.enableFirstStreamOnWsHandshake){this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){g.$2.removeStreamGroupAndTransport(g.$1)},h);var i;try{i=(yield this.$5),this.$5=null}catch(a){this.$5=null;throw a}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,i)}else{var j=(yield d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(a,b,this.$3,this.streamGroupLoggingContext,function(){g.$2.removeStreamGroupAndTransport(g.$1)},h));this.$2.setStreamGroupAndTransport(this.$1,j.transport);return j.streamPromise}}return this.establishStreamWithTransport(a,b,c,e,f)});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();c.establishStreamWithTransport=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){var g=a.loggingId;this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream","initialData:"+String(c!=null),!0,g);g=(yield this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(b,a,new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,g,this.$3.serviceId,this.$3.fbId,this.$3.loggingId,a.disableFalcoLogging,(b=a.verboseLoggingEnabled)!=null?b:!1),c,e,f));return g});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();c.canCreateGroupedStream=function(){var a=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var b=this.$2.getStreamGroupTransport(this.$1);a=b.canCreateGroupedStream()}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a?"can_create":"cannot_create");return a};c.close=function(){var a=this.$2.getStreamGroupTransport(this.$1);a.close()};return a}();g.StreamGroup=a}),98);
__d("StreamGroupRegistry",["Random","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var b=a.prototype;b.setStreamGroupAndTransport=function(a,b){this.$1.set(a,b)};b.containsStreamGroup=function(a){return this.$1.has(a)};b.removeStreamGroupAndTransport=function(a){this.$1["delete"](a)};b.getStreamGroupTransport=function(a){a=this.$1.get(a);if(a==null)throw c("err")("No stream group transport");return a};b.getNewStreamGroupId=function(){var a=d("Random").uint32();while(this.$2.has(a))a=d("Random").uint32();this.$2.add(a);return a};return a}();g.StreamGroupRegistry=a}),98);
__d("RawDGWClient",["CurrentUser","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.appId,c=a.appVersion,e=a.authType,f=a.dgwVersion,g=a.endpoint;a=a.fbId;this.$1=b;this.$2=c;this.$3=e;this.$4=f;this.$5=g;this.$6=a;this.$7=new(d("StreamGroupRegistry").StreamGroupRegistry)()}var b=a.prototype;b.createStreamGroup=function(a,b){this.handleUserChecks();return new(d("StreamGroup").StreamGroup)(this.$1,this.$2,this.$3,this.$4,this.$5,this.$6,b,a,this.$7)};b.handleUserChecks=function(){if(!c("CurrentUser").isLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated");throw d("DGWStream").StreamError.UNAUTHENTICATED}};return a}();g.RawDGWClient=a}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("RawDGWClient").RawDGWClient)({appId:c("DGWWebConfig").appId,appVersion:c("DGWWebConfig").appVersion,authType:d("DGWAuth").fromStringToDGWAuth(c("DGWEnvUtil").getDGWAuthType()),dgwVersion:c("DGWEnvUtil").getDGWVersion(),endpoint:c("DGWEnvUtil").getDGWEndpoint(),fbId:c("DGWWebConfig").fbId});function a(){if(c("DGWEnvUtil").isDGWEnvCompatible())return h;else throw c("err")("unsupported_environment_retry_with_mqtt")}g["default"]=a}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f){var g={};for(a of Object.entries(a)){var h=a[0],i=a[1];typeof i=="string"?g["XRSS-"+h]=i:typeof i=="number"?g["XRSN-"+h]=i.toString():typeof i=="boolean"?g["XRSB-"+h]=i.toString():typeof i=="object"&&i!=null&&(g["XRSO-"+h]=c("Base64").encode(JSON.stringify(i)))}d&&(g["xrs-body"]="true");e!=null&&e.length>0&&(g["xrs-instrumentation"]=c("Base64").encode(e));g["XRS-Accept-Ack"]="RSAck";f!=null&&f.ackTimeoutSec!=null&&(g["XRS-SRAck-Timeout"]=f.ackTimeoutSec.toString());g["XRSS-http_referer"]=window.location.href;if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){h=b("cr:3024")==null?void 0:b("cr:3024").get();h!=null&&(g["XRSB-is_test"]="true",g["XRSS-original_request_id"]=h)}return g}function h(a){return Object.keys(a).reduce(function(b,c){(typeof a[c]==="string"||typeof a[c]==="boolean"||typeof a[c]==="number"||typeof a[c]==="object")&&(b[c]=a[c]);return b},{})}function d(a){if(a.response&&a.response.instrumentation_data!=null&&a.response.instrumentation_data.length>0)try{a=JSON.parse(new TextDecoder("utf-8").decode(a.response.instrumentation_data));return{auxId:a.auxId,dfTraceId:(a=a.dataFlowTracingData)==null?void 0:a.traceId}}catch(a){}return null}function e(a,b){var c=a.headers;a=a.body;b.kill_body===!0&&(a=null);b.new_body!=null&&(a=b.new_body);if(b.new_headers!=null)try{c=h(JSON.parse(b.new_headers))}catch(a){}if(b.patch_headers!=null)try{c=babelHelpers["extends"]({},c,{},h(JSON.parse(b.patch_headers)))}catch(a){}return{headers:c,body:a}}g.convertHeaders=a;g.cleanHeaders=h;g.getInstrumentationDataFieldsFromPayload=d;g.transformContextWithRewriteDelta=e}),98);
__d("DGWStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=e,this.$1=!0}var b=a.prototype;b.onClose=function(a){if(!this.$1)return;this.$2(a)};b.onDataReceived=function(a){if(!this.$1)return;this.$3(a)};b.onError=function(a){if(!this.$1)return;this.$4(a)};b.onStreamMustDrain=function(a,b){if(!this.$1)return;this.$5(a,b)};b.onServerHasFinishedSendingData=function(a){if(!this.$1)return;this.$6(a)};b.stop=function(){this.$1=!1};b.isStopped=function(){return!this.$1};return a}();f["default"]=a}),66);
__d("InflightAmends",["Deferred","err"],(function(a,b,c,d,e,f,g){"use strict";var h="inflight_amends_timeout",i="inflight_amends_duplicate_id";a=function(){function a(a,b,c){this.$1=a,this.$3=b,this.$4=c,this.$2=new Map()}var b=a.prototype;b.add=function(a){var b=this;if(this.$2.has(a))throw c("err")(i);var d=new(c("Deferred"))(),e=Date.now(),f=setTimeout(function(){b.$2.has(a)&&b.reject(a,c("err")(h))},this.$1);this.$2.set(a,{id:a,deferred:d,createdTimestampMs:e,timeoutId:f});return d.getPromise()};b.getPromise=function(a){return(a=this.$5(a))==null?void 0:a.deferred.getPromise()};b.resolve=function(a,b){a=this.$5(a);a&&(a.deferred.resolve==null?void 0:a.deferred.resolve(b),this.$3(a.id,Date.now()-a.createdTimestampMs),this.$6(a))};b.reject=function(a,b){a=this.$5(a);a&&(a.deferred.reject==null?void 0:a.deferred.reject(b),this.$4(a.id,b),this.$6(a))};b.rejectAll=function(a){for(var b of this.$2.entries()){var c=b[0];b[1];this.reject(c,a)}};b.getSize=function(){return this.$2.size};b.getAllPromises=function(){var a=[];for(var b of this.$2.values())a.push(b.deferred.getPromise());return a};b.$6=function(a){clearTimeout(a.timeoutId),this.$2["delete"](a.id)};b.$5=function(a){return this.$2.get(a)};return a}();g["default"]=a}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);f.RequestStreamCloseReason=a}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{expected_existing_headers:"",patch_headers_if_match:""}}function e(){return{bytes:Uint8Array.of()}}function f(){return{message:""}}function i(){return{reason:d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function j(){return{}}function k(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function l(){return{caller_timestamp_ms:"0"}}function m(){return{original_ping_timestamp_ms:"0"}}function n(){return{}}function o(a,b){b.writeStructBegin("ResponseRewriteRequest"),a.new_headers!=null&&(b.writeFieldBegin({fname:"new_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.new_headers),b.writeFieldEnd()),a.new_body!=null&&(b.writeFieldBegin({fname:"new_body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.new_body),b.writeFieldEnd()),a.patch_headers!=null&&(b.writeFieldBegin({fname:"patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers),b.writeFieldEnd()),a.kill_body!=null&&(b.writeFieldBegin({fname:"kill_body",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:4}),b.writeBool(a.kill_body),b.writeFieldEnd()),a.temporary!=null&&(b.writeFieldBegin({fname:"temporary",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:5}),b.writeBool(a.temporary),b.writeFieldEnd()),a.conditional_patch_headers!=null&&(b.writeFieldBegin({fname:"conditional_patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),p(a.conditional_patch_headers,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function p(a,b){b.writeStructBegin("ResponseRewriteConditionalPatchHeaders");b.writeFieldBegin({fname:"expected_existing_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.expected_existing_headers!=null)b.writeString(a.expected_existing_headers);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"patch_headers_if_match",ftype:h.STRING,fid:2});if(a.patch_headers_if_match!=null)b.writeString(a.patch_headers_if_match);else{d="";b.writeString(d)}b.writeFieldEnd();a.patch_headers_otherwise!=null&&(b.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers_otherwise),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("ResponseData");b.writeFieldBegin({fname:"bytes",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.bytes!=null)b.writeBinary(a.bytes);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.metadata!=null&&(b.writeFieldBegin({fname:"metadata",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.metadata),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("LogMessage");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.message!=null)b.writeString(a.message);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("Termination");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.message!=null&&(b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.message),b.writeFieldEnd());a.retry_delay_ms!=null&&(b.writeFieldBegin({fname:"retry_delay_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(c("jsbi").BigInt(a.retry_delay_ms)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("AmendStreamAck"),a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd()),a.accepted!=null&&(b.writeFieldBegin({fname:"accepted",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:2}),b.writeBool(a.accepted),b.writeFieldEnd()),a.result!=null&&(b.writeFieldBegin({fname:"result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.result),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function u(a,b){b.writeStructBegin("StreamCheck");b.writeFieldBegin({fname:"stream_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.stream_id!=null)b.writeI64(c("jsbi").BigInt(a.stream_id));else{var e="0";b.writeI64(c("jsbi").BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"last_sequencer",ftype:h.I32,fid:2});if(a.last_sequencer!=null)b.writeI32(a.last_sequencer);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"amendment_count",ftype:h.I32,fid:4});if(a.amendment_count!=null)b.writeI32(a.amendment_count);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"last_status",ftype:h.I32,fid:3});if(a.last_status!=null){b.writeI32((e=a.last_status)!=null?e:0)}else{a=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);b.writeI32(a!=null?a:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("Ping");b.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.caller_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.caller_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.streams_to_check!=null){b.writeFieldBegin({fname:"streams_to_check",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.streams_to_check.length});for(d of a.streams_to_check)u(d,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("Pong");b.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.original_ping_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.original_ping_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.stream_ids_missing!=null){b.writeFieldBegin({fname:"stream_ids_missing",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.I64,size:a.stream_ids_missing.length});for(d of a.stream_ids_missing)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_behind!=null){b.writeFieldBegin({fname:"stream_ids_behind",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:3});b.writeListBegin({etype:h.I64,size:a.stream_ids_behind.length});for(d of a.stream_ids_behind)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_lost_amendments!=null){b.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:4});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_lost_amendments.length});for(d of a.stream_ids_with_lost_amendments)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_wrong_status!=null){b.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:5});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_wrong_status.length});for(d of a.stream_ids_with_wrong_status)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("StreamResponseDelta");if(a.flow_status!=null){var d;b.writeFieldBegin({fname:"flow_status",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((d=a.flow_status)!=null?d:0);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.log!=null){b.writeFieldBegin({fname:"log",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});r(a.log,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.rewrite!=null){b.writeFieldBegin({fname:"rewrite",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});o(a.rewrite,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.data!=null){b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});q(a.data,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.termination!=null){b.writeFieldBegin({fname:"termination",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});s(a.termination,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend_ack!=null){b.writeFieldBegin({fname:"amend_ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});t(a.amend_ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.new_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.new_body=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.kill_body=a.readBool():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).BOOL?b.temporary=a.readBool():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conditional_patch_headers=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function z(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.expected_existing_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_if_match=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_otherwise=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.expected_existing_headers===void 0&&(b.expected_existing_headers="");b.patch_headers_if_match===void 0&&(b.patch_headers_if_match="");return b}function A(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.bytes=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.metadata=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bytes===void 0&&(b.bytes=Uint8Array.of());return b}function B(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message="");return b}function C(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.retry_delay_ms=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0));return b}function D(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.accepted=a.readBool():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function E(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.stream_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.last_sequencer=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.amendment_count=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.stream_id===void 0&&(b.stream_id="0");b.last_sequencer===void 0&&(b.last_sequencer=0);b.amendment_count===void 0&&(b.amendment_count=0);b.last_status===void 0&&(b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0));return b}function F(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.caller_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.streams_to_check=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=E(a);b.streams_to_check.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.caller_timestamp_ms===void 0&&(b.caller_timestamp_ms="0");return b}function G(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.original_ping_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_missing=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.stream_ids_missing.push(g)}}else a.skip(e);break;case 3:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_behind=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_behind.push(d)}}else a.skip(e);break;case 4:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_lost_amendments=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=a.readI64().toString();b.stream_ids_with_lost_amendments.push(g)}}else a.skip(e);break;case 5:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_wrong_status=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_with_wrong_status.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.original_ping_timestamp_ms===void 0&&(b.original_ping_timestamp_ms="0");return b}function H(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).I32)if(b==null)e.flow_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()),b="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.log=B(a),b="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.rewrite=y(a),b="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.data=A(a),b="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.termination=C(a),b="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend_ack=D(a),b="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.ResponseRewriteRequest$DefaultConstructor=a;g.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=b;g.ResponseData$DefaultConstructor=e;g.LogMessage$DefaultConstructor=f;g.Termination$DefaultConstructor=i;g.AmendStreamAck$DefaultConstructor=j;g.StreamCheck$DefaultConstructor=k;g.Ping$DefaultConstructor=l;g.Pong$DefaultConstructor=m;g.StreamResponseDelta$DefaultConstructor=n;g.serializeResponseRewriteRequest=o;g.serializeResponseRewriteConditionalPatchHeaders=p;g.serializeResponseData=q;g.serializeLogMessage=r;g.serializeTermination=s;g.serializeAmendStreamAck=t;g.serializeStreamCheck=u;g.serializePing=v;g.serializePong=w;g.serializeStreamResponseDelta=x;g.deserializeResponseRewriteRequest=y;g.deserializeResponseRewriteConditionalPatchHeaders=z;g.deserializeResponseData=A;g.deserializeLogMessage=B;g.deserializeTermination=C;g.deserializeAmendStreamAck=D;g.deserializeStreamCheck=E;g.deserializePing=F;g.deserializePong=G;g.deserializeStreamResponseDelta=H}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500});c=b("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});e.exports={Ack:a,Payload$Types:c}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{body:Uint8Array.of()}}function e(){return{amendment:Uint8Array.of()}}function f(){return{ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function i(){return{delta:[]}}function j(){return{}}function k(a,b){b.writeStructBegin("RequestStreamHeaders"),a.headers!=null&&(b.writeFieldBegin({fname:"headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeBinary(a.headers),b.writeFieldEnd()),a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function l(a,b){b.writeStructBegin("RequestStreamBody");b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.body!=null)b.writeBinary(a.body);else{a=Uint8Array.of();b.writeBinary(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function m(a,b){b.writeStructBegin("AmendStream");a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"amendment",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.amendment!=null)b.writeBinary(a.amendment);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.is_query!=null&&(b.writeFieldBegin({fname:"is_query",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:3}),b.writeBool(a.is_query),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function n(a,b){b.writeStructBegin("StreamResponseAck");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.ack!=null){var e;b.writeI32((e=a.ack)!=null?e:0)}else{e=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);b.writeI32(e!=null?e:0)}b.writeFieldEnd();a.query_result!=null&&(b.writeFieldBegin({fname:"query_result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.query_result),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function o(a,b){b.writeStructBegin("StreamResponse");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"delta",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});if(a.delta!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.delta.length});for(var e of a.delta)d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(e,b);b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:e.length});for(e of e)d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(e,b);b.writeListEnd()}b.writeFieldEnd();if(a.ack_level!=null){b.writeFieldBegin({fname:"ack_level",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3});b.writeI32((e=a.ack_level)!=null?e:0);b.writeFieldEnd()}a.query_request!=null&&(b.writeFieldBegin({fname:"query_request",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.query_request),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function p(a,b){b.writeStructBegin("Payload");if(a.request_headers!=null){b.writeFieldBegin({fname:"request_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});k(a.request_headers,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.request_body!=null){b.writeFieldBegin({fname:"request_body",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});l(a.request_body,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend!=null){b.writeFieldBegin({fname:"amend",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});m(a.amend,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ack!=null){b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});n(a.ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.response!=null){b.writeFieldBegin({fname:"response",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});o(a.response,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ping!=null){b.writeFieldBegin({fname:"ping",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});d("RequestStreamCommonRequestStreamCommonSerializers").serializePing(a.ping,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.pong!=null){b.writeFieldBegin({fname:"pong",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7});d("RequestStreamCommonRequestStreamCommonSerializers").serializePong(a.pong,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function q(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.headers=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function r(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.body=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.body===void 0&&(b.body=Uint8Array.of());return b}function s(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.amendment=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.is_query=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.amendment===void 0&&(b.amendment=Uint8Array.of());return b}function t(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.query_result=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.ack===void 0&&(b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0));return b}function u(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.delta=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(a);b.delta.push(i)}}else a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.ack_level=d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.query_request=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.delta===void 0&&(b.delta=[]);return b}function v(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_headers=q(a),b="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_body=r(a),b="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend=s(a),b="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ack=t(a),b="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.response=u(a),b="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ping=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(a),b="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+b);else a.skip(g);break;case 7:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.pong=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(a),b="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.RequestStreamHeaders$DefaultConstructor=a;g.RequestStreamBody$DefaultConstructor=b;g.AmendStream$DefaultConstructor=e;g.StreamResponseAck$DefaultConstructor=f;g.StreamResponse$DefaultConstructor=i;g.Payload$DefaultConstructor=j;g.serializeRequestStreamHeaders=k;g.serializeRequestStreamBody=l;g.serializeAmendStream=m;g.serializeStreamResponseAck=n;g.serializeStreamResponse=o;g.serializePayload=p;g.deserializeRequestStreamHeaders=q;g.deserializeRequestStreamBody=r;g.deserializeAmendStream=s;g.deserializeStreamResponseAck=t;g.deserializeStreamResponse=u;g.deserializePayload=v}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:if(a.seenAccepted)return a;return a.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?a:{flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:if(!a.seenAccepted||a.flowStatus===b)return a;else return{flowStatus:b,seenAccepted:!0}}}g.getNextState=a}),98);
__d("StreamRetryState",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=2*60*1e3;a=function(){function a(){this.$1=0}var b=a.prototype;b.resetErrorAndRetryCount=function(){this.$1=0};b.onRetry=function(){this.$1+=1};b.getRetryCount=function(){return this.$1};b.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return g*Math.random();var a=g*Math.pow(2,this.$1-3),b=a*Math.random();a=a+b;return Math.min(a,h)};return a}();f["default"]=a}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","ODS","Promise","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","asyncToGeneratorRuntime","err","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=4,k=0,l=1e3,m=2,n=c("gkx")("20915")?3e4:5e3,o="dgw_stream_send_ack_failure",p=(a=c("qex")._("1382"))!=null?a:!1,q=(e=c("qex")._("2067"))!=null?e:!1;function r(a){if(!a){a=c("err")(o);a.stack;throw a}}function s(a,b){if(a==null||a.length===0)return null;a=JSON.parse(a);a.auxId=b;return new TextEncoder().encode(JSON.stringify(a))}function t(a){var b={};a=a.delta;a.forEach(function(a){if(a.flow_status){b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status;switch(a.flow_status){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:b.flow_status="Accepted";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:b.flow_status="Started";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:b.flow_status="Stopped";break}}else a.log?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:a.rewrite?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:a.data?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:a.termination?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:a.amend_ack&&(b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)});return b}f=function(){function a(a,b,e,f,g,h){var i=this;this.$6=null;this.$7={};this.$10=!1;this.$15=new(c("StreamRetryState"))();this.$16=0;this.$17=0;this.$18=0;this.$21=0;var k=null;typeof b==="string"?k=new TextEncoder().encode(b):typeof b==="object"&&(k=b);this.$1={headers:a,body:k};this.$3=e;this.$4=f;this.$12=j;this.$9=!1;this.$14=!1;this.$20=h;k=f==null?void 0:f.serviceId;g!=null&&(this.$22()||(g.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId(k)),g.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(k),g.transport="WEB_RS_STARGATE");this.$5=d("RequestStreamE2ESampling").validateInstrumentationData(a,g,f==null?void 0:f.requestLogContext,f==null?void 0:f.upsampleMultiplier);!this.$22()?this.$6=d("RequestStreamE2ELogger").createStreamLogger(a,this.$5,d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE):this.$7.disableFalcoLogging=!0;(f==null?void 0:f.deviceId)!=null&&(this.$7.deviceId=f.deviceId);this.$6&&(this.$7.loggingId=this.$6.getRequestId());f&&f.overrideUrl!=null&&(this.$7.overrideUrl=f.overrideUrl);k!=null&&(this.$7.serviceId=k);this.$8={flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1};this.$19=new(c("InflightAmends"))(n,function(a,b){var d;(d=i.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers["extends"]({},i.$23(),{latency:b.toString()}),a)},function(a,b){if(b.message!==o){var d;(d=i.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers["extends"]({},i.$23(),{reason:b.message}),a)}});(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(g=b==null?void 0:(h=b.length)==null?void 0:h.toString())!=null?g:"0"},"0","0")}var e=a.prototype;e.getInstrumentationData=function(){return this.$5};e.getE2EClientLogger=function(){return this.$6};e.amendWithAck=function(a){a=this.$24(a,!0);return a==null?(i||(i=b("Promise"))).resolve(!1):this.$19.getPromise(a)||(i||(i=b("Promise"))).resolve(!1)};e.amendWithoutAck=function(a){this.$24(a,!1)};e.cancel=function(){var a;(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.$9=!0;this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)};e.start=function(a){var e=this;a===void 0&&(a=!1);var f=String(this.$16++),g=Date.now();return this.$26(f).then(function(){var a;e.$14=!1;e.$21=0;var b=(Date.now()-g).toString();(a=e.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:b},f,String(e.$18))})["catch"](function(g){g.stack;if(g.message===o&&e.$10)return;e.$14=!1;if(g!==d("DGWStream").StreamError.ESTABLISHMENT_ERROR){var h,j=g.message;g===d("DGWStream").StreamError.UNAUTHENTICATED?j="UNAUTHENTICATED":g===d("DGWStream").StreamError.UNAUTHORIZED&&(j="UNAUTHORIZED");(h=e.$6)==null?void 0:h.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:j},f,String(e.$18));e.$25(a?d("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:d("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,j,!0);if(g===d("DGWStream").StreamError.UNAUTHENTICATED||g===d("DGWStream").StreamError.UNAUTHORIZED)return;throw g}else{(h=e.$6)==null?void 0:h.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(j=g.message)!=null?j:g},f,String(e.$18));e.$15.onRetry();var k=c("gkx")("20916")?e.$15.getBackoffDelayMs():l*Math.pow(m,e.$21);return new(i||(i=b("Promise")))(function(a){return window.setTimeout(a,k)}).then(function(){e.$21++;e.$18++;return e.start()})}})};e.getFlowStatus=function(){return this.$8.flowStatus};e.shouldTerminateOrRetry=function(a,e,f,g){var h=this;if(this.$14)return;var j=e;this.$12||(j="cannot retry for error: "+e+" because of hit max retry limitation");if(a!==d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:j},null,String(this.$18))}e=f&&(c("gkx")("20916")||this.$12);this.$25(a,j,!e);if(e){var l=c("gkx")("20916")?Math.max(g!=null?g:0,this.$15.getBackoffDelayMs()):g!=null?g:k;this.$14=!0;return new(i||(i=b("Promise")))(function(a){return window.setTimeout(a,l)}).then(function(){return h.$27()})["catch"](function(a){})}};e.$28=function(){return this.$11!=null};e.$24=function(a,b){var e,f=this,g=typeof a==="string"?new TextEncoder().encode(a):a,h=String(this.$17++);(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{},h);e=s(this.$5,h);g={amend:{amendment:g,instrumentation_data:e}};b&&g.amend&&(g.amend.amendment_id=h);e=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);var i=Date.now();if(this.$29()&&this.$11!=null){b&&this.$19.add(h);this.$11.send(e).then(function(a){var b;r(a);a=(Date.now()-i).toString();(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:a},h)})["catch"](function(a){var b;(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:a.message},h);f.$19.reject(h,a)});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(e=a==null?void 0:(b=a.length)==null?void 0:b.toString())!=null?e:"0"},h);return h}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},h)}};e.$26=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;if(!this.$9){var e=this.$2||this.$1;try{var f=this.$30();this.$13=f;var g=e.headers.graphiql_sandbox,h=babelHelpers["extends"]({},e.headers,{},this.$31());g!=null&&(h=babelHelpers["extends"]({},h,{www_sandbox:g,distillery_sandbox:g+":8086"}));g=d("DGWRequestStreamUtils").convertHeaders(h,e.body!=null,this.$5);this.$11=(yield this.$20.establishStream(g,f,this.$7))}catch(a){if(a===d("DGWStream").StreamError.ESTABLISHMENT_ERROR)throw a;if(d("DGWStream").StreamError.isValid(a)&&!d("DGWStream").isRetryableError(a))throw a;else if(d("DGWStream").StreamError.isValid(a)&&d("DGWStream").isRetryableError(a)){this.$32(a);return}throw a}if(this.$9){this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return}h=new Uint8Array([]);if(e.body!=null){g={request_body:{body:e.body}};h=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)}if(!this.$11)throw new Error("dgwstream_is_null");f=this.$11.send(h).then(function(a){r(a),b.$9&&b.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").SENT,{},a,String(this.$18));this.$12=j;return f}else throw new Error("stream_already_canceled")});function e(b){return a.apply(this,arguments)}return e}();e.$29=function(){return this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted};e.$25=function(a,b,c){var e;this.$11&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close();(e=this.$13)==null?void 0:e.stop();this.$11=null;this.$10=!0;this.$33(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);c&&!this.$9&&this.$3.onTermination("terminate stream because "+a+" with msg : "+b)};e.$33=function(a){var b=this.$8;this.$8=d("RequestStreamState").getNextState(b,a);return b!==this.$8};e.$27=function(){this.$12--;this.$18++;this.$15.onRetry();return this.start(!0)};e.$34=function(a){var b=this;a=d("CompactSerializerPolyfill").deserialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(a.response){var e=d("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(a),f=e==null?void 0:e.auxId;e=e==null?void 0:e.dfTraceId;if(!this.$28()){var g;(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},f,String(this.$18),e);return}(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,t(a.response),f,String(this.$18),e);g=a.response.delta;g.forEach(function(a){if(a.data)b.$15.resetErrorAndRetryCount(),c("justknobx")._("4109")?b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes)):b.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes)):(h||(h=d("ODS"))).bumpEntityKey(110,"RequestStream","data_before_started_"+(b.$22()?"falco":"graphql"));else if(a.flow_status){var e=a.flow_status;e===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$15.resetErrorAndRetryCount();b.$33(e)&&b.$3.onFlowStatus(e)}else if(a.termination){e=(e=a.termination.message)!=null?e:"unknown termination msg";b.$2=null;b.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,e,a.termination.reason===d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,a.termination.retry_delay_ms!=null?parseInt(a.termination.retry_delay_ms,10):null)}else if(a.log)b.$3.onLog(a.log.message);else if(a.amend_ack){e=a.amend_ack.amendment_id;if(e!=null){var f=a.amend_ack.accepted||!1;b.$19.resolve(e,f)}}else if(a.rewrite){e=d("DGWRequestStreamUtils").transformContextWithRewriteDelta(b.$1,a.rewrite);a.rewrite.temporary===!0?b.$2=e:b.$1=e}});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,t(a.response),f,String(this.$18),e);a.response.ack_level===d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&a.response.response_id!=null&&this.$35(a.response.response_id,f)}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}};e.$35=function(a,b){a={ack:{response_id:a,ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}};a=d("CompactSerializerPolyfill").serialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){this.$11.send(a);(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").SENT,{},b,String(this.$18))}else{(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},b,String(this.$18))}};e.$22=function(){return this.$1.headers.method==="Falco"};e.$30=function(){return new(c("DGWStreamHandler"))(this.$36.bind(this),this.$37.bind(this),this.$32.bind(this),this.$38.bind(this),this.$39.bind(this))};e.$39=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)};e.$36=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)};e.$37=function(a){try{this.$34(a)}catch(b){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:b.message},null,String(this.$18));this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,b.message,!1)}};e.$32=function(a){var b="",c=d("DGWStream").isRetryableError(a);b="StreamError: Received "+a;a=p?this.$12>0:c;c=q?l*m:void 0;this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,b,a,c)};e.$38=function(a,b){this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,b,!0)};e.$31=function(){return c("RtiWebRequestStreamClient").overrideHeaders};e.$23=function(){var a={};c("gkx")("20918")&&(a.pending_amendments_size=this.$19.getSize().toString());return a};return a}();g["default"]=f}),98);
__d("DGWStreamGroupHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.onStreamGroupError=function(a){this.$1(a)};b.onStreamGroupMustDrain=function(a){this.$2(a)};b.onStreamGroupTransportClose=function(){this.$3()};return a}();f["default"]=a}),66);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="realtime",j=1e4,k=null;a=function(){function a(){this.$1={}}a.get=function(){k==null&&(k=new a());return k};var d=a.prototype;d.$2=function(a){var b;this.$1=(b={},b[a]={dgwStreamGroup:null,multiStreamGroupLoggingId:null,multiStreamGroupPriorStreamCountGuess:0},b)};d.getStreamGroupLoggingId=function(a){a===void 0&&(a=null);return(a=this.$1[(a=a)!=null?a:i])==null?void 0:a.multiStreamGroupLoggingId};d.guessStreamGroupPriorStreamCount=function(a){a===void 0&&(a=null);return((a=this.$1[(a=a)!=null?a:i])==null?void 0:a.multiStreamGroupPriorStreamCountGuess)||0};d.establishStream=function(a,d,e){var f,g=this,k=e.serviceId==null?i:e.serviceId;f=(f=this.$1[k])==null?void 0:f.dgwStreamGroup;if(f==null||!f.canCreateGroupedStream()){var l={deviceId:e.deviceId,serviceId:k,disableFalcoLogging:e.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"}};e.overrideUrl!=null&&(l.overrideUrl=e.overrideUrl);l.keepAliveMs=j;c("gkx")("20920")&&(l.loggingId=c("uuidv4")());try{f=c("DGWClient")().createStreamGroup(new(c("DGWStreamGroupHandler"))(function(){g.$2(k)},function(){g.$2(k)},function(){g.$2(k)}),l),this.$1[k]={dgwStreamGroup:f,multiStreamGroupLoggingId:l.loggingId,multiStreamGroupPriorStreamCountGuess:0}}catch(a){return(h||(h=b("Promise"))).reject(a)}}this.$1[k].multiStreamGroupPriorStreamCountGuess++;return f.establishStream({loggingId:e.loggingId,disableFalcoLogging:e.disableFalcoLogging,groupedStreamHeaders:a},d)};return a}();g["default"]=a}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","cr:2046346"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a!=null?a:c("DGWStreamFactory").get()}var d=a.prototype;d.createStream=function(a,d,e,f,g){b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return(h||(h=b("Promise"))).resolve(new(c("DGWRequestStreamRef"))(a,d,f,g,e,this.$1))};return a}();g["default"]=a}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosWasm.pb","WACreateWasmFunction","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.getWasmModule;a=a.logger;var e=a.TAGS(["minos-verify-single-epoch"]);function f(a){a=a.valid;return d("WAResultOrError").makeResult({valid:a})}return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.epochPublicData;a=a.signature;var g=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,cli:"minos_cli",command:"minos-verify-single-epoch",getWasmModule:c,logger:e,validateResult:f});g=(yield g({epochPublicData:b,signature:a}));return g});function g(b){return a.apply(this,arguments)}return g}()}c=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm,logger:d("EBMinosLogger").minosLogger});g.verifySingleEpoch=c}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosTypes","EBMinosWasmVerifySingleEpoch","WAGetSafeQPLError","WALongInt","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("EBMinosLogger").minosLogger.DEV(i());var b=a.qplFlow;try{var c,e=(c=d("EBMinosTypes")).unsafeCastToEpochNumber(d("WALongInt").decimalStringToLongInt(new TextDecoder().decode(a.minosEpochAnonId))),f=c.unsafeCastToMailboxAuthPK(a.minosMailboxAuthPublicKey),g=c.unsafeCastToMailboxEncryptionPK(a.minosMailboxEncryptionPublicKey),j=c.unsafeCastToMailboxSigningPK(a.minosMailboxSigningPublicKey),k=c.unsafeCastToUserFbId(a.userId);c=c.unsafeCastToEpochSignature(a.selfEpochSignature);e={epochNumber:e,mailboxAuthPk:f,mailboxEncryptionPk:g,mailboxSigningPk:j,previousEpochHead:a.previousEpochHead!=null?d("EBMinosTypes").unsafeCastToEpochHead(a.previousEpochHead):void 0,userFbid:k};b.addPoint("verify_single_epoch_start");f=(yield d("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:e,signature:c}));b.addPoint("verify_single_epoch_end");if(f.success){b.endSuccess();return f.value.valid}d("EBMinosLogger").minosLogger.ERROR(h(),f.error);b.endFailWithError("invalid-result",f.error);return!1}catch(a){b.endFailWithError("runtime-error",d("WAGetSafeQPLError").getSafeQPLErrorMessage(a));return!1}});return j.apply(this,arguments)}g.minosVerifySingleEpoch=a}),98);/*FB_PKG_DELIM*/
__d("PolarisAPILikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:a}})}g.likePost=a}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:a}})}g.savePost=a}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:a}})}g.unlikePost=a}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:a}})}g.unsavePost=a}),98);
__d("polarisCommentSelectors.react",["PolarisPaginationUtils","PolarisReactRedux.react","nullthrows","polarisCreateSelectorWithArg","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.comments.byPostId},function(a,b){return function(e){e=b.get(e);if(e==null)return null;var f=e.commentIds;return f.toSeq().map(function(b){return c("nullthrows")(a.get(b))}).slice(f.count()-d("PolarisPaginationUtils").getVisibleCount(e.pagination),f.count()).filter(function(a){return!a.deleted&&!a.didReportAsSpam})}});f=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a,b){return function(d){d=c("nullthrows")(a.get(d));d=d.previewCommentIds;return d==null?[]:d.map(function(a){return b.get(a)}).filter(Boolean)}});function a(a,b){return c("nullthrows")(a.comments.byId.get(b))}function b(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(b){return a==null?null:b.comments.translationById.get(a)},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.selectVisibleCommentsForPostId=e;g.getPreviewCommentsForPostId=f;g.getCommentById=a;g.useCommentTranslation=b}),98);
__d("usePolarisComment",["PolarisReactRedux.react","polarisCommentSelectors.react","polarisUserSelectors","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==a||c[1]!==b?(e=function(c){c=d("polarisCommentSelectors.react").getCommentById(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==a||c[1]!==b?(e=function(c){var e=d("polarisCommentSelectors.react").getCommentById(c,a);c=d("polarisUserSelectors").getUserByIdOrThrows(c,e.userId);return b(e,c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function c(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(b){return a==null?null:(b=b.comments.byId.get(a))!=null?b:null},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.useComment=a;g.useCommentAndOwner=b;g.useCommentOrNull=c}),98);
__d("PolarisCommentTranslationPrompt.react",["fbt","CometPressable.react","IGDSTextVariants.react","PolarisCommentActions","PolarisReactRedux.react","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisComment"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b,e=d("react-compiler-runtime").c(22),f=a.commentId,g=a.inFeed,i=a.isCaptionWithTranslation;a=a.isOverMedia;a=a===void 0?!1:a;var k=d("PolarisReactRedux.react").useDispatch();b=((b=d("usePolarisComment").useCommentOrNull(f))==null?void 0:b.hasTranslation)===!0;i=i===!0||b;b=d("polarisCommentSelectors.react").useCommentTranslation(f);var l=b==null?void 0:b.translatedText,m;e[0]!==f||e[1]!==k||e[2]!==l?(m=function(){if(f==null)return;l!=null?k(d("PolarisCommentActions").showCommentTranslatedText(f)):k(d("PolarisCommentActions").translateComment(f))},e[0]=f,e[1]=k,e[2]=l,e[3]=m):m=e[3];m=m;if(i!==!0)return null;i=g===!0?"primaryText":"secondaryText";if((b==null?void 0:b.loading)===!0){g=a?"webAlwaysWhite":i;var n;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"Cargando..."),e[4]=n):n=e[4];e[5]!==g?(n=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:g,children:n}),e[5]=g,e[6]=n):n=e[6];return n}if((b==null?void 0:b.showTranslatedText)===!0){e[7]!==f||e[8]!==k?(g=function(){f!=null&&k(d("PolarisCommentActions").showCommentOriginalText(f))},e[7]=f,e[8]=k,e[9]=g):g=e[9];n=a?"webAlwaysWhite":i;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Ver el original"),e[10]=b):b=e[10];e[11]!==n?(b=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:n,children:b}),e[11]=n,e[12]=b):b=e[12];e[13]!==g||e[14]!==b?(n=j.jsx(c("CometPressable.react"),{onPress:g,overlayDisabled:!0,children:b}),e[13]=g,e[14]=b,e[15]=n):n=e[15];return n}g=a?"webAlwaysWhite":i;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Ver traducci\u00f3n"),e[16]=b):b=e[16];e[17]!==g?(n=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:g,children:b}),e[17]=g,e[18]=n):n=e[18];e[19]!==m||e[20]!==n?(a=j.jsx(c("CometPressable.react"),{onPress:m,overlayDisabled:!0,children:n}),e[19]=m,e[20]=n,e[21]=a):a=e[21];return a}g["default"]=a}),226);
__d("PolarisPostCaptionTranslationPrompt.react",["IGDSBox.react","PolarisCommentTranslationPrompt.react","react","react-compiler-runtime","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.inFeed,f=a.marginBottom;a=a.postId;f=f===void 0?0:f;var g=d("usePolarisPost").usePost(a,k);a=d("usePolarisPost").usePost(a,j);if(g!==!0||a==null)return null;b[0]!==a||b[1]!==e?(g=i.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:a,inFeed:e,isCaptionWithTranslation:!0}),b[0]=a,b[1]=e,b[2]=g):g=b[2];b[3]!==f||b[4]!==g?(a=i.jsx(c("IGDSBox.react"),{marginBottom:f,children:g}),b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}function j(a){return a.captionCommentId}function k(a){return a.captionHasTranslation}g["default"]=a}),98);
__d("PolarisPostComment.react",["cx","fbt","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSText.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","Locale","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentLikedByListDialogRoot.entrypoint","PolarisCommentOptionsDialog.react","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLikedByListDialogPlaceholder.react","PolarisLinkBuilder","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux.react","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","QE2Logger","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","qex","react","react-compiler-runtime","stylex","useIGDSEntryPointDialog","usePolarisDynamicIpadUpsell","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k;m.useCallback;var n=m.useEffect,o=m.useState,aa=750,p={avatar:{alignSelf:"xqcrz7y",marginTop:"xdj266r",marginInlineEnd:"x14iifvp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},reducedAvatarMargin:{marginTop:"xr9ek0c",marginInlineEnd:"x1sa5p1d",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},restrictedContent:{opacity:"xbyyjgo",$$css:!0},userLinkHeader:{alignItems:"x6s0dn4",display:"x3nfvp2",$$css:!0}};function ba(a){var b=d("react-compiler-runtime").c(22),e=a.parentProps,f=e.commentOwnerId,g=e.commentOwnerUsername,h=e.isAuthorVerified,i=e.isCaption,k=e.isRestrictedPending,m=e.postOwnerIsUnpublished;e=e.showRichComment;h=h===void 0?!1:h;i=i===void 0?!1:i;m=m===void 0?!1:m;e=e===void 0?!1:e;a=k&&!a.showRestrictedContent;var n=i?"h2":"h3";if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:d("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})}),b[0]=a):a=b[0];return a}else if(!i||m!==!0){a=k===!0&&p.restrictedContent;b[1]!==a?(i=(j||(j=c("stylex")))(p.userLinkHeader,a),b[1]=a,b[2]=i):i=b[2];b[3]!==g?(m=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(g)),b[3]=g,b[4]=m):m=b[4];b[5]!==g?(k=c("nullthrows")(g),b[5]=g,b[6]=k):k=b[6];b[7]!==m||b[8]!==k?(a=l.jsx(c("IGDSButton.react"),{display:"block",href:m,label:k,variant:"secondary_link"}),b[7]=m,b[8]=k,b[9]=a):a=b[9];b[10]!==f||b[11]!==g||b[12]!==a?(m=l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",userId:f,username:g,children:a})}),b[10]=f,b[11]=g,b[12]=a,b[13]=m):m=b[13];b[14]!==h||b[15]!==e?(k=e&&h&&l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[14]=h,b[15]=e,b[16]=k):k=b[16];b[17]!==n||b[18]!==k||b[19]!==i||b[20]!==m?(f=l.jsxs(n,{className:i,children:[m,k]}),b[17]=n,b[18]=k,b[19]=i,b[20]=m,b[21]=f):f=b[21];return f}return null}function ca(a){var b=d("react-compiler-runtime").c(10);a=a.parentProps;var e=a.captionCreatedAt,f=a.commentThreadId,g=a.disableTimestampNav,h=a.id,i=a.isCaption,j=a.isEdited,k=a.postedAt;a=a.postShortcode;i=i===void 0?!1:i;j=j===void 0?!1:j;i=i&&j&&e!=null?e:k;b[0]!==i?(j=l.jsx(c("PolarisTimestamp.react"),{className:"_a9ze _a9zf",value:i}),b[0]=i,b[1]=j):j=b[1];e=j;if(a!=null&&h!=null){b[2]!==h||b[3]!==f||b[4]!==a?(k=f!=null&&f!==h?d("PolarisLinkBuilder").buildReplyPermalink(a,f,h,d("PolarisUA").isMobile()):d("PolarisLinkBuilder").buildCommentPermalink(a,h,d("PolarisUA").isMobile()),b[2]=h,b[3]=f,b[4]=a,b[5]=k):k=b[5];i=k;j=g===!0?q:void 0;b[6]!==j||b[7]!==i||b[8]!==e?(h=l.jsx(c("PolarisFastLink.react"),{className:"_a9zg",href:i,onClick:j,children:e}),b[6]=j,b[7]=i,b[8]=e,b[9]=h):h=b[9];e=h}return e}function q(a){return a.preventDefault()}function r(a){var b=d("react-compiler-runtime").c(142),e=o(null),f=e[0],g=e[1];e=o(!1);var h=e[0],j=e[1];e=o(!1);var k=e[0],m=e[1];e=o(!1);var q=e[0],r=e[1];b[0]!==f?(e=function(){window.clearTimeout(f)},b[0]=f,b[1]=e):e=b[1];var s=e,t=d("usePolarisDynamicIpadUpsell").usePolarisDesktopExcludingIpad(),u;b[2]!==s?(e=function(){return function(){s()}},u=[s],b[2]=s,b[3]=e,b[4]=u):(e=b[3],u=b[4]);n(e,u);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){m(!0)},b[5]=e):e=b[5];var ea=e;b[6]!==a.isCaption||b[7]!==a.showRichComment?(u=function(){if(!d("PolarisUA").isMobile()||a.showRichComment!==!0||a.isCaption===!0)return;g(window.setTimeout(ea,aa))},b[6]=a.isCaption,b[7]=a.showRichComment,b[8]=u):u=b[8];var v=u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){m(!1)},b[9]=e):e=b[9];var fa=e;b[10]!==a?(u=function(){m(!1),a.onDeleteComment()},b[10]=a,b[11]=u):u=b[11];var ga=u;b[12]!==a?(e=function(){var b=a.id,d=a.onDeleteCommentClick;d&&d(c("nullthrows")(b))},b[12]=a,b[13]=e):e=b[13];var w=e;b[14]!==a?(u=function(b){var c=a.onLikeComment,d=a.onUnlikeComment;b?c():d()},b[14]=a,b[15]=u):u=b[15];var ha=u;b[16]!==a?(e=function(){var b=a.isRestrictedPending,c=a.likedByViewer,d=a.loggedIn,e=a.onLikeComment;b=b===void 0?!1:b;c=c===void 0?!1:c;!c&&!b&&d&&e()},b[16]=a,b[17]=e):e=b[17];var ia=e;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(u={},b[18]=u):u=b[18];e=(e=a.id)!=null?e:"";b[19]!==e?(u={routeParams:u,routeProps:{commentId:e}},b[19]=e,b[20]=u):u=b[20];e=c("useIGDSEntryPointDialog")(c("PolarisCommentLikedByListDialogRoot.entrypoint"),u,"button",da);var ja=e[0];b[21]!==t||b[22]!==a||b[23]!==ja?(u=function(){var b=a.code,e=a.commentOwnerId,f=a.commentOwnerUsername,g=a.fetchCommentLikes,h=a.id,i=a.likeCount,j=a.loggedIn,k=a.onLikeCountClick,l=a.onLoggedOutDialogClick,m=a.onLoggedOutIntentClick,n=a.viewerId;if(j){if(k){d("QE2Logger").logExposureForIGWebCookieCritical("ig_web_h1_2023_desktop_reels_comment_likes_graphql","is_enabled");if(c("qex")._("1656")){j=n===e;ja({isOwnerTheViewer:j,likeAndViewCountsDisabled:!1,likeCount:i,ownerUsername:f,productType:void 0,viewCount:0})}else g(),k(c("nullthrows")(h))}}else t?l(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),"post_comment_like_count"):m("post_comment_like_count")},b[21]=t,b[22]=a,b[23]=ja,b[24]=u):u=b[24];var ka=u;b[25]!==a?(e=function(){var b=a.loggedIn,c=a.onLoggedOutDialogPreload;!b&&d("PolarisUA").isDesktop()&&c()},b[25]=a,b[26]=e):e=b[26];var la=e;b[27]!==a?(u=function(b){var e=a.analyticsContext,f=a.commentOwnerId,g=a.commentThreadId,h=a.id,i=a.isRestrictedPending,j=a.mediaType,k=a.postId,l=a.postOwnerId,m=a.viewerId;switch(b.state){case"entered":if(h!=null&&m!=null){d("PolarisEngagementLogger").logCommentImpression({commentAuthorId:f,commentId:h,commentThreadId:g,containerModule:e,mediaAuthorId:l,mediaId:k,mediaType:j});i&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:f,commentId:h,commentThreadId:g,parentMediaId:k,step:"pending_comment"});return}}},b[27]=a,b[28]=u):u=b[28];e=u;b[29]!==t||b[30]!==a?(u=function(){var b=a.code,e=a.loggedIn,f=a.onLoggedOutDialogClick,g=a.onLoggedOutIntentClick,h=a.onReplyClick;e?h():t?f(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),"post_comment_reply"):g("post_comment_reply")},b[29]=t,b[30]=a,b[31]=u):u=b[31];var ma=u;b[32]!==a?(u=function(){var b=a.loggedIn,c=a.onLoggedOutDialogPreload;!b&&d("PolarisUA").isDesktop()&&c()},b[32]=a,b[33]=u):u=b[33];var na=u;b[34]!==a?(u=function(){var b=a.commentOwnerId,d=a.commentThreadId,e=a.id,f=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:e,commentThreadId:d,parentMediaId:f,step:"pending_comment_see_hidden"});r(!0)},b[34]=a,b[35]=u):u=b[35];var oa=u;b[36]!==a?(u=function(){var b=a.commentOwnerId,d=a.commentThreadId,e=a.id,f=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:e,commentThreadId:d,parentMediaId:f,step:"pending_comment_approve"});j(!0)},b[36]=a,b[37]=u):u=b[37];var pa=u;b[38]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){j(!1)},b[38]=u):u=b[38];var qa=u;b[39]!==w||b[40]!==a||b[41]!==q?(u=function(){var b=a.commentOwnerId,d=a.commentThreadId,e=a.id,f=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:e,commentThreadId:d,parentMediaId:f,step:q?"pending_comment_delete":"pending_comment_delete_hidden"});w()},b[39]=w,b[40]=a,b[41]=q,b[42]=u):u=b[42];var ra=u;b[43]!==ka||b[44]!==la||b[45]!==a?(u=function(){var b=a.code,e=a.id,f=a.likeCount,g=a.loggedIn;if(f==null||f===0)return null;var h=f.toLocaleString(),j=i._(/*BTDS*/"{like count} Me gusta",[i._param("like count",h)]);h=i._(/*BTDS*/"{like count} Me gusta",[i._param("like count",h)]);j=f===1?j:h;return f>0&&(d("PolarisUA").isDesktop()||!g?l.jsx("button",{className:"_a9ze",onClick:ka,onMouseEnter:la,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:j})}):l.jsx(c("PolarisFastLink.react"),{className:"_a9ze _amp7",href:"/p/"+c("nullthrows")(b)+"/c/"+c("nullthrows")(e)+"/liked_by/",children:j}))},b[43]=ka,b[44]=la,b[45]=a,b[46]=u):u=b[46];var sa=u,ta=a.className,ua=a.commentingDisabledForViewer,x=a.commentOwnerAvatar,y=a.commentOwnerId,z=a.commentOwnerUsername,va=a.commentThreadId,A=a.communityNoteComponent,wa=a.customPaddingStyle;u=a.giphyMediaInfo;var B=a.hideUserAvatar,C=a.id,D=a.isCaption,E=a.isEdited,F=a.isPermalinkedComment,G=a.isRestrictedPending,xa=a.likedByViewer,H=a.postId,I=a.postOwnerId,ya=a.postOwnerIsUnpublished,za=a.reducedAvatarMargin,J=a.showCommentOptionsInline,Aa=a.showRemoveIcon,K=a.showRichComment,L=a.translation,Ba=a.variant,M=a.viewerId,Ca=B===void 0?!1:B,N=D===void 0?!1:D,Da=E===void 0?!1:E;B=F===void 0?!1:F;var O=J===void 0?!1:J,P=K===void 0?!1:K,Q,R,S,T,U,V,W,X,Y,Z,$;if(b[47]!==y||b[48]!==u||b[49]!==e||b[50]!==N||b[51]!==B||b[52]!==G||b[53]!==I||b[54]!==a.text||b[55]!==O||b[56]!==Aa||b[57]!==q||b[58]!==P||b[59]!==L||b[60]!==Ba||b[61]!==M){$=a.text.toString();(L==null?void 0:L.showTranslatedText)===!0&&L.translatedText!=null&&($=L.translatedText);R=!N&&M!=null&&(M===y||I===M);Y=R&&Aa&&!P;S=!N&&M!=null&&!Y&&!G;b[76]!==B?(D=d("PolarisConfig").isLoggedOutFRXEligible()&&B,b[76]=B,b[77]=D):D=b[77];E=D;b[78]!==E||b[79]!==N||b[80]!==P||b[81]!==M?(F=E||P&&!d("PolarisUA").isMobile()&&!N&&M!=null,b[78]=E,b[79]=N,b[80]=P,b[81]=M,b[82]=F):F=b[82];T=F;Q=Ba===d("PolarisPostVariants").VARIANTS.feed?c("PolarisTruncatedText.react"):c("PolarisUserText.react");W=!!N||!S&&!R;Z=G&&!q;X=G&&q;J=u!=null;V=J?(E=u==null?void 0:(K=u.first_party_cdn_proxied_images)==null?void 0:(D=K.fixed_height)==null?void 0:D.url)!=null?E:u==null?void 0:(F=u.images)==null?void 0:(J=F.fixed_height)==null?void 0:J.url:void 0;K=O===!0?"_a9ze":"";D=(O!==!0?"_a9zh":"")+(O===!0?" _a9zi":"");b[83]===Symbol["for"]("react.memo_cache_sentinel")?(E=l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,onClick:ea,children:l.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:l.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})}),b[83]=E):E=b[83];b[84]!==D?(F=l.jsx("div",{className:D,children:E}),b[84]=D,b[85]=F):F=b[85];b[86]!==K||b[87]!==F?(J=l.jsx("div",{className:K,children:F}),b[86]=K,b[87]=F,b[88]=J):J=b[88];U=J;E=d("PolarisViewpointReact.react").Viewpoint;D=e;K=$.replace(" ","-");b[47]=y;b[48]=u;b[49]=e;b[50]=N;b[51]=B;b[52]=G;b[53]=I;b[54]=a.text;b[55]=O;b[56]=Aa;b[57]=q;b[58]=P;b[59]=L;b[60]=Ba;b[61]=M;b[62]=E;b[63]=Q;b[64]=R;b[65]=S;b[66]=T;b[67]=U;b[68]=V;b[69]=W;b[70]=X;b[71]=Y;b[72]=Z;b[73]=D;b[74]=K;b[75]=$}else E=b[62],Q=b[63],R=b[64],S=b[65],T=b[66],U=b[67],V=b[68],W=b[69],X=b[70],Y=b[71],Z=b[72],D=b[73],K=b[74],$=b[75];b[89]!==Q||b[90]!==R||b[91]!==S||b[92]!==T||b[93]!==ta||b[94]!==U||b[95]!==x||b[96]!==y||b[97]!==z||b[98]!==va||b[99]!==ua||b[100]!==A||b[101]!==wa||b[102]!==V||b[103]!==pa||b[104]!==ga||b[105]!==v||b[106]!==s||b[107]!==w||b[108]!==ia||b[109]!==ha||b[110]!==ma||b[111]!==na||b[112]!==ra||b[113]!==oa||b[114]!==Ca||b[115]!==C||b[116]!==N||b[117]!==Da||b[118]!==W||b[119]!==G||b[120]!==xa||b[121]!==H||b[122]!==I||b[123]!==ya||b[124]!==a||b[125]!==za||b[126]!==sa||b[127]!==h||b[128]!==X||b[129]!==k||b[130]!==O||b[131]!==Y||b[132]!==q||b[133]!==P||b[134]!==Z||b[135]!==$?(F=function(b){return l.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:ia,role:"button",children:[l.jsx("li",{className:c("joinClasses")((P?"_a9zj":"")+(wa==="compact"?" _a9zk":"")+" _a9zl",ta),onMouseDown:v,onMouseUp:s,onTouchEnd:s,onTouchMove:s,onTouchStart:v,ref:b,children:l.jsxs("div",{className:"_a9zm","data-testid":void 0,children:[l.jsxs("div",{className:(W?"_a9zn":"")+" _a9zo",children:[P&&!Ca&&l.jsx(c("PolarisUserHoverCard.react"),{display:"block",userId:y,username:z,children:l.jsx(c("PolarisUserAvatarWithStories.react"),{isLink:!ya,profilePictureUrl:x!=null?x:"",size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:z,xstyle:[p.avatar,za===!0&&p.reducedAvatarMargin,G===!0&&p.restrictedContent]})}),l.jsxs("div",{className:"_a9zr",children:[l.jsx(ba,{parentProps:a,showRestrictedContent:q}),!Z&&(V!=null?l.jsx(c("PolarisPostGifComment.react"),{gifSrc:V}):l.jsx("div",babelHelpers["extends"]({},{0:{className:"xt0psk2"},1:{className:"xt0psk2 xbyyjgo"}}[!!(G===!0)<<0],{"data-testid":void 0,children:l.jsx(Q,{display:"inline",headlineTag:N===!0?"h1":void 0,size:"body",value:$})}))),P&&l.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:l.jsxs(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",dir:c("Locale").isRTL()?"rtl":"ltr",children:[N&&Da&&l.jsxs(l.Fragment,{children:[d("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xa0\xb7\xa0"]}),l.jsx(ca,{parentProps:a}),N&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:l.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{postId:H})}),!N&&!G&&l.jsxs(l.Fragment,{children:[sa(),ua!==!0&&l.jsx("button",{className:"_a9ze",onClick:ma,onMouseEnter:na,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").REPLY_TEXT})}),C!=null&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:l.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:C})}),T&&O===!0&&U]}),Z&&l.jsx("button",{className:"_a9ze",onClick:oa,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),X&&l.jsx("button",{className:"_a9ze",onClick:pa,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),G&&l.jsx("button",{className:"_a9ze",onClick:ra,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})}),A!=null&&A]})]}),Y&&l.jsx("button",{className:"_a9zt",onClick:w,title:d("PolarisPostStrings").DELETE_COMMENT_TEXT,children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").DELETE_COMMENT_TEXT})}),T&&!O&&U,S&&l.jsx(c("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!xa,onChange:ha,padding:0,size:12})]})}),k&&C!=null&&l.jsx(c("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!R,commentId:C,commentOwnerAvatar:x!=null?x:"",commentOwnerId:y,commentOwnerUsername:z,mediaOwnerId:I,onClose:fa,onDelete:ga}),h&&C!=null&&l.jsx(d("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:C,commentOwnerId:y,commentOwnerUsername:z,commentThreadId:va,onClose:qa,postId:H})]})},b[89]=Q,b[90]=R,b[91]=S,b[92]=T,b[93]=ta,b[94]=U,b[95]=x,b[96]=y,b[97]=z,b[98]=va,b[99]=ua,b[100]=A,b[101]=wa,b[102]=V,b[103]=pa,b[104]=ga,b[105]=v,b[106]=s,b[107]=w,b[108]=ia,b[109]=ha,b[110]=ma,b[111]=na,b[112]=ra,b[113]=oa,b[114]=Ca,b[115]=C,b[116]=N,b[117]=Da,b[118]=W,b[119]=G,b[120]=xa,b[121]=H,b[122]=I,b[123]=ya,b[124]=a,b[125]=za,b[126]=sa,b[127]=h,b[128]=X,b[129]=k,b[130]=O,b[131]=Y,b[132]=q,b[133]=P,b[134]=Z,b[135]=$,b[136]=F):F=b[136];b[137]!==E||b[138]!==D||b[139]!==K||b[140]!==F?(J=l.jsx(E,{action:D,id:K,children:F}),b[137]=E,b[138]=D,b[139]=K,b[140]=F,b[141]=J):J=b[141];return J}function da(a){return l.jsx(c("PolarisLikedByListDialogPlaceholder.react"),{onClose:a})}da.displayName=da.name+" [from "+f.id+"]";function a(a,b){var e=b.commentOwnerId,f=b.postId,g=b.postOwnerId;e=d("polarisUserSelectors").getUserByIdOrThrows(a,e);f=d("polarisPostSelectors").getPostOrNullById(a,f);b=b.id;b==null&&(b=f==null?void 0:f.captionCommentId);return{commentOwnerAvatar:e.profilePictureUrl,commentOwnerId:c("nullthrows")(e.id),commentOwnerUsername:c("nullthrows")(e.username),postOwnerIsUnpublished:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isUnpublished,postShortcode:f&&f.code,translation:b!=null?a.comments.translationById.get(b):null,viewerId:a.users.viewerId}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id||"",containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id||"",mediaType:b.mediaType||0};return{fetchCommentLikes:function(){return a(d("PolarisCommentLikeListsActions").requestCommentLikes(c("nullthrows")(b.id)))},onDeleteComment:function(){return a(d("PolarisCommentActions").deleteComment(b.postId,b.id||"",b.analyticsContext))},onLikeComment:function(b){return a(d("PolarisCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onReplyClick:function(e){return a(d("PolarisPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("nullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,{},b,{},c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}function h(a){var b=d("react-compiler-runtime").c(13),e=c("usePolarisLoggedOutIntentAction")(),f=c("usePolarisLoggedOutBlockingEntryPointDialog")(),g=f[0],h=f[1];f=c("usePolarisLoggedOutIntentEntryPointDialog")();var i=f[0],j=f[1];b[0]!==g||b[1]!==i?(f=function(a,b){a={contentReportingLink:a,nextUrl:a,source:b};d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?i==null?void 0:i(a):g==null?void 0:g(a)},b[0]=g,b[1]=i,b[2]=f):f=b[2];f=f;var k;b[3]!==h||b[4]!==j?(k=function(){d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?j==null?void 0:j(!0):h==null?void 0:h(!0)},b[3]=h,b[4]=j,b[5]=k):k=b[5];k=k;var m;b[6]!==e?(m=function(a){return e({source:a})},b[6]=e,b[7]=m):m=b[7];var n;b[8]!==k||b[9]!==f||b[10]!==a||b[11]!==m?(n=l.jsx(r,babelHelpers["extends"]({},a,{onLoggedOutDialogClick:f,onLoggedOutDialogPreload:k,onLoggedOutIntentClick:m})),b[8]=k,b[9]=f,b[10]=a,b[11]=m,b[12]=n):n=b[12];return n}m=d("PolarisReactRedux.react").connect(a,b,e)(h);g["default"]=m}),226);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!a.deleted&&!a.didReportAsSpam}b=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e[f];f=a.get(f);if(!g||!f)return d("immutable-4.0.0-rc.9").List();var i=g.commentIds;g=d("PolarisPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments===!0?0:i.count()-g;return i.map(function(a){return c("nullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("nullthrows")(b[e]);var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("nullthrows")(a.get(b))});e=f.count()-d("PolarisPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{remainingCachedShowableChildCommentIds:e,visibleChildComments:g}}});f=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("nullthrows")(b[a]);return a.count||0}});function a(a,b){return!!a.threadedComments.initialCommentsLoading[b]}g.selectVisibleParentCommentsForPostId=b;g.selectChildCommentsForParentIdSplitByVisibility=e;g.getTotalChildCommentCountForParentId=f;g.getThreadedCommentsLoading=a}),98);
__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","isStringNullOrEmpty","nullthrows","polarisCommentReducer","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(24),e=a.childComment,f=a.disableTimestampNav;a=a.parentProps;var g=a.analyticsContext,h=a.code,i=a.commentingDisabledForViewer,j=a.hideUserAvatar,l=a.loggedIn,m=a.onDeleteCommentClick,n=a.onLikeCountClick,o=a.parentComment,p=a.postId,q=a.postOwnerId,r=a.reducedAvatarMargin,s=a.showCommentOptionsInline;a=a.showRemoveIcon;j=!!j;var t;b[0]!==g||b[1]!==e.giphyMediaInfo||b[2]!==e.id||b[3]!==e.isAuthorVerified||b[4]!==e.isRestrictedPending||b[5]!==e.likeCount||b[6]!==e.likedByViewer||b[7]!==e.postedAt||b[8]!==e.text||b[9]!==e.userId||b[10]!==h||b[11]!==i||b[12]!==f||b[13]!==l||b[14]!==m||b[15]!==n||b[16]!==o.id||b[17]!==p||b[18]!==q||b[19]!==r||b[20]!==s||b[21]!==a||b[22]!==j?(t=k.jsx(c("PolarisPostComment.react"),{analyticsContext:g,className:"_a9ye",code:h,commentingDisabledForViewer:i,commentOwnerId:e.userId,commentThreadId:o.id,disableTimestampNav:f,giphyMediaInfo:e.giphyMediaInfo,hideUserAvatar:j,id:e.id,isAuthorVerified:e.isAuthorVerified,isRestrictedPending:e.isRestrictedPending,likeCount:e.likeCount,likedByViewer:e.likedByViewer,loggedIn:l,onDeleteCommentClick:m,onLikeCountClick:n,postedAt:e.postedAt,postId:p,postOwnerId:q,reducedAvatarMargin:r,showCommentOptionsInline:s,showRemoveIcon:a,showRichComment:!0,text:e.text,variant:d("PolarisPostVariants").VARIANTS.flexible},e.id),b[0]=g,b[1]=e.giphyMediaInfo,b[2]=e.id,b[3]=e.isAuthorVerified,b[4]=e.isRestrictedPending,b[5]=e.likeCount,b[6]=e.likedByViewer,b[7]=e.postedAt,b[8]=e.text,b[9]=e.userId,b[10]=h,b[11]=i,b[12]=f,b[13]=l,b[14]=m,b[15]=n,b[16]=o.id,b[17]=p,b[18]=q,b[19]=r,b[20]=s,b[21]=a,b[22]=j,b[23]=t):t=b[23];return t}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={hasPermalinkedReplyBeenHidden:!1},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$3=function(a){var b=this.props,c=b.analyticsContext,e=b.childCommentsCacheCanShowMoreWithoutFetch,f=b.childCommentsIsFetching,g=b.hideReplies,h=b.loadChildComments,i=b.loadChildCommentsV2,j=b.onHidePermalinkReply,k=b.parentComment,l=k.id;k=k.userId;var m=b.permalinkedReply,n=b.postId,o=b.postOwnerId;b=b.showReplies;if(f)return;else a?(g(l),d("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:k,commentId:l,containerModule:c,eventName:"instagram_child_comments_collapse",mediaAuthorId:o,mediaId:n}),m!=null&&(j!=null&&j(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):e?b(l):d("PolarisIsLoggedIn").isLoggedIn()?i(n,l):h(l)};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.replyPagerNodeRef;e=e.totalChildCommentCount;var h=this.$2(b),j=b?1:0;j=a+j;e=e-j;h&&!f?j=i._(/*BTDS*/"Ocultar respuestas"):e<=0?j=i._(/*BTDS*/"Ver respuestas"):j=i._(/*BTDS*/"Ver respuestas ({hidden replies})",[i._param("hidden replies",e)]);return k.jsx("li",{className:"_a9yg",ref:g,children:k.jsxs(c("IGDSBox.react"),{direction:"row",marginBottom:a>0?4:0,marginTop:b?2:0,position:"relative",children:[k.jsxs(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return d.$3(h)},children:[k.jsx("div",{className:"_a9yh"}),k.jsx("span",{className:"_a9yi",children:j})]}),f&&k.jsx("div",{className:"_a9yj",children:k.jsx(c("IGDSSpinner.react"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.hideUserAvatar,j=b.innerRef,m=b.isPermalinkedComment,n=b.loggedIn,o=b.onDeleteCommentClick,p=b.onLikeCountClick,q=b.parentComment,r=b.permalinkedReply,s=b.permalinkedReplyAnimating,t=b.permalinkedReplyId,u=b.permalinkedReplyNodeRef,v=b.postId,w=b.postOwnerId,x=b.reducedAvatarMargin,y=b.showCommentOptionsInline,z=b.showRemoveIcon,A=b.totalChildCommentCount;b=b.visibleChildComments;var B=this.state.hasPermalinkedReplyBeenHidden,C=null;r&&!(B&&b.count()===0)&&(C=k.jsx("div",{className:"_a9yk"+(s===!0&&!B?" _a9yl":""),ref:u,children:k.jsx(l,{childComment:r,disableTimestampNav:!0,parentProps:this.props})}));s=b.map(function(b,d){return C&&c("nullthrows")(r).id===b.id?null:k.jsx(l,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});B=this.$4(s.count(),C!=null);u=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return k.jsxs("ul",{className:"_a9ym",ref:j,children:[k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:q.userId,commentThreadId:q.id,disableTimestampNav:m===!0&&t==null,giphyMediaInfo:q.giphyMediaInfo,hideUserAvatar:!!i,id:q.id,isAuthorVerified:q.isAuthorVerified,isPermalinkedComment:m,isRestrictedPending:q.isRestrictedPending,likeCount:q.likeCount,likedByViewer:q.likedByViewer,loggedIn:n,onDeleteCommentClick:o,onLikeCountClick:p,postedAt:q.postedAt,postId:v,postOwnerId:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showRemoveIcon:z,showRichComment:!0,text:q.text,variant:d("PolarisPostVariants").VARIANTS.flexible}),A!==0&&k.jsx("li",{children:k.jsxs("ul",{className:"_a9yo",style:u,children:[C,B,s]})})]})};return b}(k.Component);function a(a,b){var e=b.parentComment;b=b.permalinkedReplyId;var f=d("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,e.id),g=f.remainingCachedShowableChildCommentIds;f=f.visibleChildComments;var h=d("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,e.id);e=(e=a.threadedComments.childByParentId[e.id])!=null?e:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;e=e.pagination;var i=null;c("isStringNullOrEmpty")(b)||(i=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("PolarisPaginationUtils").getVisibleCount(e)<d("PolarisPaginationUtils").getLoadedCount(e),childCommentsCanFetchMorePagination:d("PolarisPaginationUtils").canFetchMorePagination(e),childCommentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(e),childCommentsIsFetching:d("PolarisPaginationUtils").isFetching(e),permalinkedReply:i,remainingCachedShowableChildCommentIds:g,totalChildCommentCount:h||0,visibleChildComments:f}}e={hideReplies:d("PolarisThreadedCommentActions").hideChildComments,loadChildComments:d("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:d("PolarisThreadedCommentActions").showChildComments};f=d("PolarisReactRedux.react").connect(a,e)(b);g["default"]=f}),226);
__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisReactRedux.react","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.analyticsContext,f=a.commentId,g=a.onClose,i=a.postId,k=d("PolarisReactRedux.react").useDispatch();b[0]!==e||b[1]!==f||b[2]!==k||b[3]!==g||b[4]!==i?(a=function(a){c("polarisLogAction")("commentDelete",{source:e}),k(d("PolarisCommentActions").deleteComment(i,f,e)),g(a)},b[0]=e,b[1]=f,b[2]=k,b[3]=g,b[4]=i,b[5]=a):a=b[5];a=a;var l;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Eliminar comentario"),b[6]=l):l=b[6];b[7]!==a?(l=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:l}),b[7]=a,b[8]=l):l=b[8];b[9]!==g?(a=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:g,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[9]=g,b[10]=a):a=b[10];var m;b[11]!==g||b[12]!==l||b[13]!==a?(m=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:g,children:[l,a]}),b[11]=g,b[12]=l,b[13]=a,b[14]=m):m=b[14];return m}g["default"]=a}),226);
__d("PolarisEmbedHashHelpers",["memoize"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoize")(function(){var a=window.location.hash;a=decodeURIComponent(a.substring(a.indexOf("#")+1));try{a=JSON.parse(a)}catch(b){a={}}return{clientId:a.ci,offset:a.os,sdkLoadEnd:a.le,sdkLoadStart:a.ls}});g.getHashPayload=a}),98);
__d("polarisGetEmbedRequestID",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("nullthrows")(document.querySelector(".Embed"));return a.getAttribute("data-request-id")}g["default"]=a}),98);
__d("PolarisEmbedLogger",["InstagramQueryParamsHelper","PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","gkx","polarisGetEmbedRequestID"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("PolarisLoggerUtils").trimAndSanitizeUrl(a||window.location.href);var b=c("polarisGetEmbedRequestID")();return b!=null?d("InstagramQueryParamsHelper").appendQueryParams(a,{ig_rid:b}):a}function a(a,b,e){if(!c("gkx")("25394"))return;var f=d("PolarisLogger").getExtra(),g=f.url;f=babelHelpers.objectWithoutPropertiesLoose(f,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},f);f=babelHelpers["extends"]({obj_id:h(g),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds",a,f),b)}function i(a,b,c){var e=d("PolarisLogger").getAnonymousExtra(),f=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},e);e=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},c);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",a,e),b)}function b(a){var b=a.isCopyrightBlocked,c=a.mediaId,d=a.mediaType;a=a.ownerId;i({actionName:"view",isCopyrightBlocked:b,mediaId:c,mediaType:d,ownerId:a})}function e(a,b,e){if(!c("gkx")("25394"))return;a=d("PolarisLogger").getExtra(a);var f=a.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},a);f=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",a,f),b)}g.logEmbedAction=a;g.logEmbedPageView=b;g.logEmbedTimings=e}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","PolarisEmbedLogger","PolarisFastLink.react","PolarisLinkBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._(/*BTDS*/"Controlar"),m=i._(/*BTDS*/"Volver a ver en Instagram"),n="https://www.instagram.com";function o(a){var b=d("react-compiler-runtime").c(4),e=a.className,f=a.href;a=a.onClick;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=k.jsx(c("PolarisFastLink.react"),{"aria-label":l,className:e,href:f,onClick:a,target:"_blank"}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.post;a=f.code;a=a!=null&&a.length>0?d("PolarisLinkBuilder").buildMediaLink(a):"";a=""+n+a+"?utm_source=ig_embed&utm_campaign=embed_video_watch_again";if(e[0]!==f.id||e[1]!==((b=f.owner)==null?void 0:b.id)){var g;b=function(){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:f.id,mediaType:"video",ownerId:((a=f.owner)==null?void 0:a.id)||""})};e[0]=f.id;e[1]=(g=f.owner)==null?void 0:g.id;e[2]=b}else b=e[2];g=b;e[3]!==g||e[4]!==a?(b=k.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:"_aarb _9zwu",href:a,onClick:g,target:"_blank"}),e[3]=g,e[4]=a,e[5]=b):b=e[5];var h;e[6]!==g||e[7]!==a?(h=k.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:"_aarc",href:a,onClick:g,target:"_blank",children:m}),e[6]=g,e[7]=a,e[8]=h):h=e[8];var i;e[9]!==b||e[10]!==h?(i=k.jsx("div",{className:"_aar9",children:k.jsxs("div",{className:"_aara",children:[b,h]})}),e[9]=b,e[10]=h,e[11]=i):i=e[11];e[12]!==g||e[13]!==a?(b=k.jsx(o,{className:"_aard",href:a,onClick:g}),e[12]=g,e[13]=a,e[14]=b):b=e[14];e[15]!==i||e[16]!==b?(h=k.jsxs(k.Fragment,{children:[i,b]}),e[15]=i,e[16]=b,e[17]=h):h=e[17];return h}g["default"]=a}),226);
__d("PolarisVideoHeight",["PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){Object.assign(e,{height:"100%",position:"absolute",width:"100%"});var f=null;a.dimensions!=null&&(f=d("PolarisSizing").getHeightPercent(a.dimensions));f!=null&&f!==100&&(b&&(f=Math.min(f,d("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(c,{paddingBottom:"calc("+f+"% - 1px)"}),Object.assign(e,{height:"calc(100% + 1px)"}))}g.setVideoHeightCompensation=a}),98);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","Run","joinClasses","keyMirror","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("keyMirror")({finished:null,paused:null,playing:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=j.createRef();c.$2=!1;c.$3=null;c.handleVisiblityChange=function(){c.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&c.stop()};c.handleBeforeUnload=function(){c.state.playerState===k.playing&&c.stop()};c.handlePlayerPlayEvent=function(){c.setState({playerState:k.playing})};c.handlePlayerPauseEvent=function(){c.pause()};c.handlePlayerEndedEvent=function(){c.stop()};c.handleContainerClick=function(a){c.state.playerState!==k.playing?c.play():c.pause()};b={playerState:null};c.state=b;return c}var e=b.prototype;e.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange);this.$3=d("Run").onBeforeUnload(this.handleBeforeUnload);var a=c("nullthrows")(this.$1.current);a.addEventListener("play",this.handlePlayerPlayEvent);a.addEventListener("pause",this.handlePlayerPauseEvent);a.addEventListener("ended",this.handlePlayerEndedEvent)};e.componentDidUpdate=function(a){this.props.isVisible===!1&&a.isVisible===!0&&this.pause()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);this.$3!=null&&(this.$3.remove(),this.$3=null);var a=c("nullthrows")(this.$1.current);a.removeEventListener("play",this.handlePlayerPlayEvent);a.removeEventListener("pause",this.handlePlayerPauseEvent);a.removeEventListener("ended",this.handlePlayerEndedEvent)};e.play=function(){if(this.state.playerState===k.playing)return;if(this.$2===!1){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((a=this.props.post.owner)==null?void 0:a.id)||""});this.$2=!0}c("nullthrows")(this.$1.current).play()};e.pause=function(){if(this.state.playerState!==k.playing)return;c("nullthrows")(this.$1.current).pause();this.setState({playerState:k.paused})};e.stop=function(){if(this.state.playerState===k.finished)return;var a=c("nullthrows")(this.$1.current);a.pause();a.currentTime=0;this.setState({playerState:k.finished})};e.render=function(){var a=this.props,b=a.className;a=a.post;var e=this.state.playerState,f={},g={};d("PolarisVideoHeight").setVideoHeightCompensation(a,!0,f,g);var h=e===k.finished;e=!e||e===k.paused;return j.jsxs("div",{className:c("joinClasses")(b,"_aand"),style:f,children:[j.jsx("div",{style:g,children:!a.mediaOverlayInfo&&j.jsx("video",{className:"_aane",controls:!1,controlsList:void 0,"data-testid":void 0,loop:!1,playsInline:!0,poster:a.src,preload:"none",ref:this.$1,src:a.videoUrl,children:j.jsx("track",{kind:"captions"})})}),h?j.jsx(c("PolarisEmbedVideoWatchAgain.react"),{post:a}):j.jsx(c("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:e}),a.usertags&&a.usertags.length>=1&&j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{mediaId:a.id,usertags:a.usertags})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisHotKeys.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;b={keyMap:{}};var k=i.createContext(b);function a(a){var b=d("react-compiler-runtime").c(13),c=a.children,e=a.className,f=a.isButton,g=a.keyMap;a=f===void 0?!1:f;f=j(k).keyMap;var h=m,n=l;b[0]!==g?(f=function(a){if(g[a.key]!=null&&n()&&h(a)){var b=g[a.key];b();a.stopPropagation()}},b[0]=g,b[1]=f):f=b[1];f=f;var o=a?"button":"presentation";a=a?"0":"-1";var p;b[2]!==g?(p={keyMap:g},b[2]=g,b[3]=p):p=b[3];var q;b[4]!==c||b[5]!==e||b[6]!==f||b[7]!==o||b[8]!==a?(q=typeof c==="function"?c(f,o,a):i.jsx("div",{className:e,onKeyUp:f,role:o,tabIndex:a,children:c}),b[4]=c,b[5]=e,b[6]=f,b[7]=o,b[8]=a,b[9]=q):q=b[9];b[10]!==p||b[11]!==q?(c=i.jsx(k.Provider,{value:p,children:q}),b[10]=p,b[11]=q,b[12]=c):c=b[12];return c}function l(){var a;return((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="textarea"&&((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="input"}function m(a){return!(a.ctrlKey||a.altKey||a.metaKey)}g["default"]=a}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(c("emptyFunction"));g.InFeedPostModalContext=b}),98);
__d("PolarisIsLoggedInDesktop",["PolarisIsLoggedIn","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!d("PolarisUA").isMobile()&&d("PolarisIsLoggedIn").isLoggedIn()}g.isLoggedInDesktop=a}),98);
__d("PolarisLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLikedByListContainer.react").__setRef("PolarisLikedByListContainerLazy.react"));function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisPhotoWrapper.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","polarisAdsSelectors.react","react","react-compiler-runtime","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.externalURL;a=a.wrappedRef;var g=l,h=c("usePolarisOffsiteTrackingDataURLParams")(f),j;b[0]!==e||b[1]!==f||b[2]!==h?(j=function(a){return i.jsx("div",{ref:a,children:i.jsx(c("PolarisExternalLink.react"),{className:"x4gyw5p",href:f,ignoreDoubleClick:!0,onClick:g,queryParams:h,children:e})})},b[0]=e,b[1]=f,b[2]=h,b[3]=j):j=b[3];var k;b[4]!==j||b[5]!==a?(k=i.jsx(c("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:a,trackingNode:86,children:j})}),b[4]=j,b[5]=a,b[6]=k):k=b[6];return k}function l(){c("InstagramODS").incr("web.ads.feed.link_click")}function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.postId,g=a.ref;a=d("polarisAdsSelectors.react").useFeedAdInfo(f,m);var h=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);h=h.singleImageAdAsCta;if(b[0]!==(a==null?void 0:a.ctaItems)||b[1]!==f){var l;l=a==null?void 0:(l=a.ctaItems)==null?void 0:(l=l.get(f))==null?void 0:l.ctaLinkUrl;b[0]=a==null?void 0:a.ctaItems;b[1]=f;b[2]=l}else l=b[2];var n=l;if(n!=null&&h&&d("PolarisUA").isDesktop()){b[3]!==e||b[4]!==n||b[5]!==g?(a=i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:function(a){return i.jsx("div",{ref:a,children:i.jsx(k,{externalURL:n,wrappedRef:g,children:e})})}}),b[3]=e,b[4]=n,b[5]=g,b[6]=a):a=b[6];return a}b[7]!==e||b[8]!==g?(f=i.jsx("div",{ref:g,children:e}),b[7]=e,b[8]=g,b[9]=f):f=b[9];return f}function m(a){return a}g["default"]=a}),98);
__d("PolarisMedia_DEPRECATED.react",["JSResourceForInteraction","PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisFeedSeenStateManagerSingleton","PolarisIGCoreToast.react","PolarisIsLoggedInDesktop","PolarisLikeAnimation.react","PolarisMediaVideo.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.react","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisUA","PolarisViewpointReact.react","lazyLoadComponent","nullthrows","polarisVideoUtils","polarisWithRemountOnChange","react","react-compiler-runtime","usePolarisMediaSensitivityOverlay"],(function(a,b,c,d,e,aa,ba){"use strict";var f,g=f||(f=d("react")),ca=f.useState;function a(a){var b=d("react-compiler-runtime").c(154),e=ca(!1),aa=e[0],ba=e[1];e=ca(!1);var f=e[0],da=e[1];e=ca(0);var h=e[0],ea=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("PolarisFeedSeenStateManagerSingleton").get(),b[0]=e):e=b[0];var fa=e;b[1]!==h||b[2]!==a?(e=function(){a.onLike&&(a.onLike(),ea(h+1))},b[1]=h,b[2]=a,b[3]=e):e=b[3];e=e;var i;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){ba(!0)},b[4]=i):i=b[4];i=i;var j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){ba(!1)},b[5]=j):j=b[5];j=j;var k;b[6]!==a?(k=function(b,c){var d=a.onMediaRendered,e=a.post;if(e.isVideo===!0)return;d&&d({mediaType:"Photo",resourceName:b,timeTaken:c})},b[6]=a,b[7]=k):k=b[7];k=k;var l;b[8]!==f?(l=function(a){bb13:switch(a.state){case"entered":case"updated":a=a.percentVisible>.2;f!==a&&da(a);break bb13;case"exited":da(!1)}},b[8]=f,b[9]=l):l=b[9];l=l;var m;b[10]!==a.analyticsContext||b[11]!==a.autoplay?(m=function(b,c){if(b===!0&&a.autoplay===!0){if(d("polarisVideoUtils").isFeed(a.analyticsContext))return!1;if(c===0&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop())return!0}return!1},b[10]=a.analyticsContext,b[11]=a.autoplay,b[12]=m):m=b[12];var ga=m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(b[13]!==a){m=a.adInfo;var C=a.analyticsContext,D=a.asSidecarChild,E=a.autoplay;a.checkIsSensitivityOverlayDisabledCallback;var F=a.commentsAreStacked,G=a.firstSidecarChildSrc;a.hasViewInsights;var H=a.id;a.initialCarouselIndex;var I=a.isEmbed,J=a.isVisible,K=a.mediaFooter;a.onLike;a.onMediaRendered;var L=a.onSensitivityOverlayCleared;a.onSetModal;var ha=a.onSidecarChildIndexChange,ia=a.onToastClose,M=a.onVideoFinished,N=a.onVideoLoop,O=a.post,P=a.relationship,Q=a.sensitivityOverlayMediaOverlayInfoLoggingProps,R=a.showToast,S=a.toastString,T=a.viewer,U=a.visiblePosition,V=babelHelpers.objectWithoutPropertiesLoose(a,["adInfo","analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","firstSidecarChildSrc","hasViewInsights","id","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onVideoFinished","onVideoLoop","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition"]);n=m;o=C;p=D;q=E;m=F;r=G;s=H;t=I;C=J;D=K;E=L;F=ha;u=ia;v=M;w=N;x=O;y=P;G=Q;z=R;A=S;H=T;B=U;I=V;b[13]=a;b[14]=E;b[15]=n;b[16]=o;b[17]=p;b[18]=q;b[19]=m;b[20]=r;b[21]=s;b[22]=t;b[23]=C;b[24]=D;b[25]=F;b[26]=u;b[27]=v;b[28]=w;b[29]=I;b[30]=x;b[31]=y;b[32]=G;b[33]=z;b[34]=A;b[35]=H;b[36]=B}else E=b[14],n=b[15],o=b[16],p=b[17],q=b[18],m=b[19],r=b[20],s=b[21],t=b[22],C=b[23],D=b[24],F=b[25],u=b[26],v=b[27],w=b[28],I=b[29],x=b[30],y=b[31],G=b[32],z=b[33],A=b[34],H=b[35],B=b[36];b[37]!==x?(J=x||{},b[37]=x,b[38]=J):J=b[38];K=J;L=K.dimensions;ha=K.displayResources;ia=K.upcomingEvent;M=K.id;N=K.isVideo;O=K.mediaPreview;P=K.owner;Q=K.sidecarChildren;R=K.src;S=K.usertags;T=N===void 0?!1:N;b[39]!==Q?(U=Q===void 0?[]:Q,b[39]=Q,b[40]=U):U=b[40];V=U;J=V&&V.length>0;if(b[41]!==o||b[42]!==J||b[43]!==x){K=[];if(!J&&d("polarisVideoUtils").isFeed(o)){b[45]!==x?(N=function(a){fa.addImpressionFromPost(x,a)},b[45]=x,b[46]=N):N=b[46];K.push(N)}b[41]=o;b[42]=J;b[43]=x;b[44]=K}else K=b[44];Q=!1;U=c("usePolarisMediaSensitivityOverlay")(x,o,E,a.checkIsSensitivityOverlayDisabledCallback);N=U.mediaOverlayCoverInfo;var ja=U.handleHideSensitivityOverlay;E=U.shouldShowSensitivityOverlay;if(P&&E){var W;b[47]!==G?(U=G||{},b[47]=G,b[48]=U):U=b[48];G=U;U=G.checkIfMediaOverlayInfoImpressionLoggingDisabled;G=G.onLoggedMediaOverlayInfoImpression;var X=x.code;if(!d("PolarisUA").isMobile()&&X!=null&&((W=N)==null?void 0:W.overlayType)==="SECRET_LINK"){b[49]===Symbol["for"]("react.memo_cache_sentinel")?(W=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostSecretReelQRCode.react").__setRef("PolarisMedia_DEPRECATED.react")),b[49]=W):W=b[49];W=W;var Y=x.isVideo===!0?"reel":"p",Z;b[50]!==X||b[51]!==Y?(Z={permalink_key:Y,shortcode:X},b[50]=X,b[51]=Y,b[52]=Z):Z=b[52];b[53]!==W||b[54]!==Z?(X=g.jsx(W,{params:Z}),b[53]=W,b[54]=Z,b[55]=X):X=b[55];b[56]!==N||b[57]!==X?(Y=babelHelpers["extends"]({},N,{extra:X}),b[56]=N,b[57]=X,b[58]=Y):Y=b[58];N=Y}b[59]!==U||b[60]!==M?(W=U!=null?U(M):!1,b[59]=U,b[60]=M,b[61]=W):W=b[61];Z=!T&&!J;b[62]!==ja||b[63]!==x?(X=function(){return ja(x)},b[62]=ja,b[63]=x,b[64]=X):X=b[64];b[65]!==o||b[66]!==p||b[67]!==L||b[68]!==C||b[69]!==N||b[70]!==O||b[71]!==G||b[72]!==P.id||b[73]!==M||b[74]!==W||b[75]!==Z||b[76]!==X?(Y=g.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:o,asSidecarChild:p,dimensions:L,disableMediaOverlayInfoImpressionLogging:W,isPhoto:Z,isVisible:C,mediaId:M,mediaOverlayCoverInfo:N,onLoggedMediaOverlayInfoImpression:G,onShowPostClicked:X,ownerId:P.id,previewData:O}),b[65]=o,b[66]=p,b[67]=L,b[68]=C,b[69]=N,b[70]=O,b[71]=G,b[72]=P.id,b[73]=M,b[74]=W,b[75]=Z,b[76]=X,b[77]=Y):Y=b[77];U=Y}else if(J){if(m===!0)Q=!0,N=a;else{if(b[78]!==a){a.mediaFooter;O=babelHelpers.objectWithoutPropertiesLoose(a,["mediaFooter"]);G=O;b[78]=a;b[79]=G}else G=b[79];N=G}b[80]!==F||b[81]!==V||b[82]!==N?(P=g.jsx(c("PolarisSidecarMedia.react"),babelHelpers["extends"]({},N,{onChildIndexChange:F,sidecarChildren:V})),b[80]=F,b[81]=V,b[82]=N,b[83]=P):P=b[83];U=P}else if(T){var ka=f;b[84]!==l?(W=[l],b[84]=l,b[85]=W):W=b[85];Z=W;b[86]!==K||b[87]!==Z?(X=[].concat(Z,K),b[86]=K,b[87]=Z,b[88]=X):X=b[88];b[89]!==n||b[90]!==o||b[91]!==p||b[92]!==q||b[93]!==r||b[94]!==s||b[95]!==t||b[96]!==ka||b[97]!==u||b[98]!==v||b[99]!==w||b[100]!==x||b[101]!==a.className||b[102]!==y||b[103]!==ga||b[104]!==z||b[105]!==A||b[106]!==B?(Y=function(b){return g.jsxs("div",{ref:b,children:[t===!0?g.jsx(c("PolarisEmbedVideo.react"),{className:a.className,isVisible:ka,post:x}):g.jsx(c("PolarisMediaVideo.react"),{adInfo:n,analyticsContext:o,asSidecarChild:p,autoplay:q,className:a.className,firstSidecarChildSrc:r,isVisible:ka,onFinished:v,onLoop:w,post:x,relationship:y,shouldAutoPlay:ga(ka,B),upcomingEventMediaId:s}),z===!0&&A!=null&&g.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:!0,duration:3e3,onClose:u,wide:!0,children:A})]})},b[89]=n,b[90]=o,b[91]=p,b[92]=q,b[93]=r,b[94]=s,b[95]=t,b[96]=ka,b[97]=u,b[98]=v,b[99]=w,b[100]=x,b[101]=a.className,b[102]=y,b[103]=ga,b[104]=z,b[105]=A,b[106]=B,b[107]=Y):Y=b[107];b[108]!==x.id||b[109]!==X||b[110]!==Y?(J=g.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:X,id:x.id,children:Y}),b[108]=x.id,b[109]=X,b[110]=Y,b[111]=J):J=b[111];U=J}else{b[112]!==R?(m=c("nullthrows")(R),b[112]=R,b[113]=m):m=b[113];b[114]!==L||b[115]!==ha||b[116]!==k||b[117]!==h||b[118]!==M||b[119]!==m?(O={dimensions:L,likeEventCount:h,onPhotoRendered:k,postId:M,src:m,srcSet:ha},b[114]=L,b[115]=ha,b[116]=k,b[117]=h,b[118]=M,b[119]=m,b[120]=O):O=b[120];G=O;var $;if(b[121]!==o||b[122]!==p||b[123]!==r||b[124]!==s||b[125]!==aa||b[126]!==C||b[127]!==G||b[128]!==I||b[129]!==R||b[130]!==ia||b[131]!==S||b[132]!==H){if(S&&S.length>0||ia){F=p===!0?r:R;b[134]!==F?(V=c("nullthrows")(F),b[134]=F,b[135]=V):V=b[135];$=g.jsx(d("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers["extends"]({},I,G,{analyticsContext:o,isFocused:aa,isVisible:C,upcomingEvent:ia,upcomingEventMediaId:s,upcomingEventThumbnailSrc:V,usertags:S,viewer:H}))}else $=g.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},I,G,{analyticsContext:o,asSidecarChild:p}));b[121]=o;b[122]=p;b[123]=r;b[124]=s;b[125]=aa;b[126]=C;b[127]=G;b[128]=I;b[129]=R;b[130]=ia;b[131]=S;b[132]=H;b[133]=$}else $=b[133];b[136]!==K?(N=[].concat(K),b[136]=K,b[137]=N):N=b[137];P=N;b[138]!==$||b[139]!==x.id?(T=function(a){return g.jsx(c("PolarisPhotoWrapper.react"),{postId:x.id,ref:a,children:$})},b[138]=$,b[139]=x.id,b[140]=T):T=b[140];b[141]!==P||b[142]!==x.id||b[143]!==T?(l=g.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:P,id:x.id,children:T}),b[141]=P,b[142]=x.id,b[143]=T,b[144]=l):l=b[144];W=l;b[145]!==h?(Z=g.jsx(c("PolarisLikeAnimation.react"),{likeEventCount:h},h),b[145]=h,b[146]=Z):Z=b[146];b[147]!==e||b[148]!==Z||b[149]!==W?(X=g.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:j,onDoubleClick:e,onFocus:i,role:"button",children:[W,Z]}),b[147]=e,b[148]=Z,b[149]=W,b[150]=X):X=b[150];U=X}if(D!=null&&!Q&&!E){b[151]!==U||b[152]!==D?(Y=g.jsxs(g.Fragment,{children:[U,D]}),b[151]=U,b[152]=D,b[153]=Y):Y=b[153];U=Y}return U}function b(a,b){return a.id!==b.id}e=c("polarisWithRemountOnChange")(b)(a);ba["default"]=e}),98);
__d("PolarisSidecarChild.react",["IGDSBox.react","PolarisMedia_DEPRECATED.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:5000","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(43),f;if(e[0]!==a){var g=a.index,h=a.media,j=a.mediaWidth;a.onChildIndexChange;var k=a.sidecarChildIndex,l=a.sidecarChildren,m=a.analyticsContext,n=a.isVisible;a.mediaFooter;var o=a.onMediaRendered,p=a.post,q=babelHelpers.objectWithoutPropertiesLoose(a,["index","media","mediaWidth","onChildIndexChange","sidecarChildIndex","sidecarChildren","analyticsContext","isVisible","mediaFooter","onMediaRendered","post"]);g=g;h=h;f=j;j=k;k=l;l=m;m=n;n=o;o=p;p=q;e[0]=a;e[1]=l;e[2]=g;e[3]=m;e[4]=h;e[5]=f;e[6]=n;e[7]=p;e[8]=o;e[9]=j;e[10]=k}else l=e[1],g=e[2],m=e[3],h=e[4],f=e[5],n=e[6],p=e[7],o=e[8],j=e[9],k=e[10];e[11]!==l||e[12]!==g||e[13]!==m||e[14]!==h||e[15]!==n||e[16]!==p||e[17]!==j||e[18]!==k?(q=h.isUpsell===!0&&b("cr:5000")!=null?i.jsx(b("cr:5000"),{upsellSidecarChild:h}):i.jsx(c("PolarisMedia_DEPRECATED.react"),babelHelpers["extends"]({},p,{accessibilityCaption:h.accessibilityCaption,analyticsContext:l,asSidecarChild:!0,firstSidecarChildSrc:k[0].src,isVisible:j===g?m:!1,onMediaRendered:n,post:h})),e[11]=l,e[12]=g,e[13]=m,e[14]=h,e[15]=n,e[16]=p,e[17]=j,e[18]=k,e[19]=q):q=e[19];var r=q;if(g===0){e[20]!==h.id||e[21]!==f||e[22]!==r?(a=i.jsx(c("IGDSBox.react"),{position:"relative",width:f,children:r},h.id),e[20]=h.id,e[21]=f,e[22]=r,e[23]=a):a=e[23];return a}e[24]!==l||e[25]!==h?(m=d("PolarisOrganicImpressionAction").makeCarouselImpressionAction(h,l),e[24]=l,e[25]=h,e[26]=m):m=e[26];e[27]!==l||e[28]!==g||e[29]!==h||e[30]!==o.id||e[31]!==k[0]?(n=d("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(h,k[0],g,o.id,l),e[27]=l,e[28]=g,e[29]=h,e[30]=o.id,e[31]=k[0],e[32]=n):n=e[32];e[33]!==m||e[34]!==n?(p=[m,n],e[33]=m,e[34]=n,e[35]=p):p=e[35];e[36]!==f||e[37]!==r?(j=function(a){return i.jsx(c("IGDSBox.react"),{containerRef:a,position:"relative",width:f,children:r})},e[36]=f,e[37]=r,e[38]=j):j=e[38];e[39]!==h.id||e[40]!==p||e[41]!==j?(q=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:p,id:h.id,children:j},h.id),e[39]=h.id,e[40]=p,e[41]=j,e[42]=q):q=e[42];return q}g["default"]=a}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisIsLoggedIn","PolarisUA","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=4,i=2;function a(a){var b=d("react-compiler-runtime").c(3),c=a.post;a=a.sidecarChildren;if(d("PolarisIsLoggedIn").isLoggedIn()||d("PolarisUA").isDesktop()||a.some(j)||c.dimensions===null||c.owner===null)return a;var e;if(b[0]!==c||b[1]!==a){e=[].concat(a);var f=e.length>=h?i:null;if(f!=null&&e[f-1].mediaPreview!=null){var g={dimensions:c.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:e[f-1].mediaPreview,owner:c.owner,src:""};e.splice(f,0,g)}b[0]=c;b[1]=a;b[2]=e}else e=b[2];return e}function j(a){return a.mediaOverlayInfo!=null}g["default"]=a}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecarChild.react","PolarisSidecar_DEPRECATED.react","qex","react","react-compiler-runtime","usePolarisSidecarMediaOrUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(23),e,f,g,h;b[0]!==a?(h=a.sidecarChildren,e=a.initialCarouselIndex,g=a.post,f=babelHelpers.objectWithoutPropertiesLoose(a,["sidecarChildren","initialCarouselIndex","post"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==f.onChildIndexChange?(a=function(a,b,c){return[f.onChildIndexChange].filter(Boolean).forEach(function(d){return d(a,b,c)})},b[5]=f.onChildIndexChange,b[6]=a):a=b[6];a=a;var k;b[7]!==g||b[8]!==h?(k={post:g,sidecarChildren:h},b[7]=g,b[8]=h,b[9]=k):k=b[9];var l=c("usePolarisSidecarMediaOrUpsell")(k);b[10]!==f||b[11]!==g||b[12]!==l?(h=function(a,b){return l.map(function(d,e){return i.jsx(c("PolarisSidecarChild.react"),babelHelpers["extends"]({index:e,media:d,mediaWidth:a,post:g,sidecarChildIndex:b,sidecarChildren:l},f),e)})},b[10]=f,b[11]=g,b[12]=l,b[13]=h):h=b[13];k=h;b[14]!==l?(h=l.map(j).filter(Boolean),b[14]=l,b[15]=h):h=b[15];h=h;var m;b[16]!==h||b[17]!==e||b[18]!==a||b[19]!==f.mediaFooter||b[20]!==k||b[21]!==l.length?(m=i.jsx(d("PolarisSidecar_DEPRECATED.react").Sidecar,{dimensions:h,hoverTriggeredPager:c("qex")._("6")===!0,initialCarouselIndex:e,mediaFooter:f.mediaFooter,numSidecarChildren:l.length,onChildIndexChange:a,renderSidecarChildren:k}),b[16]=h,b[17]=e,b[18]=a,b[19]=f.mediaFooter,b[20]=k,b[21]=l.length,b[22]=m):m=b[22];h=m;return h}function j(a){a=a.dimensions;return a}g["default"]=a}),98);
__d("PolarisMediaContainer.react",["PolarisMedia_DEPRECATED.react","PolarisReactRedux.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){return{onMediaRendered:d("polarisPostSelectors").getOnMediaRendered(a,b.onPostMediaRendered)}}function b(a,b){return{onSidecarChildIndexChange:function(a,c,d){a=b.onPostSidecarChildIndexChange;a&&a(c)}}}function e(a,b,c){c.onPostMediaRendered;c.onPostSidecarChildIndexChange;c=babelHelpers.objectWithoutPropertiesLoose(c,["onPostMediaRendered","onPostSidecarChildIndexChange"]);return babelHelpers["extends"]({},c,{},a,{},b)}f=d("PolarisReactRedux.react").connect(a,b,e)(c("PolarisMedia_DEPRECATED.react"));g["default"]=f}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){c("polarisLogAction")("likeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379204822,"720"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"LIKE_POST_REQUESTED"});return d("PolarisAPILikePost").likePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdLike(b,e):d("PolarisEngagementLogger").logOrganicLike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379204822,"720")),f({postId:a,type:"LIKE_POST_SUCCEEDED"})},function(e){var g;c("polarisLogAction")("likeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379204822,"720"),"request_failed");g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l,m;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;m=(m=e.responseObject)==null?void 0:m.restriction_enrollment_data;e=(e=e.responseObject)==null?void 0:e.enforcement_transparency_instance_identifier;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,enforcement_transparency_instance_identifier:e,feedback_appeal_label:l,message:i,restriction_enrollment_data:m,source:b.source,sourceOfAction:"like_post",title:g,url:j}))}f({postId:a,type:"LIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.likePost=h}),98);
__d("PolarisPostActionRemovePostFromCollection",["InstagramODS","PolarisAPIEditCollection"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.postId;return function(a){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.unsaveFromCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToRemove:[e]}).then(function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_SUCCEEDED"}),c("InstagramODS").incr("web.unsaveFromCollection.success")})["catch"](function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_FAILED"}),c("InstagramODS").incr("web.unsaveFromCollection.failure")})}}g.removePostFromCollection=a}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f){c("polarisLogAction")("saveAttempt",b);f({postId:a,type:"SAVE_POST_REQUESTED"});return d("PolarisAPISavePost").savePost(a).then(function(){c("polarisLogAction")("saveSuccess",b),f({postId:a,type:"SAVE_POST_SUCCEEDED"}),e!=null&&d("PolarisAdsEngagementLogger").logAdSave(e)},function(){c("polarisLogAction")("saveFailure",b),f({postId:a,type:"SAVE_POST_FAILED"})})}}g.savePost=a}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){c("polarisLogAction")("unlikeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379198902,"749"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"UNLIKE_POST_REQUESTED"});return d("PolarisAPIUnlikePost").unlikePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdUnlike(b,e):d("PolarisEngagementLogger").logOrganicUnlike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379198902,"749")),f({postId:a,type:"UNLIKE_POST_SUCCEEDED"})},function(e){var g;g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l,m;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;m=(m=e.responseObject)==null?void 0:m.restriction_enrollment_data;e=(e=e.responseObject)==null?void 0:e.enforcement_transparency_instance_identifier;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,enforcement_transparency_instance_identifier:e,feedback_appeal_label:l,message:i,restriction_enrollment_data:m,source:b.source,sourceOfAction:"unlike_post",title:g,url:j}))}c("polarisLogAction")("unlikeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379198902,"749"),"request_failed");f({postId:a,type:"UNLIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.unlikePost=h}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f){c("polarisLogAction")("unsaveAttempt",b);f({postId:a,type:"UNSAVE_POST_REQUESTED"});return d("PolarisAPIUnsavePost").unsavePost(a).then(function(){c("polarisLogAction")("unsaveSuccess",b),f({postId:a,type:"UNSAVE_POST_SUCCEEDED"}),e!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(e)},function(){c("polarisLogAction")("unsaveFailure",b),f({postId:a,type:"UNSAVE_POST_FAILED"})})}}g.unsavePost=a}),98);
__d("PolarisPostCoauthorReviewOverlayFooterCTA.react",["fbt","FBLogger","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisConfig","PolarisUserHoverCard.react","PolarisUserLink.react","err","gkx","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=c("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisPostCoauthorReviewOverlayFooterCTA.react");function a(a){var b,e=d("react-compiler-runtime").c(22),f=a.invitedCoauthorProducers,g=a.mediaId,i=a.mediaShortcode,l=a.productType,m=a.user;a=c("useIGDSLazyDialog")(k);var n=a[0];e[0]!==g||e[1]!==i||e[2]!==l||e[3]!==n||e[4]!==(m==null?void 0:m.username)?(a=function(){var a;n({mediaId:g!=null?g:"",mediaShortcode:i!=null?i:"",productType:l,username:(a=m==null?void 0:m.username)!=null?a:""})},e[0]=g,e[1]=i,e[2]=l,e[3]=n,e[4]=m==null?void 0:m.username,e[5]=a):a=e[5];a=a;if(m==null||m.username==null||g==null){var o=c("err")("PolarisPostCoauthorReviewOverlayFooterCTA requires a post user");c("FBLogger")("ig_web").catching(o);return null}var p=d("PolarisConfig").getViewerIdOrZero();o=f!=null&&f.some(function(a){return(a==null?void 0:a.id)===p});if(!o)return null;f=!m.isUnpublished;o=(o=m==null?void 0:m.username)!=null?o:"";b=(b=m==null?void 0:m.username)!=null?b:"";var q;e[6]!==b?(q=j.jsx(c("PolarisUserLink.react"),{username:b}),e[6]=b,e[7]=q):q=e[7];e[8]!==f||e[9]!==o||e[10]!==q||e[11]!==m.id?(b=j.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:f,userId:m.id,username:o,children:q}),e[8]=f,e[9]=o,e[10]=q,e[11]=m.id,e[12]=b):b=e[12];f=b;e[13]!==f?(o=h._(/*BTDS*/"{media_owner_username} te ha invitado a colaborar en su publicaci\u00f3n.",[h._param("media_owner_username",f)]),e[13]=f,e[14]=o):o=e[14];q=o;e[15]!==f?(b=h._(/*BTDS*/"{media_owner_username} te ha invitado a que colabores en su reel.",[h._param("media_owner_username",f)]),e[15]=f,e[16]=b):b=e[16];o=b;e[17]!==a||e[18]!==q||e[19]!==l||e[20]!==o?(f=c("gkx")("4757")?j.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:l===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?o:q})}),j.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:j.jsx(c("IGDSButton.react"),{display:"inline",label:h._(/*BTDS*/"Revisar"),onClick:a,variant:"tertiary"})})]}):null,e[17]=a,e[18]=q,e[19]=l,e[20]=o,e[21]=f):f=e[21];return f}g["default"]=a}),226);
__d("PolarisPostCommentInputPicker.react",["CometPlaceholder.react","PolarisUA","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react"));function a(a){var b=d("react-compiler-runtime").c(17),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=c("usePolarisIsOnFeedPage")();var g=c("usePolarisIsOnAdsActivityPage")(),h;b[3]!==g||b[4]!==a||b[5]!==e?(h=(a||g)&&e.inModal!==!0&&d("PolarisUA").isDesktop(),b[3]=g,b[4]=a,b[5]=e,b[6]=h):h=b[6];g=h;b[7]!==g?(a={0:{className:"x1qjc9v5 x5ur3kl x13fuv20 x178xt8z x9f619 x78zum5 xdt5ytf x2lah0s xnnlda6 x1gslohp x1n2onr6"},1:{className:"x1qjc9v5 x9f619 x78zum5 xdt5ytf x2lah0s x1d6elog"}}[!!g<<0],b[7]=g,b[8]=a):a=b[8];b[9]!==a?(h=i.jsx("div",babelHelpers["extends"]({},a)),b[9]=a,b[10]=h):h=b[10];b[11]!==e||b[12]!==f?(g=i.jsx(j,babelHelpers["extends"]({},e,{ref:f})),b[11]=e,b[12]=f,b[13]=g):g=b[13];b[14]!==h||b[15]!==g?(a=i.jsx(c("CometPlaceholder.react"),{fallback:h,name:"PostCommentInputPicker",children:g}),b[14]=h,b[15]=g,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("PolarisPostFeatures.react",["FBLogger","PolarisPostConstants","PolarisPostModalRenderingContext.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRelationshipTypes","PolarisUA","polarisRelationshipSelectors.react","react-compiler-runtime","usePolarisDisplayProperties","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=[{overrides:{threeLineHeaderEnabled:!0},predicate:"isThreeLineHeaderEnabled"},{overrides:{avatarSize:(b=d("PolarisPostConstants")).AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isFeed"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isWidePhotoOnMediumScreen"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,hasThreadedSidebarComments:!0,showPostButton:!0},predicate:"isRichCommentsEnabled"},{overrides:{avatarSize:b.AVATAR_SIZE_SMALL,commentsAreStacked:!0,hasThreadedSidebarComments:!1,showPostButton:!0},predicate:"isStackedScreenSize"},{overrides:{hasPhotosOfYouOption:!0},predicate:"isViewerInUserTags"},{overrides:{showFollowButton:!1},predicate:"isFeedAndOwnerFollowedByViewer"},{overrides:{showFollowButton:!1},predicate:"isModalAndOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!1},predicate:"isOwnerPrivate"},{overrides:{canViewerProvideFeedback:!0},predicate:"isOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!0,showFollowButton:!1},predicate:"isOwnerTheViewer"},{overrides:{showFollowButton:!1},predicate:"isOwnerUnpublished"},{overrides:{showFollowButton:!1},predicate:"isBlocked"},{overrides:{showFollowButton:!1},predicate:"hasFollowHashtagInfo"},{overrides:{canViewerProvideFeedback:!1},predicate:"isLoggedOut"}],i={avatarSize:b.AVATAR_SIZE_LARGE,canViewerProvideFeedback:!0,commentsAreStacked:!1,hasPhotosOfYouOption:!1,hasThreadedSidebarComments:!1,showFollowButton:!0,showPostButton:!1,threeLineHeaderEnabled:!1};function j(a){var b=a.isInModal,c=a.owner,e=a.post,f=a.relationship,g=a.variant,h=a.viewer;a=a.viewportWidth;g=g===d("PolarisPostVariants").VARIANTS.feed;var i=Boolean(h),j=!h,k=(h==null?void 0:h.id)===c.id,l=f.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,m=Boolean(e.followHashtagInfo),n=Boolean(e.location)&&(e.sponsors||[]).length>0;return{hasFollowHashtagInfo:m,isBlocked:f.hasBlockedViewer.state===d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isFavorited:((m=f.favoritedByViewer)==null?void 0:m.state)===d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeed:g,isFeedAndOwnerFollowedByViewer:g&&l,isLoggedIn:i,isLoggedOut:j,isModalAndOwnerFollowedByViewer:b&&l,isOwnerFollowedByViewer:l,isOwnerPrivate:Boolean(c.isPrivate),isOwnerTheViewer:k,isOwnerUnpublished:Boolean(c.isUnpublished),isRichCommentsEnabled:!0,isSidecar:(e.sidecarChildren||[]).length>0,isStackedScreenSize:a<d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isThreeLineHeaderEnabled:n,isViewerInUserTags:i&&(e.usertags||[]).some(function(a){return a.user.id===(h==null?void 0:h.id)}),isWidePhotoOnMediumScreen:Boolean(e.dimensions&&e.dimensions.width/e.dimensions.height>1.5&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&a<=d("PolarisPostConstants").MEDIUM_SCREEN_MAX)}}function k(a){var b=j(a);a=b.isBlocked;var d=b.isFavorited,e=b.isLoggedIn,f=b.isSidecar,g=b.isStackedScreenSize;return babelHelpers["extends"]({isBlocked:a,isFavorited:d,isLoggedIn:e,isSidecar:f,isStackedScreenSize:g},h.filter(function(a){a=a.predicate;var d=b[a];if(typeof d!=="boolean")throw c("FBLogger")("instagram_web").mustfixThrow("Could not find predicate %s",a);return d}).reduce(function(a,b){b=b.overrides;return babelHelpers["extends"]({},a,{},b)},i))}function a(a){var b=d("react-compiler-runtime").c(12),e=a.owner,f=a.path,g=a.post;a=a.variant;var h;b[0]!==e.id?(h=function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,e.id)},b[0]=e.id,b[1]=h):h=b[1];h=d("PolarisReactRedux.react").useSelector(h);var i=c("usePolarisViewer")(),j=c("usePolarisDisplayProperties")(),l=j.viewportHeight;j=j.viewportWidth;var m=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();m=m.isInModal;if(b[2]!==m||b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==a||b[8]!==i||b[9]!==l||b[10]!==j){var n={isInModal:m,isMobile:d("PolarisUA").isMobile(),owner:e,path:f,post:g,relationship:h,variant:a,viewer:i,viewportHeight:l,viewportWidth:j};n=k(n);b[2]=m;b[3]=e;b[4]=f;b[5]=g;b[6]=h;b[7]=a;b[8]=i;b[9]=l;b[10]=j;b[11]=n}else n=b[11];return n}g.getPostFeatures=k;g.usePolarisPostFeatures=a}),98);
__d("PolarisPostFastShareButton.react",["CometPlaceholder.react","IGDContactSearchDialogType.flow","IGDSMessagesOutlineIcon.react","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisIGCoreSVGIconButton.react","PolarisIsLoggedIn","PolarisPostModalContext.react","PolarisPostStrings","PolarisPostTypeUtils","PolarisShareSheetV3.entrypoint","QPLUserFlow","lazyLoadComponent","polarisLogAction","qex","qpl","react","react-compiler-runtime","useIGDSEntryPointDialog","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","useIGDShareSheetOnSubmitPost","usePolarisPost","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState,k=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisPostFastShareButton.react"),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostFastShareButton.react"));function a(a){var b=d("react-compiler-runtime").c(40),e=a.analyticsContext,f=a["data-testid"],g=a.mediaId,h=a.mediaOverlayInfo,o=a.postId,p=a.sharingFrictionInfo,q=d("usePolarisPost").usePost(o,n),r=d("PolarisPostModalContext.react").useSetPostModal();a=c("useIGDSLazyDialog")(k,m);var s=a[0];o=a[1];a=j(!1);var t=a[0],u=a[1],v=(p==null?void 0:p.bloksAppUrl)!=null&&(p==null?void 0:p.shouldHaveSharingFriction)===!0;a=h!=null?h:q.mediaOverlayInfo;b[0]!==q||b[1]!==a?(h=babelHelpers["extends"]({},q,{mediaOverlayInfo:a}),b[0]=q,b[1]=a,b[2]=h):h=b[2];a=h;var w=a,x=c("useIGDShareSheetOnSubmitPost")(w);b[3]!==g?(h={routeProps:{mediaId:g}},b[3]=g,b[4]=h):h=b[4];a=c("useIGDSEntryPointDialog")(c("PolarisShareSheetV3.entrypoint"),h);var y=a[0],z=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();b[5]!==e||b[6]!==z||b[7]!==x||b[8]!==s||b[9]!==q||b[10]!==r||b[11]!==v||b[12]!==y||b[13]!==w?(h=function(){c("polarisLogAction")("shareClick",{source:e,type:d("PolarisPostTypeUtils").getPostType(q)});var a=c("qex")._("948")===!0;c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{bool:{is_graphql:a},string:{source:e}}});if(!v){if(!d("PolarisIsLoggedIn").isLoggedIn())r("share");else{var b=c("uuidv4")();z("igd_sharesheet_open",{flowInstanceId:b,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:e});a?y({flowInstanceId:b}):s({flowInstanceId:b,onSubmit:x,post:w})}u(!0)}},b[5]=e,b[6]=z,b[7]=x,b[8]=s,b[9]=q,b[10]=r,b[11]=v,b[12]=y,b[13]=w,b[14]=h):h=b[14];a=h;b[15]!==e||b[16]!==g?(h={media_id:g,module:e},b[15]=e,b[16]=g,b[17]=h):h=b[17];h=h;var A=h;b[18]!==e||b[19]!==A||b[20]!==z||b[21]!==g||b[22]!==x||b[23]!==s||b[24]!==v||b[25]!==(p==null?void 0:p.bloksAppUrl)||b[26]!==t||b[27]!==w?(h=function(){return!v?null:t&&(p==null?void 0:p.bloksAppUrl)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,{appId:p==null?void 0:p.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){u(!1);var a=c("uuidv4")();z("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:e});s({flowInstanceId:a,onSubmit:x,post:w})},onResumeStoryPlayback:function(){u(!1)}},params:A},g)})},b[18]=e,b[19]=A,b[20]=z,b[21]=g,b[22]=x,b[23]=s,b[24]=v,b[25]=p==null?void 0:p.bloksAppUrl,b[26]=t,b[27]=w,b[28]=h):h=b[28];h=h;var B;b[29]===Symbol["for"]("react.memo_cache_sentinel")?(B=i.jsx(c("IGDSMessagesOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-secondary-text",size:24}),b[29]=B):B=b[29];var C;b[30]===Symbol["for"]("react.memo_cache_sentinel")?(C=i.jsx(c("IGDSMessagesOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-primary-text",size:24}),b[30]=C):C=b[30];b[31]!==f||b[32]!==a||b[33]!==o?(B=i.jsx(c("PolarisIGCoreSVGIconButton.react"),{"data-testid":void 0,hover:B,onClick:a,ref:o,children:C}),b[31]=f,b[32]=a,b[33]=o,b[34]=B):B=b[34];b[35]!==h?(C=h(),b[35]=h,b[36]=C):C=b[36];b[37]!==B||b[38]!==C?(f=i.jsxs(i.Fragment,{children:[B,C]}),b[37]=B,b[38]=C,b[39]=f):f=b[39];return f}function m(a){return i.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a}g["default"]=a}),98);
__d("PolarisSaveButton.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","nullthrows","polarisSavedPostsSelectors","react","react-compiler-runtime","useIGDSLazyDialog","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=24,l=-16,m=5;function a(a){var b=d("react-compiler-runtime").c(40),e=a.analyticsContext,f=a.collectionsPostSavedTo,g=a["data-testid"],h=a.isSaved,o=a.onMouseEnter,p=a.onSaveMedia,q=a.onSaveMediaToCollection,r=a.onShowToast,s=a.postId,t=a.thumbnailSrcSet,u=d("PolarisReactRedux.react").useDispatch(),v=c("usePolarisViewer")(),w=!v;b[0]!==w||b[1]!==v?(a=function(a){if(w)return null;var b=c("nullthrows")(v);return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,c("nullthrows")(b.id))},b[0]=w,b[1]=v,b[2]=a):a=b[2];var x=d("PolarisReactRedux.react").useSelector(a);b[3]!==w||b[4]!==v?(a=function(a){if(w)return null;var b=c("nullthrows")(v);return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,c("nullthrows")(b.id))},b[3]=w,b[4]=v,b[5]=a):a=b[5];var y=d("PolarisReactRedux.react").useSelector(a);b[6]!==x||b[7]!==y?(a=function(){if(x==null||y==null)return!1;return x.length>=m?!0:!y.moreAvailable&&x.length>1},b[6]=x,b[7]=y,b[8]=a):a=b[8];var z=a;b[9]!==w?(a=!w&&d("PolarisUA").isDesktop(),b[9]=w,b[10]=a):a=b[10];a=a;var A=z()&&a,B=function(a){a.preventDefault(),p(!h),!h===!0&&A&&(r!=null&&r(),F(!0))},C=function(){o==null?void 0:o();if(!w&&!z()&&!c("nullthrows")(y).isFetching){var a=c("nullthrows")(v);u(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(c("nullthrows")(a.id)))}F(!1)},D=j(!1),E=D[0];D=D[1];var F=D;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(D=c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.react"),b[11]=D):D=b[11];D=c("useIGDSLazyDialog")(D);var G=D[0];b[12]!==e||b[13]!==f||b[14]!==E||b[15]!==h||b[16]!==p||b[17]!==q||b[18]!==s||b[19]!==F||b[20]!==A||b[21]!==t||b[22]!==G?(D=A?i.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:f,hidePopover:E,onSaveMedia:p,onSaveMediaToCollection:q,postId:s,postIsSaved:h,setHidePopover:F,setShowCreateCollectionModal:function(){return G({onSaveChange:p,postId:s,source:e,srcSet:t})}}):null,b[12]=e,b[13]=f,b[14]=E,b[15]=h,b[16]=p,b[17]=q,b[18]=s,b[19]=F,b[20]=A,b[21]=t,b[22]=G,b[23]=D):D=b[23];b[24]!==a||b[25]!==h?(f=h||!a?null:i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:k}),b[24]=a,b[25]=h,b[26]=f):f=b[26];b[27]!==h?(E=h?i.jsx(c("IGDSSavePanoFilledIcon.react"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:k}):i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:k}),b[27]=h,b[28]=E):E=b[28];b[29]!==g||b[30]!==B||b[31]!==f||b[32]!==E?(q=i.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:f,onClick:B,padding:8,children:E}),b[29]=g,b[30]=B,b[31]=f,b[32]=E,b[33]=q):q=b[33];b[34]!==C||b[35]!==q?(a=i.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:C,onPress:n,children:q}),b[34]=C,b[35]=q,b[36]=a):a=b[36];b[37]!==a||b[38]!==D?(g=i.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:D,offsetTop:l,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:a}),b[37]=a,b[38]=D,b[39]=g):g=b[39];return g}function n(){}g["default"]=a}),98);
__d("usePolarisMediaSaveToCollectionReduxHandler",["PolarisPostActionAddPostToCollection","PolarisPostActionRemovePostFromCollection","PolarisReactRedux.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=d("PolarisReactRedux.react").useDispatch(),e;b[0]!==c||b[1]!==a?(e=function(b,e){b?c(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:e,postId:a})):c(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,postIds:[a]}))},b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisPostFeedbackControls_DEPRECATED.react",["IGRouter_DO_NOT_USE.react","PolarisCommentButton.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisLikeButton.react","PolarisPostFastShareButton.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSaveButton.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","polarisLogAction","polarisPostSelectors","react","react-compiler-runtime","stylex","usePolarisMediaSaveToCollectionReduxHandler","usePolarisNavigateToLogin","usePolarisPostShowSavedToastHandler","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l={likeButton:{display:"x1rg5ohu",marginInlineStart:"x1qfufaz",$$css:!0},likeButtonLeftAligned:{marginInlineEnd:"x1xegmmw",order:"x9ek82g",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",marginTop:"x1gslohp",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(75),e=a.analyticsContext,f=a.canViewerProvideFeedback,g=a.canViewerReshare,i=a.code,m=a.commentsDisabled,n=a.containerRef,o=a.customAlignment,p=a.hideShareButton,q=a.isBlocked,r=a.isSidecar,s=a.isVideo,t=a.likedByViewer,u=a.mediaId,v=a.onCommentClick,w=a.onLikeChange,x=a.onSaveChange,y=a.ownerIsPrivate,z=a.ownerUsername,A=a.postId,B=a.savedByViewer,C=a.sharingFrictionInfo,D=a.variant,E=a.xstyle,F=a.history,G=d("PolarisReactRedux.react").useDispatch();b[0]!==A?(a=function(a){return d("polarisPostSelectors").getPostById(a,A)},b[0]=A,b[1]=a):a=b[1];a=c("usePolarisSelector")(a);var H;b[2]!==A?(H=function(a){return d("polarisPostSelectors").getSavedCollectionsForPost(a,A)},b[2]=A,b[3]=H):H=b[3];H=c("usePolarisSelector")(H);var I=c("usePolarisPostShowSavedToastHandler")(),J=k(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),K=J.canUserSeePersistentCta,L=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext);J=c("usePolarisNavigateToLogin")(i,z);var M=J[0],N=J[1];b[4]!==e||b[5]!==M||b[6]!==w?(z=function(a){d("PolarisIsLoggedIn").isLoggedIn()?w(a,"button"):(c("polarisLogAction")("likeAttempt",{source:e}),M("like"))},b[4]=e,b[5]=M,b[6]=w,b[7]=z):z=b[7];J=z;b[8]!==e||b[9]!==M||b[10]!==x?(z=function(a){d("PolarisIsLoggedIn").isLoggedIn()?x(a):(c("polarisLogAction")("saveAttempt",{source:e}),M("save"))},b[8]=e,b[9]=M,b[10]=x,b[11]=z):z=b[11];z=z;var O;b[12]!==N?(O=function(){d("PolarisIsLoggedIn").isLoggedIn()||N()},b[12]=N,b[13]=O):O=b[13];O=O;var P=c("usePolarisMediaSaveToCollectionReduxHandler")(A),Q;b[14]!==e||b[15]!==K||b[16]!==i||b[17]!==G||b[18]!==F||b[19]!==r||b[20]!==s||b[21]!==M||b[22]!==v||b[23]!==L||b[24]!==A||b[25]!==D?(Q=function(){var a=d("PolarisUA").isMobile();c("polarisLogAction")("commentButtonClicked",{isLoggedIn:d("PolarisIsLoggedIn").isLoggedIn(),source:e,type:s?"video":"photo"});if(d("PolarisIsLoggedIn").isLoggedIn())if(d("PolarisUA").isDesktop()&&D===d("PolarisPostVariants").VARIANTS.feed)G(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(A)),L(A),c("logPolarisPostModalOpen")(e,d("PolarisInteractionsLogger").getMediaTypeFromPost({isSidecar:r,isVideo:s}),"feed_comment");else if(D===d("PolarisPostVariants").VARIANTS.feed||a){a=c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((a={},a[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=K||void 0,a.shortcode=i,a));F.push(a)}else v();else M("comment")},b[14]=e,b[15]=K,b[16]=i,b[17]=G,b[18]=F,b[19]=r,b[20]=s,b[21]=M,b[22]=v,b[23]=L,b[24]=A,b[25]=D,b[26]=Q):Q=b[26];Q=Q;f=!d("PolarisIsLoggedIn").isLoggedIn()||f;if(q||!f)return null;q=y!==!0&&Boolean(g);f=o==="left";y=f&&l.likeButtonLeftAligned;b[27]!==y?(g=(h||(h=c("stylex")))(l.likeButton,y),b[27]=y,b[28]=g):g=b[28];b[29]!==J||b[30]!==O||b[31]!==t||b[32]!==g?(o=j.jsx(c("PolarisLikeButton.react"),{className:g,"data-testid":void 0,isLiked:t,onChange:J,onMouseEnter:O}),b[29]=J,b[30]=O,b[31]=t,b[32]=g,b[33]=o):o=b[33];b[34]!==m||b[35]!==Q||b[36]!==O||b[37]!==f?(y=!m&&j.jsx(c("PolarisCommentButton.react"),{className:{0:"x1rg5ohu",1:"x1rg5ohu x1xegmmw x182iqb8"}[!!f<<0],"data-testid":void 0,onClick:Q,onHoverStart:O}),b[34]=m,b[35]=Q,b[36]=O,b[37]=f,b[38]=y):y=b[38];b[39]!==e||b[40]!==p||b[41]!==f||b[42]!==u||b[43]!==A||b[44]!==q||b[45]!==C?(J=q&&p!==!0&&j.jsx("span",babelHelpers["extends"]({},{0:{className:"x1rg5ohu"},1:{className:"x1rg5ohu x1xegmmw x14yy4lh"}}[!!f<<0],{children:j.jsx(c("PolarisPostFastShareButton.react"),{analyticsContext:e,"data-testid":void 0,mediaId:u,mediaOverlayInfo:null,postId:A,sharingFrictionInfo:C})})),b[39]=e,b[40]=p,b[41]=f,b[42]=u,b[43]=A,b[44]=q,b[45]=C,b[46]=J):J=b[46];b[47]!==y||b[48]!==J||b[49]!==o?(t=j.jsxs(j.Fragment,{children:[o,y,J]}),b[47]=y,b[48]=J,b[49]=o,b[50]=t):t=b[50];g=t;b[51]!==E?(m=(h||(h=c("stylex"))).props(l.root,E),b[51]=E,b[52]=m):m=b[52];b[53]!==f?(Q={0:{className:"x972fbf x10w94by x1qhh985 x14e42zd x1rg5ohu xln7xf2 xk390pu xdj266r xat24cr x1ows92d xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},1:{className:"x972fbf x10w94by x1qhh985 x14e42zd x1rg5ohu xln7xf2 xk390pu xdj266r xat24cr xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1xegmmw x1lziwak xo1ph6p"}}[!!f<<0],b[53]=f,b[54]=Q):Q=b[54];b[55]!==H?(p=H!=null?H:[],b[55]=H,b[56]=p):p=b[56];b[57]!==e||b[58]!==z||b[59]!==O||b[60]!==P||b[61]!==I||b[62]!==a.displayResources||b[63]!==A||b[64]!==B||b[65]!==p?(u=j.jsx(c("PolarisSaveButton.react"),{analyticsContext:e,collectionsPostSavedTo:p,"data-testid":void 0,isSaved:B,onMouseEnter:O,onSaveMedia:z,onSaveMediaToCollection:P,onShowToast:I,postId:A,thumbnailSrcSet:a.displayResources}),b[57]=e,b[58]=z,b[59]=O,b[60]=P,b[61]=I,b[62]=a.displayResources,b[63]=A,b[64]=B,b[65]=p,b[66]=u):u=b[66];b[67]!==Q||b[68]!==u?(q=j.jsx("span",babelHelpers["extends"]({},Q,{children:u})),b[67]=Q,b[68]=u,b[69]=q):q=b[69];b[70]!==g||b[71]!==n||b[72]!==m||b[73]!==q?(C=j.jsxs("section",babelHelpers["extends"]({},m,{ref:n,children:[g,q]})),b[70]=g,b[71]=n,b[72]=m,b[73]=q,b[74]=C):C=b[74];return C}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostFooter.react",["IGDSBox.react","IGDSDivider.react","PolarisBoostMultiBoostUtils.react","PolarisBoostUtils.react","PolarisPostAboveFooterSection.react","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={marginTop0:{marginTop:"xdj266r",$$css:!0},marginTop16:{marginTop:"xw7yly9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.analyticsContext,f=a.bloksAppId,g=a.boostedStatus,h=a.boostUnavailableIdentifier,k=a.boostUnavailableReason,l=a.className,m=a.hasViewInsights,n=a.mediaId,o=a.productType;a=a.viewerId;a=d("PolarisBoostUtils.react").useIsEligibleForBoost(g!=null&&a!=null);var p;b[0]!==h||b[1]!==g?(p=d("PolarisBoostMultiBoostUtils.react").isEligibleForMultiBoostWebWithinBoostFlow(g,h),b[0]=h,b[1]=g,b[2]=p):p=b[2];p=p;if(!m&&!a)return null;var q=m?"between":"end",r=m?j.marginTop0:j.marginTop16,s;b[3]!==f||b[4]!==m||b[5]!==n?(s=m&&i.jsx(c("PolarisPostViewInsights.react"),{bloksAppId:f,mediaId:n}),b[3]=f,b[4]=m,b[5]=n,b[6]=s):s=b[6];b[7]!==e||b[8]!==h||b[9]!==k||b[10]!==g||b[11]!==n||b[12]!==o||b[13]!==a?(f=a&&g!=null&&o!=="ad"&&i.jsx(c("PolarisPostBoostButton.react"),{analyticsContext:e,boostedStatus:g,boostUnavailableIdentifier:h,boostUnavailableReason:k,mediaId:n,productType:c("nullthrows")(o)}),b[7]=e,b[8]=h,b[9]=k,b[10]=g,b[11]=n,b[12]=o,b[13]=a,b[14]=f):f=b[14];b[15]!==q||b[16]!==r||b[17]!==s||b[18]!==f?(m=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:q,paddingX:4,paddingY:3,position:"relative",xstyle:r,children:[s,f]}),b[15]=q,b[16]=r,b[17]=s,b[18]=f,b[19]=m):m=b[19];h=m;b[20]!==e||b[21]!==g||b[22]!==p||b[23]!==h?(k=p?i.jsxs(c("IGDSBox.react"),{children:[i.jsx(c("PolarisPostAboveFooterSection.react"),{analyticsContext:e,boostedStatus:g}),i.jsx(c("IGDSBox.react"),{marginStart:4,width:"90%",children:i.jsx(c("IGDSDivider.react"),{})}),h]}):h,b[20]=e,b[21]=g,b[22]=p,b[23]=h,b[24]=k):k=b[24];b[25]!==l||b[26]!==k?(n=i.jsx("section",{className:l,children:k}),b[25]=l,b[26]=k,b[27]=n):n=b[27];return n}g["default"]=a}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.postRemoveComments}b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("PolarisThreadedComments.react",["cx","IGDSBox.react","IGDSDivider.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisConfig","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisLinkBuilder","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostCommentsContainerPlaceholder.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSortCommentsUtil","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","cr:1342","isStringNullOrEmpty","nullthrows","polarisCommentReducer","polarisUserSelectors","react","react-compiler-runtime","requestIdleCallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={commentsCover:{marginInlineStart:"x1diwwjn",$$css:!0}};function l(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}function m(a){var b=d("react-compiler-runtime").c(22),e=a.innerRef,f=a.isPermalinkedComment,g=a.onHidePermalinkReply,h=a.parentComment,i=a.parentProps,k=a.parentState,l=a.permalinkedReplyId,m=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var n=i.analyticsContext,o=i.code,p=i.commentingDisabledForViewer,q=i.customIndentationPadding,r=i.handleDeleteCommentClick,s=i.hideUserAvatar,t=i.id,u=i.isDeletingComments,v=i.loggedIn,w=i.onLikeCountClick,x=i.ownerId,y=i.reducedAvatarMargin;i=i.showCommentOptionsInline;k=k.commentPermalinkAnimEnabled;var z;b[0]!==n||b[1]!==o||b[2]!==k||b[3]!==p||b[4]!==q||b[5]!==r||b[6]!==s||b[7]!==t||b[8]!==e||b[9]!==u||b[10]!==f||b[11]!==v||b[12]!==g||b[13]!==w||b[14]!==x||b[15]!==h||b[16]!==l||b[17]!==m||b[18]!==y||b[19]!==a||b[20]!==i?(z=j.jsx(c("PolarisCommentThread.react"),{analyticsContext:n,code:o,commentingDisabledForViewer:p,customIndentationPadding:q,hideUserAvatar:s,innerRef:e,isPermalinkedComment:f,loggedIn:v,onDeleteCommentClick:r,onHidePermalinkReply:g,onLikeCountClick:w,parentComment:h,permalinkedReplyAnimating:k,permalinkedReplyId:l,permalinkedReplyNodeRef:m,postId:t,postOwnerId:x,reducedAvatarMargin:y,replyPagerNodeRef:a,showCommentOptionsInline:i,showRemoveIcon:u}),b[0]=n,b[1]=o,b[2]=k,b[3]=p,b[4]=q,b[5]=r,b[6]=s,b[7]=t,b[8]=e,b[9]=u,b[10]=f,b[11]=v,b[12]=g,b[13]=w,b[14]=x,b[15]=h,b[16]=l,b[17]=m,b[18]=y,b[19]=a,b[20]=i,b[21]=z):z=b[21];return z}f=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=a.call.apply(a,[this].concat(e))||this,b.$2=j.createRef(),b.$3=j.createRef(),b.$4=j.createRef(),b.$5=[],b.state={commentPermalinkAnimEnabled:!1,commentsSortOrder:b.props.sortOrder,isAutoscrollingCommentPermalink:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},b.$13=function(a){a=b.props;var c=a.analyticsContext,e=a.code,f=a.hasRankedComments,g=a.id,h=a.loadMore,i=a.mediaType;a=a.ownerId;h(g,f,e);d("PolarisInteractionsLogger").logInteractionAction({containerModule:c,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:g,mediaType:i})},b.$14=function(){b.setState({showHiddenComments:!0})},b.$15=function(a){b.setState({commentsSortOrder:a})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var f=e.prototype;f.$6=function(){return this.$2.current||null};f.$7=function(){return this.$3.current||null};f.$8=function(){return this.$4.current||null};f.$9=function(a,b,e,f){var g=this;this.setState({commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!0});d("PolarisBatchDOM").measure(function(){var h,i=l(b,a);if(e){var j=l(e,a),k=e.getBoundingClientRect().height,m=a.getBoundingClientRect().height;m=Math.max(m-k,0);h=Math.max(i,j-m)}else h=i;d("PolarisBatchDOM").mutate(function(){a.scrollTop=h;var b=function(){g.setState({commentPermalinkAnimEnabled:!0,isAutoscrollingCommentPermalink:!1})};f?c("requestIdleCallback")(function(){b()}):b()})})};f.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("PolarisUA").isDesktop())return;a.scrollTop=a.scrollHeight}};f.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};f.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("PolarisBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("PolarisBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};f.$11=function(a,b,c){c=l(c,a);b=l(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};f.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};f.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};f.render=function(){var a=this,e=this.props,f=e.analyticsContext,g=e.captionAndTitle,h=e.captionCreatedAt,i=e.captionIsEdited,l=e.className,n=e.comments,o=e.commentsDisabled,p=e.commentsHasNextPage,q=e.communityNoteComponent,r=e.disableScroll,s=e.hasCoveredComments,t=e.hasRankedComments,u=e.hideUserAvatar,v=e.id,w=e.initialCommentsLoading,x=e.isOwnerVerified,y=e.loggedIn,z=e.mediaType,A=e.ownerId,B=e.permalinkedComment,C=e.permalinkedReplyId,D=e.postedAt,E=e.reducedAvatarMargin,F=e.requestComments,G=e.showCommentOptionsInline;e=e.showPagerBelowComments;p=o!==!0&&Boolean(p);var H=w&&n.size===0;if((g==null||g==="")&&n.count()===0&&!p&&!H)return d("PolarisUA").isDesktop()?j.jsxs("div",{className:l,children:[q,j.jsx(c("PolarisNoCommentsPlaceholder.react"),{})]}):j.jsx("div",{className:l});var I=null,J=null,K=null;if(!H&&o!==!0){I=B?j.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!C?" _a9yl":""),ref:this.$2,children:j.jsx(m,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:B,parentProps:this.props,parentState:this.state,permalinkedReplyId:C,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null;var L=function(){var b;return(b=a.props.comments.findIndex(function(a){return a.isAuthorVerified===!1}))!=null?b:-1};J=n.map(function(b,e){if(B&&b.id===B.id)return null;return b.isCovered===!0?null:j.jsxs(c("IGDSBox.react"),{marginBottom:4,children:[j.jsx(m,{innerRef:function(b){return a.$5[e]=b},parentComment:b,parentProps:a.props,parentState:a.state},e),a.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&L()===e+1&&j.jsx(c("IGDSDivider.react"),{})]},e)}).filter(function(a){return!!a});K=n.filter(function(a){return a.isCovered===!0}).map(function(b,c){return j.jsx(m,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)})}o=null;!c("isStringNullOrEmpty")(g)?o=j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisPostComment.react"),{analyticsContext:f,captionCreatedAt:h,className:(d("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:A,communityNoteComponent:q,hideUserAvatar:!!u,isAuthorVerified:!!x,isCaption:!0,isEdited:!!i,isRestrictedPending:!1,loggedIn:y,mediaType:z,postedAt:c("nullthrows")(D),postId:v,postOwnerId:A,reducedAvatarMargin:E,showCommentOptionsInline:G,showRemoveIcon:!1,showRichComment:!0,text:g,variant:d("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"),q!=null&&j.jsx(c("IGDSDivider.react"),{})]}):q!=null&&(o=j.jsxs(j.Fragment,{children:[q,j.jsx(c("IGDSDivider.react"),{})]}));C=p&&this.renderLoadMoreCommentsLink(I!=null);f=t||e===!0;h=function(a){return F(v,void 0,a)};u=d("PolarisSortCommentsUtil").showCommentsSortOptions(this.props.sortOrder,n.size);x=function(){return n.some(function(a){return a.isAuthorVerified===!0})};i=this.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&!x();y=j.jsx(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?4:0,marginStart:d("PolarisUA").isMobile()?4:0,children:j.jsx(c("IGDSDivider.react"),{})});return j.jsx(d("PolarisCommentsSortContext.react").PolarisCommentsSortContextProvider,{commentsSortOrder:this.state.commentsSortOrder,setCommentsSortOrder:this.$15,children:j.jsx("div",{className:l,children:j.jsxs("ul",{className:"_a9z6"+(r?" _a9z7":"")+(I!==null?" _a9z8":"")+(o===null?" _a9z9":"")+(!C||f?" _a9za":""),ref:function(b){return a.$1=b},children:[o,j.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",children:[u&&b("cr:1342")!=null&&j.jsx(c("IGDSBox.react"),{marginStart:12,marginTop:2,children:j.jsx(b("cr:1342"),{commentsCount:n.size,fetchComments:h})}),I]}),H?j.jsx(c("PolarisPostCommentsContainerPlaceholder.react"),{}):null,!f&&C,j.jsx(c("IGDSBox.react"),{children:w?j.jsx(c("PolarisPostCommentsContainerPlaceholder.react"),{}):j.jsxs(c("IGDSBox.react"),{children:[i&&j.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:y,marginStart:12,text:d("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),j.jsxs(c("IGDSBox.react"),{children:[!d("PolarisConfig").isLoggedOutFRXEligible()&&J,f&&C,!C&&s&&!this.state.showHiddenComments&&j.jsx(c("PolarisCommentCover.react"),{onClick:this.$14,postId:v,postOwnerId:A,xstyle:k.commentsCover}),this.state.showHiddenComments&&j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:y,marginStart:12,text:d("PolarisCommentsStrings").COVERED_COMMENTS}),K]})]})]})})]})})})};f.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching;b=b.hasRankedComments;e=d("PolarisLinkBuilder").buildMediaCommentsLink(c("nullthrows")(e),d("PolarisUA").isMobile());var g;b?(b=0,g=0):a?(b=2,g=2):(b=0,g=4);return j.jsx("li",{children:j.jsx(c("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,marginBottom:g,marginTop:b,url:e})})};return e}(j.PureComponent);function a(a,b){var c,e,f=b.id,g=b.ownerId;b=b.permalinkedCommentId;var h=d("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(a,f),i=d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,f);c=(c=a.threadedComments.parentByPostId[f])!=null?c:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;var j=c.count;c=c.pagination;e=(e=a.pendingComments[f])!=null?e:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var k=null;!h&&b!=null&&b!==""&&(k=a.comments.byId.get(b));b=(f=(b=a.threadedComments.parentByPostId[f])==null?void 0:b.sortOrder)!=null?f:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP;return{comments:i,commentSaveIsInFlight:e.committing,commentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(c),commentsIsFetching:d("PolarisPaginationUtils").isFetching(c),commentsTotalCount:j!=null?j:0,commentWasReply:e.repliedToCommentId!=null,hasCoveredComments:i.some(function(a){return a.isCovered===!0}),initialCommentsLoading:h,isOwnerVerified:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isVerified,permalinkedComment:k,sortOrder:b}}function e(a){return{loadMore:function(b,c,e){d("PolarisIsLoggedIn").isLoggedIn()?a(d("PolarisThreadedCommentActions").requestNextParentCommentPageV2(b,c)):a(d("PolarisThreadedCommentActions").requestNextParentCommentPage(b,c,e))},requestComments:function(b,c,e){a(d("PolarisThreadedCommentActions").requestInitialComments(b,c,e))}}}h=d("PolarisReactRedux.react").connect(a,e)(f);g["default"]=h}),98);
__d("PolarisThreadedCommentsLoader.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","IGDSBox.react","IGDSSpinner.react","PolarisReactRedux.react","PolarisThreadedCommentActions","react","react-compiler-runtime","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(2),e=a.children,f=a.initialCommentsQuery;a=a.postId;var g;b[0]!==a?(g=d("PolarisThreadedCommentActions").setupPostComments(a),b[0]=a,b[1]=g):g=b[1];c("usePolarisGetQuerySetup")(f,g);return e}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.initialCommentsQuery,g=a.postId,h=d("PolarisReactRedux.react").useDispatch();b[0]!==h||b[1]!==g?(a=function(a){h(d("PolarisThreadedCommentActions").initialCommentsError(g)),c("FBLogger")("ig_web").catching(a)},b[0]=h,b[1]=g,b[2]=a):a=b[2];a=a;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})}),b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==g?(l=i.jsx(c("CometPlaceholder.react"),{fallback:l,children:i.jsx(j,{initialCommentsQuery:f,postId:g,children:e})}),b[4]=e,b[5]=f,b[6]=g,b[7]=l):l=b[7];b[8]!==a||b[9]!==l?(e=i.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:a,children:l}),b[8]=a,b[9]=l,b[10]=e):e=b[10];return e}function k(){return null}g["default"]=a}),98);
__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={commentToDeleteId:null,showDeleteCommentModal:!1},b.$1=function(a){b.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},b.$2=function(){b.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.$3=function(){return this.props.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.caption,e=a.captionCreatedAt,f=a.captionIsEdited,g=a.className,h=a.code,j=a.commentingDisabledForViewer,k=a.commentsDisabled,l=a.communityNoteComponent,m=a.customIndentationPadding,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.initialCommentsQuery,r=a.mediaType,s=a.onLikeCountClick,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showRemoveCommentIcons;a=a.viewerId;a=a!=null;d=i.jsx(c("PolarisThreadedComments.react"),{analyticsContext:b,captionAndTitle:d,captionCreatedAt:e,captionIsEdited:f,className:g,code:h,commentingDisabledForViewer:j,commentsDisabled:k,communityNoteComponent:l,customIndentationPadding:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:z,loggedIn:a,mediaType:r,onLikeCountClick:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y});q!=null&&(d=i.jsx(c("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:q,postId:p,children:d}));return i.jsxs(i.Fragment,{children:[d,this.state.showDeleteCommentModal&&i.jsx(c("PolarisDeleteCommentModal.react"),{analyticsContext:b,commentId:c("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(i.PureComponent);b.defaultProps={variant:d("PolarisPostVariants").VARIANTS.flexible};function a(a){return{showRemoveCommentIcons:d("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(a=d("polarisUserSelectors").getViewer__DEPRECATED(a))==null?void 0:a.id}}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);
__d("PolarisPostFastPreviewCaption.react",["IGDSBox.react","PolarisPostFastCommentPrimitive.react","PolarisPostFastCrawlerComment.react","PolarisUA","nullthrows","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.enableTruncation,f=a.inModal;a=a.postId;var g=c("usePolarisIsOnFeedPage")();g=g&&f!==!0&&d("PolarisUA").isDesktop();f=d("usePolarisPost").usePostAndOwner(a,o);var h=d("usePolarisPost").usePostAndOwner(a,n),p=d("usePolarisPost").usePostAndOwner(a,m),q=d("usePolarisPost").usePostAndOwner(a,l),r=d("usePolarisPost").usePost(a,k);a=d("usePolarisPost").usePost(a,j);a=d("polarisCommentSelectors.react").useCommentTranslation(a);if(r==null||r==="")return null;(a==null?void 0:a.showTranslatedText)===!0&&a.translatedText!=null&&(r=a.translatedText);a=g?2:1;b[0]!==e||b[1]!==q||b[2]!==p||b[3]!==r||b[4]!==f||b[5]!==h?(g=e===!0?i.jsx(c("PolarisPostFastCrawlerComment.react"),{isAuthorUnpublished:q,isAuthorVerified:p,text:r,userId:f,username:h}):i.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorUnpublished:q,isAuthorVerified:p,isCaption:!0,text:r,userId:f,username:h}),b[0]=e,b[1]=q,b[2]=p,b[3]=r,b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==a||b[8]!==g?(e=i.jsx(c("IGDSBox.react"),{marginBottom:a,position:"relative",children:g}),b[7]=a,b[8]=g,b[9]=e):e=b[9];return e}function j(a){return a.captionCommentId}function k(a){return a.caption}function l(a,b){return b.isUnpublished}function m(a,b){return b.isVerified}function n(a,b){return c("nullthrows")(b.username)}function o(a,b){return c("nullthrows")(b.id)}g["default"]=a}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux.react","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){var e=d("react-compiler-runtime").c(8),f=d("usePolarisComment").useComment(a,l),g=d("usePolarisPost").usePost(b,d("PolarisInteractionsLogger").getMediaTypeFromPost),h=d("usePolarisPost").usePostAndOwner(b,k),i=c("usePolarisAnalyticsContext")();if(e[0]===Symbol["for"]("react.memo_cache_sentinel")){var j;j=(j=d("PolarisConfig").getViewerId())!=null?j:"";e[0]=j}else j=e[0];e[1]!==i||e[2]!==f||e[3]!==a||e[4]!==b||e[5]!==h||e[6]!==g?(j={commentAuthorId:f,commentId:a,containerModule:i,mediaAuthorId:h,mediaId:b,mediaType:g,userId:j},e[1]=i,e[2]=f,e[3]=a,e[4]=b,e[5]=h,e[6]=g,e[7]=j):j=e[7];return j}function k(a,b){return b.id}function l(a){return a.id}function a(a){var b=d("react-compiler-runtime").c(7),e=a.color,f=a.commentId;a=a.postId;var g=d("PolarisReactRedux.react").useDispatch(),h=j(f,a);a=d("usePolarisComment").useComment(f,m);b[0]!==g||b[1]!==h?(f=function(a){a?g(d("PolarisCommentActions").likeComment(h)):g(d("PolarisCommentActions").unlikeComment(h))},b[0]=g,b[1]=h,b[2]=f):f=b[2];f=f;var k;b[3]!==e||b[4]!==a||b[5]!==f?(k=i.jsx(c("PolarisLikeButton.react"),{color:e,isLiked:a,onChange:f,padding:0,size:12}),b[3]=e,b[4]=a,b[5]=f,b[6]=k):k=b[6];return k}function m(a){return a.likedByViewer}b=i.memo(a);g["default"]=b}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","react-compiler-runtime","usePolarisComment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(5);a=a.commentId;var f=(b=d("usePolarisComment")).useCommentAndOwner(a,m),g=b.useCommentAndOwner(a,l),h=b.useComment(a,k);b=b.useComment(a,j);e[0]!==b||e[1]!==h||e[2]!==f||e[3]!==g?(a=i.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:b,text:h,userId:f,username:g}),e[0]=b,e[1]=h,e[2]=f,e[3]=g,e[4]=a):a=e[4];return a}function j(a){return a.isAuthorVerified}function k(a){return a.text}function l(a,b){return c("nullthrows")(b.username)}function m(a,b){return c("nullthrows")(b.id)}g["default"]=a}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","IGDSText.react","PolarisBigNumber.react","PolarisConfig","PolarisFastLink.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisReactRedux.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","nullthrows","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentEntryPointDialog","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext;function a(a){var b=d("react-compiler-runtime").c(26),e=a.postId;a=d("usePolarisPost").usePost(e,m);var f=d("usePolarisPost").usePost(e,l),g=d("usePolarisPost").usePost(e,d("PolarisInteractionsLogger").getMediaTypeFromPost),i=k(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),n=i.canUserSeePersistentCta;b[0]!==n?(i=function(a){var b;return c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((b={},b[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=n||void 0,b.shortcode=c("nullthrows")(a.code),b))},b[0]=n,b[1]=i):i=b[1];var o=d("usePolarisPost").usePost(e,i),p=d("PolarisReactRedux.react").useDispatch(),q=c("usePolarisAnalyticsContext")(),r=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isMobile(),b[2]=i):i=b[2];var s=i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=s||d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisUA").isDesktop(),b[3]=i):i=b[3];i=i;var t=c("usePolarisLoggedOutBlockingEntryPointDialog")(),u=t[0],v=t[1];t=c("usePolarisLoggedOutIntentEntryPointDialog")();var w=t[0],x=t[1];b[4]!==v||b[5]!==x?(t=function(){d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?x==null?void 0:x(!0):v==null?void 0:v(!0)},b[4]=v,b[5]=x,b[6]=t):t=b[6];t=t;var y;b[7]!==q||b[8]!==p||b[9]!==r||b[10]!==u||b[11]!==w||b[12]!==f||b[13]!==e||b[14]!==g?(y=function(a,b){if(d("PolarisIsLoggedIn").isLoggedIn())d("PolarisInteractionsLogger").logInteractionAction({containerModule:q,eventName:"instagram_organic_comment_view_all",mediaAuthorId:f,mediaId:e,mediaType:g}),d("PolarisUA").isDesktop()&&(a.preventDefault(),p(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(e)),c("logPolarisPostModalOpen")(q,g,"feed_view_all_comments"),r(e));else if(s){a.preventDefault();a={contentReportingLink:e,nextUrl:b,source:"post_comment_view_all"};d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?w==null?void 0:w(a):u==null?void 0:u(a)}},b[7]=q,b[8]=p,b[9]=r,b[10]=u,b[11]=w,b[12]=f,b[13]=e,b[14]=g,b[15]=y):y=b[15];var z=y;b[16]!==z||b[17]!==o?(y=function(a){return z(a,o)},b[16]=z,b[17]=o,b[18]=y):y=b[18];var A;b[19]!==a?(A=j.jsx(c("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:a===1?h._(/*BTDS*/"Ver un comentario"):h._(/*BTDS*/"Ver los {count} comentarios",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:a}))])}),b[19]=a,b[20]=A):A=b[20];b[21]!==t||b[22]!==y||b[23]!==A||b[24]!==o?(a=j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:o,onClick:y,onMouseEnter:t,shouldOpenModal:i,children:A}),b[21]=t,b[22]=y,b[23]=A,b[24]=o,b[25]=a):a=b[25];return a}function l(a){return c("nullthrows")((a=a.owner)==null?void 0:a.id)}function m(a){return a.numComments||0}g["default"]=a}),226);
__d("PolarisPostFastPreviewCommentsList.react",["IGDSBox.react","PolarisConfig","PolarisIsLoggedIn","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux.react","PolarisThreadedCommentSelectors","PolarisUA","isTruthy","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=d("react-compiler-runtime").c(13),e=a.postId;a=a.previewCommentIds;var f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;b[0]!==g||b[1]!==f?(h=(f||g)&&d("PolarisUA").isDesktop(),b[0]=g,b[1]=f,b[2]=h):h=b[2];g=h;var j=g;if(d("PolarisConfig").isLoggedOutFRXEligible())return null;if(a.length>0){f=g?1:0;if(b[3]!==j||b[4]!==e||b[5]!==a){b[7]!==j||b[8]!==e?(h=function(a){return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,position:"relative",children:[i.jsx(c("PolarisPostFastPreviewComment.react"),{commentId:a}),d("PolarisIsLoggedIn").isLoggedIn()&&i.jsx(c("IGDSBox.react"),{marginStart:j?2:0,position:"relative",children:i.jsx(c("PolarisPostFastCommentLikeButton.react"),{color:j?"ig-secondary-icon":void 0,commentId:a,postId:e})})]},a)},b[7]=j,b[8]=e,b[9]=h):h=b[9];g=a.map(h);b[3]=j;b[4]=e;b[5]=a;b[6]=g}else g=b[6];b[10]!==f||b[11]!==g?(h=i.jsx(c("IGDSBox.react"),{marginBottom:f,position:"relative",children:g}),b[10]=f,b[11]=g,b[12]=h):h=b[12];return h}return null}function a(a){var b=a.inModal,e=a.postId;a=a.shouldIncreaseCommentPreviews;a=a===void 0?!1:a;var f=c("usePolarisIsOnFeedPage")();f=f&&b!==!0&&d("PolarisUA").isDesktop();var g=c("isTruthy")(a);b=d("usePolarisPost").usePost(e,function(a){return!a.commentsDisabled});var h=d("PolarisReactRedux.react").useSelector(function(a){return g?d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,e).toArray():d("polarisCommentSelectors.react").getPreviewCommentsForPostId(a,e)});a=j(function(){return h.map(function(a){return a.id})},[h]);var l=d("usePolarisPost").usePost(e,function(a){return(a=a.numComments)!=null?a:0}),m=l>a.length;if(!b||l<=0)return null;b=!d("PolarisIsLoggedIn").isLoggedIn()&&a.length>0&&!g;return i.jsxs(i.Fragment,{children:[m&&i.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:f?2:1,position:"relative",children:i.jsx(c("PolarisPostFastViewAllComments.react"),{postId:e})}),i.jsx(k,{postId:e,previewCommentIds:b?a.slice(-1):a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostComments.react","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(34),f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;e[0]!==g||e[1]!==f?(h=(f||g)&&d("PolarisUA").isDesktop(),e[0]=g,e[1]=f,e[2]=h):h=e[2];g=h;f=a.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile();h=a.communityNoteComponent;if(f){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDSSpinner.react"),{position:"absolute"}),e[3]=f):f=e[3];e[4]!==a.className?(f=i.jsx("div",{className:a.className,children:f}),e[4]=a.className,e[5]=f):f=e[5];var j;e[6]!==a?(j=i.jsx(c("PolarisPostComments.react"),babelHelpers["extends"]({},a)),e[6]=a,e[7]=j):j=e[7];var k;e[8]!==f||e[9]!==j?(k=i.jsx(c("CometPlaceholder.react"),{fallback:f,children:j}),e[8]=f,e[9]=j,e[10]=k):k=e[10];return k}e[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("xigRequireInterop")(b("PolarisPostFastPreviewCommentsList.react")),e[11]=f):f=e[11];j=f["default"];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("xigRequireInterop")(b("PolarisPostFastPreviewCaption.react")),e[12]=k):k=e[12];f=k["default"];e[13]!==f||e[14]!==a.enableTruncation||e[15]!==a.id||e[16]!==a.inModal?(k=i.jsx(f,{enableTruncation:a.enableTruncation,inModal:a.inModal,postId:a.id}),e[13]=f,e[14]=a.enableTruncation,e[15]=a.id,e[16]=a.inModal,e[17]=k):k=e[17];e[18]!==g||e[19]!==a.id?(f=g&&i.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,marginBottom:2,postId:a.id}),e[18]=g,e[19]=a.id,e[20]=f):f=e[20];e[21]!==j||e[22]!==a.id||e[23]!==a.inModal||e[24]!==a.shouldIncreaseCommentPreviews?(g=i.jsx(j,{inModal:a.inModal,postId:a.id,shouldIncreaseCommentPreviews:a.shouldIncreaseCommentPreviews}),e[21]=j,e[22]=a.id,e[23]=a.inModal,e[24]=a.shouldIncreaseCommentPreviews,e[25]=g):g=e[25];e[26]!==h||e[27]!==k||e[28]!==f||e[29]!==g?(j=i.jsxs(c("IGDSBox.react"),{position:"relative",children:[k,f,h,g]}),e[26]=h,e[27]=k,e[28]=f,e[29]=g,e[30]=j):j=e[30];e[31]!==a.className||e[32]!==j?(h=i.jsx("div",{className:a.className,children:j}),e[31]=a.className,e[32]=j,e[33]=h):h=e[33];return h}g["default"]=a}),98);
__d("PolarisPostLikers.react",["IGDSBox.react","IGDSText.react","IGRouter_DO_NOT_USE.react","PolarisFacepile.next.react","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisPostUtils","PolarisReactRedux.react","PolarisUA","polarisLogAction","react","react-compiler-runtime","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutShowIncreasedFeatureWalls"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.$2=function(){c.props.onLike()};c.$3=function(a){c.$1(),!c.props.viewer&&c.props.inModal!==!0?(a.preventDefault(),c.props.onGoToLoginModal(c.props.code)):d("PolarisUA").isDesktop()&&(a.preventDefault(),c.props.onViewLikedByList(c.props.mediaId),c.props.onLikeCountClick(a))};c.$4=function(){!c.props.viewer&&c.props.inModal!==!0&&c.props.onPreloadDialog()};return c}var e=a.prototype;e.$1=function(){c("polarisLogAction")("likeCountClick")};e.render=function(){var a=d("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(a){return a.profilePictureUrl}).filter(Boolean),b=i.jsx(c("PolarisFacepile.next.react"),{avatarSize:this.props.avatarSize,border:"transparent",userProfilePicUrls:a}),e=!!this.props.viewer;return i.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",position:"relative",children:[a.length>0&&e===!0&&i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:i.jsx(c("PolarisLikedByListButton.react"),{code:this.props.code,inModal:this.props.inModal,onClick:this.$3,onMouseEnter:this.$4,children:b})}),i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:i.jsx(c("IGDSText.react"),{zeroMargin:!0,children:i.jsx(c("PolarisLikedByText.react"),{code:this.props.code,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,mediaId:this.props.mediaId,onClick:this.$3,onLike:this.$2,onMouseEnter:this.$4,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})};return a}(i.Component);function a(a){return{onViewLikedByList:function(b){return a(d("PolarisLikedByListActions").requestNativeLikedByList(b))}}}function b(a){var b=d("react-compiler-runtime").c(12),e=c("usePolarisLoggedOutBlockingEntryPointDialog")(),f=e[0],g=e[1];e=c("usePolarisLoggedOutIntentEntryPointDialog")();var h=e[0],k=e[1],l=c("usePolarisLoggedOutShowIncreasedFeatureWalls")();b[0]!==g||b[1]!==k||b[2]!==l?(e=function(){l()?k==null?void 0:k(!0):g==null?void 0:g(!0)},b[0]=g,b[1]=k,b[2]=l,b[3]=e):e=b[3];e=e;var m;b[4]!==f||b[5]!==h||b[6]!==l?(m=function(a){a=d("PolarisLinkBuilder").buildMediaLink(a);a={contentReportingLink:a,nextUrl:a,source:"post_likers"};l()?h==null?void 0:h(a):f==null?void 0:f(a)},b[4]=f,b[5]=h,b[6]=l,b[7]=m):m=b[7];m=m;var n;b[8]!==m||b[9]!==e||b[10]!==a?(n=i.jsx(j,babelHelpers["extends"]({},a,{onGoToLoginModal:m,onPreloadDialog:e})),b[8]=m,b[9]=e,b[10]=a,b[11]=n):n=b[11];return n}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(d("PolarisReactRedux.react").connect(null,a)(b));g["default"]=e}),98);
__d("PolarisPostSocialProof.react",["PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","nullthrows","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(28),e=a.analyticsContext,f=a.canLike,g=a.className,h=a.code,j=a.containerRef,k=a.inModal,l=a.likeAndViewCountsDisabled,m=a.likedByViewer,n=a.likers,o=a.mediaId,p=a.numPreviewLikes,q=a.onLikeChange,r=a.onLikeCountClick,s=a.productType,t=a.topLikers,u=a.variant,v=a.videoViews,w=a.viewer;a=a.viewerIsOwner;var x=v!=null&&v>0,y=p!==0,z=c("usePolarisIsOnFeedPage")(),A=c("usePolarisIsOnAdsActivityPage")();u===d("PolarisPostVariants").VARIANTS.feed?u=y||x:u=y||x||f;y=w==null?void 0:w.hideLikeAndViewCounts;b[0]!==l||b[1]!==y||b[2]!==a?(f=d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(y,l,a),b[0]=l,b[1]=y,b[2]=a,b[3]=f):f=b[3];l=f;y=x&&!l&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(s);if(!u)return null;b[4]!==k||b[5]!==A||b[6]!==z?(a=(z||A)&&k!==!0&&d("PolarisUA").isDesktop(),b[4]=k,b[5]=A,b[6]=z,b[7]=a):a=b[7];f=a;b[8]!==e||b[9]!==h||b[10]!==f||b[11]!==l||b[12]!==k||b[13]!==m||b[14]!==n||b[15]!==o||b[16]!==p||b[17]!==q||b[18]!==r||b[19]!==y||b[20]!==t||b[21]!==v||b[22]!==w?(x=y?i.jsx(c("PolarisPostViews.react"),{analyticsContext:e,likeCount:p,viewCount:c("nullthrows")(v)}):i.jsx(c("PolarisPostLikers.react"),{avatarSize:f?"micro":void 0,code:h,hideCounts:l,inModal:!!k,likedByViewer:m,mediaId:o,onLike:function(){q(!0,"beTheFirstPrompt")},onLikeCountClick:r,topLikers:t,totalCount:p,users:n,viewer:w}),b[8]=e,b[9]=h,b[10]=f,b[11]=l,b[12]=k,b[13]=m,b[14]=n,b[15]=o,b[16]=p,b[17]=q,b[18]=r,b[19]=y,b[20]=t,b[21]=v,b[22]=w,b[23]=x):x=b[23];b[24]!==g||b[25]!==j||b[26]!==x?(s=i.jsx("section",{className:g,ref:j,children:x}),b[24]=g,b[25]=j,b[26]=x,b[27]=s):s=b[27];return s}g["default"]=a}),98);
__d("PolarisPostDetailsSection.react",["IGDSBox.react","IGDSText.react","PolarisCommentLikedByListContainerLazy.react","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisIGTheme.react","PolarisInteractionsLogger","PolarisLikedByListContainerLazy.react","PolarisLikedByListVariant","PolarisPendingCommentState","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker.react","PolarisPostConstants","PolarisPostFeatures.react","PolarisPostFeedbackControls_DEPRECATED.react","PolarisPostFooter.react","PolarisPostModalRenderingContext.react","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","nullthrows","polarisAdsSelectors.react","polarisGetAppPlatform","react","react-compiler-runtime","stylex","usePolarisDisplayProperties","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,aa=b.useRef,l=b.useState,m={commentInput:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},commentInputAsSidebar:{order:"x1hrcb2b",$$css:!0},commentInputHidden:{display:"x1s85apg",minHeight:"x1wxaq2x",$$css:!0},commentInputStatic:{paddingInlineEnd:"xv54qhq",$$css:!0},commentInputV2:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},commentInputV2WithRichComments:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},comments:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",$$css:!0},commentsAsSidebar:{marginTop:"xdj266r",marginInlineEnd:"xule2z1",marginBottom:"xat24cr",marginInlineStart:"xwqyzqf",order:"x9ek82g",overflowX:"x6ikm8r",$$css:!0},commentsMarginBottom:{marginBottom:"x12nagc",$$css:!0},commentsMarginBottomDense:{marginBottom:"xat24cr",$$css:!0},commentsV2:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"x4ii5y1",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xpdmqnj",paddingBottom:"x18d9i69",paddingInlineStart:"x1g0dm76",$$css:!0},commentsWithRichComments:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"x4ii5y1",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xv54qhq",paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",$$css:!0},expandedSidebarContainerResponsive:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"xbiv7yw",$$css:!0},feedback:{marginTop:"x1gslohp",paddingBottom:"xwib8y2",paddingTop:"x1yrsyyn",$$css:!0},feedbackAsSidebar:{borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",order:"xo1ph6p",$$css:!0},feedbackV2:{paddingBottom:"x10b6aqq",paddingTop:"xexx8yu",$$css:!0},feedbackV2WithRichComments:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},feedbackWithRichComments:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0},msite:{borderBottomColor:"xh05dso",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},responsiveViewInsights:{marginInlineStart:"x162z183",width:"x1j7kr1c",$$css:!0},roundedSidebarContainer:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},sectionWithNoPadding:{overflowX:"x1plvlek",overflowY:"xryxfnj",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},sidebarContainer:{display:"x78zum5",flexDirection:"xdt5ytf",pointerEvents:"x67bb7w",position:"x1n2onr6",$$css:!0},sidebarContainerAsSidebar:{backgroundColor:"xvbhtw8",height:"x5yr21d",width:"x4h1yfo",$$css:!0},sidebarContainerFeedRoot:{backgroundColor:"xvbhtw8",$$css:!0},sidebarContainerInModal:{backgroundColor:"xvbhtw8",height:"x5yr21d",$$css:!0},sidebarContainerV2:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},timestamp:{marginBottom:"x1yztbdb",$$css:!0},timestampAsSidebar:{order:"x1h3rv7z",$$css:!0},timestampDense:{marginBottom:"x1e56ztr",$$css:!0},timestampV2:{paddingInlineStart:"x1g0dm76",$$css:!0},timestampWithRichComments:{paddingInlineStart:"xf7dkkf",$$css:!0},viewInsights:{borderBottomStyle:"x1sy0etr",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",order:"x14yy4lh",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(82),e=a.analyticsContext,f=a.bloksAppId,g=a.communityNoteComponent,i=a.currSidecarIndex,n=a.currSidecarItem,o=a.enableTruncation,p=a.handleLikeChange,q=a.handleSaveChange,r=a.hasDenserFeedRedesign,s=a.hasSidebarInRedesign,t=a.hasViewInsights,u=a.initialCommentsQuery,v=a.owner,w=a.permalinkedCommentId,x=a.permalinkedReplyId,y=a.post,z=a.postAuthorId,A=a.postAuthorUsername,B=a.postFeedbackControlsRef,C=a.postHeader,D=a.redesignWithoutSidebar,E=a.redesignWithSidebar,F=a.shouldIncreaseCommentPreviews,G=a.showDetailsAsSidebar,H=a.variant,I=a.viewer,J=y.commentsDisabled===!0||((a=y.mediaOverlayInfo)==null?void 0:(a=a.overlay_type)==null?void 0:a.toUpperCase())==="SECRET_LINK",K=!d("PolarisUA").isDesktop();a=l(null);var L=a[0],M=a[1];a=l(!1);var ca=a[0],da=a[1];a=l(!1);var ea=a[0],fa=a[1];a=c("usePolarisDisplayProperties")();var ga=a.viewportWidth,ha=aa(null);b[0]!==J||b[1]!==ea||b[2]!==y.commentingDisabledForViewer||b[3]!==ga?(a=function(){return!J&&y.commentingDisabledForViewer!==!0&&(ea||ga>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)},b[0]=J,b[1]=ea,b[2]=y.commentingDisabledForViewer,b[3]=ga,b[4]=a):a=b[4];var N=a;b[5]!==y.id?(a=function(a){return(a=a.pendingComments[y.id])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},b[5]=y.id,b[6]=a):a=b[6];a=d("PolarisReactRedux.react").useSelector(a);var O=a.committing,P=c("usePrevious")(O);a=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();var Q=a.isInModal;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){fa(!0),ha.current&&ha.current.focusAndScroll()},b[7]=a):a=b[7];var ia=a;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){da(!1)},b[8]=a):a=b[8];var ja=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){da(!0)},b[9]=a):a=b[9];var ka=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){M(null)},b[10]=a):a=b[10];var la=a;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){M(a)},b[11]=a):a=b[11];var ma=a;b[12]!==y.commentsDisabled||b[13]!==I?(a=I?{c:function(){y.commentsDisabled!==!0&&ia()}}:{},b[12]=y.commentsDisabled,b[13]=I,b[14]=a):a=b[14];a=a;var R=c("usePrevious")(y),S,T;b[15]!==y||b[16]!==R?(T=function(){R!=null&&y!=null&&R!==y&&(M(null),da(!1))},S=[y,R],b[15]=y,b[16]=R,b[17]=S,b[18]=T):(S=b[17],T=b[18]);k(T,S);b[19]!==O||b[20]!==P?(T=function(){P===!0&&O===!1&&fa(!1)},S=[O,P],b[19]=O,b[20]=P,b[21]=T,b[22]=S):(T=b[21],S=b[22]);k(T,S);b[23]!==v||b[24]!==y||b[25]!==H?(T={owner:v,post:y,variant:H},b[23]=v,b[24]=y,b[25]=H,b[26]=T):T=b[26];S=d("PolarisPostFeatures.react").usePolarisPostFeatures(T);var U=S.canViewerProvideFeedback,V=S.commentsAreStacked,W=S.hasThreadedSidebarComments,X=S.isBlocked,Y=S.isSidecar,na=S.isStackedScreenSize,oa=S.showPostButton,pa=d("polarisAdsSelectors.react").useFeedAdInfo(y==null?void 0:y.id,ba);T=c("usePolarisIsOnFeedPage")();S=c("usePolarisIsOnAdsActivityPage")();var Z;b[27]!==Q||b[28]!==S||b[29]!==T?(Z=(T||S)&&Q!==!0&&d("PolarisUA").isDesktop(),b[27]=Q,b[28]=S,b[29]=T,b[30]=Z):Z=b[30];S=Z;var $=S,qa=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;T=E?"grow":"none";b[31]!==pa||b[32]!==e||b[33]!==f||b[34]!==U||b[35]!==L||b[36]!==V||b[37]!==J||b[38]!==g||b[39]!==i||b[40]!==n||b[41]!==o||b[42]!==$||b[43]!==p||b[44]!==q||b[45]!==r||b[46]!==s||b[47]!==W||b[48]!==t||b[49]!==u||b[50]!==X||b[51]!==qa||b[52]!==Q||b[53]!==Y||b[54]!==na||b[55]!==v||b[56]!==w||b[57]!==x||b[58]!==y||b[59]!==z||b[60]!==A||b[61]!==B||b[62]!==C||b[63]!==E||b[64]!==D||b[65]!==F||b[66]!==N||b[67]!==G||b[68]!==ca||b[69]!==oa||b[70]!==H||b[71]!==I?(Z=function(a,b,k){return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.sidebarContainer,H===d("PolarisPostVariants").VARIANTS.feed&&m.sidebarContainerFeedRoot,G&&!Q===!0&&m.sidebarContainerAsSidebar,Q&&m.sidebarContainerInModal,!Q===!0&&r&&m.sidebarContainerV2,D&&m.roundedSidebarContainer,E&&m.expandedSidebarContainerResponsive),{onKeyUp:a,role:b,tabIndex:k,children:[(Q===!0?s:!V)?C:null,j.jsxs("div",babelHelpers["extends"]({},{0:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3"},8:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j"},4:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl"},12:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl"},2:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},10:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},6:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},14:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},1:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1b5io7h"},9:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1b5io7h"},5:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1b5io7h"},13:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1b5io7h"},3:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},11:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},7:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},15:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"}}[!!G<<3|!!W<<2|!!$<<1|!!qa<<0],{children:[j.jsx(c("PolarisPostFooter.react"),{analyticsContext:e,bloksAppId:f,boostedStatus:y.boostedStatus,boostUnavailableIdentifier:y.boostUnavailableIdentifier,boostUnavailableReason:y.boostUnavailableReason,className:h(d("PolarisUA").isMobile()?m.msite:m.viewInsights,!s&&m.responsiveViewInsights,V&&Y),hasViewInsights:t,mediaId:y.id,productType:y.productType,viewerId:I==null?void 0:I.id}),j.jsx(c("PolarisPostFeedbackControls_DEPRECATED.react"),{analyticsContext:e,canViewerProvideFeedback:U,canViewerReshare:y.viewerCanReshare,code:c("nullthrows")(y.code),commentsDisabled:J,containerRef:B,currSidecarIndex:i,hideShareButton:y.igMediaSharingDisabled===!0,isBlocked:X,isSidecar:Y,isVideo:!!y.isVideo,likedByViewer:!!y.likedByViewer,mediaId:n!=null?n.id:y.id,numSteps:(a=y.sidecarChildren)==null?void 0:a.length,onCommentClick:ia,onLikeChange:p,onSaveChange:q,ownerIsPrivate:v.isPrivate,ownerUsername:v.username,postId:y.id,savedByViewer:!!y.savedByViewer,sharingFrictionInfo:n!=null?n.sharingFrictionInfo:y.sharingFrictionInfo,variant:H,xstyle:[m.feedback,r&&m.feedbackV2,r&&W&&m.feedbackV2WithRichComments,G&&m.feedbackAsSidebar,W&&m.feedbackWithRichComments,$&&m.sectionWithNoPadding]}),y.code!=null&&j.jsx(c("PolarisPostSocialProof.react"),{analyticsContext:e,canLike:!X&&U,className:{0:"x1e56ztr",8:"x12nagc x182iqb8",4:"x1e56ztr xv54qhq xf7dkkf",12:"x12nagc x182iqb8 xv54qhq xf7dkkf",2:"x1e56ztr xpdmqnj x1g0dm76",10:"x12nagc x182iqb8 xpdmqnj x1g0dm76",6:"x1e56ztr xpdmqnj x1g0dm76",14:"x12nagc x182iqb8 xpdmqnj x1g0dm76",1:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",9:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",5:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",13:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",3:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",11:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",7:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",15:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl"}[!!G<<3|!!W<<2|!!(r&&W)<<1|!!$<<0],code:c("nullthrows")(y.code),inModal:Q,likeAndViewCountsDisabled:y.likeAndViewCountsDisabled,likedByViewer:!!y.likedByViewer,likers:y.likers||[],mediaId:y.id,numPreviewLikes:y.numPreviewLikes||0,onLikeChange:p,onLikeCountClick:ka,productType:y.productType,topLikers:y.topLikers,variant:H,videoViews:y.videoViews,viewer:I,viewerIsOwner:z===(I==null?void 0:I.id)}),j.jsx(c("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:e,caption:y.caption,captionCreatedAt:y.captionCreatedAt,captionHasTranslation:y.captionHasTranslation,captionId:y.captionCommentId,captionIsEdited:y.captionIsEdited,className:h(m.comments,!K&&m.commentsMarginBottom,K&&m.commentsMarginBottomDense,G&&m.commentsAsSidebar,W&&m.commentsWithRichComments,r&&W&&m.commentsV2,$&&m.sectionWithNoPadding),code:y.code,commentingDisabledForViewer:(b=y.commentingDisabledForViewer)!=null?b:!1,commentsDisabled:J,commentsQuery:null,communityNoteComponent:g,enableTruncation:o,hasRankedComments:y.hasRankedComments===!0,id:y.id,initialCommentsQuery:u,inModal:Q,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(y),onLikeCountClick:ma,owner:v,ownerId:z,permalinkedCommentId:w,permalinkedReplyId:x,postedAt:c("nullthrows")(y.postedAt),postId:y.id,shouldIncreaseCommentPreviews:F,showCommentOptionsInline:!0,title:y.title,variant:H}),!$&&j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(!K&&m.timestamp,K&&m.timestampDense,G&&m.timestampAsSidebar,W&&m.timestampWithRichComments,r&&W&&m.timestampV2),{children:y.isSponsored===!0?null:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("PolarisPostTimestamp.react"),{code:c("nullthrows")(y.code),isVideo:y.isVideo,postedAt:c("nullthrows")(y.postedAt),productType:(k=y.productType)!=null?k:"",username:v.username}),e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:y.id})})]})})),(d("polarisGetAppPlatform").isIOS()||N())&&j.jsx(c("PolarisPostCommentInputPicker.react"),{adInfo:pa,analyticsContext:e,canViewerProvideFeedback:U,hasPostButton:oa,id:y.id,inModal:Q,isRevampVersion:!1,isVideo:y.isVideo,ownerId:v.id,ref:ha,xstyle:[m.commentInput,G&&m.commentInputAsSidebar,r&&m.commentInputV2,r&&W&&m.commentInputV2WithRichComments,!N()&&m.commentInputHidden,!na&&m.commentInputStatic]},y.id),!N()&&d("PolarisUA").isDesktop()&&y.commentsDisabled!==!0&&y.commentingDisabledForViewer===!0&&j.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x1xp8e9x x13fuv20 x178xt8z x78zum5 x1dnml7z xl56j7k x1gslohp x1hrcb2b"},2:{className:"x6s0dn4 x1xp8e9x x13fuv20 x178xt8z x78zum5 x1dnml7z xl56j7k x1hrcb2b xdj266r"},1:{className:"x6s0dn4 x1xp8e9x x178xt8z x78zum5 xl56j7k x1gslohp x1hrcb2b x1ejq31n x18oe1m7 x1sy0etr xstzfhl xxeg0ib"},3:{className:"x6s0dn4 x1xp8e9x x178xt8z x78zum5 xl56j7k x1hrcb2b xdj266r x1ejq31n x18oe1m7 x1sy0etr xstzfhl xxeg0ib"}}[!!r<<1|!!$<<0],{children:j.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})}))]})),ca&&j.jsx(c("PolarisLikedByListContainerLazy.react"),{display:c("PolarisLikedByListVariant").Modal,isOwnerTheViewer:(I==null?void 0:I.id)===z,likeAndViewCountsDisabled:y.likeAndViewCountsDisabled,likeCount:y.numLikes||0,mediaId:y.id,onClose:ja,ownerUsername:A,productType:(a=y.productType)!=null?a:"",shortcode:c("nullthrows")(y.code),viewCount:y.videoViews}),!c("isStringNullOrEmpty")(L)&&j.jsx(c("PolarisCommentLikedByListContainerLazy.react"),{commentId:L,display:c("PolarisLikedByListVariant").Modal,onClose:la})]}))},b[31]=pa,b[32]=e,b[33]=f,b[34]=U,b[35]=L,b[36]=V,b[37]=J,b[38]=g,b[39]=i,b[40]=n,b[41]=o,b[42]=$,b[43]=p,b[44]=q,b[45]=r,b[46]=s,b[47]=W,b[48]=t,b[49]=u,b[50]=X,b[51]=qa,b[52]=Q,b[53]=Y,b[54]=na,b[55]=v,b[56]=w,b[57]=x,b[58]=y,b[59]=z,b[60]=A,b[61]=B,b[62]=C,b[63]=E,b[64]=D,b[65]=F,b[66]=N,b[67]=G,b[68]=ca,b[69]=oa,b[70]=H,b[71]=I,b[72]=Z):Z=b[72];b[73]!==a||b[74]!==Z?(S=j.jsx(c("PolarisHotKeys.react"),{keyMap:a,children:Z}),b[73]=a,b[74]=Z,b[75]=S):S=b[75];b[76]!==T||b[77]!==S?(a=j.jsx(c("IGDSBox.react"),{flex:T,position:"relative",children:S}),b[76]=T,b[77]=S,b[78]=a):a=b[78];Z=a;if(E){b[79]===Symbol["for"]("react.memo_cache_sentinel")?(T={className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 x5wqa0o xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak x65f84u x1vq45kp xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},b[79]=T):T=b[79];b[80]!==Z?(S=j.jsx("div",babelHelpers["extends"]({},T,{children:Z})),b[80]=Z,b[81]=S):S=b[81];return S}return Z}function ba(a){return a}g["default"]=a}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon.react","PolarisFavoritesStrings","PolarisPostModalContext.react","polarisLogAction","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.isFavorited;var e=d("PolarisPostModalContext.react").useSetPostModal(),f=c("usePolarisAnalyticsContext")();if(a&&(f==="feedPage"||f==="postPage")){b[0]!==e?(a=function(){c("polarisLogAction")("favoriteIconInPostHeaderClick"),e("favorites")},b[0]=e,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:i.jsx(c("IGDSStarPanoFilledGradientIcon.react"),{alt:d("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})}),b[2]=f):f=b[2];b[3]!==a?(f=i.jsx(c("IGDSIconButton.react"),{onClick:a,children:f}),b[3]=a,b[4]=f):f=b[4];return f}return null}g["default"]=a}),98);
__d("PolarisPostInvitedCoauthorsOverlayFooterCTA.react",["fbt","IGDSBox.react","IGDSTextVariants.react","PolarisConfig","PolarisInvitedCoauthorsCountWithSheet.react","PolarisUserHoverCard.react","PolarisUserLink.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.invitedCoauthorProducers,f=a.mediaId;a=a.user;var g=d("PolarisConfig").getViewerIdOrZero(),i=e!=null;if(!i||(a==null?void 0:a.id)!==g||a==null||(a==null?void 0:a.username)==null)return null;b[0]!==e?(i=e==null?void 0:e.map(l),b[0]=e,b[1]=i):i=b[1];g=i;b[2]!==e?(a=e!=null?e:[],b[2]=e,b[3]=a):a=b[3];b[4]!==a?(i=a.map(k),b[4]=a,b[5]=i):i=b[5];a=i;b[6]!==g?(i=h._(/*BTDS*/"Se ha invitado a {invited_coauthor_username} para que colabore, pero a\u00fan no ha aceptado.",[h._param("invited_coauthor_username",g!=null&&g[0])]),b[6]=g,b[7]=i):i=b[7];i=i;var m;b[8]!==g?(m=h._(/*BTDS*/"Se ha invitado a {invited_coauthor_username_1} y {invited_coauthor_username_2} a colaborar, pero a\u00fan no han aceptado.",[h._param("invited_coauthor_username_1",g!=null&&g[0]),h._param("invited_coauthor_username_2",g!=null&&g[1])]),b[8]=g,b[9]=m):m=b[9];m=m;var n;b[10]!==a||b[11]!==g||b[12]!==f?(n=h._(/*BTDS*/"Se ha invitado a {invited_coauthor_username_1} y {=m2} a colaborar, pero a\u00fan no han aceptado.",[h._param("invited_coauthor_username_1",g!=null&&g[0]),h._implicitParam("=m2",j.jsx(c("PolarisInvitedCoauthorsCountWithSheet.react"),{analyticsContext:"post_invited_coauthors_overlay_footer_cta",coauthors:a,mediaId:f,children:h._(/*BTDS*/"")}))]),b[10]=a,b[11]=g,b[12]=f,b[13]=n):n=b[13];a=n;b[14]!==e||b[15]!==i||b[16]!==a||b[17]!==m?(g=e!=null&&e.length>0&&c("gkx")("4757")?j.jsx(c("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:j.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:e.length===1?i:e.length===2?m:e.length>2?a:null})})}):null,b[14]=e,b[15]=i,b[16]=a,b[17]=m,b[18]=g):g=b[18];return g}function k(a){var b;return{user:{fullName:(b=a.fullName)!=null?b:"",id:a.id,isVerified:(b=a.isVerified)!=null?b:!1,profilePictureUrl:(b=a.profilePictureUrl)!=null?b:"",username:(b=a.username)!=null?b:""}}}function l(a,b){var d;return j.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!(a==null?void 0:a.isUnpublished),userId:(d=a==null?void 0:a.id)!=null?d:"",username:(d=a==null?void 0:a.username)!=null?d:"",children:j.jsx(c("PolarisUserLink.react"),{username:(d=a==null?void 0:a.username)!=null?d:""})},b)}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPostFastOptionsButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisPostModalContext.react","PolarisViewpointActionUtils","identityFunction","polarisAdsSelectors.react","polarisLogAction","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisPost","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"M\u00e1s opciones");function l(a){var b=d("react-compiler-runtime").c(3),e=a.color;a=a.orientation;a=a==="horizontal"?c("IGDSMoreHorizontalPanoOutlineIcon.react"):c("IGDSMoreVerticalPanoOutline24Icon.react");var f;b[0]!==a||b[1]!==e?(f=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:j.jsx(a,{alt:k,color:e})}),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}function a(a){var b=d("react-compiler-runtime").c(27),e=a.className,f=a.orientation,g=a.padding,h=a.postId;a=f===void 0?"horizontal":f;var i=d("PolarisPostModalContext.react").useSetPostModal(),k=c("usePolarisAnalyticsContext")();b[0]!==k?(f=d("PolarisContainerModuleUtils").getContainerModule(k),b[0]=k,b[1]=f):f=b[1];var o=f,p=d("usePolarisPost").usePost(h,c("identityFunction")),q=!!p.isVideo;f=c("usePolarisViewer")();var r=f==null?void 0:f.id,s=d("polarisAdsSelectors.react").useFeedAdInfo(h,n),t=d("polarisAdsSelectors.react").useFeedAdInfo(h,m);b[2]!==p?(f=d("PolarisViewpointActionUtils").getMPKForFeedMedia(p),b[2]=p,b[3]=f):f=b[3];var u=f;b[4]!==s||b[5]!==k||b[6]!==o||b[7]!==q||b[8]!==u||b[9]!==p.isSponsored||b[10]!==h||b[11]!==i||b[12]!==t||b[13]!==r?(f=function(){c("polarisLogAction")("postOptionsClick",{mediaId:h,source:k,type:q?"video":"photo"}),p.isSponsored===!0&&r!=null&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:s,m_pk:u,pigeon_reserved_keyword_module:o,pk:r,source_of_action:o,tracking_token:t}}),i("options")},b[4]=s,b[5]=k,b[6]=o,b[7]=q,b[8]=u,b[9]=p.isSponsored,b[10]=h,b[11]=i,b[12]=t,b[13]=r,b[14]=f):f=b[14];f=f;var v;b[15]!==a?(v=j.jsx(l,{color:"ig-secondary-text",orientation:a}),b[15]=a,b[16]=v):v=b[16];var w;b[17]!==a?(w=j.jsx(l,{color:"ig-primary-text",orientation:a}),b[17]=a,b[18]=w):w=b[18];b[19]!==f||b[20]!==g||b[21]!==v||b[22]!==w?(a=j.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:v,onClick:f,padding:g,children:w}),b[19]=f,b[20]=g,b[21]=v,b[22]=w,b[23]=a):a=b[23];b[24]!==e||b[25]!==a?(f=j.jsx("div",{className:e,children:a}),b[24]=e,b[25]=a,b[26]=f):f=b[26];return f}function m(a){return a==null?void 0:a.tracking_token}function n(a){return a==null?void 0:a.ad_id}b=j.memo(a);g["default"]=b}),226);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.buttonClassName;a=a.mediaPK;var f;b[0]!==a?(f=i.jsx(c("PolarisPostFastOptionsButton.react"),{postId:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=i.jsx("div",{className:e,children:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("PolarisPostPageRouteReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({referrerTracePolicy:null});g["default"]=b}),98);
__d("PolarisSponsoredPostCTAFooter.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","polarisAdsSelectors.react","react","react-compiler-runtime","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e=a.isMediaRendered,f=a.post;a=a.sidecarIndex;var g=d("polarisAdsSelectors.react").useFeedAdInfo(f.id,k),h=f.isSidecar;a=h===!0?(h=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,a))==null?void 0:h.id:f.id;b[0]!==e||b[1]!==a||b[2]!==f?(h={isMediaRendered:e,mediaId:a,post:f},b[0]=e,b[1]=a,b[2]=f,b[3]=h):h=b[3];e=c("usePolarisSponsoredPostCTAFooterDominantColor")(h);var l=e.ctaDominantColor;f=e.ctaFooterViewpointRef;if(a==null)return null;if(b[4]!==(g==null?void 0:g.ctaItems)||b[5]!==a){h=g==null?void 0:(h=g.ctaItems)==null?void 0:(e=h.get(a))==null?void 0:e.ctaLinkUrl;b[4]=g==null?void 0:g.ctaItems;b[5]=a;b[6]=h}else h=b[6];var m=h;if(b[7]!==(g==null?void 0:g.ctaItems)||b[8]!==a){e=g==null?void 0:(e=g.ctaItems)==null?void 0:(h=e.get(a))==null?void 0:h.ctaLinkText;b[7]=g==null?void 0:g.ctaItems;b[8]=a;b[9]=e}else e=b[9];var n=e,o=j;if(m!=null&&n!=null){b[10]!==l||b[11]!==n||b[12]!==m?(h=function(a){return i.jsx("div",{ref:a,children:i.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:l,"data-testid":void 0,disableAnimation:!1,externalURL:m,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:o,showChevron:!0,text:n})})},b[10]=l,b[11]=n,b[12]=m,b[13]=h):h=b[13];b[14]!==f||b[15]!==h?(g=i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{ref:f,trackingNode:86,children:h})}),b[14]=f,b[15]=h,b[16]=g):g=b[16];return g}return null}function j(){c("InstagramODS").incr("web.ads.feed.link_click")}function k(a){return a}g["default"]=a}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog.react","PolarisGenericStrings","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(16),c=a.onClose,e=a.onUnsaveFromAll;a=a.onUnsaveFromCollection;var f;b[0]!==a?(f=a?h._(/*BTDS*/"Se puede eliminar de esta colecci\u00f3n o de todos los lugares donde se haya guardado."):h._(/*BTDS*/"Si eliminas esto de los elementos guardados, tambi\u00e9n se borrar\u00e1 de las colecciones."),b[0]=a,b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"\u00bfSuprimir de los elementos guardados y de las colecciones?"),b[2]=g):g=b[2];var i;b[3]!==a?(i=a&&j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._(/*BTDS*/"Eliminar de la colecci\u00f3n")}),b[3]=a,b[4]=i):i=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Suprimir"),b[5]=a):a=b[5];b[6]!==e?(a=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:d("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:e,children:a}),b[6]=e,b[7]=a):a=b[7];b[8]!==c?(e=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[8]=c,b[9]=e):e=b[9];b[10]!==c||b[11]!==f||b[12]!==i||b[13]!==a||b[14]!==e?(g=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:f,onModalClose:c,title:g,children:[i,a,e]}),b[10]=c,b[11]=f,b[12]=i,b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("polarisPostModalHelpers",["fbt","FBLogger","justknobx","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1032,j=55,k=500,l=250,m=h._(/*BTDS*/"Anterior");h=h._(/*BTDS*/"Siguiente");var n=-1,o=1;function a(a){var b="";switch(a){case"profilePage":case"selfProfilePage":c("vulture")("7xKd-ywdlniDhYIJ7kZFfkka0Zk=");b="profilePageModal";break;case"locationPage":c("vulture")("U5V9d8WhbUrjazdHuMcvsSnUvv4=");b="locationPageModal";break;case"exploreLandingPage":c("vulture")("ZJPgDSafaRHANNWgzGeqfe4PmEM=");b="discoverMediaPageModal";break;case"DirectThreadPage":c("vulture")("YiR6B1b6l2hE73GxaHxNI3_riGI=");b="directThreadPageModal";break;case"ClipsAudioPage":c("vulture")("JSlV7w0h8HRNwTOtzc_ZIAaKpx8=");b="clipsAudioPageModal";break;case"feedPage":case"pastPostsFeedPage":case"followingFeedPage":case"favoritesFeedPage":b="feedPageModal";break;case"KeywordSearchExplorePage":c("vulture")("QwnhNgGzzuZy8zm1a-REvFJsI2s=");b="keywordSearchExplorePageModal";break;case"adsActivityFeed":c("vulture")("ffZkBqw2cGlao5s8XEe1u1x7yM8=");b="adActivityFeedModal";break;case"ExploreSERPPage":c("vulture")("ozn07wewnSY-kWidXVdFNfubl7g=");b="ExploreSERPPageModal";break;default:c("vulture")("DzdYpKLrrFT8gpJFIAs1vtakphY="),c("FBLogger")("ig_web").mustfix("Unexpected analytics context: "+a)}return b}function b(a){a=a.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return a!=null?a[4]:null}function d(a){return!!a.match(new RegExp("/p/"))}function e(a){a=a.match(new RegExp("/([^/]+)/[^/]*$"));return a?a[1]:null}function p(a,b,c,d){if(a.height>a.width){var e=c/a.height;d.style.maxHeight=c;d.style.maxWidth=a.width*e;d.style.aspectRatio=a.width+" / "+a.height}else b&&(d.style.aspectRatio="1"),d.style.maxHeight=c,d.style.maxWidth=c;return d}function q(a,b,c,d){c.style.maxWidth=b;b=b/a.width;c.style.maxHeight=a.height*b+d;c.style.aspectRatio=a.width*b+" / "+(a.height*b+d);return c}function f(a){var b=a.dimensions,d=a.footerHeight;d=d===void 0?j:d;var e=a.viewportHeight,f=a.viewportWidth,g=a.hasSidebarInRedesign;a=a.hasFooter;a=a===void 0?!1:a;if(b==null||e===0||f===0)return null;var h={style:{maxHeight:0,maxWidth:0}},m=f-64*2-(g?k:0);if(b){var n=e>f&&a===!0?m:g?e-24*2:e-24*2-l;n>i&&c("justknobx")._("64")&&(n=i);if(a===!1)h=p(b,g,n,h);else{a=b.height;a=(n-d)/a;h.style.maxHeight=n;!g?h=q(b,n,h,d):b.height>=b.width?e>f?h=q(b,n,h,d):b.width*a>m?h=q(b,m,h,d):(h.style.maxHeight=n,h.style.aspectRatio=b.width*a+" / "+(b.height*a+d),h.style.maxWidth=b.width*a):(h.style.aspectRatio=b.width*a>b.height*a+d?"1":b.width*a+" / "+(b.height*a+d),h.style.maxWidth=e>f?n:b.width*a>b.height*a+d?n:b.width*a)}g&&(h.style.flexBasis=h.style.maxWidth)}return h}g.PREVIOUS_ARROW_TITLE=m;g.NEXT_ARROW_TITLE=h;g.LEFT_DELTA=n;g.RIGHT_DELTA=o;g.getModalPageIdFromAnalyticsContext=a;g.getCollectionIdFromPath=b;g.isPostUrl=d;g.getPostCodeFromPath=e;g.getMediaContainerProps=f}),226);
__d("PolarisPost.react",["cx","CometErrorBoundary.react","IGDSBox.react","PolarisContainerModuleUtils","PolarisHeroPageletLogger","PolarisHotKeys.react","PolarisIGCoreConstants","PolarisIGTheme.react","PolarisInsightsUtils","PolarisInteractionsLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostCoauthorReviewOverlayFooterCTA.react","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures.react","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostInvitedCoauthorsOverlayFooterCTA.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext.react","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostPageRouteReferrerContext.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux.react","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","browserHistory_DO_NOT_USE","hero-tracing","joinClasses","nullthrows","polarisAdsSelectors.react","polarisDeveloperSettings","polarisLogAction","polarisPostModalHelpers","polarisPostSelectors","polarisRelationshipSelectors.react","polarisUserSelectors","polarisWithPPRLogging","react","react-compiler-runtime","useMergeRefs","usePolarisDisplayProperties","usePolarisIsOnFeedPage","usePolarisPostSetURLSidecarIndex","usePolarisShowFooterCTA","usePolarisViewer","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState;function a(a){var b=a.adImpressionRefs,e=a.analyticsContext,f=a.autoplay,g=a.className,h=a.communityNoteComponent,i=h===void 0?null:h,o=a.enableTruncation,p=a.id;a.imageMediaActsAsCta;h=a.initialCarouselIndex;var q=a.initialCommentsQuery,r=a.isSponsored;r=r===void 0?!1:r;var aa=a.isVisible,ba=a.lightLetterbox,ca=a.onMediaRendered,da=a.permalinkedCommentId,ea=a.permalinkedReplyId,s=a.position,fa=a.shortcode,ga=a.shouldIncreaseCommentPreviews,t=a.testid;t=t===void 0?"post":t;t=a.variant;var u=t===void 0?d("PolarisPostVariants").VARIANTS.flexible:t;t=a.viewpointActionsForSponsoredPost;var ha=a.visiblePosition,ia=a.willScrollTo,v=d("PolarisReactRedux.react").useDispatch(),w=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,p)}),x=c("nullthrows")(w.owner).id;a=(a=w.group)==null?void 0:a.id;var ja=a!=null?a:x;a=k(c("PolarisPostPageRouteReferrerContext.react"));a=a.referrerTracePolicy;var y=w.invitedCoauthorProducers,ka=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,x)}),z=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,ja)}),la=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,ja)}),A=c("usePolarisViewer")(),B=!!(A==null?void 0:A.canSeeOrganicInsights),C=!!w.canSeeInsightsAsBrand,D=d("polarisAdsSelectors.react").useFeedAdInfo(w==null?void 0:w.id,function(a){return a}),E=c("usePolarisDisplayProperties")(),ma=E.viewportHeight;E=E.viewportWidth;var F=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),G=F.isInModal,H=(F=h!=null?h:d("PolarisPostUtils").getInitialSidecarIndexFromPost(w))!=null?F:0;w.isSidecar===!0&&(H<0||w.sidecarChildren!=null&&H>=w.sidecarChildren.length)&&(H=0);h=n(H);var I=h[0],na=h[1];F=n({});var J=F[0],oa=F[1];h=n(!1);F=h[0];var pa=h[1];h=n({});var K=h[0],qa=h[1];h=n(!1);var ra=h[0],L=h[1];h=n(!1);var sa=h[0],ta=h[1];h=n(null);var ua=h[0],va=h[1];h=m(null);var wa=c("usePolarisPostSetURLSidecarIndex")();l(function(){ia==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[ia]);var M=c("usePrevious")(w);l(function(){M!=null&&w.id!==M.id&&(oa({}),qa({}))},[w,M]);l(function(){fa!=null&&w.isSidecar===!0&&wa(I+1)},[I,w.isSidecar,wa,fa]);var xa=function(a){pa(!0),ca!=null&&ca(w.id,a)},ya=function(a){na(a)},N=function(a,b){var c;c={containerModule:d("PolarisContainerModuleUtils").getContainerModule(e),inventorySource:w.inventorySource,mediaAuthorId:(c=w.owner)==null?void 0:c.id,mediaId:w.id,rankingInfoToken:w.loggingInfoToken,source:e,sourceOfLike:b,trackingToken:w.trackingToken};b=null;(D==null?void 0:D.ad_id)!=null&&(D==null?void 0:D.tracking_token)!=null&&Y!=null&&(b={adId:D==null?void 0:D.ad_id,adTrackingToken:D==null?void 0:D.tracking_token,viewerId:Y});a?w.likedByViewer!==!0&&v(d("PolarisPostActionLikePost").likePost(w.id,c,b)):v(d("PolarisPostActionUnlikePost").unlikePost(w.id,c,b))},za=function(){N(!0,"double_tap_media")},Aa=function(a){var b={source:e},f=null;if((D==null?void 0:D.ad_id)!=null&&(D==null?void 0:D.tracking_token)!=null&&Y!=null){var g;f={adId:D==null?void 0:D.ad_id,adTrackingToken:D==null?void 0:D.tracking_token,analyticsContext:e,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(la),mediaPk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(w),mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(w),ownerId:(g=w.owner)==null?void 0:g.id,viewerId:Y}}a?w.savedByViewer!==!0&&v(d("PolarisPostActionSavePost").savePost(w.id,b,f)):w.savedByViewer===!0&&(w.savedByViewerToCollection===!0?(c("polarisLogAction")("removeSavedItemFromCollectionDialogShown"),L(!0)):v(d("PolarisPostActionUnsavePost").unsavePost(w.id,b,f)))},Ba=function(){c("polarisLogAction")("removeSavedItemFromCollectionDialogCancelled"),L(!1)},Ca=function(){L(!1),v(d("PolarisPostActionUnsavePost").unsavePost(w.id,{source:e})),c("polarisLogAction")("removeSavedItemFromCollectionDialogAccepted")},Da=function(){var a={source:e};L(!1);var b=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname;b=d("polarisPostModalHelpers").getCollectionIdFromPath(b);b!=null&&A!=null&&(v(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:b,postId:w.id})),v(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:b,postIdsToRemove:[w.id],source:a.source,userId:c("nullthrows")(A==null?void 0:A.id)})))},Ea=function(a){Ga(a)&&Ia(a.id)},Fa=function(a){Ja(a)},Ga=function(a){return J[a.id]===!0},Ha=function(a){return K[a]===!0},Ia=function(a){var b=babelHelpers["extends"]({},J);b[a]=!0;oa(b)},Ja=function(a){var b=babelHelpers["extends"]({},K);b[a]=!0;qa(b)},O=function(a){ta(!0),va(a)},Ka=function(){ta(!1)},P=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,Q=d("PolarisPostFeatures.react").usePolarisPostFeatures({owner:z,path:P,post:w,variant:u}),R=Q.commentsAreStacked,La=Q.hasPhotosOfYouOption,Ma=Q.hasThreadedSidebarComments,S=Q.isFavorited,Na=Q.isSidecar,Oa=Q.isStackedScreenSize;Q=Q.showFollowButton;P=d("polarisPostModalHelpers").getCollectionIdFromPath(P);var Pa=P!=null&&P!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;P=!!Q&&(!w.coauthorProducers||w.coauthorProducers.length===0)&&!r;var T=E>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,Qa=T&&G===!0,U=!T&&G===!0,Ra=G===!0?T:!R;Q=c("usePolarisIsOnFeedPage")();var V=e==="adsActivityFeed",W=(Q||V)&&G!==!0&&d("PolarisUA").isDesktop(),X=(Q||V)&&G!==!0&&d("PolarisUA").isDesktop(),Sa=d("PolarisPostUtils").getCurrentSidecarItemFromPost(w,I);V=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;var Ta=j.jsxs("div",{className:"_aasi"+(W?" _aasj":"")+(U?" _aask":"")+(X?" _ai9a":"")+(V?" _at8n":""),children:[w.inventorySource==="mixed_unconnected"&&Q&&!G&&j.jsx(c("PolarisPostSuggestedHeader.react"),{postId:w.id,rankingInfoToken:w.loggingInfoToken,title:(V=w.explore)==null?void 0:V.title}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[j.jsx(c("PolarisPostHeader.react"),{adTitle:D==null?void 0:D.ad_title,analyticsContext:e,clipsAttributionInfo:w.clipsAttributionInfo,clipsAudioAttributionInfo:w.clipsMusicAttributionInfo,coauthorProducers:w.coauthorProducers,displayFBPageName:D==null?void 0:D.display_fb_page_name,followHashtagInfo:w.followHashtagInfo,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:G,isAffiliate:w.isAffiliate===!0,isPaidPartnership:w.isPaidPartnership===!0,isSharedToCloseFriends:w.audience==="MediaAudience.BESTIES",isSponsored:w.isSponsored===!0,location:w.location,mediaId:w.id,mediaProductType:w.productType,onDisabledClipsAudioAttributionClick:O,owner:z,postedAt:w.postedAt,shouldEllipsisText:!0,shouldShowFollowButton:P,showVerifiedBadge:!0,sidebarVariantOptionsButton:Ma,sponsoredLabel:D==null?void 0:D.label,sponsors:w.sponsors,transparencyLabelOwner:w.owner,wearablesAttributionInfo:w.wearableAttributionInfo},w.id),j.jsx(c("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:S}),j.jsx(c("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(W||d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _aasn":"")+(X?" _agh1":""),mediaPK:w.id})]})]});Q=d("PolarisInsightsUtils").getViewInsightsInfo(A,x,w,C,B);var Ua=Q.bloksAppId,Va=Q.hasViewInsights,Y=A==null?void 0:A.id;V=r&&t!=null?t:[d("PolarisOrganicImpressionAction").makePostImpressionAction(w,e,a,s),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(w,e)];O=d("PolarisViewpointReact.react").useViewpoint({action:V,id:"viewpoint"+w.id});P=[O].concat(b!=null?b:[]);var Wa=c("useMergeRefs").apply(void 0,P),Xa=A?{l:function(){N(!w.likedByViewer,"button")},s:function(){Aa(!w.savedByViewer)}}:{};S=c("usePolarisShowFooterCTA")(w,I,J,r);var Z=null;r?Z=j.jsx(c("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:F,post:w,sidecarIndex:I}):S||!G?Z=j.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:e,currentSidecarIndex:I,dynamicFooterRef:h,idsWithClearedBlurOverlays:J,idsWithDisabledMediaOverlayInfoImpressionLogging:K,onLogOverlayImpression:function(a){return Fa(a)},rootPost:w}):y!=null&&y.length>0&&(Z=j.jsxs("div",{children:[j.jsx(c("PolarisPostCoauthorReviewOverlayFooterCTA.react"),{invitedCoauthorProducers:y,mediaId:w.id,mediaShortcode:w.code,productType:w.productType,user:w.owner}),j.jsx(c("PolarisPostInvitedCoauthorsOverlayFooterCTA.react"),{invitedCoauthorProducers:y,mediaId:w.id,user:w.owner})]}));C=Z!=null;var $=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:w.dimensions,footerHeight:C?(B=h.current)==null?void 0:B.offsetHeight:void 0,hasFooter:C,hasSidebarInRedesign:T,viewportHeight:ma,viewportWidth:E}),Ya=!1,Za={border:w.isSeen===!0?"2px solid green":"2px solid red"};return j.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{children:function(a){return j.jsx(d("PolarisPostModalContext.react").PostModalContext,{post:w,children:j.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisHeroPageletLogger").getHeroPageletLogName(d("PolarisHeroPageletLogger").PageletLogName.POST,s),ref:Wa,children:function(b,h){return j.jsx(c("PolarisHotKeys.react"),{keyMap:Xa,children:function(k,l,m){return j.jsx(c("PolarisTrackingNodeProvider.react"),{ref:b,trackingNode:301,children:function(b){return j.jsxs("article",{className:c("joinClasses")(g,"_aatb"+(u===d("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(Oa?" _aatd":"")+(Oa?"":" _aate")+(R?" _aatf":"")+(Ra?" _aatg":"")+(Na?" _aath":"")+(Ma?" _aati":"")+(Va?" _aatj":"")),"data-testid":void 0,onKeyUp:k,ref:b,role:l,style:Ya?Za:{},tabIndex:m,children:[j.jsxs(c("IGDSBox.react"),{alignSelf:U?"center":void 0,direction:(G===!0?T:!R)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:U&&($==null?void 0:$.style)!=null?$.style.maxWidth:"inherit",position:"relative",children:[(G===!0?!T:R)?Ta:null,j.jsx("div",babelHelpers["extends"]({},G===!0?$:{},{className:"_aatk"+(G===!0?" _aatl":"")+(Qa&&w.dimensions!=null&&w.dimensions.width>=w.dimensions.height?" _aatm":"")+(ba===!0?" _aatn":"")+(X?" _aiao":""),children:j.jsx(c("PolarisMediaContainer.react"),{accessibilityCaption:w.accessibilityCaption,adInfo:D,analyticsContext:e,autoplay:f,checkIsSensitivityOverlayDisabledCallback:function(a){return Ga(a)},className:"_aato",commentsAreStacked:R,hasPhotosOfYouOption:La,hasViewInsights:Va,id:w.id,initialCarouselIndex:H,inModal:G,isVisible:aa,mediaFooter:Z,onLike:A?za:null,onPostMediaRendered:xa,onPostSidecarChildIndexChange:ya,onSensitivityOverlayCleared:Ea,onToastClose:Ka,position:s,post:w,relationship:la,sensitivityOverlayMediaOverlayInfoLoggingProps:{checkIfMediaOverlayInfoImpressionLoggingDisabled:function(a){return Ha(a)},onLoggedMediaOverlayInfoImpression:function(a){return Fa(a)}},showToast:sa,toastString:ua,viewer:A,visiblePosition:ha})})),j.jsx(c("PolarisPostDetailsSection.react"),{analyticsContext:e,bloksAppId:Ua,communityNoteComponent:i,currSidecarIndex:I,currSidecarItem:Sa,enableTruncation:o,handleLikeChange:N,handleSaveChange:Aa,hasDenserFeedRedesign:W,hasSidebarInRedesign:T,hasViewInsights:Va,initialCommentsQuery:q,owner:z,permalinkedCommentId:da,permalinkedReplyId:ea,post:w,postAuthorId:x,postAuthorUsername:ka==null?void 0:ka.username,postFeedbackControlsRef:a,postHeader:Ta,redesignWithoutSidebar:U,redesignWithSidebar:Qa,shouldIncreaseCommentPreviews:ga,showDetailsAsSidebar:Ra,variant:u,viewer:A}),ra&&j.jsx(c("PolarisUnsaveFromCollectionDialog.react"),{onClose:Ba,onUnsaveFromAll:Ca,onUnsaveFromCollection:Pa&&d("PolarisUA").isDesktop()?Da:null}),j.jsx(c("PolarisPostToast.react"),{isFeedVariant:u===d("PolarisPostVariants").VARIANTS.feed,isModal:G!=null?G:!1})]}),j.jsx(h,{})]})}})}})}})},w.id)}})}a.displayName=a.name+" [from "+f.id+"]";var o=c("polarisWithPPRLogging")(a);function p(){c("polarisLogAction")("feedUnitFailure",{source:"PolarisPost"})}function b(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:q,onError:p,children:j.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function q(a){return null}g["default"]=b}),98);